/*! For license information please see b0f94911.js.LICENSE.txt */
"use strict";(globalThis.webpackChunkinfinity_hitab_client=globalThis.webpackChunkinfinity_hitab_client||[]).push([[3609,7352],{13409:(t,e,l)=>{l.d(e,{o7:()=>Y,t4:()=>_,O9:()=>D,f8:()=>T,dJ:()=>F,zY:()=>U,hQ:()=>B,XM:()=>O,ST:()=>V});var o=l(994),i=l(80661),s=l.n(i),a=l(74003),n=l(63477),r=l(55332);let c;try{new EventTarget,c=!0}catch(t){c=!1}var p=c?EventTarget:class{constructor(){this.e={}}addEventListener(t,e,l=!1){this.t(t).push(e)}removeEventListener(t,e,l=!1){const o=this.t(t),i=o.indexOf(e);i>-1&&o.splice(i,1)}dispatchEvent(t){return t.target=this,Object.freeze(t),this.t(t.type).forEach((e=>e(t))),!0}t(t){return this.e[t]=this.e[t]||[]}};var d=c?Event:class{constructor(t){this.type=t}};class u extends d{constructor(t,e){super(t),this.newState=e.newState,this.oldState=e.oldState,this.originalEvent=e.originalEvent}}const v="active",x="passive",g="hidden",h="frozen",f="terminated",m="object"==typeof safari&&safari.pushNotification,w=["focus","blur","visibilitychange","freeze","resume","pageshow","onpageshow"in self?"pagehide":"unload"],S=t=>(t.preventDefault(),t.returnValue="Are you sure?"),y=[[v,x,g,f],[v,x,g,h],[g,x,v],[h,g],[h,v],[h,x]].map((t=>t.reduce(((t,e,l)=>(t[e]=l,t)),{}))),A=()=>document.visibilityState===g?g:document.hasFocus()?v:x;var b=new class extends p{constructor(){super();const t=A();this.s=t,this.i=[],this.a=this.a.bind(this),w.forEach((t=>addEventListener(t,this.a,!0))),m&&addEventListener("beforeunload",(t=>{this.n=setTimeout((()=>{t.defaultPrevented||t.returnValue.length>0||this.r(t,g)}),0)}))}get state(){return this.s}get pageWasDiscarded(){return document.wasDiscarded||!1}addUnsavedChanges(t){!this.i.indexOf(t)>-1&&(0===this.i.length&&addEventListener("beforeunload",S),this.i.push(t))}removeUnsavedChanges(t){const e=this.i.indexOf(t);e>-1&&(this.i.splice(e,1),0===this.i.length&&removeEventListener("beforeunload",S))}r(t,e){if(e!==this.s){const l=((t,e)=>{for(let l,o=0;l=y[o];++o){const o=l[t],i=l[e];if(o>=0&&i>=0&&i>o)return Object.keys(l).slice(o,i+1)}return[]})(this.s,e);for(let e=0;e<l.length-1;++e){const o=l[e],i=l[e+1];this.s=i,this.dispatchEvent(new u("statechange",{oldState:o,newState:i,originalEvent:t}))}}}a(t){switch(m&&clearTimeout(this.n),t.type){case"pageshow":case"resume":this.r(t,A());break;case"focus":this.r(t,v);break;case"blur":this.s===v&&this.r(t,A());break;case"pagehide":case"unload":this.r(t,t.persisted?h:f);break;case"visibilitychange":this.s!==h&&this.s!==f&&this.r(t,A());break;case"freeze":this.r(t,h)}}};const k=b,D={font:["rgba(248, 248, 248, 1)","rgba(28, 28, 30, 1)","rgba(58, 58, 60, 1)","rgba(95, 95, 99, 1)","rgba(142, 142, 147, 1)","rgba(176, 176, 182, 1)","rgba(199, 199, 204, 1)"],background:["rgba(248, 248, 248, 1)","rgba(58, 58, 60, 1)","rgba(28, 28, 30, 1)","rgba(244, 171, 18, 1)","rgba(74, 197, 92, 1)","rgba(35, 207, 168, 1)","rgba(67, 133, 241, 1)","rgba(56, 100, 255, 1)","rgba(118, 33, 249, 1)","rgba(224, 78, 150, 1)","rgba(224, 78, 78, 1)","rgba(253, 90, 90, 1)","rgba(183, 163, 150, 1)","rgba(171, 131, 131, 1)","rgba(182, 150, 135, 1)","rgba(109, 131, 95, 1)","rgba(125, 171, 136, 1)","rgba(158, 172, 175, 1)","rgba(103, 124, 170, 1)"]},C=["rgba(183, 163, 150, 1)","rgba(171, 131, 131, 1)","rgba(182, 150, 135, 1)","rgba(109, 131, 95, 1)","rgba(125, 171, 136, 1)","rgba(158, 172, 175, 1)","rgba(103, 124, 170, 1)"],U=()=>(0,o.Z)(C),_=Array(20).fill(0).map(((t,e)=>{const l=`${e+1}`.padStart(2,"0");return{bgImage:{large:`${GlobalGetApi}${a.c1}/widget-background/background${l}_larg.jpg`,medium:`${GlobalGetApi}${a.c1}/widget-background/background${l}_medium.jpg`,small:`${GlobalGetApi}${a.c1}/widget-background/background${l}_small.jpg`},thumbnail:`${GlobalGetApi}${a.c1}/widget-background/background${l}.jpg`}})),E=(t,e)=>{let l=!1;t.isLeapYear()&&1===t.month()&&29===t.date()&&(l=!0);let o=(0,n.sG)(t.format(`${e}-MM-DD`));return l&&!o.isLeapYear()&&(o=o.add(-1,"day")),o.valueOf()>=M.valueOf()||(o=(0,n.sG)(t.format(`${e+1}-MM-DD`)),l&&!o.isLeapYear()&&(o=o.add(-1,"day"))),o},I=t=>{const e=r.q7.fromDate(new Date(t)),l=r.q7.fromDate(new Date).getYear(),o=s()((0,n.EJ)({year:l,month:e.getMonth(),day:e.getDay()}));return o.valueOf()>=M.valueOf()?o:s()((0,n.EJ)({year:l+1,month:e.getMonth(),day:e.getDay()}))},j=t=>{if(t.date()>=M.date())return(0,n.sG)(`${M.year()}-${M.month()+1}-${Math.min(M.daysInMonth(),t.date())}`);const e=M.add(1,"month");return(0,n.sG)(`${e.year()}-${e.month()+1}-${Math.min(e.daysInMonth(),t.date())}`)},Q=t=>{const e=r.q7.fromDate(new Date),l=r.q7.fromDate(new Date(t)),o=e.getDay(),i=l.getDay();if(i>=o)return s()((0,n.EJ)({year:e.getYear(),month:e.getMonth(),day:i}));const a=r.o7.fromYm(e.getYear(),e.getMonth()).next(1);return s()((0,n.EJ)({year:a.getYear(),month:a.getMonth(),day:i}))},V=t=>{const e=Date.now(),l=s()().endOf("day").valueOf()+1;return window.setTimeout((()=>{try{t(l),V(t)}catch(t){}}),l-e)},O=t=>{const e=Date.now(),l=s()().add(30,"minute").valueOf();return window.setTimeout((()=>{try{t(l),O(t)}catch(t){}}),l-e)};let M=s()().startOf("day"),P=M.year();V((()=>{M=s()(),P=M.year()}));const F=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"solar";if(!t)return 0;if(t>=M.valueOf())return s()(t).diff(M,"day");if("lunar"===e){return Q(t).diff(M,"day")}const l=s()(t),o=j(l),i=o.diff(M,"day");return i},B=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"solar";if(!t)return 0;if(t>=M.valueOf())return s()(t).diff(M,"day");if("lunar"===e){return I(t).diff(M,"day")}const l=s()(t),o=E(l,P),i=o.diff(M,"day");return i},T=t=>{const e=Math.floor(t/86400);t-=86400*e;const l=Math.floor(t/3600)%24;t-=3600*l;const o=Math.floor(t/60)%60;return{d:e,h:l,m:o,s:(t-=60*o)%60}};class Y{views=new Map;execTime=0;execTimer=null;isPageVisible=!0;setViewVisibleInterval(){0!==this.views.size?this.isPageVisible?this.isViewVisible?this.setInterval(this.interval):this.setInterval(this.intervalOnViewOut):this.setPageVisibleInterval():this.setInterval(0)}setPageVisibleInterval(){0!==this.views.size?this.isPageVisible?this.setViewVisibleInterval():this.setInterval(this.intervalOnPageHide):this.setInterval(0)}setInterval(t){if(this.execTimer&&window.clearTimeout(this.execTimer),t<=0)return;let e=t;this.execTime&&(e=t-(Date.now()-this.execTime),e<0&&(e=0)),this.execTimer=window.setTimeout((async()=>{await this.execFn(),this.setInterval(t)}),e)}watchPageStatus(){k.addEventListener("statechange",(t=>{"hidden"===t.newState?this.isPageVisible=!1:this.isPageVisible=!0,this.setPageVisibleInterval()}))}onChangeViewVisible(){let t=!1;this.views.forEach((e=>{t||(t=e)})),this.isViewVisible=t,this.setViewVisibleInterval()}initIo(){this.io=new IntersectionObserver((t=>{t.forEach((t=>{this.views.has(t.target)&&this.views.set(t.target,t.intersectionRatio>0)})),this.onChangeViewVisible()}),{threshold:[0]})}constructor(t,e){if(!e.interval)throw new Error("请设置间隔时间");this.interval=e.interval,this.intervalOnViewOut=e.intervalOnViewOut,this.intervalOnPageHide=e.intervalOnPageHide,this.execFn=async()=>{try{await t()}catch(t){}this.execTime=Date.now()},e.immediate&&this.execFn(),this.watchPageStatus(),this.initIo(),e.view&&this.addView(e.view)}addView(t){this.views.set(t,!1),this.io.observe(t)}removeView(t){this.views.delete(t),this.io.unobserve(t),this.onChangeViewVisible()}}},22854:(t,e,l)=>{l.d(e,{C:()=>s});var o=l(29445),i=l(57268);const s=(t,e,l)=>{const s=(0,o.iH)(t);e.onChangeState=t=>{s.value={...t}};const a=(0,i.Fl)((()=>l?l[s.value.size]:null));return{propsState:s,HomeComp:a}}},58832:(t,e,l)=>{l.r(e),l.d(e,{mountHome:()=>x,widgetApp:()=>v});var o=l(29445),i=l(68398),s=l(57268),a=l(81293),n=l(13409);const r=(0,l(39621).useStockStore)(),c=new n.o7((()=>{r.reqStocksPrice()}),{immediate:!1,interval:5e3,intervalOnPageHide:0,intervalOnViewOut:12e5}),p=(0,s.aZ)({__name:"widget-stock-home",props:{size:null,id:null},setup(t){const e=t,{HomeComp:l}=(0,a.fq)(e),{clickWidget:i}=(0,a.dd)(),n=(0,o.iH)();return(0,s.bv)((()=>{n.value&&c.addView(n.value)})),(0,s.Jd)((()=>{c.removeView(n.value)})),(t,e)=>((0,s.wg)(),(0,s.iD)("section",{class:"contents cursor-pointer",onClick:e[0]||(e[0]=function(){return(0,o.SU)(i)&&(0,o.SU)(i)(...arguments)})},[(0,s._)("div",{ref_key:"componentView",ref:n,class:"h-full w-full"},[((0,s.wg)(),(0,s.j4)((0,s.LL)((0,o.SU)(l))))],512)]))}});var d=l(96755),u=l(75008);const v=(0,o.iH)(null),x=(t,e)=>{const l=(0,i.createApp)(p,e);return(0,u.f)(l),v.value=l,l.use(d.M),l.mount(t),v.value}},33609:(t,e,l)=>{l.r(e);l(57334);var o=l(66155),i=l(68398),s=l(79282),a=l(43451),n=l(57268),r=l(29445),c=l(94209),p=l(98868),d=l(52549),u=l(81293),v=l(39621);const x={class:"flex w-full items-center justify-between py-[6px] text-[14px] leading-none"},g={class:"font-ali-55 text-color-t3"},h={class:"font-ali-65 text-color-t2"},f=(0,n.aZ)({__name:"stock-desc-item",props:{label:null,value:null,unit:null},setup(t){const e=t;return(t,l)=>((0,n.wg)(),(0,n.iD)("div",x,[(0,n._)("span",g,(0,c.toDisplayString)(e.label),1),(0,n._)("span",h,(0,c.toDisplayString)(e.value)+(0,c.toDisplayString)(e.unit),1)]))}});var m=l(63477),w=l(80024);const S={class:"flex flex-col items-center justify-center"},y=(0,n._)("div",{class:"h-[64px] w-[64px] animate-spin"},[(0,n._)("img",{class:"h-full w-full",src:w,alt:"loading"})],-1),A={class:"text-[12px] leading-none text-color-t3"},b=(0,n.aZ)({__name:"search-loading",setup:t=>(t,e)=>((0,n.wg)(),(0,n.iD)("div",S,[y,(0,n._)("span",A,(0,c.toDisplayString)("正在获取数据列表…"),1)]))}),k=["data-id"],D={class:"flex flex-1 flex-shrink-0 flex-col overflow-hidden"},C={class:"flex items-center"},U={class:"flex-shrink-0 overflow-hidden text-ellipsis whitespace-nowrap font-ali-75 text-[16px] text-color-t1"},_={class:"ml-[4px] w-[30px] flex-shrink-0 font-ali-65 text-[12px] text-color-t3"},E={class:"mt-[8px] text-[12px] text-color-t3"},I={class:"flex justify-end font-ali-75 text-[14px] text-color-t2"},j={class:"flex justify-end"},Q=["onClick"],V=[(t=>((0,n.dD)("data-v-2a064252"),t=t(),(0,n.Cn)(),t))((()=>(0,n._)("span",{class:"h-[2px] w-[10px] rounded-[1px]"},null,-1)))],O=(0,n.aZ)({__name:"stock-follow-item",props:{data:null,isEdit:{type:Boolean},currentStock:null},emits:["on-click","on-remove"],setup(t,e){let{emit:l}=e;const o=t,s=(0,v.useStockStore)();function a(){l("on-click")}function p(){l("on-remove")}const{stockColor:d}=(0,u.UV)();return(t,e)=>{var l,u,v;return(0,n.wg)(),(0,n.iD)("div",{class:(0,c.normalizeClass)(["relative mb-[6px] flex h-[60px] flex-row items-center justify-between rounded-[8px] px-[10px] leading-none",[o.isEdit?"":"hover:bg-color-m2 hover:bg-opacity-[0.08]",o.currentStock.QuoteID===o.data.QuoteID?"bg-color-m2 bg-opacity-[0.08]":"bg-color-b3",(0,r.SU)(s).dragId===o.data.QuoteID?"opacity-50":""]]),"data-id":o.data.QuoteID,onClick:a},[(0,n._)("div",D,[(0,n._)("div",C,[(0,n._)("h2",U,(0,c.toDisplayString)(o.data.Name),1),(0,n._)("span",_,(0,c.toDisplayString)(o.data.SecurityTypeName),1)]),(0,n._)("p",E,(0,c.toDisplayString)(o.data.Code),1)]),(0,n._)("div",{class:(0,c.normalizeClass)(["w-[60px] transition-all",[o.isEdit?"pr-[32px]":""]])},[(0,n._)("div",I,(0,c.toDisplayString)(null===(l=o.data.hq)||void 0===l?void 0:l.f2),1),(0,n._)("div",j,[(0,n._)("div",{class:"mt-[6px] h-[16px] items-center rounded-[4px] py-[2px] px-[4px] font-ali-65 text-[12px] leading-none text-color-white",style:(0,c.normalizeStyle)({backgroundColor:(0,r.SU)(d)(null===(u=o.data)||void 0===u?void 0:u.trend)})},(0,c.toDisplayString)("up"===o.data.trend?"+":null)+(0,c.toDisplayString)(null===(v=o.data.hq)||void 0===v?void 0:v.f3)+"% ",5)])],2),(0,n.wy)((0,n._)("div",{class:"shadow absolute right-[10px] flex h-[20px] w-[20px] cursor-pointer items-center justify-center rounded-[10px] bg-color-white hover:bg-color-b1",onClick:(0,i.withModifiers)(p,["stop"])},V,8,Q),[[i.vShow,o.isEdit]])],10,k)}}});var M=l(76911);const P=(0,M.Z)(O,[["__scopeId","data-v-2a064252"]]);var F=l(49652);let B,T,Y=0;const q=t=>((0,n.dD)("data-v-1dda5c33"),t=t(),(0,n.Cn)(),t),R={class:"flex h-full w-full flex-row-reverse"},H={class:"stock-desc flex-1 bg-color-b4 px-[60px] py-[48px]"},N=[q((()=>(0,n._)("i",{class:"icon iconfont icon-toggle_s text-[16px] text-color-t1"},null,-1)))],z={class:"flex items-center justify-between leading-none"},K={class:"flex items-end"},W={class:"font-ali-75 text-[26px] text-color-t2"},X={class:"text-dot mt-[5px] max-w-[260px] text-[14px] leading-[16px] text-color-t3"},L={class:"ml-[8px]"},Z={class:"text-[26px]"},J={class:"ml-[10px] text-[14px]"},G={class:"ml-[6px] text-[14px]"},$={class:"pl-[20px]"},tt={class:"font-ali-65 text-[14px]"},et=q((()=>(0,n._)("span",{class:"ml-[10px] flex h-[16px] w-[16px] items-center justify-center rounded-[8px] bg-color-white"},[(0,n._)("img",{class:"h-[12px] w-[12px]",src:p,alt:"add"})],-1))),lt={class:"flex h-[28px] cursor-pointer items-center rounded-[14px] border border-solid border-color-blue bg-color-white pl-[12px] pr-[6px] text-color-white"},ot={class:"font-ali-65 text-[14px] text-color-blue"},it=q((()=>(0,n._)("span",{class:"ml-[10px] flex h-[16px] w-[16px] items-center justify-center rounded-[8px] bg-color-blue"},[(0,n._)("img",{class:"h-[12px] w-[12px]",src:d,alt:"done"})],-1))),st={class:"mt-[18px] w-full"},at={class:"flex text-[14px] text-color-t2"},nt=["onClick"],rt={class:"stock-info flex justify-between pt-[10px]"},ct={class:"flex-1"},pt={class:"stock-info-middle mx-[30px] w-[220px] border-x border-solid border-color-b1 border-opacity-60 px-[30px]"},dt={class:"flex-1"},ut={class:"stock-left-side"},vt={class:"px-[20px] pt-[56px]"},xt={class:"relative flex h-[44px] items-center rounded-[8px] bg-color-m2 bg-opacity-5 px-[6px]"},gt=q((()=>(0,n._)("i",{class:"iconfont icon-magnifier_icon text-[20px] text-color-t2"},null,-1))),ht=["placeholder"],ft=[q((()=>(0,n._)("i",{class:"iconfont icon-clear_merge_icon text-[16px] text-color-t2"},null,-1)))],mt={class:"flex justify-between px-[20px] pt-[24px] pb-[10px] text-[12px] text-color-t3"},wt=q((()=>(0,n._)("i",{class:"iconfont icon-pen_icon text-[14px]"},null,-1))),St={class:"ml-[3px]"},yt={class:"text-color-blue"},At={class:"absolute bottom-0 top-[100px] left-0 right-0 z-10 bg-color-b3"},bt={class:"px-[20px] pt-[24px] pb-[10px] text-[12px] text-color-t3"},kt={class:"hi-scroll h-[489px] px-[10px]"},Dt={class:"flex justify-center pt-[60px]"},Ct={class:"flex justify-center pt-[30px]"},Ut={class:"text-[14px] text-color-t3"},_t=["onClick"],Et={class:"flex flex-1 flex-shrink-0 flex-col overflow-hidden"},It={class:"flex items-center"},jt={class:"overflow-hidden text-ellipsis whitespace-nowrap font-ali-75 text-[16px] text-color-t1"},Qt={class:"ml-[4px] w-[30px] flex-shrink-0 font-ali-65 text-[12px] text-color-t3"},Vt={class:"mt-[8px] text-[12px] text-color-t3"},Ot={class:"w-[60px] flex-shrink-0"},Mt={class:"flex justify-end font-ali-75 text-[14px] text-color-t2"},Pt={class:"flex justify-end"},Ft=(0,n.aZ)({__name:"widget-stock-modal",setup(t){const e=(0,v.useStockStore)(),{onCloseModal:l,show:o}=(0,u.dd)(),{followList:p,stockColor:d,isEdit:x,onClickEdit:g,onClickRemove:h,searchResult:w,onInputSearchKey:S,currentStock:y,kltArr:A,onSelectKlt:k,currentKlt:D,chartRef:C,searchKey:U,onClearSearchKey:_,isInFollow:E,onClickAddToFollow:I,onClickSearch:j,onClickSearchItem:Q,onClickFollowItem:V,isSearch:O,isEmpty:M}=(0,u.UV)();(0,n.bv)((()=>{e.reqStocksPrice(),e.reqStockTrendData(),q.value&&!Ft&&Rt()}));const q=(0,r.iH)();let Ft=null,Bt=0,Tt=0;const Yt=(0,r.iH)(!1),qt=(0,r.iH)(!1);(0,n.YP)((()=>o.value),(t=>{if(t){if(Ft)return!1;(0,n.Y3)((()=>{Rt()}))}}));const Rt=()=>{Ft=new F.O({dragRoot:q.value,dragSelector:".drag",dropRoot:q.value,dropSelector:".drop",dropLine:"y",withDragMoveStart:!0}),Ft.subscribe((t=>{switch(t.type){case"dragStart":Yt.value=!0;const{top:l,height:o}=q.value.getBoundingClientRect();Bt=l,Tt=l+o;break;case"dragMoveStart":const i=t.payload.dragElement.dataset.id,s=p.value.find((t=>t.QuoteID===i));e.setDragId(i),V(s),setTimeout((()=>{(t=>{let{y:e,dragElement:l}=t;const{left:o,top:i,width:s,height:a}=l.getBoundingClientRect();Y=e-i,B=l.cloneNode(!0),B.style.position="fixed",B.style.top="-999px",B.style.left=o+"px",B.style.width=s+"px",B.style.height=a+"px",B.style.pointerEvents="none",B.style.opacity="1",B.classList.add("fake"),B.classList.add("bg-opacity-100"),B.classList.add("!bg-color-b2"),T=document.querySelector(".stock-left-side"),T.appendChild(B)})(t.payload)}),0);break;case"dragEnd":e.setDragId(""),Yt.value=!1,Nt("stop"),B&&(T.removeChild(B),B=null);break;case"dragMove":(t=>{let{y:e,startMove:l}=t;if(!B)return;if(!l)return;const o=e-Y;B.style.top=o+"px"})(t.payload),t.payload.y>Tt?Nt("bottom"):t.payload.y<Bt?Nt("top"):Nt("stop");break;case"drop":(t=>{let{dropElement:e}=t;if(!B)return;const l=(0,v.useStockStore)();if(l.flipping)return;const o=B.dataset.id,i=e.dataset.id;l.dragSort(o,i)})(t.payload)}}))};let Ht=null;const Nt=t=>{window.clearInterval(Ht),"top"===t?Ht=window.setInterval((()=>{q.value.scrollBy(0,-6)}),30):"bottom"===t&&(Ht=window.setInterval((()=>{q.value.scrollBy(0,6)}),30))};return(t,e)=>{const u=a.Z,v=s.Z;return(0,n.wg)(),(0,n.j4)(v,{ani:"fade",show:(0,r.SU)(o)},{default:(0,n.w5)((()=>[(0,n.Wm)(u,{"full-screen-btn":!1,onOnClose:(0,r.SU)(l)},{default:(0,n.w5)((()=>{var t,l,o,s,a,u,v,F,B,T,Y,Ft,Bt,Tt,Rt;return[(0,n._)("div",R,[(0,n._)("section",H,[(0,n._)("button",{class:"back-btn absolute top-[15px] right-[15px] hidden rounded-[6px] bg-color-m2 bg-opacity-10 p-[6px]",onClick:e[0]||(e[0]=t=>qt.value=!1)},N),(0,n._)("div",z,[(0,n._)("div",null,[(0,n._)("div",K,[(0,n._)("h2",W,(0,c.toDisplayString)((0,r.SU)(y).Code),1)]),(0,n._)("p",X,[(0,n.Uk)((0,c.toDisplayString)((0,r.SU)(y).Name)+" ",1),(0,n._)("span",L,(0,c.toDisplayString)((0,r.SU)(y).SecurityTypeName),1)])]),(0,n._)("div",{style:(0,c.normalizeStyle)({color:(0,r.SU)(d)((0,r.SU)(y).trend)}),class:"stock-num flex items-end font-ali-65"},[(0,n._)("h2",Z,(0,c.toDisplayString)(null===(t=(0,r.SU)(y).hq)||void 0===t?void 0:t.f2),1),(0,n._)("span",J,(0,c.toDisplayString)("up"===(0,r.SU)(y).trend?"+":null)+(0,c.toDisplayString)(null===(l=(0,r.SU)(y).hq)||void 0===l?void 0:l.f4),1),(0,n._)("span",G,(0,c.toDisplayString)("up"===(0,r.SU)(y).trend?"+":null)+(0,c.toDisplayString)(null===(o=(0,r.SU)(y).hq)||void 0===o?void 0:o.f3)+"% ",1),(0,n._)("div",$,[(0,n.wy)((0,n._)("div",{class:"flex h-[28px] cursor-pointer items-center rounded-[14px] bg-color-blue pl-[12px] pr-[6px] text-color-white",onClick:e[1]||(e[1]=function(){return(0,r.SU)(I)&&(0,r.SU)(I)(...arguments)})},[(0,n._)("span",tt,(0,c.toDisplayString)("添加到关注列表"),1),et],512),[[i.vShow,!(0,r.SU)(E)]]),(0,n.wy)((0,n._)("div",lt,[(0,n._)("span",ot,(0,c.toDisplayString)("已添加"),1),it],512),[[i.vShow,(0,r.SU)(O)&&(0,r.SU)(E)]])])],4)]),(0,n._)("div",st,[(0,n._)("div",at,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,r.SU)(A),((t,e)=>((0,n.wg)(),(0,n.iD)("span",{key:e,class:(0,c.normalizeClass)(["mr-[16px] flex h-[32px] w-[48px] cursor-pointer items-center justify-center rounded-[8px] hover:bg-color-b2 hover:text-color-blue",[(0,r.SU)(D)===t.text?"bg-color-b2 text-color-blue":""]]),onClick:e=>(0,r.SU)(k)(t)},(0,c.toDisplayString)(t.text),11,nt)))),128))]),(0,n._)("div",{ref_key:"chartRef",ref:C,class:"h-[320px]"},null,512)]),(0,n._)("div",rt,[(0,n._)("div",ct,[(0,n.Wm)(f,{label:"今日开盘价",value:null===(s=(0,r.SU)(y).hq)||void 0===s?void 0:s.f17},null,8,["value"]),(0,n.Wm)(f,{label:"昨日收盘价",value:null===(a=(0,r.SU)(y).hq)||void 0===a?void 0:a.f18},null,8,["value"]),(0,n.Wm)(f,{label:"成交量",value:null===(u=(0,r.SU)(y).hq)||void 0===u?void 0:u.f5},null,8,["value"]),(0,n.Wm)(f,{label:"成交额",value:(0,r.SU)(m.Y4)(null===(v=(0,r.SU)(y).hq)||void 0===v?void 0:v.f6)},null,8,["value"])]),(0,n._)("div",pt,[(0,n.Wm)(f,{label:"最高价",value:null===(F=(0,r.SU)(y).hq)||void 0===F?void 0:F.f15},null,8,["value"]),(0,n.Wm)(f,{label:"最低价",value:null===(B=(0,r.SU)(y).hq)||void 0===B?void 0:B.f16},null,8,["value"]),(0,n.Wm)(f,{label:"60日涨跌幅",value:null===(T=(0,r.SU)(y).hq)||void 0===T?void 0:T.f24},null,8,["value"]),(0,n.Wm)(f,{label:"年初至今",value:null===(Y=(0,r.SU)(y).hq)||void 0===Y?void 0:Y.f25},null,8,["value"])]),(0,n._)("div",dt,[(0,n.Wm)(f,{label:"总市值",value:(0,r.SU)(m.Y4)(null===(Ft=(0,r.SU)(y).hq)||void 0===Ft?void 0:Ft.f20)},null,8,["value"]),(0,n.Wm)(f,{label:"总股本",value:(0,r.SU)(m.Y4)(null===(Bt=(0,r.SU)(y).hq)||void 0===Bt?void 0:Bt.f38)},null,8,["value"]),(0,n.Wm)(f,{label:"流通市值",value:(0,r.SU)(m.Y4)(null===(Tt=(0,r.SU)(y).hq)||void 0===Tt?void 0:Tt.f21)},null,8,["value"]),(0,n.Wm)(f,{label:"市净率",value:null===(Rt=(0,r.SU)(y).hq)||void 0===Rt?void 0:Rt.f23,unit:"%"},null,8,["value"])])])]),(0,n._)("section",{class:(0,c.normalizeClass)(["stock-side-bar relative w-[300px] border-r border-solid border-color-black border-opacity-5 bg-color-b3",[{"stock-side-bar-show":!qt.value}]])},[((0,n.wg)(),(0,n.j4)(n.n4,null,{default:(0,n.w5)((()=>[(0,n._)("div",ut,[(0,n._)("div",vt,[(0,n._)("div",xt,[gt,(0,n.wy)((0,n._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>(0,r.dq)(U)?U.value=t:null),type:"text",placeholder:"股票代号，名称",class:"box-border h-full w-full flex-1 bg-color-none px-[12px] text-[14px] text-color-t2",onInput:e[3]||(e[3]=function(){return(0,r.SU)(S)&&(0,r.SU)(S)(...arguments)}),onClick:e[4]||(e[4]=function(){return(0,r.SU)(j)&&(0,r.SU)(j)(...arguments)})},null,40,ht),[[i.vModelText,(0,r.SU)(U)]]),(0,n.wy)((0,n._)("span",{class:"expand-click absolute right-[6px] cursor-pointer",onClick:e[5]||(e[5]=function(){return(0,r.SU)(_)&&(0,r.SU)(_)(...arguments)})},ft,512),[[i.vShow,(0,r.SU)(U)]])])]),(0,n._)("div",mt,[(0,n._)("span",null,(0,c.toDisplayString)("关注列表"),1),(0,n.wy)((0,n._)("div",{class:"flex cursor-pointer items-center",onClick:e[6]||(e[6]=t=>(0,r.SU)(g)(!0))},[wt,(0,n._)("span",St,(0,c.toDisplayString)("编辑"),1)],512),[[i.vShow,!(0,r.SU)(x)]]),(0,n.wy)((0,n._)("div",{class:"flex cursor-pointer items-center",onClick:e[7]||(e[7]=t=>(0,r.SU)(g)(!1))},[(0,n._)("span",yt,(0,c.toDisplayString)("完成"),1)],512),[[i.vShow,(0,r.SU)(x)]])]),(0,n._)("div",{ref_key:"wrapperRef",ref:q,class:"hi-scroll h-[489px] flex-1 px-[10px] pb-[10px]"},[(0,n.Wm)(i.TransitionGroup,{name:Yt.value?"list":void 0},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,r.SU)(p),((t,e)=>((0,n.wg)(),(0,n.j4)(P,{key:t.QuoteID,class:"drag drop","current-stock":(0,r.SU)(y),"is-edit":(0,r.SU)(x),data:t,onOnClick:e=>(t=>{V(t),qt.value=!0})(t),onOnRemove:l=>(0,r.SU)(h)(e,t)},null,8,["current-stock","is-edit","data","onOnClick","onOnRemove"])))),128))])),_:1},8,["name"])],512),(0,n.wy)((0,n._)("div",At,[(0,n._)("div",bt,(0,c.toDisplayString)("搜索结果"),1),(0,n._)("div",kt,[(0,n.wy)((0,n._)("div",Dt,[(0,n.Wm)(b)],512),[[i.vShow,(0,r.SU)(U)&&0===(0,r.SU)(w).length&&!(0,r.SU)(M)]]),(0,n.wy)((0,n._)("div",Ct,[(0,n._)("p",Ut,(0,c.toDisplayString)("未搜索到相关数据"),1)],512),[[i.vShow,(0,r.SU)(U)&&0===(0,r.SU)(w).length&&(0,r.SU)(M)]]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)((0,r.SU)(w),(t=>{var e,l;return(0,n.wg)(),(0,n.iD)("div",{key:t.QuoteID,class:(0,c.normalizeClass)(["relative flex h-[60px] flex-row items-center justify-between rounded-[8px] px-[10px] leading-none hover:bg-color-m2 hover:bg-opacity-[0.08]",[(0,r.SU)(y).QuoteID===(null==t?void 0:t.QuoteID)?"bg-color-m2 bg-opacity-[0.08]":""]]),onClick:e=>(0,r.SU)(Q)(t)},[(0,n._)("div",Et,[(0,n._)("div",It,[(0,n._)("h2",jt,(0,c.toDisplayString)(null==t?void 0:t.Name),1),(0,n._)("span",Qt,(0,c.toDisplayString)(null==t?void 0:t.SecurityTypeName),1)]),(0,n._)("p",Vt,(0,c.toDisplayString)(null==t?void 0:t.Code),1)]),(0,n._)("div",Ot,[(0,n._)("div",Mt,(0,c.toDisplayString)(null===(e=t.hq)||void 0===e?void 0:e.f2),1),(0,n._)("div",Pt,[(0,n._)("div",{class:"mt-[6px] h-[16px] items-center rounded-[4px] py-[2px] px-[4px] font-ali-65 text-[12px] leading-none text-color-white",style:(0,c.normalizeStyle)({backgroundColor:(0,r.SU)(d)(null==t?void 0:t.trend)})},(0,c.toDisplayString)("up"===(null==t?void 0:t.trend)?"+":null)+(0,c.toDisplayString)(null==t||null===(l=t.hq)||void 0===l?void 0:l.f3)+"% ",5)])])],10,_t)})),128))])],512),[[i.vShow,(0,r.SU)(U)]])])])),_:1}))],2)])]})),_:1},8,["onOnClose"])])),_:1},8,["show"])}}}),Bt=(0,M.Z)(Ft,[["__scopeId","data-v-1dda5c33"]]);var Tt=l(96755),Yt=l(75008);(()=>{const t=(0,m.em)(),e=(0,i.createApp)(Bt);(0,Yt.f)(e),e.use(Tt.M),e.use(o.Z),e.mount(t)})()},81293:(t,e,l)=>{l.d(e,{DS:()=>z,st:()=>K,dd:()=>N,UV:()=>X,fq:()=>H});var o=l(57268),i=l(94209),s=l(29445),a=l(68398);const n={class:"relative flex h-full flex-row items-center justify-between bg-color-b3 px-[16px] leading-none icon-m:px-[12px] icon-s:px-[12px]"},r={class:"flex-1 overflow-hidden pr-[5px]"},c={class:"text-dot font-ali-75 text-[16px] text-color-t1"},p={class:"mt-[4px] text-[12px] text-color-t3"},d={class:"flex flex-col"},u={class:"flex justify-end font-ali-75 text-[14px] text-color-t2"},v=(0,o.aZ)({__name:"stock-small",setup(t){const{firstData:e,stockColor:l}=z();return(t,v)=>{var x,g,h,f,m,w,S,y,A,b,k,D,C,U;return(0,o.wg)(),(0,o.iD)("section",n,[(0,o._)("div",r,[(0,o._)("h2",c,(0,i.toDisplayString)(null===(x=(0,s.SU)(e))||void 0===x?void 0:x.Name),1),(0,o._)("p",p,(0,i.toDisplayString)(null===(g=(0,s.SU)(e))||void 0===g?void 0:g.SecurityTypeName)+" "+(0,i.toDisplayString)(null===(h=(0,s.SU)(e))||void 0===h?void 0:h.Code),1)]),(0,o._)("div",d,[(0,o._)("h3",u,(0,i.toDisplayString)(null===(f=(0,s.SU)(e))||void 0===f||null===(m=f.hq)||void 0===m?void 0:m.f2),1),(0,o._)("div",{class:"mt-[7px] flex justify-end font-ali-65 text-[12px]",style:(0,i.normalizeStyle)({color:(0,s.SU)(l)(null===(w=(0,s.SU)(e))||void 0===w?void 0:w.trend)})},[(0,o._)("span",null,(0,i.toDisplayString)("up"===(null===(S=(0,s.SU)(e))||void 0===S?void 0:S.trend)?"+":null)+(0,i.toDisplayString)(null===(y=(0,s.SU)(e))||void 0===y||null===(A=y.hq)||void 0===A?void 0:A.f4),1),(0,o.wy)((0,o._)("span",{class:"ml-[6px]"},(0,i.toDisplayString)("up"===(null===(b=(0,s.SU)(e))||void 0===b?void 0:b.trend)?"+":null)+(0,i.toDisplayString)(null===(k=(0,s.SU)(e))||void 0===k||null===(D=k.hq)||void 0===D?void 0:D.f3)+"% ",513),[[a.vShow,null===(C=(0,s.SU)(e))||void 0===C||null===(U=C.hq)||void 0===U?void 0:U.f3]])],4)])])}}}),x={class:"relative flex h-full flex-col bg-color-b3"},g={class:"p-[20px] pb-[0px] leading-none icon-m:p-[16px] icon-m:pb-[0px] icon-s:p-[12px] icon-s:pb-[0px]"},h={class:"flex items-start justify-between"},f={class:"flex flex-1 flex-shrink-0 flex-col overflow-hidden pr-[10px]"},m={class:"text-dot font-ali-75 text-[16px] text-color-t1"},w={class:"mt-[10px] font-ali-55 text-[12px] text-color-t3"},S={class:"flex-1 p-[20px] icon-m:p-[16px] icon-s:p-[12px]"},y={class:"flex h-full flex-col justify-between rounded-[12px] bg-color-b4 pt-[12px] icon-m:pt-[10px] icon-s:pt-[9px]"},A={class:"flex justify-center pb-[12px] font-ali-75 text-[28px] text-color-t2 icon-m:pb-[8px] icon-s:pb-[4px]"},b=(0,o.aZ)({__name:"stock-medium",setup(t){const{firstData:e,stockColor:l,chartRef:n}=z();return(t,r)=>{var c,p,d,u,v,b,k,D,C,U,_,E,I;return(0,o.wg)(),(0,o.iD)("section",x,[(0,o._)("div",g,[(0,o._)("div",h,[(0,o._)("div",f,[(0,o._)("span",m,(0,i.toDisplayString)(null===(c=(0,s.SU)(e))||void 0===c?void 0:c.Name),1),(0,o._)("p",w,(0,i.toDisplayString)(null===(p=(0,s.SU)(e))||void 0===p?void 0:p.SecurityTypeName)+" "+(0,i.toDisplayString)(null===(d=(0,s.SU)(e))||void 0===d?void 0:d.Code),1)]),(0,o._)("div",{class:"flex justify-end font-ali-65 text-[14px] icon-m:flex-col icon-s:flex-col",style:(0,i.normalizeStyle)({color:(0,s.SU)(l)(null===(u=(0,s.SU)(e))||void 0===u?void 0:u.trend)})},[(0,o._)("span",null,(0,i.toDisplayString)("up"===(null===(v=(0,s.SU)(e))||void 0===v?void 0:v.trend)?"+":null)+(0,i.toDisplayString)(null===(b=(0,s.SU)(e))||void 0===b||null===(k=b.hq)||void 0===k?void 0:k.f4),1),(0,o.wy)((0,o._)("span",{class:"ml-[6px] icon-m:ml-[0px] icon-m:mt-[10px] icon-s:ml-[0px] icon-s:mt-[10px]"},(0,i.toDisplayString)("up"===(null===(D=(0,s.SU)(e))||void 0===D?void 0:D.trend)?"+":null)+(0,i.toDisplayString)(null===(C=(0,s.SU)(e))||void 0===C||null===(U=C.hq)||void 0===U?void 0:U.f3)+"% ",513),[[a.vShow,null===(_=(0,s.SU)(e))||void 0===_||null===(E=_.hq)||void 0===E?void 0:E.f3]])],4)])]),(0,o._)("div",S,[(0,o._)("div",y,[(0,o._)("div",{ref_key:"chartRef",ref:n,class:"h-[50px] w-full overflow-hidden"},null,512),(0,o._)("div",A,[(0,o._)("span",null,(0,i.toDisplayString)(null===(I=(0,s.SU)(e).hq)||void 0===I?void 0:I.f2),1)])])])])}}});var k=l(38966);const D={class:"flex h-[50px] items-center justify-between leading-none icon-m:h-[60px] icon-s:h-[56px]"},C={class:"flex-1 flex-shrink-0 overflow-hidden pr-[16px]"},U={class:"text-dot font-ali-75 text-[16px] text-color-t1"},_={class:"mt-[4px] font-ali-55 text-[12px] text-color-t3"},E={class:"flex items-center"},I={class:"ml-[20px] w-[90px] icon-m:ml-[15px] icon-s:ml-[10px]"},j={class:"flex justify-end font-ali-75 text-[14px] leading-[16px] text-color-t2"},Q=(0,o.aZ)({__name:"stock-home-item",props:{item:null},setup(t){const e=t,{stockColor:l}=K();let n;const r=(0,s.iH)();function c(){if(!r.value)return;const t=e.item.chartData;t&&(n?n.changeData(t):(n=new k.kL({container:r.value,autoFit:!0,height:20,width:100}),n.data(t),n.scale({value:{nice:!0}}),n.tooltip(!1),n.axis(!1),n.line().style({lineWidth:2,stroke:l(e.item.trend)}).position("time*value"),n.render()))}return(0,o.bv)((()=>{c()})),(0,o.YP)((()=>e.item.chartData),(()=>{c()}),{immediate:!0}),(0,o.YP)((()=>e.item.trend),(()=>{n.clear();const t=e.item.chartData;n.data(t),n.line().style({lineWidth:2,stroke:l(e.item.trend)}).position("time*value"),n.render()}),{immediate:!1}),(t,n)=>{var c,p,d,u,v;return(0,o.wg)(),(0,o.iD)("div",D,[(0,o._)("div",C,[(0,o._)("h2",U,(0,i.toDisplayString)(e.item.Name),1),(0,o._)("p",_,(0,i.toDisplayString)(e.item.SecurityTypeName)+" "+(0,i.toDisplayString)(e.item.Code),1)]),(0,o._)("div",E,[(0,o._)("div",{ref_key:"chartRef",ref:r,class:"h-[20px] w-[100px]"},null,512),(0,o._)("div",I,[(0,o._)("h2",j,(0,i.toDisplayString)(null===(c=e.item.hq)||void 0===c?void 0:c.f2),1),(0,o._)("div",{class:"mt-[4px] flex justify-end font-ali-65 text-[12px]",style:(0,i.normalizeStyle)({color:(0,s.SU)(l)(null===(p=e.item)||void 0===p?void 0:p.trend)})},[(0,o._)("span",null,(0,i.toDisplayString)("up"===e.item.trend?"+":null)+(0,i.toDisplayString)(null===(d=e.item.hq)||void 0===d?void 0:d.f4),1),(0,o.wy)((0,o._)("span",{class:"ml-[6px]"},(0,i.toDisplayString)("up"===e.item.trend?"+":null)+(0,i.toDisplayString)(null===(u=e.item.hq)||void 0===u?void 0:u.f3)+"% ",513),[[a.vShow,null===(v=e.item.hq)||void 0===v?void 0:v.f3]])],4)])])])}}}),V={class:"relative flex h-full flex-col overflow-hidden bg-color-b3 px-[24px] py-[18px] icon-m:py-[12px] icon-m:px-[20px] icon-s:py-[6px] icon-s:px-[16px]"},O=(0,o.aZ)({__name:"stock-large",setup(t){const{homeData:e}=K();return(t,l)=>((0,o.wg)(),(0,o.iD)("section",V,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,s.SU)(e),((t,e)=>((0,o.wg)(),(0,o.iD)("div",{key:t.QuoteID,class:(0,i.normalizeClass)(["border-b border-solid border-color-m2 border-opacity-5 last:border-0",[e>1?"icon-m:border-0 icon-s:border-0":""]])},[(0,o.Wm)(Q,{item:t},null,8,["item"])],2)))),128))]))}});var M=l(58832),P=l(22854),F=l(39621),B=l(10435),T=l(48885),Y=l(78481),q=l(17319),R=l(62659);const H=t=>{const e={s:v,m:b,l:O};return(0,P.C)(t,M.widgetApp.value,e)},N=()=>{const t=(0,F.useStockStore)();return{clickWidget:()=>{t.setModal(!0)},onCloseModal:()=>{t.setModal(!1)},show:(0,B.Jk)(t).modalShow}},z=()=>{const t=(0,F.useStockStore)(),e=(0,B.Jk)(t),l=(0,s.iH)(),i=(0,o.Fl)((()=>t.fullStateFollowStocks[0]));let a;const n=t=>"up"===t?e.stockColor.value.up:e.stockColor.value.down,r=()=>{if(!l.value)return;const t=i.value.chartData;t&&(a?a.changeData(t):(a=new k.kL({container:l.value,autoFit:!0,height:50}),a.data(t),a.scale({value:{nice:!0}}),a.tooltip(!1),a.axis(!1),a.line().style({lineWidth:2,stroke:n(i.value.trend)}).position("time*value"),a.render()))};return(0,o.YP)((()=>R.EA.value),(()=>{a&&a.forceFit()})),(0,o.YP)((()=>i.value.trend),(()=>{if(a){const t=i.value.chartData;a.clear(),a.data(t),a.line().style({lineWidth:2,stroke:n(i.value.trend)}).position("time*value"),a.render()}})),(0,o.YP)((()=>i.value.chartData),(()=>{a&&r()})),(0,o.bv)((()=>{r()})),(0,o.YP)((()=>i.value.trend),(()=>{r()})),{stockColor:n,firstData:i,chartRef:l}},K=()=>{const t=(0,F.useStockStore)(),e=(0,B.Jk)(t);return{stockColor:t=>"up"===t?e.stockColor.value.up:e.stockColor.value.down,homeData:(0,o.Fl)((()=>e.fullStateFollowStocks.value.length>4?e.fullStateFollowStocks.value.slice(0,4):e.fullStateFollowStocks.value))}};function W(t){const e=(0,F.useStockStore)(),l=(0,B.Jk)(e),o=t.split(","),i=Number(o[8]),s=i>0?l.stockColor.value.up:l.stockColor.value.down;return{time:o[0],open:Number(o[1]),close:Number(o[2]),heigh:Number(o[3]),low:Number(o[4]),cjl:Number(o[5]),cje:Number(o[6]),zf:Number(o[7]),risePercent:i>0?"+"+o[8]:o[8],rise:i>0?"+"+o[9]:o[9],hs:Number(o[10]),color:s}}const X=()=>{const t=(0,F.useStockStore)(),e=(0,B.Jk)(t),l=(0,s.iH)(!1),i=(0,s.iH)([]),a=(0,s.iH)(e.fullStateFollowStocks.value[0]),n=(0,s.iH)(!0),r=(0,s.iH)(!1),c=(0,s.iH)(""),p=(0,s.iH)(!1);let d;const u=(0,s.iH)(),v=(0,s.iH)("分时");const x=(0,T.Z)((async t=>{p.value=!1;const{value:e}=t.target;if(!e)return void(i.value=[]);const[l,o]=await(0,Y.pg)(e);if(l||!o)return i.value=[],void(p.value=!0);p.value=!1;const s=o.map((t=>t.QuoteID)),[a,n]=await(0,Y._)(s);if(a||!n)return;const r=o.map(((t,e)=>({...t,trend:n[e].f4>=0?"up":"down",hq:n[e]})));i.value=r}),800),g=t=>{l.value=!1,a.value.QuoteID!==t.QuoteID&&(a.value=t,v.value="分时",f(80,1))};async function h(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:80,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const l=a.value.QuoteID,[o,i]=await(0,Y.zu)({secid:l,lmt:t,klt:e});if(o||!i)return!1;const s=[];return i.forEach((t=>{s.push(W(t))})),s}async function f(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:80,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!u.value)return;const l=await h(t,e);l&&(d&&d.destroy(),d=new k.kL({container:u.value,autoFit:!0,width:604,height:320}),d.data(l),d.scale({open:{nice:!0,tickCount:0,range:[.1,.9]}}),d.tooltip({showTitle:!1,showCrosshairs:!0,showMarkers:!1,crosshairs:{type:"xy",follow:!0,line:{style:{lineDash:[2,2]}}},containerTpl:'<div class="g2-tooltip"><p class="g2-tooltip-title"></p><ul class="g2-tooltip-list"></ul></div>',itemTpl:'   \n            <ul class="g2-tooltip-list">\n              <li class="g2-tooltip-list-item">\n               <span class="g2-tooltip-name">时间</span><span class="g2-tooltip-value">{time}</span>\n              </li>\n              <li class="g2-tooltip-list-item">\n               <span class="g2-tooltip-name">价格</span><span class="g2-tooltip-value" style="color:{color}">{close}</span>\n              </li>\n              <li class="g2-tooltip-list-item">\n               <span class="g2-tooltip-name">涨跌额</span><span class="g2-tooltip-value" style="color:{color}">{rise}</span>\n              </li>\n              <li class="g2-tooltip-list-item">\n               <span class="g2-tooltip-name">涨跌幅</span><span class="g2-tooltip-value" style="color:{color}">{risePercent}%</span>\n              </li>\n              <li class="g2-tooltip-list-item">\n               <span class="g2-tooltip-name">成交量</span><span class="g2-tooltip-value">{cjl}</span>\n              </li>\n              <li class="g2-tooltip-list-item">\n               <span class="g2-tooltip-name">成交额</span><span class="g2-tooltip-value">{cje}</span>\n              </li>\n            </ul>\n          '}),d.axis(!1),d.area().style({fill:"l(90) 0:#8499EF 0.6:#8499EF 1:#ffffff"}).position("time*open"),d.line().style({lineWidth:1,stroke:"#8499EF"}).position("time*open").tooltip("time*open*close*rise*risePercent*cjl*cje*color",((t,e,l,o,i,s,a,n)=>({time:t,open:e,close:l,rise:o,risePercent:i,cjl:s,cje:a,color:n}))),d.render())}const m=(0,o.Fl)((()=>!!e.followStocks.value.find((t=>t.QuoteID===a.value.QuoteID))));return(0,o.YP)((()=>e.modalShow.value),(t=>{t&&(0,o.Y3)((()=>{d||f(80,1),n.value&&(a.value=e.fullStateFollowStocks.value[0],n.value=!1)}))})),{followList:e.fullStateFollowStocks,stockColor:t=>"up"===t?e.stockColor.value.up:e.stockColor.value.down,onClickEdit:t=>{l.value=t},isEdit:l,onClickRemove:(o,i)=>{const s=[...e.followStocks.value];if(1===s.length)return q.R.fail({message:"请至少保留一条数据"}),l.value=!1,!1;s.splice(o,1),i.QuoteID===a.value.QuoteID&&(a.value=s[0],v.value="分时",f(80,1)),t.setFollowStocks(s)},onInputSearchKey:x,isEmpty:p,searchResult:i,onClickSearchItem:function(t){r.value=!0,g(t)},currentStock:a,onSelectStock:g,kltArr:[{text:"分时",klt:1,lmt:80},{text:"5日",klt:5,lmt:250},{text:"日K",klt:101,lmt:60},{text:"周K",klt:102,lmt:60},{text:"月K",klt:103,lmt:60},{text:"1年",klt:101,lmt:250}],onSelectKlt:t=>{l.value=!1,v.value!==t.text&&(v.value=t.text,t.text.indexOf("K")>0?async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:60,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:101;if(!u.value)return;const l=await h(t,e);if(!l)return;l.forEach((t=>{t.range=[t.open,t.close,t.heigh,t.low]})),d&&d.destroy(),d=new k.kL({container:u.value,autoFit:!0,width:604,height:320}),d.data(l),d.scale({time:{type:"timeCat"},range:{nice:!0,range:[.1,.9]},close:{nice:!0,range:[.1,.9]}}),d.axis("range",!1),d.tooltip({showTitle:!1,showCrosshairs:!0,showMarkers:!1,crosshairs:{type:"xy",follow:!0,line:{style:{lineDash:[2,2]}}},containerTpl:'<div class="g2-tooltip"><p class="g2-tooltip-title"></p><ul class="g2-tooltip-list"></ul></div>',itemTpl:'\n            <ul class="g2-tooltip-list">\n              <li class="g2-tooltip-list-item">\n               <span class="g2-tooltip-name">时间</span><span class="g2-tooltip-value">{time}</span>\n              </li>\n              <li class="g2-tooltip-list-item">\n               <span class="g2-tooltip-name">价格</span><span class="g2-tooltip-value" style="color:{color}">{close}</span>\n              </li>\n              <li class="g2-tooltip-list-item">\n               <span class="g2-tooltip-name">涨跌额</span><span class="g2-tooltip-value" style="color:{color}">{rise}</span>\n              </li>\n              <li class="g2-tooltip-list-item">\n               <span class="g2-tooltip-name">涨跌幅</span><span class="g2-tooltip-value" style="color:{color}">{risePercent}%</span>\n              </li>\n              <li class="g2-tooltip-list-item">\n               <span class="g2-tooltip-name">最高价</span><span class="g2-tooltip-value">{heigh}</span>\n              </li>\n              <li class="g2-tooltip-list-item">\n               <span class="g2-tooltip-name">最低价</span><span class="g2-tooltip-value">{low}</span>\n              </li>\n              <li class="g2-tooltip-list-item">\n               <span class="g2-tooltip-name">成交量</span><span class="g2-tooltip-value">{cjl}</span>\n              </li>\n              <li class="g2-tooltip-list-item">\n               <span class="g2-tooltip-name">成交额</span><span class="g2-tooltip-value">{cje}</span>\n              </li>\n              <li class="g2-tooltip-list-item">\n               <span class="g2-tooltip-name">换手率</span><span class="g2-tooltip-value">{hs}%</span>\n              </li>\n            </ul>\n          '}),d.legend(!1),d.axis("close",{label:{formatter:t=>{const e=parseFloat(t);return Number(e.toFixed(2))}}}),d.line().style({lineWidth:1,stroke:"#8499EF"}).position("time*close").tooltip("time*open*close*rise*risePercent*cjl*cje*color*heigh*low*zf*hs",((t,e,l,o,i,s,a,n,r,c,p,d)=>({time:t,open:e,close:l,rise:o,risePercent:i,cjl:s,cje:a,color:n,heigh:r,low:c,zf:p,hs:d}))),d.schema().color("color",(t=>t)).position("time*range").shape("candle"),d.render()}(t.lmt,t.klt):f(t.lmt,t.klt))},currentKlt:v,chartRef:u,searchKey:c,onClearSearchKey:()=>{c.value="",i.value=[],r.value=!1},onClickSearch:function(){l.value=!1},isInFollow:m,onClickAddToFollow:function(){const l=[...e.followStocks.value,a.value];t.setFollowStocks(l)},isSearch:r,onClickFollowItem:function(t){r.value=!1,g(t)}}}},98868:t=>{t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAI5JREFUSEvtlNENgCAQQ3t76EAwiEMwAEM4CAyke5whSkJEwn14/gjfTUveNSUoP1L2x48CjGNDwJqQMrBET1GCV4zIOt4ATJfpHjzNbwdwaRg8iT4nEiVj63gEnISLtuSDSm6ZNPtTu6ob3NoiNc+6ql3fB6gjajEZNe225QtEumOnPtddhg2BeE3/G3AA2CJOGTQoD1oAAAAASUVORK5CYII="},52549:t=>{t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAATRJREFUSEvtlb8uBUEUxn8fwguIBq8h0eh1boOg9Kej8gAKiUYiotOSEKLQKCUewEP400mUGvLJyl7ZOzu7Y7O5heROeebM+c35zjkzos9LfY7PAJBU+P9IZHsFOACGgA1Jd1l6rTOwPQIcAtsFvV4kTfcAbM8Dp4CBHUk3KYFtTwBXwFzg+yppKgQ8Az9G4AtYlXRZBbE9A2SXmAx8PoBlSbd1gFqI7XXgBBgLgj8BHUmPXftvDWwvANfAcOFQlsmapIvMZnsUOAa2IpndA4uS3op7PUW2vQScxyDAQ36B2UjwI2BX0me4V+qiGsg7MB7Re1PSWVWtom1aAQljlPSOQSrnIAGJ6t0IkBc1VpNKvRsDckgH2Munfr/bUakhLLXpXw809Wv9FqWAA0BKofb/QYrwDR2DYRkB9hC3AAAAAElFTkSuQmCC"},80024:t=>{t.exports="data:image/png;base64,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"}}]);