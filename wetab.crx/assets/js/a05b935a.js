/*! For license information please see a05b935a.js.LICENSE.txt */
(globalThis.webpackChunkinfinity_hitab_client=globalThis.webpackChunkinfinity_hitab_client||[]).push([[4897,7804],{18024:t=>{t.exports=()=>/(?:[#*0-9]\uFE0F?\u20E3|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26AA\u26B0\u26B1\u26BD\u26BE\u26C4\u26C8\u26CF\u26D1\u26D3\u26E9\u26F0-\u26F5\u26F7\u26F8\u26FA\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B55\u3030\u303D\u3297\u3299]\uFE0F?|[\u261D\u270C\u270D](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\u270A\u270B](?:\uD83C[\uDFFB-\uDFFF])?|[\u23E9-\u23EC\u23F0\u23F3\u25FD\u2693\u26A1\u26AB\u26C5\u26CE\u26D4\u26EA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2795-\u2797\u27B0\u27BF\u2B50]|\u26F9(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\u2764\uFE0F?(?:\u200D(?:\uD83D\uDD25|\uD83E\uDE79))?|\uD83C(?:[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]\uFE0F?|[\uDF85\uDFC2\uDFC7](?:\uD83C[\uDFFB-\uDFFF])?|[\uDFC3\uDFC4\uDFCA](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDFCB\uDFCC](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uDDE6\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF]|\uDDE7\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF]|\uDDE8\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF]|\uDDE9\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF]|\uDDEA\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA]|\uDDEB\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7]|\uDDEC\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE]|\uDDED\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA]|\uDDEE\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9]|\uDDEF\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5]|\uDDF0\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF]|\uDDF1\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE]|\uDDF2\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF]|\uDDF3\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF]|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE]|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC]|\uDDF8\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF]|\uDDF9\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF]|\uDDFA\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF]|\uDDFB\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA]|\uDDFC\uD83C[\uDDEB\uDDF8]|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C[\uDDEA\uDDF9]|\uDDFF\uD83C[\uDDE6\uDDF2\uDDFC]|\uDFF3\uFE0F?(?:\u200D(?:\u26A7\uFE0F?|\uD83C\uDF08))?|\uDFF4(?:\u200D\u2620\uFE0F?|\uDB40\uDC67\uDB40\uDC62\uDB40(?:\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDC73\uDB40\uDC63\uDB40\uDC74|\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F)?)|\uD83D(?:[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3]\uFE0F?|[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC](?:\uD83C[\uDFFB-\uDFFF])?|[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD74\uDD90](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEDD-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uDC08(?:\u200D\u2B1B)?|\uDC15(?:\u200D\uD83E\uDDBA)?|\uDC3B(?:\u200D\u2744\uFE0F?)?|\uDC41\uFE0F?(?:\u200D\uD83D\uDDE8\uFE0F?)?|\uDC68(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDC68\uDC69]\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE])))?))?|\uDC69(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?[\uDC68\uDC69]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?|\uDC69\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?))|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFE])))?))?|\uDC6F(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDD75(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDE2E(?:\u200D\uD83D\uDCA8)?|\uDE35(?:\u200D\uD83D\uDCAB)?|\uDE36(?:\u200D\uD83C\uDF2B\uFE0F?)?)|\uD83E(?:[\uDD0C\uDD0F\uDD18-\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5\uDEC3-\uDEC5\uDEF0\uDEF2-\uDEF6](?:\uD83C[\uDFFB-\uDFFF])?|[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD4\uDDD6-\uDDDD](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDDDE\uDDDF](?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD0D\uDD0E\uDD10-\uDD17\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCC\uDDD0\uDDE0-\uDDFF\uDE70-\uDE74\uDE78-\uDE7C\uDE80-\uDE86\uDE90-\uDEAC\uDEB0-\uDEBA\uDEC0-\uDEC2\uDED0-\uDED9\uDEE0-\uDEE7]|\uDD3C(?:\u200D[\u2640\u2642]\uFE0F?|\uD83C[\uDFFB-\uDFFF])?|\uDDD1(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF-\uDDB3\uDDBC\uDDBD]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?))?|\uDEF1(?:\uD83C(?:\uDFFB(?:\u200D\uD83E\uDEF2\uD83C[\uDFFC-\uDFFF])?|\uDFFC(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFD-\uDFFF])?|\uDFFD(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])?|\uDFFE(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFD\uDFFF])?|\uDFFF(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFE])?))?))/g},47815:t=>{"use strict";var e=/[|\\{}()[\]^$+*?.]/g;t.exports=function(t){if("string"!=typeof t)throw new TypeError("Expected a string");return t.replace(e,"\\$&")}},22388:t=>{"use strict";var e=Object.prototype.hasOwnProperty,n=Object.prototype.toString,r=Object.defineProperty,i=Object.getOwnPropertyDescriptor,o=function(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===n.call(t)},a=function(t){if(!t||"[object Object]"!==n.call(t))return!1;var r,i=e.call(t,"constructor"),o=t.constructor&&t.constructor.prototype&&e.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!i&&!o)return!1;for(r in t);return void 0===r||e.call(t,r)},s=function(t,e){r&&"__proto__"===e.name?r(t,e.name,{enumerable:!0,configurable:!0,value:e.newValue,writable:!0}):t[e.name]=e.newValue},l=function(t,n){if("__proto__"===n){if(!e.call(t,n))return;if(i)return i(t,n).value}return t[n]};t.exports=function t(){var e,n,r,i,c,u,h=arguments[0],d=1,f=arguments.length,p=!1;for("boolean"==typeof h&&(p=h,h=arguments[1]||{},d=2),(null==h||"object"!=typeof h&&"function"!=typeof h)&&(h={});d<f;++d)if(null!=(e=arguments[d]))for(n in e)r=l(h,n),h!==(i=l(e,n))&&(p&&i&&(a(i)||(c=o(i)))?(c?(c=!1,u=r&&o(r)?r:[]):u=r&&a(r)?r:{},s(h,{name:n,newValue:t(p,u,i)})):void 0!==i&&s(h,{name:n,newValue:i}));return h}},99813:t=>{function e(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}t.exports=function(t){return null!=t&&(e(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&e(t.slice(0,0))}(t)||!!t._isBuffer)}},1100:t=>{"use strict";t.exports=t=>{if("[object Object]"!==Object.prototype.toString.call(t))return!1;const e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}},9531:(t,e,n)=>{var r=n(16362)(n(2343),"DataView");t.exports=r},56758:(t,e,n)=>{var r=n(16362)(n(2343),"Map");t.exports=r},35570:(t,e,n)=>{var r=n(16362)(n(2343),"Promise");t.exports=r},2910:(t,e,n)=>{var r=n(16362)(n(2343),"Set");t.exports=r},79993:(t,e,n)=>{var r=n(2343).Symbol;t.exports=r},410:(t,e,n)=>{var r=n(16362)(n(2343),"WeakMap");t.exports=r},58613:(t,e,n)=>{var r=n(62654),i=n(60223),o=n(32838),a=n(41242),s=n(66877),l=n(3764),c=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=o(t),u=!n&&i(t),h=!n&&!u&&a(t),d=!n&&!u&&!h&&l(t),f=n||u||h||d,p=f?r(t.length,String):[],g=p.length;for(var m in t)!e&&!c.call(t,m)||f&&("length"==m||h&&("offset"==m||"parent"==m)||d&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||s(m,g))||p.push(m);return p}},55171:t=>{t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}},24979:t=>{t.exports=function(t){return t.split("")}},88946:(t,e,n)=>{var r=n(79993),i=n(82073),o=n(5503),a=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?i(t):o(t)}},98457:(t,e,n)=>{var r=n(88946),i=n(49258);t.exports=function(t){return i(t)&&"[object Arguments]"==r(t)}},80402:(t,e,n)=>{var r=n(77957),i=n(92319),o=n(38275),a=n(60288),s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,h=c.hasOwnProperty,d=RegExp("^"+u.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||i(t))&&(r(t)?d:s).test(a(t))}},9247:(t,e,n)=>{var r=n(88946),i=n(71382),o=n(49258),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return o(t)&&i(t.length)&&!!a[r(t)]}},87846:(t,e,n)=>{var r=n(54431),i=n(55350),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e=[];for(var n in Object(t))o.call(t,n)&&"constructor"!=n&&e.push(n);return e}},62654:t=>{t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},33296:t=>{t.exports=function(t){return function(e){return t(e)}}},52471:(t,e,n)=>{var r=n(55171);t.exports=function(t,e){return r(e,(function(e){return t[e]}))}},6448:t=>{t.exports=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}},69625:(t,e,n)=>{var r=n(2343)["__core-js_shared__"];t.exports=r},24043:(t,e,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;t.exports=r},16362:(t,e,n)=>{var r=n(80402),i=n(78926);t.exports=function(t,e){var n=i(t,e);return r(n)?n:void 0}},82073:(t,e,n)=>{var r=n(79993),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;t.exports=function(t){var e=o.call(t,s),n=t[s];try{t[s]=void 0;var r=!0}catch(t){}var i=a.call(t);return r&&(e?t[s]=n:delete t[s]),i}},52255:(t,e,n)=>{var r=n(9531),i=n(56758),o=n(35570),a=n(2910),s=n(410),l=n(88946),c=n(60288),u="[object Map]",h="[object Promise]",d="[object Set]",f="[object WeakMap]",p="[object DataView]",g=c(r),m=c(i),y=c(o),v=c(a),b=c(s),w=l;(r&&w(new r(new ArrayBuffer(1)))!=p||i&&w(new i)!=u||o&&w(o.resolve())!=h||a&&w(new a)!=d||s&&w(new s)!=f)&&(w=function(t){var e=l(t),n="[object Object]"==e?t.constructor:void 0,r=n?c(n):"";if(r)switch(r){case g:return p;case m:return u;case y:return h;case v:return d;case b:return f}return e}),t.exports=w},78926:t=>{t.exports=function(t,e){return null==t?void 0:t[e]}},20100:t=>{var e=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");t.exports=function(t){return e.test(t)}},66877:t=>{var e=/^(?:0|[1-9]\d*)$/;t.exports=function(t,n){var r=typeof t;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&e.test(t))&&t>-1&&t%1==0&&t<n}},92319:(t,e,n)=>{var r,i=n(69625),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";t.exports=function(t){return!!o&&o in t}},54431:t=>{var e=Object.prototype;t.exports=function(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||e)}},59253:t=>{t.exports=function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}},59483:t=>{t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}},55350:(t,e,n)=>{var r=n(17095)(Object.keys,Object);t.exports=r},55322:(t,e,n)=>{t=n.nmd(t);var r=n(24043),i=e&&!e.nodeType&&e,o=i&&t&&!t.nodeType&&t,a=o&&o.exports===i&&r.process,s=function(){try{var t=o&&o.require&&o.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(t){}}();t.exports=s},5503:t=>{var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},17095:t=>{t.exports=function(t,e){return function(n){return t(e(n))}}},2343:(t,e,n)=>{var r=n(24043),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},18923:t=>{t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}},98639:(t,e,n)=>{var r=n(24979),i=n(20100),o=n(50789);t.exports=function(t){return i(t)?o(t):r(t)}},60288:t=>{var e=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return e.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},50789:t=>{var e="[\\ud800-\\udfff]",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",r="\\ud83c[\\udffb-\\udfff]",i="[^\\ud800-\\udfff]",o="(?:\\ud83c[\\udde6-\\uddff]){2}",a="[\\ud800-\\udbff][\\udc00-\\udfff]",s="(?:"+n+"|"+r+")"+"?",l="[\\ufe0e\\ufe0f]?",c=l+s+("(?:\\u200d(?:"+[i,o,a].join("|")+")"+l+s+")*"),u="(?:"+[i+n+"?",n,o,a,e].join("|")+")",h=RegExp(r+"(?="+r+")|"+u+c,"g");t.exports=function(t){return t.match(h)||[]}},60223:(t,e,n)=>{var r=n(98457),i=n(49258),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(t){return i(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=l},32838:t=>{var e=Array.isArray;t.exports=e},15582:(t,e,n)=>{var r=n(77957),i=n(71382);t.exports=function(t){return null!=t&&i(t.length)&&!r(t)}},41242:(t,e,n)=>{t=n.nmd(t);var r=n(2343),i=n(83979),o=e&&!e.nodeType&&e,a=o&&t&&!t.nodeType&&t,s=a&&a.exports===o?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||i;t.exports=l},77957:(t,e,n)=>{var r=n(88946),i=n(38275);t.exports=function(t){if(!i(t))return!1;var e=r(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},71382:t=>{t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},38275:t=>{t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},49258:t=>{t.exports=function(t){return null!=t&&"object"==typeof t}},11132:(t,e,n)=>{var r=n(88946),i=n(32838),o=n(49258);t.exports=function(t){return"string"==typeof t||!i(t)&&o(t)&&"[object String]"==r(t)}},3764:(t,e,n)=>{var r=n(9247),i=n(33296),o=n(55322),a=o&&o.isTypedArray,s=a?i(a):r;t.exports=s},8931:(t,e,n)=>{var r=n(58613),i=n(87846),o=n(15582);t.exports=function(t){return o(t)?r(t):i(t)}},83979:t=>{t.exports=function(){return!1}},23031:(t,e,n)=>{var r=n(79993),i=n(6448),o=n(52255),a=n(15582),s=n(11132),l=n(59253),c=n(59483),u=n(18923),h=n(98639),d=n(45858),f=r?r.iterator:void 0;t.exports=function(t){if(!t)return[];if(a(t))return s(t)?h(t):i(t);if(f&&t[f])return l(t[f]());var e=o(t);return("[object Map]"==e?c:"[object Set]"==e?u:d)(t)}},45858:(t,e,n)=>{var r=n(52471),i=n(8931);t.exports=function(t){return null==t?[]:r(t,i(t))}},28345:(t,e,n)=>{t.exports=n(7275)},7275:(t,e,n)=>{var r=n(23031),i=n(34964),o=/:([a-zA-Z0-9_\-\+]+):/g,a=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function s(t){var e=t.indexOf(":");return e>-1?e===t.length-1?s(t=t.substring(0,e)):s(t=t.substr(e+1)):t}function l(t){return"string"==typeof t&&t.length>0?":"+t+":":t}var c=String.fromCharCode(65039),u=new RegExp(c,"g");function h(t){return t.replace(u,"")}var d=Object.keys(i).reduce((function(t,e){return t[h(i[e])]=e,t}),{}),f={emoji:i};f._get=function(t){return d[h(t)]?t:i.hasOwnProperty(t)?i[t]:"string"==typeof(e=t)&&":"!==e[0]?l(e):e;var e},f.get=function(t){return t=s(t),f._get(t)},f.find=function(t){return f.findByName(t)||f.findByCode(t)},f.findByName=function(t){var e=s(t),n=i[e];return n?{emoji:n,key:e}:void 0},f.findByCode=function(t){var e=h(t),n=d[e];return n?{emoji:i[n],key:n}:void 0},f.hasEmoji=function(t){return f.hasEmojiByName(t)||f.hasEmojiByCode(t)},f.hasEmojiByName=function(t){var e=f.findByName(t);return!!e&&e.key===s(t)},f.hasEmojiByCode=function(t){var e=f.findByCode(t);return!!e&&h(e.emoji)===h(t)},f.which=function(t,e){var n=h(t),r=d[n];return e?l(r):r},f.emojify=function(t,e,n){return t?t.split(o).map((function(t,r){if(r%2==0)return t;var i=f._get(t),o=i.indexOf(":")>-1;return o&&"function"==typeof e?e(t):o||"function"!=typeof n?i:n(i,t)})).join(""):""},f.random=function(){var t=Object.keys(i),e=t[Math.floor(Math.random()*t.length)];return{key:e,emoji:f._get(e)}},f.search=function(t){var e=Object.keys(i),n=s(t);return e.filter((function(t){return 0===t.toString().indexOf(n)})).map((function(t){return{key:t,emoji:f._get(t)}}))},f.unemojify=function(t){return t?r(t).map((function(t){return f.which(t,!0)||t})).join(""):""},f.replace=function(t,e,n){if(!t)return"";var i="function"==typeof e?e:function(){return e},o=r(t),s=o.map((function(t,e){var r=f.findByCode(t);return r&&n&&" "===o[e+1]&&(o[e+1]=""),r?i(r):t})).join("");return n?s.replace(a,""):s},f.strip=function(t){return f.replace(t,"",!0)},t.exports=f},62447:(t,e,n)=>{"use strict";var r,i,o=n(42391),a=n(19443),s=n(97354),l=n(9222),c=n(92843);if("undefined"!=typeof WeakMap){var u=new WeakMap;r=function(t){return u.get(t)},i=function(t,e){return u.set(t,e),e}}else{var h=[],d=0;r=function(t){for(var e=0;e<h.length;e+=2)if(h[e]==t)return h[e+1]},i=function(t,e){return 10==d&&(d=0),h[d++]=t,h[d++]=e}}var f=function(t,e,n,r){this.left=t,this.top=e,this.right=n,this.bottom=r},p=function(t,e,n,r){this.width=t,this.height=e,this.map=n,this.problems=r};function g(t){if(t.colwidth)return t.colwidth.slice();for(var e=[],n=0;n<t.colspan;n++)e.push(0);return e}function m(t,e){var n=t.getAttribute("data-colwidth"),r=n&&/^\d+(,\d+)*$/.test(n)?n.split(",").map((function(t){return Number(t)})):null,i=Number(t.getAttribute("colspan")||1),o={colspan:i,rowspan:Number(t.getAttribute("rowspan")||1),colwidth:r&&r.length==i?r:null};for(var a in e){var s=e[a].getFromDOM,l=s&&s(t);null!=l&&(o[a]=l)}return o}function y(t,e){var n={};for(var r in 1!=t.attrs.colspan&&(n.colspan=t.attrs.colspan),1!=t.attrs.rowspan&&(n.rowspan=t.attrs.rowspan),t.attrs.colwidth&&(n["data-colwidth"]=t.attrs.colwidth.join(",")),e){var i=e[r].setDOMAttr;i&&i(t.attrs[r],n)}return n}function v(t){var e=t.cached.tableNodeTypes;if(!e)for(var n in e=t.cached.tableNodeTypes={},t.nodes){var r=t.nodes[n],i=r.spec.tableRole;i&&(e[i]=r)}return e}p.prototype.findCell=function(t){for(var e=0;e<this.map.length;e++){var n=this.map[e];if(n==t){for(var r=e%this.width,i=e/this.width|0,o=r+1,a=i+1,s=1;o<this.width&&this.map[e+s]==n;s++)o++;for(var l=1;a<this.height&&this.map[e+this.width*l]==n;l++)a++;return new f(r,i,o,a)}}throw new RangeError("No cell with offset "+t+" found")},p.prototype.colCount=function(t){for(var e=0;e<this.map.length;e++)if(this.map[e]==t)return e%this.width;throw new RangeError("No cell with offset "+t+" found")},p.prototype.nextCell=function(t,e,n){var r=this.findCell(t),i=r.left,o=r.right,a=r.top,s=r.bottom;return"horiz"==e?(n<0?0==i:o==this.width)?null:this.map[a*this.width+(n<0?i-1:o)]:(n<0?0==a:s==this.height)?null:this.map[i+this.width*(n<0?a-1:s)]},p.prototype.rectBetween=function(t,e){var n=this.findCell(t),r=n.left,i=n.right,o=n.top,a=n.bottom,s=this.findCell(e),l=s.left,c=s.right,u=s.top,h=s.bottom;return new f(Math.min(r,l),Math.min(o,u),Math.max(i,c),Math.max(a,h))},p.prototype.cellsInRect=function(t){for(var e=[],n={},r=t.top;r<t.bottom;r++)for(var i=t.left;i<t.right;i++){var o=r*this.width+i,a=this.map[o];n[a]||(n[a]=!0,i==t.left&&i&&this.map[o-1]==a||r==t.top&&r&&this.map[o-this.width]==a||e.push(a))}return e},p.prototype.positionAt=function(t,e,n){for(var r=0,i=0;;r++){var o=i+n.child(r).nodeSize;if(r==t){for(var a=e+t*this.width,s=(t+1)*this.width;a<s&&this.map[a]<i;)a++;return a==s?o-1:this.map[a]}i=o}},p.get=function(t){return r(t)||i(t,function(t){if("table"!=t.type.spec.tableRole)throw new RangeError("Not a table node: "+t.type.name);for(var e=function(t){for(var e=-1,n=!1,r=0;r<t.childCount;r++){var i=t.child(r),o=0;if(n)for(var a=0;a<r;a++)for(var s=t.child(a),l=0;l<s.childCount;l++){var c=s.child(l);a+c.attrs.rowspan>r&&(o+=c.attrs.colspan)}for(var u=0;u<i.childCount;u++){var h=i.child(u);o+=h.attrs.colspan,h.attrs.rowspan>1&&(n=!0)}-1==e?e=o:e!=o&&(e=Math.max(e,o))}return e}(t),n=t.childCount,r=[],i=0,o=null,a=[],s=0,l=e*n;s<l;s++)r[s]=0;for(var c=0,u=0;c<n;c++){var h=t.child(c);u++;for(var d=0;;d++){for(;i<r.length&&0!=r[i];)i++;if(d==h.childCount)break;for(var f=h.child(d),m=f.attrs,y=m.colspan,v=m.rowspan,b=m.colwidth,w=0;w<v;w++){if(w+c>=n){(o||(o=[])).push({type:"overlong_rowspan",pos:u,n:v-w});break}for(var x=i+w*e,_=0;_<y;_++){0==r[x+_]?r[x+_]=u:(o||(o=[])).push({type:"collision",row:c,pos:u,n:y-_});var k=b&&b[_];if(k){var E=(x+_)%e*2,C=a[E];null==C||C!=k&&1==a[E+1]?(a[E]=k,a[E+1]=1):C==k&&a[E+1]++}}}i+=y,u+=f.nodeSize}for(var S=(c+1)*e,D=0;i<S;)0==r[i++]&&D++;D&&(o||(o=[])).push({type:"missing",row:c,n:D}),u++}for(var T=new p(e,n,r,o),A=!1,M=0;!A&&M<a.length;M+=2)null!=a[M]&&a[M+1]<n&&(A=!0);A&&function(t,e,n){t.problems||(t.problems=[]);for(var r=0,i={};r<t.map.length;r++){var o=t.map[r];if(!i[o]){i[o]=!0;for(var a=n.nodeAt(o),s=null,l=0;l<a.attrs.colspan;l++){var c=e[2*((r+l)%t.width)];null==c||a.attrs.colwidth&&a.attrs.colwidth[l]==c||((s||(s=g(a.attrs)))[l]=c)}s&&t.problems.unshift({type:"colwidth mismatch",pos:o,colwidth:s})}}}(T,a,t);return T}(t))};var b=new o.PluginKey("selectingCells");function w(t){for(var e=t.depth-1;e>0;e--)if("row"==t.node(e).type.spec.tableRole)return t.node(0).resolve(t.before(e+1));return null}function x(t){for(var e=t.selection.$head,n=e.depth;n>0;n--)if("row"==e.node(n).type.spec.tableRole)return!0;return!1}function _(t){var e=t.selection;return e.$anchorCell?e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell:e.node&&"cell"==e.node.type.spec.tableRole?e.$anchor:w(e.$head)||function(t){for(var e=t.nodeAfter,n=t.pos;e;e=e.firstChild,n++){var r=e.type.spec.tableRole;if("cell"==r||"header_cell"==r)return t.doc.resolve(n)}for(var i=t.nodeBefore,o=t.pos;i;i=i.lastChild,o--){var a=i.type.spec.tableRole;if("cell"==a||"header_cell"==a)return t.doc.resolve(o-i.nodeSize)}}(e.$head)}function k(t){return"row"==t.parent.type.spec.tableRole&&t.nodeAfter}function E(t){return t.node(0).resolve(t.pos+t.nodeAfter.nodeSize)}function C(t,e){return t.depth==e.depth&&t.pos>=e.start(-1)&&t.pos<=e.end(-1)}function S(t,e,n){var r=t.start(-1),i=p.get(t.node(-1)).nextCell(t.pos-r,e,n);return null==i?null:t.node(0).resolve(r+i)}function D(t,e,n){var r={};for(var i in t)r[i]=t[i];return r[e]=n,r}function T(t,e,n){void 0===n&&(n=1);var r=D(t,"colspan",t.colspan-n);return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(e,n),r.colwidth.some((function(t){return t>0}))||(r.colwidth=null)),r}function A(t,e,n){void 0===n&&(n=1);var r=D(t,"colspan",t.colspan+n);if(r.colwidth){r.colwidth=r.colwidth.slice();for(var i=0;i<n;i++)r.colwidth.splice(e,0,0)}return r}function M(t,e,n){for(var r=v(e.type.schema).header_cell,i=0;i<t.height;i++)if(e.nodeAt(t.map[n+i*t.width]).type!=r)return!1;return!0}var N=function(t){function e(e,n){void 0===n&&(n=e);var r=e.node(-1),i=p.get(r),a=e.start(-1),s=i.rectBetween(e.pos-a,n.pos-a),l=e.node(0),c=i.cellsInRect(s).filter((function(t){return t!=n.pos-a}));c.unshift(n.pos-a);var u=c.map((function(t){var e=r.nodeAt(t),n=t+a+1;return new o.SelectionRange(l.resolve(n),l.resolve(n+e.content.size))}));t.call(this,u[0].$from,u[0].$to,u),this.$anchorCell=e,this.$headCell=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.map=function(t,n){var r=t.resolve(n.map(this.$anchorCell.pos)),i=t.resolve(n.map(this.$headCell.pos));if(k(r)&&k(i)&&C(r,i)){var a=this.$anchorCell.node(-1)!=r.node(-1);return a&&this.isRowSelection()?e.rowSelection(r,i):a&&this.isColSelection()?e.colSelection(r,i):new e(r,i)}return o.TextSelection.between(r,i)},e.prototype.content=function(){for(var t=this.$anchorCell.node(-1),e=p.get(t),n=this.$anchorCell.start(-1),r=e.rectBetween(this.$anchorCell.pos-n,this.$headCell.pos-n),i={},o=[],s=r.top;s<r.bottom;s++){for(var l=[],c=s*e.width+r.left,u=r.left;u<r.right;u++,c++){var h=e.map[c];if(!i[h]){i[h]=!0;var d=e.findCell(h),f=t.nodeAt(h),g=r.left-d.left,m=d.right-r.right;if(g>0||m>0){var y=f.attrs;g>0&&(y=T(y,0,g)),m>0&&(y=T(y,y.colspan-m,m)),f=d.left<r.left?f.type.createAndFill(y):f.type.create(y,f.content)}if(d.top<r.top||d.bottom>r.bottom){var v=D(f.attrs,"rowspan",Math.min(d.bottom,r.bottom)-Math.max(d.top,r.top));f=d.top<r.top?f.type.createAndFill(v):f.type.create(v,f.content)}l.push(f)}}o.push(t.child(s).copy(a.Fragment.from(l)))}var b=this.isColSelection()&&this.isRowSelection()?t:o;return new a.Slice(a.Fragment.from(b),1,1)},e.prototype.replace=function(e,n){void 0===n&&(n=a.Slice.empty);for(var r=e.steps.length,i=this.ranges,o=0;o<i.length;o++){var s=i[o],l=s.$from,c=s.$to,u=e.mapping.slice(r);e.replace(u.map(l.pos),u.map(c.pos),o?a.Slice.empty:n)}var h=t.findFrom(e.doc.resolve(e.mapping.slice(r).map(this.to)),-1);h&&e.setSelection(h)},e.prototype.replaceWith=function(t,e){this.replace(t,new a.Slice(a.Fragment.from(e),0,0))},e.prototype.forEachCell=function(t){for(var e=this.$anchorCell.node(-1),n=p.get(e),r=this.$anchorCell.start(-1),i=n.cellsInRect(n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r)),o=0;o<i.length;o++)t(e.nodeAt(i[o]),r+i[o])},e.prototype.isColSelection=function(){var t=this.$anchorCell.index(-1),e=this.$headCell.index(-1);if(Math.min(t,e)>0)return!1;var n=t+this.$anchorCell.nodeAfter.attrs.rowspan,r=e+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(n,r)==this.$headCell.node(-1).childCount},e.colSelection=function(t,n){void 0===n&&(n=t);var r=p.get(t.node(-1)),i=t.start(-1),o=r.findCell(t.pos-i),a=r.findCell(n.pos-i),s=t.node(0);return o.top<=a.top?(o.top>0&&(t=s.resolve(i+r.map[o.left])),a.bottom<r.height&&(n=s.resolve(i+r.map[r.width*(r.height-1)+a.right-1]))):(a.top>0&&(n=s.resolve(i+r.map[a.left])),o.bottom<r.height&&(t=s.resolve(i+r.map[r.width*(r.height-1)+o.right-1]))),new e(t,n)},e.prototype.isRowSelection=function(){var t=p.get(this.$anchorCell.node(-1)),e=this.$anchorCell.start(-1),n=t.colCount(this.$anchorCell.pos-e),r=t.colCount(this.$headCell.pos-e);if(Math.min(n,r)>0)return!1;var i=n+this.$anchorCell.nodeAfter.attrs.colspan,o=r+this.$headCell.nodeAfter.attrs.colspan;return Math.max(i,o)==t.width},e.prototype.eq=function(t){return t instanceof e&&t.$anchorCell.pos==this.$anchorCell.pos&&t.$headCell.pos==this.$headCell.pos},e.rowSelection=function(t,n){void 0===n&&(n=t);var r=p.get(t.node(-1)),i=t.start(-1),o=r.findCell(t.pos-i),a=r.findCell(n.pos-i),s=t.node(0);return o.left<=a.left?(o.left>0&&(t=s.resolve(i+r.map[o.top*r.width])),a.right<r.width&&(n=s.resolve(i+r.map[r.width*(a.top+1)-1]))):(a.left>0&&(n=s.resolve(i+r.map[a.top*r.width])),o.right<r.width&&(t=s.resolve(i+r.map[r.width*(o.top+1)-1]))),new e(t,n)},e.prototype.toJSON=function(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}},e.fromJSON=function(t,n){return new e(t.resolve(n.anchor),t.resolve(n.head))},e.create=function(t,n,r){return void 0===r&&(r=n),new e(t.resolve(n),t.resolve(r))},e.prototype.getBookmark=function(){return new O(this.$anchorCell.pos,this.$headCell.pos)},e}(o.Selection);N.prototype.visible=!1,o.Selection.jsonID("cell",N);var O=function(t,e){this.anchor=t,this.head=e};function F(t){if(!(t.selection instanceof N))return null;var e=[];return t.selection.forEachCell((function(t,n){e.push(l.Decoration.node(n,n+t.nodeSize,{class:"selectedCell"}))})),l.DecorationSet.create(t.doc,e)}function I(t){if(!t.size)return null;for(var e=t.content,n=t.openStart,r=t.openEnd;1==e.childCount&&(n>0&&r>0||"table"==e.firstChild.type.spec.tableRole);)n--,r--,e=e.firstChild.content;var i=e.firstChild,o=i.type.spec.tableRole,s=i.type.schema,l=[];if("row"==o)for(var c=0;c<e.childCount;c++){var u=e.child(c).content,h=c?0:Math.max(0,n-1),d=c<e.childCount-1?0:Math.max(0,r-1);(h||d)&&(u=L(v(s).row,new a.Slice(u,h,d)).content),l.push(u)}else{if("cell"!=o&&"header_cell"!=o)return null;l.push(n||r?L(v(s).row,new a.Slice(e,n,r)).content:e)}return function(t,e){for(var n=[],r=0;r<e.length;r++)for(var i=e[r],o=i.childCount-1;o>=0;o--)for(var s=i.child(o).attrs,l=s.rowspan,c=s.colspan,u=r;u<r+l;u++)n[u]=(n[u]||0)+c;for(var h=0,d=0;d<n.length;d++)h=Math.max(h,n[d]);for(var f=0;f<n.length;f++)if(f>=e.length&&e.push(a.Fragment.empty),n[f]<h){for(var p=v(t).cell.createAndFill(),g=[],m=n[f];m<h;m++)g.push(p);e[f]=e[f].append(a.Fragment.from(g))}return{height:e.length,width:h,rows:e}}(s,l)}function L(t,e){var n=t.createAndFill();return new c.Transform(n).replace(0,n.content.size,e).doc}function B(t,e,n){var r=t.width,i=t.height,o=t.rows;if(r!=e){for(var s=[],l=[],c=0;c<o.length;c++){for(var u=o[c],h=[],d=s[c]||0,f=0;d<e;f++){var p=u.child(f%u.childCount);d+p.attrs.colspan>e&&(p=p.type.create(T(p.attrs,p.attrs.colspan,d+p.attrs.colspan-e),p.content)),h.push(p),d+=p.attrs.colspan;for(var g=1;g<p.attrs.rowspan;g++)s[c+g]=(s[c+g]||0)+p.attrs.colspan}l.push(a.Fragment.from(h))}o=l,r=e}if(i!=n){for(var m=[],y=0,v=0;y<n;y++,v++){for(var b=[],w=o[v%i],x=0;x<w.childCount;x++){var _=w.child(x);y+_.attrs.rowspan>n&&(_=_.type.create(D(_.attrs,"rowspan",Math.max(1,n-_.attrs.rowspan)),_.content)),b.push(_)}m.push(a.Fragment.from(b))}o=m,i=n}return{width:r,height:i,rows:o}}function R(t,e,n,r,i,o,a,s){if(0==a||a==e.height)return!1;for(var l=!1,c=i;c<o;c++){var u=a*e.width+c,h=e.map[u];if(e.map[u-e.width]==h){l=!0;var d=n.nodeAt(h),f=e.findCell(h),p=f.top,g=f.left;t.setNodeMarkup(t.mapping.slice(s).map(h+r),null,D(d.attrs,"rowspan",a-p)),t.insert(t.mapping.slice(s).map(e.positionAt(a,g,n)),d.type.createAndFill(D(d.attrs,"rowspan",p+d.attrs.rowspan-a))),c+=d.attrs.colspan-1}}return l}function P(t,e,n,r,i,o,a,s){if(0==a||a==e.width)return!1;for(var l=!1,c=i;c<o;c++){var u=c*e.width+a,h=e.map[u];if(e.map[u-1]==h){l=!0;var d=n.nodeAt(h),f=e.colCount(h),p=t.mapping.slice(s).map(h+r);t.setNodeMarkup(p,null,T(d.attrs,a-f,d.attrs.colspan-(a-f))),t.insert(p+d.nodeSize,d.type.createAndFill(T(d.attrs,0,a-f))),c+=d.attrs.rowspan-1}}return l}function z(t,e,n,r,i){var o=n?t.doc.nodeAt(n-1):t.doc,s=p.get(o),l=r.top,c=r.left,u=c+i.width,h=l+i.height,d=t.tr,f=0;function g(){o=n?d.doc.nodeAt(n-1):d.doc,s=p.get(o),f=d.mapping.maps.length}(function(t,e,n,r,i,o,s){var l,c,u=v(t.doc.type.schema);if(i>e.width)for(var h=0,d=0;h<e.height;h++){var f=n.child(h);d+=f.nodeSize;var p=[],g=void 0;g=null==f.lastChild||f.lastChild.type==u.cell?l||(l=u.cell.createAndFill()):c||(c=u.header_cell.createAndFill());for(var m=e.width;m<i;m++)p.push(g);t.insert(t.mapping.slice(s).map(d-1+r),p)}if(o>e.height){for(var y=[],b=0,w=(e.height-1)*e.width;b<Math.max(e.width,i);b++){var x=!(b>=e.width)&&n.nodeAt(e.map[w+b]).type==u.header_cell;y.push(x?c||(c=u.header_cell.createAndFill()):l||(l=u.cell.createAndFill()))}for(var _=u.row.create(null,a.Fragment.from(y)),k=[],E=e.height;E<o;E++)k.push(_);t.insert(t.mapping.slice(s).map(r+n.nodeSize-2),k)}return!(!l&&!c)})(d,s,o,n,u,h,f)&&g(),R(d,s,o,n,c,u,l,f)&&g(),R(d,s,o,n,c,u,h,f)&&g(),P(d,s,o,n,l,h,c,f)&&g(),P(d,s,o,n,l,h,u,f)&&g();for(var m=l;m<h;m++){var y=s.positionAt(m,c,o),b=s.positionAt(m,u,o);d.replace(d.mapping.slice(f).map(y+n),d.mapping.slice(f).map(b+n),new a.Slice(i.rows[m-l],0,0))}g(),d.setSelection(new N(d.doc.resolve(n+s.positionAt(l,c,o)),d.doc.resolve(n+s.positionAt(h-1,u-1,o)))),e(d)}O.prototype.map=function(t){return new O(t.map(this.anchor),t.map(this.head))},O.prototype.resolve=function(t){var e=t.resolve(this.anchor),n=t.resolve(this.head);return"row"==e.parent.type.spec.tableRole&&"row"==n.parent.type.spec.tableRole&&e.index()<e.parent.childCount&&n.index()<n.parent.childCount&&C(e,n)?new N(e,n):o.Selection.near(n,1)};var $=s.keydownHandler({ArrowLeft:U("horiz",-1),ArrowRight:U("horiz",1),ArrowUp:U("vert",-1),ArrowDown:U("vert",1),"Shift-ArrowLeft":Y("horiz",-1),"Shift-ArrowRight":Y("horiz",1),"Shift-ArrowUp":Y("vert",-1),"Shift-ArrowDown":Y("vert",1),Backspace:q,"Mod-Backspace":q,Delete:q,"Mod-Delete":q});function j(t,e,n){return!n.eq(t.selection)&&(e&&e(t.tr.setSelection(n).scrollIntoView()),!0)}function U(t,e){return function(n,r,i){var a=n.selection;if(a instanceof N)return j(n,r,o.Selection.near(a.$headCell,e));if("horiz"!=t&&!a.empty)return!1;var s=G(i,t,e);if(null==s)return!1;if("horiz"==t)return j(n,r,o.Selection.near(n.doc.resolve(a.head+e),e));var l,c=n.doc.resolve(s),u=S(c,t,e);return l=u?o.Selection.near(u,1):e<0?o.Selection.near(n.doc.resolve(c.before(-1)),-1):o.Selection.near(n.doc.resolve(c.after(-1)),1),j(n,r,l)}}function Y(t,e){return function(n,r,i){var o=n.selection;if(!(o instanceof N)){var a=G(i,t,e);if(null==a)return!1;o=new N(n.doc.resolve(a))}var s=S(o.$headCell,t,e);return!!s&&j(n,r,new N(o.$anchorCell,s))}}function q(t,e){var n=t.selection;if(!(n instanceof N))return!1;if(e){var r=t.tr,i=v(t.schema).cell.createAndFill().content;n.forEachCell((function(t,e){t.content.eq(i)||r.replace(r.mapping.map(e+1),r.mapping.map(e+t.nodeSize-1),new a.Slice(i,0,0))})),r.docChanged&&e(r)}return!0}function W(t,e){var n=w(t.state.doc.resolve(e));return!!n&&(t.dispatch(t.state.tr.setSelection(new N(n))),!0)}function H(t,e,n){if(!x(t.state))return!1;var r=I(n),i=t.state.selection;if(i instanceof N){r||(r={width:1,height:1,rows:[a.Fragment.from(L(v(t.state.schema).cell,n))]});var o=i.$anchorCell.node(-1),s=i.$anchorCell.start(-1),l=p.get(o).rectBetween(i.$anchorCell.pos-s,i.$headCell.pos-s);return r=B(r,l.right-l.left,l.bottom-l.top),z(t.state,t.dispatch,s,l,r),!0}if(r){var c=_(t.state),u=c.start(-1);return z(t.state,t.dispatch,u,p.get(c.node(-1)).findCell(c.pos-u),r),!0}return!1}function V(t,e){if(!e.ctrlKey&&!e.metaKey){var n,r=X(t,e.target);if(e.shiftKey&&t.state.selection instanceof N)i(t.state.selection.$anchorCell,e),e.preventDefault();else if(e.shiftKey&&r&&null!=(n=w(t.state.selection.$anchor))&&K(t,e).pos!=n.pos)i(n,e),e.preventDefault();else if(!r)return;t.root.addEventListener("mouseup",o),t.root.addEventListener("dragstart",o),t.root.addEventListener("mousemove",a)}function i(e,n){var r=K(t,n),i=null==b.getState(t.state);if(!r||!C(e,r)){if(!i)return;r=e}var o=new N(e,r);if(i||!t.state.selection.eq(o)){var a=t.state.tr.setSelection(o);i&&a.setMeta(b,e.pos),t.dispatch(a)}}function o(){t.root.removeEventListener("mouseup",o),t.root.removeEventListener("dragstart",o),t.root.removeEventListener("mousemove",a),null!=b.getState(t.state)&&t.dispatch(t.state.tr.setMeta(b,-1))}function a(n){var a,s=b.getState(t.state);if(null!=s)a=t.state.doc.resolve(s);else if(X(t,n.target)!=r&&!(a=K(t,e)))return o();a&&i(a,n)}}function G(t,e,n){if(!(t.state.selection instanceof o.TextSelection))return null;for(var r=t.state.selection.$head,i=r.depth-1;i>=0;i--){var a=r.node(i);if((n<0?r.index(i):r.indexAfter(i))!=(n<0?0:a.childCount))return null;if("cell"==a.type.spec.tableRole||"header_cell"==a.type.spec.tableRole){var s=r.before(i),l="vert"==e?n>0?"down":"up":n>0?"right":"left";return t.endOfTextblock(l)?s:null}}return null}function X(t,e){for(;e&&e!=t.dom;e=e.parentNode)if("TD"==e.nodeName||"TH"==e.nodeName)return e}function K(t,e){var n=t.posAtCoords({left:e.clientX,top:e.clientY});return n&&n?w(t.state.doc.resolve(n.pos)):null}var J=new o.PluginKey("fix-tables");function Z(t,e,n,r){var i=t.childCount,o=e.childCount;t:for(var a=0,s=0;a<o;a++){for(var l=e.child(a),c=s,u=Math.min(i,a+3);c<u;c++)if(t.child(c)==l){s=c+1,n+=l.nodeSize;continue t}r(l,n),s<i&&t.child(s).sameMarkup(l)?Z(t.child(s),l,n+1,r):l.nodesBetween(0,l.content.size,r,n+1),n+=l.nodeSize}}function Q(t,e){var n,r=function(e,r){"table"==e.type.spec.tableRole&&(n=function(t,e,n,r){var i=p.get(e);if(!i.problems)return r;r||(r=t.tr);for(var o,a,s=[],l=0;l<i.height;l++)s.push(0);for(var c=0;c<i.problems.length;c++){var u=i.problems[c];if("collision"==u.type){for(var h=e.nodeAt(u.pos),d=0;d<h.attrs.rowspan;d++)s[u.row+d]+=u.n;r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,T(h.attrs,h.attrs.colspan-u.n,u.n))}else if("missing"==u.type)s[u.row]+=u.n;else if("overlong_rowspan"==u.type){var f=e.nodeAt(u.pos);r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,D(f.attrs,"rowspan",f.attrs.rowspan-u.n))}else if("colwidth mismatch"==u.type){var g=e.nodeAt(u.pos);r.setNodeMarkup(r.mapping.map(n+1+u.pos),null,D(g.attrs,"colwidth",u.colwidth))}}for(var m=0;m<s.length;m++)s[m]&&(null==o&&(o=m),a=m);for(var y=0,b=n+1;y<i.height;y++){var w=e.child(y),x=b+w.nodeSize,_=s[y];if(_>0){var k="cell";w.firstChild&&(k=w.firstChild.type.spec.tableRole);for(var E=[],C=0;C<_;C++)E.push(v(t.schema)[k].createAndFill());var S=0!=y&&o!=y-1||a!=y?x-1:b+1;r.insert(r.mapping.map(S),E)}b=x}return r.setMeta(J,{fixTables:!0})}(t,e,r,n))};return e?e.doc!=t.doc&&Z(e.doc,t.doc,0,r):t.doc.descendants(r),n}function tt(t){var e,n=t.selection,r=_(t),i=r.node(-1),o=r.start(-1),a=p.get(i);return(e=n instanceof N?a.rectBetween(n.$anchorCell.pos-o,n.$headCell.pos-o):a.findCell(r.pos-o)).tableStart=o,e.map=a,e.table=i,e}function et(t,e,n){var r=e.map,i=e.tableStart,o=e.table,a=n>0?-1:0;M(r,o,n+a)&&(a=0==n||n==r.width?null:0);for(var s=0;s<r.height;s++){var l=s*r.width+n;if(n>0&&n<r.width&&r.map[l-1]==r.map[l]){var c=r.map[l],u=o.nodeAt(c);t.setNodeMarkup(t.mapping.map(i+c),null,A(u.attrs,n-r.colCount(c))),s+=u.attrs.rowspan-1}else{var h=null==a?v(o.type.schema).cell:o.nodeAt(r.map[l+a]).type,d=r.positionAt(s,n,o);t.insert(t.mapping.map(i+d),h.createAndFill())}}return t}function nt(t,e,n){for(var r=e.map,i=e.table,o=e.tableStart,a=t.mapping.maps.length,s=0;s<r.height;){var l=s*r.width+n,c=r.map[l],u=i.nodeAt(c);if(n>0&&r.map[l-1]==c||n<r.width-1&&r.map[l+1]==c)t.setNodeMarkup(t.mapping.slice(a).map(o+c),null,T(u.attrs,n-r.colCount(c)));else{var h=t.mapping.slice(a).map(o+c);t.delete(h,h+u.nodeSize)}s+=u.attrs.rowspan}}function rt(t,e,n){for(var r=v(e.type.schema).header_cell,i=0;i<t.width;i++)if(e.nodeAt(t.map[i+n*t.width]).type!=r)return!1;return!0}function it(t,e,n){for(var r=e.map,i=e.tableStart,o=e.table,a=i,s=0;s<n;s++)a+=o.child(s).nodeSize;var l=[],c=n>0?-1:0;rt(r,o,n+c)&&(c=0==n||n==r.height?null:0);for(var u=0,h=r.width*n;u<r.width;u++,h++)if(n>0&&n<r.height&&r.map[h]==r.map[h-r.width]){var d=r.map[h],f=o.nodeAt(d).attrs;t.setNodeMarkup(i+d,null,D(f,"rowspan",f.rowspan+1)),u+=f.colspan-1}else{var p=null==c?v(o.type.schema).cell:o.nodeAt(r.map[h+c*r.width]).type;l.push(p.createAndFill())}return t.insert(a,v(o.type.schema).row.create(null,l)),t}function ot(t,e,n){for(var r=e.map,i=e.table,o=e.tableStart,a=0,s=0;s<n;s++)a+=i.child(s).nodeSize;var l=a+i.child(n).nodeSize,c=t.mapping.maps.length;t.delete(a+o,l+o);for(var u=0,h=n*r.width;u<r.width;u++,h++){var d=r.map[h];if(n>0&&d==r.map[h-r.width]){var f=i.nodeAt(d).attrs;t.setNodeMarkup(t.mapping.slice(c).map(d+o),null,D(f,"rowspan",f.rowspan-1)),u+=f.colspan-1}else if(n<r.width&&d==r.map[h+r.width]){var p=i.nodeAt(d),g=p.type.create(D(p.attrs,"rowspan",p.attrs.rowspan-1),p.content),m=r.positionAt(n+1,u,i);t.insert(t.mapping.slice(c).map(o+m),g),u+=p.attrs.colspan-1}}}function at(t){var e=t.content;return 1==e.childCount&&e.firstChild.isTextblock&&0==e.firstChild.childCount}function st(t){return function(e,n){var r,i,o=e.selection;if(o instanceof N){if(o.$anchorCell.pos!=o.$headCell.pos)return!1;r=o.$anchorCell.nodeAfter,i=o.$anchorCell.pos}else{if(!(r=function(t){for(var e=t.depth;e>0;e--){var n=t.node(e).type.spec.tableRole;if("cell"===n||"header_cell"===n)return t.node(e)}return null}(o.$from)))return!1;i=w(o.$from).pos}if(1==r.attrs.colspan&&1==r.attrs.rowspan)return!1;if(n){var a=r.attrs,s=[],l=a.colwidth;a.rowspan>1&&(a=D(a,"rowspan",1)),a.colspan>1&&(a=D(a,"colspan",1));for(var c,u=tt(e),h=e.tr,d=0;d<u.right-u.left;d++)s.push(l?D(a,"colwidth",l&&l[d]?[l[d]]:null):a);for(var f=u.top;f<u.bottom;f++){var p=u.map.positionAt(f,u.left,u.table);f==u.top&&(p+=r.nodeSize);for(var g=u.left,m=0;g<u.right;g++,m++)g==u.left&&f==u.top||h.insert(c=h.mapping.map(p+u.tableStart,1),t({node:r,row:f,col:g}).createAndFill(s[m]))}h.setNodeMarkup(i,t({node:r,row:u.top,col:u.left}),s[0]),o instanceof N&&h.setSelection(new N(h.doc.resolve(o.$anchorCell.pos),c&&h.doc.resolve(c))),n(h)}return!0}}function lt(t,e,n){for(var r=e.map.cellsInRect({left:0,top:0,right:"row"==t?e.map.width:1,bottom:"column"==t?e.map.height:1}),i=0;i<r.length;i++){var o=e.table.nodeAt(r[i]);if(o&&o.type!==n.header_cell)return!1}return!0}function ct(t,e){return(e=e||{useDeprecatedLogic:!1}).useDeprecatedLogic?function(t){return function(e,n){if(!x(e))return!1;if(n){for(var r=v(e.schema),i=tt(e),o=e.tr,a=i.map.cellsInRect("column"==t?new f(i.left,0,i.right,i.map.height):"row"==t?new f(0,i.top,i.map.width,i.bottom):i),s=a.map((function(t){return i.table.nodeAt(t)})),l=0;l<a.length;l++)s[l].type==r.header_cell&&o.setNodeMarkup(i.tableStart+a[l],r.cell,s[l].attrs);if(0==o.steps.length)for(var c=0;c<a.length;c++)o.setNodeMarkup(i.tableStart+a[c],r.header_cell,s[c].attrs);n(o)}return!0}}(t):function(e,n){if(!x(e))return!1;if(n){var r=v(e.schema),i=tt(e),o=e.tr,a=lt("row",i,r),s=lt("column",i,r),l=("column"===t?a:"row"===t&&s)?1:0,c="column"==t?new f(0,l,1,i.map.height):"row"==t?new f(l,0,i.map.width,1):i,u="column"==t?s?r.cell:r.header_cell:"row"==t?a?r.cell:r.header_cell:r.cell;i.map.cellsInRect(c).forEach((function(t){var e=t+i.tableStart,n=o.doc.nodeAt(e);n&&o.setNodeMarkup(e,u,n.attrs)})),n(o)}return!0}}var ut=ct("row",{useDeprecatedLogic:!0}),ht=ct("column",{useDeprecatedLogic:!0}),dt=ct("cell",{useDeprecatedLogic:!0});var ft=function(t,e){this.node=t,this.cellMinWidth=e,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),pt(t,this.colgroup,this.table,e),this.contentDOM=this.table.appendChild(document.createElement("tbody"))};function pt(t,e,n,r,i,o){for(var a=0,s=!0,l=e.firstChild,c=t.firstChild,u=0,h=0;u<c.childCount;u++)for(var d=c.child(u).attrs,f=d.colspan,p=d.colwidth,g=0;g<f;g++,h++){var m=i==h?o:p&&p[g],y=m?m+"px":"";a+=m||r,m||(s=!1),l?(l.style.width!=y&&(l.style.width=y),l=l.nextSibling):e.appendChild(document.createElement("col")).style.width=y}for(;l;){var v=l.nextSibling;l.parentNode.removeChild(l),l=v}s?(n.style.width=a+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=a+"px")}ft.prototype.update=function(t){return t.type==this.node.type&&(this.node=t,pt(t,this.colgroup,this.table,this.cellMinWidth),!0)},ft.prototype.ignoreMutation=function(t){return"attributes"==t.type&&(t.target==this.table||this.colgroup.contains(t.target))};var gt=new o.PluginKey("tableColumnResizing");var mt=function(t,e){this.activeHandle=t,this.dragging=e};function yt(t,e,n){var r=t.posAtCoords({left:e.clientX,top:e.clientY});if(!r)return-1;var i=r.pos,o=w(t.state.doc.resolve(i));if(!o)return-1;if("right"==n)return o.pos;var a=p.get(o.node(-1)),s=o.start(-1),l=a.map.indexOf(o.pos-s);return l%a.width==0?-1:s+a.map[l-1]}function vt(t,e,n){var r=e.clientX-t.startX;return Math.max(n,t.startWidth+r)}function bt(t,e){t.dispatch(t.state.tr.setMeta(gt,{setHandle:e}))}function wt(t){for(var e=[],n=0;n<t;n++)e.push(0);return e}mt.prototype.apply=function(t){var e=this,n=t.getMeta(gt);if(n&&null!=n.setHandle)return new mt(n.setHandle,null);if(n&&void 0!==n.setDragging)return new mt(e.activeHandle,n.setDragging);if(e.activeHandle>-1&&t.docChanged){var r=t.mapping.map(e.activeHandle,-1);k(t.doc.resolve(r))||(r=null),e=new mt(r,e.dragging)}return e},e.Xc=N,e.rU=p,e.e2=function(t,e){if(!x(t))return!1;if(e){var n=tt(t);e(et(t.tr,n,n.right))}return!0},e.I_=function(t,e){if(!x(t))return!1;if(e){var n=tt(t);e(et(t.tr,n,n.left))}return!0},e.VH=function(t){void 0===t&&(t={});var e=t.handleWidth;void 0===e&&(e=5);var n=t.cellMinWidth;void 0===n&&(n=25);var r=t.View;void 0===r&&(r=ft);var i=t.lastColumnResizable;void 0===i&&(i=!0);var a=new o.Plugin({key:gt,state:{init:function(t,e){return this.spec.props.nodeViews[v(e.schema).table.name]=function(t,e){return new r(t,n,e)},new mt(-1,!1)},apply:function(t,e){return e.apply(t)}},props:{attributes:function(t){return gt.getState(t).activeHandle>-1?{class:"resize-cursor"}:null},handleDOMEvents:{mousemove:function(t,n){!function(t,e,n,r,i){var o=gt.getState(t.state);if(!o.dragging){var a=function(t){for(;t&&"TD"!=t.nodeName&&"TH"!=t.nodeName;)t=t.classList.contains("ProseMirror")?null:t.parentNode;return t}(e.target),s=-1;if(a){var l=a.getBoundingClientRect(),c=l.left,u=l.right;e.clientX-c<=n?s=yt(t,e,"left"):u-e.clientX<=n&&(s=yt(t,e,"right"))}if(s!=o.activeHandle){if(!i&&-1!==s){var h=t.state.doc.resolve(s),d=h.node(-1),f=p.get(d),g=h.start(-1);if(f.colCount(h.pos-g)+h.nodeAfter.attrs.colspan-1==f.width-1)return}bt(t,s)}}}(t,n,e,0,i)},mouseleave:function(t){!function(t){var e=gt.getState(t.state);e.activeHandle>-1&&!e.dragging&&bt(t,-1)}(t)},mousedown:function(t,e){!function(t,e,n){var r=gt.getState(t.state);if(-1==r.activeHandle||r.dragging)return!1;var i=t.state.doc.nodeAt(r.activeHandle),o=function(t,e,n){var r=n.colspan,i=n.colwidth,o=i&&i[i.length-1];if(o)return o;var a=t.domAtPos(e),s=a.node.childNodes[a.offset].offsetWidth,l=r;if(i)for(var c=0;c<r;c++)i[c]&&(s-=i[c],l--);return s/l}(t,r.activeHandle,i.attrs);function a(e){window.removeEventListener("mouseup",a),window.removeEventListener("mousemove",s);var r=gt.getState(t.state);r.dragging&&(!function(t,e,n){for(var r=t.state.doc.resolve(e),i=r.node(-1),o=p.get(i),a=r.start(-1),s=o.colCount(r.pos-a)+r.nodeAfter.attrs.colspan-1,l=t.state.tr,c=0;c<o.height;c++){var u=c*o.width+s;if(!c||o.map[u]!=o.map[u-o.width]){var h=o.map[u],d=i.nodeAt(h).attrs,f=1==d.colspan?0:s-o.colCount(h);if(!d.colwidth||d.colwidth[f]!=n){var g=d.colwidth?d.colwidth.slice():wt(d.colspan);g[f]=n,l.setNodeMarkup(a+h,null,D(d,"colwidth",g))}}}l.docChanged&&t.dispatch(l)}(t,r.activeHandle,vt(r.dragging,e,n)),t.dispatch(t.state.tr.setMeta(gt,{setDragging:null})))}function s(e){if(!e.which)return a(e);var r=gt.getState(t.state),i=vt(r.dragging,e,n);!function(t,e,n,r){var i=t.state.doc.resolve(e),o=i.node(-1),a=i.start(-1),s=p.get(o).colCount(i.pos-a)+i.nodeAfter.attrs.colspan-1,l=t.domAtPos(i.start(-1)).node;for(;"TABLE"!=l.nodeName;)l=l.parentNode;pt(o,l.firstChild,l,r,s,n)}(t,r.activeHandle,i,n)}t.dispatch(t.state.tr.setMeta(gt,{setDragging:{startX:e.clientX,startWidth:o}})),window.addEventListener("mouseup",a),window.addEventListener("mousemove",s),e.preventDefault()}(t,e,n)}},decorations:function(t){var e=gt.getState(t);if(e.activeHandle>-1)return function(t,e){for(var n=[],r=t.doc.resolve(e),i=r.node(-1),o=p.get(i),a=r.start(-1),s=o.colCount(r.pos-a)+r.nodeAfter.attrs.colspan,c=0;c<o.height;c++){var u=s+c*o.width-1;if(!(s!=o.width&&o.map[u]==o.map[u+1]||0!=c&&o.map[u-1]==o.map[u-1-o.width])){var h=o.map[u],d=a+h+i.nodeAt(h).nodeSize-1,f=document.createElement("div");f.className="column-resize-handle",n.push(l.Decoration.widget(d,f))}}return l.DecorationSet.create(t.doc,n)}(t,e.activeHandle)},nodeViews:{}}});return a},e.eA=function(t,e){if(!x(t))return!1;if(e){var n=tt(t),r=t.tr;if(0==n.left&&n.right==n.map.width)return!1;for(var i=n.right-1;nt(r,n,i),i!=n.left;i--)n.table=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc,n.map=p.get(n.table);e(r)}return!0},e.qK=function(t,e){if(!x(t))return!1;if(e){var n=tt(t),r=t.tr;if(0==n.top&&n.bottom==n.map.height)return!1;for(var i=n.bottom-1;ot(r,n,i),i!=n.top;i--)n.table=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc,n.map=p.get(n.table);e(r)}return!0},e.WQ=function(t,e){for(var n=t.selection.$anchor,r=n.depth;r>0;r--){if("table"==n.node(r).type.spec.tableRole)return e&&e(t.tr.delete(n.before(r),n.after(r)).scrollIntoView()),!0}return!1},e.nA=function(t){return function(e,n){if(!x(e))return!1;var r=function(t,e){if(e<0){var n=t.nodeBefore;if(n)return t.pos-n.nodeSize;for(var r=t.index(-1)-1,i=t.before();r>=0;r--){var o=t.node(-1).child(r);if(o.childCount)return i-1-o.lastChild.nodeSize;i-=o.nodeSize}}else{if(t.index()<t.parent.childCount-1)return t.pos+t.nodeAfter.nodeSize;for(var a=t.node(-1),s=t.indexAfter(-1),l=t.after();s<a.childCount;s++){var c=a.child(s);if(c.childCount)return l+1;l+=c.nodeSize}}}(_(e),t);if(null!=r){if(n){var i=e.doc.resolve(r);n(e.tr.setSelection(o.TextSelection.between(i,E(i))).scrollIntoView())}return!0}}},e.Lw=x,e.zN=tt,e.wb=function(t,e){return function(n,r){if(!x(n))return!1;var i=_(n);if(i.nodeAfter.attrs[t]===e)return!1;if(r){var o=n.tr;n.selection instanceof N?n.selection.forEachCell((function(n,r){n.attrs[t]!==e&&o.setNodeMarkup(r,null,D(n.attrs,t,e))})):o.setNodeMarkup(i.pos,null,D(i.nodeAfter.attrs,t,e)),r(o)}return!0}},e.G3=function(t){void 0===t&&(t={});var e=t.allowTableNodeSelection;return void 0===e&&(e=!1),new o.Plugin({key:b,state:{init:function(){return null},apply:function(t,e){var n=t.getMeta(b);if(null!=n)return-1==n?null:n;if(null==e||!t.docChanged)return e;var r=t.mapping.mapResult(e),i=r.deleted,o=r.pos;return i?null:o}},props:{decorations:F,handleDOMEvents:{mousedown:V},createSelectionBetween:function(t){if(null!=b.getState(t.state))return t.state.selection},handleTripleClick:W,handleKeyDown:$,handlePaste:H},appendTransaction:function(t,n,r){return function(t,e,n){var r,i,a=(e||t).selection,s=(e||t).doc;if(a instanceof o.NodeSelection&&(i=a.node.type.spec.tableRole)){if("cell"==i||"header_cell"==i)r=N.create(s,a.from);else if("row"==i){var l=s.resolve(a.from+1);r=N.rowSelection(l,l)}else if(!n){var c=p.get(a.node),u=a.from+1,h=u+c.map[c.width*c.height-1];r=N.create(s,u+1,h)}}else a instanceof o.TextSelection&&function(t){var e=t.$from,n=t.$to;if(e.pos==n.pos||e.pos<e.pos-6)return!1;for(var r=e.pos,i=n.pos,o=e.depth;o>=0&&!(e.after(o+1)<e.end(o));o--,r++);for(var a=n.depth;a>=0&&!(n.before(a+1)>n.start(a));a--,i--);return r==i&&/row|table/.test(e.node(o).type.spec.tableRole)}(a)?r=o.TextSelection.create(s,a.from):a instanceof o.TextSelection&&function(t){for(var e,n,r=t.$from,i=t.$to,o=r.depth;o>0;o--){var a=r.node(o);if("cell"===a.type.spec.tableRole||"header_cell"===a.type.spec.tableRole){e=a;break}}for(var s=i.depth;s>0;s--){var l=i.node(s);if("cell"===l.type.spec.tableRole||"header_cell"===l.type.spec.tableRole){n=l;break}}return e!==n&&0===i.parentOffset}(a)&&(r=o.TextSelection.create(s,a.$from.start(),a.$from.end()));return r&&(e||(e=t.tr)).setSelection(r),e}(r,Q(r,n),e)}})},e.FW=v,e.V3=function(t){var e=t.cellAttributes||{},n={colspan:{default:1},rowspan:{default:1},colwidth:{default:null}};for(var r in e)n[r]={default:e[r].default};return{table:{content:"table_row+",tableRole:"table",isolating:!0,group:t.tableGroup,parseDOM:[{tag:"table"}],toDOM:function(){return["table",["tbody",0]]}},table_row:{content:"(table_cell | table_header)*",tableRole:"row",parseDOM:[{tag:"tr"}],toDOM:function(){return["tr",0]}},table_cell:{content:t.cellContent,attrs:n,tableRole:"cell",isolating:!0,parseDOM:[{tag:"td",getAttrs:function(t){return m(t,e)}}],toDOM:function(t){return["td",y(t,e),0]}},table_header:{content:t.cellContent,attrs:n,tableRole:"header_cell",isolating:!0,parseDOM:[{tag:"th",getAttrs:function(t){return m(t,e)}}],toDOM:function(t){return["th",y(t,e),0]}}}}},2211:(t,e,n)=>{"use strict";n.d(e,{O:()=>i});var r=n(29445);const i=()=>{const t=(0,r.iH)(!1);return{fullScreen:t,setSullScreen:e=>{t.value=e}}}},94897:(t,e,n)=>{"use strict";n.r(e);n(57334);var r=n(66155),i=n(68398),o=n(96755),a=n(79282),s=n(43451),l=n(57268),u=n(29445),h=n(94209),d=n(17530),f=n(57185),p=n(81198),g=n(48885),m=n(47804);const y={class:"flex max-h-[20px] min-h-[20px] items-center justify-between leading-[20px]"},v={class:"title text-dot mr-[12px] font-ali-75 text-[16px] text-color-note-t1"},b={class:"text-dot mt-[10px] mb-[8px] min-h-[14px] font-ali-55 text-color-t2"},w={class:"font-ali-55 text-color-t3"},x=(0,l.aZ)({__name:"sidebar-list-item",props:{item:null,active:{type:Boolean}},setup(t){const e=t,n=(0,m.useNoteStore)(),r=(0,u.iH)(!1),o=(0,l.Fl)((()=>({edit:{text:e.item.isTop?"取消置顶":"置顶",handler(){n.setTop(e.item.id)}},remove:{text:"删除",handler(){n.deleteNote(e.item.id)}}})));return(t,n)=>{const a=d.Z;return(0,l.wg)(),(0,l.iD)("section",{class:(0,h.normalizeClass)([[e.active?"bg-color-m2 bg-opacity-[0.06]":e.item.isTop?"bg-color-m2 bg-opacity-[0.08]":"hover:bg-color-m2 hover:bg-opacity-[0.06]"],"sidebar-list-item group relative w-[283px] rounded-[8px] px-[12px] pt-[14px] pb-[16px] leading-none"])},[(0,l._)("div",y,[(0,l._)("h1",v,(0,h.toDisplayString)(e.item.title),1),(0,l._)("div",{onClick:n[1]||(n[1]=(0,i.withModifiers)((()=>{}),["stop"]))},[(0,l.Wm)(a,{show:r.value,"onUpdate:show":n[0]||(n[0]=t=>r.value=t),class:"",options:(0,u.SU)(o)},{reference:(0,l.w5)((()=>[(0,l._)("button",{class:(0,h.normalizeClass)(["btn-show",r.value?"block":"hidden group-hover:block"])},[(0,l._)("i",{class:(0,h.normalizeClass)([[r.value?"text-opacity-80":"text-opacity-60 hover:text-opacity-80"],"iconfont icon-single_hover_icon text-[20px] text-color-t1"])},null,2)],2)])),_:1},8,["show","options"])])]),(0,l._)("div",b,(0,h.toDisplayString)(e.item.desc),1),(0,l._)("div",w,(0,h.toDisplayString)(e.item.timeStr),1)],2)}}});var _=n(76911);const k=(0,_.Z)(x,[["__scopeId","data-v-37eceb3c"]]);var E=n(63477);const C=t=>((0,l.dD)("data-v-837abec4"),t=t(),(0,l.Cn)(),t),S={class:"note-modal-sidbar"},D={class:"relative h-[112px] overflow-hidden border-b-[1px] border-color-m2 border-opacity-[0.06] px-[20px] dark:border-opacity-[0.08]"},T=[C((()=>(0,l._)("i",{class:"iconfont icon-pen_icon text-[20px] text-color-note-t1"},null,-1)))],A=[C((()=>(0,l._)("i",{class:"iconfont icon-daorudaochu text-[20px] text-color-note-t1"},null,-1)))],M={class:"absolute top-[22px] right-[20px]"},N={class:"hi-select-menu w-[178px] overflow-hidden rounded-[8px] bg-color-b5 p-[4px] shadow-popover"},O=C((()=>(0,l._)("div",{class:"my-[7px] mx-[4px] h-[1px] bg-color-m2 bg-opacity-[0.05]"},null,-1))),F=(0,l.aZ)({__name:"note-modal-sidebar",emits:["update:hideSideBar"],setup(t,e){let{emit:n}=e;const r=(0,m.useNoteStore)(),i=(0,l.Fl)({get:()=>r.searchValue,set(t){r.setSearchValue(t)}}),o=(0,u.iH)(),a=(0,g.Z)((()=>{const t=r.saveNote({title:"新建笔记",content:"",desc:"",isTop:!1});r.setActive(t),(0,l.Y3)((()=>{var e;null===(e=o.value)||void 0===e||e.scrollTo({top:t*o.value.scrollHeight/r.notes.length,behavior:"smooth"}),requestAnimationFrame((()=>{var t;null===(t=document.querySelector(".note-title-input"))||void 0===t||t.focus()})),n("update:hideSideBar",!0)}))}),1e3,{leading:!0,trailing:!1}),s=(0,u.iH)(!1),c=t=>s.value=t,h={exportMD:{text:"导出为Markdown",handler(){s.value=!1;const t=r.activeItem;t&&(0,E.Cb)(t.content,t.title)}}},y={inportMD:{text:"导入Markdown",async handler(){s.value=!1;const t=await(0,E.Y)(".md,.MD,text/plain,application/json","readAsText",!1),e=new FileReader;e.readAsText(t),e.onload=function(e){var n;const i=e.target.result??"",a=(null==t||null===(n=t.name)||void 0===n?void 0:n.slice(0,-3))??"新建笔记",s=r.saveNote({title:a,content:i,desc:"",isTop:!1});r.setActive(s),(0,l.Y3)((()=>{var t;null===(t=o.value)||void 0===t||t.scrollTo({top:s*o.value.scrollHeight/r.notes.length,behavior:"smooth"}),requestAnimationFrame((()=>{var t,e;null===(t=document.querySelector(".ProseMirror"))||void 0===t||t.focus(),null===(e=document.querySelector(".note-title-input"))||void 0===e||e.focus()}))}))}}}};return(t,e)=>{const g=p.Z,m=f.Z,v=d.Z;return(0,l.wg)(),(0,l.iD)("section",S,[(0,l._)("div",D,[(0,l.Wm)(g,{value:(0,u.SU)(i),"onUpdate:value":e[0]||(e[0]=t=>(0,u.dq)(i)?i.value=t:null),icon:"icon-magnifier_icon  !text-color-t2",placeholder:"搜索","always-show-close-btn":"",class:"search-input mt-[56px] w-[260px] flex-1"},null,8,["value","placeholder"]),(0,l._)("div",{class:"absolute top-[14px] right-[60px] flex h-[28px] w-[28px] cursor-pointer items-center justify-center rounded-[6px] transition-colors hover:bg-color-m2 hover:bg-opacity-[0.06]",onClick:e[1]||(e[1]=function(){return(0,u.SU)(a)&&(0,u.SU)(a)(...arguments)})},T),(0,l._)("div",{class:"absolute top-[14px] right-[20px] flex h-[28px] w-[28px] cursor-pointer items-center justify-center rounded-[6px] transition-colors hover:bg-color-m2 hover:bg-opacity-[0.06]",onClick:e[2]||(e[2]=t=>c(!0))},A),(0,l._)("div",M,[(0,l.Wm)(v,{show:s.value,"onUpdate:show":e[5]||(e[5]=t=>s.value=t)},{default:(0,l.w5)((()=>[(0,l._)("div",N,[(0,l.Wm)(m,{"hide-box-class":"",options:h,onMenuClick:e[3]||(e[3]=t=>c(!1))}),O,(0,l.Wm)(m,{"hide-box-class":"",options:y,onMenuClick:e[4]||(e[4]=t=>c(!1))})])])),_:1},8,["show"])])]),(0,l._)("div",{ref_key:"listRef",ref:o,class:"list hi-scroll overflow-x-hidden p-[8px]"},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)((0,u.SU)(r).sidebarList,((t,e)=>((0,l.wg)(),(0,l.j4)(k,{key:t.id,active:t.id===(0,u.SU)(r).activeId,item:t,class:"list-item not-last:mb-[4px]",onClick:t=>(t=>{r.setActive(t),n("update:hideSideBar",!0)})(e)},null,8,["active","item","onClick"])))),128))],512)])}}}),I=(0,_.Z)(F,[["__scopeId","data-v-837abec4"]]);var L=n(13528),B=n(10233),R=n(49951),P=n(32737),z=n(3047),$=n(86527),j=n(18872);Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;const U=t=>Object.prototype.hasOwnProperty.call(t,"origin");class Y extends Array{findThenRun(t,e){const n=this.findIndex((e=>U(e)&&e.origin===t));return n<0||e(n),this}configure(t,e){return this.findThenRun(t,(n=>{this.splice(n,1,t(e))}))}replace(t,e){return this.findThenRun(t,(t=>{this.splice(t,1,e)}))}remove(t){return this.findThenRun(t,(t=>{this.splice(t,1)}))}headless(){return this.filter(U).forEach((t=>{this.configure(t.origin,{headless:!0})})),this}static create(t){return new Y(...t)}}const q=t=>{const e=()=>async n=>{await n.wait(B.R3);const r=t(n);n.update(B.ZV,(t=>[...t,r])),e.plugin=r};return e},W=(t,e,n)=>[t,e,n],H=(t,e)=>{try{const r=t.get(R.Xc),i=t.get(R.ev);if(!i.css)throw(0,j.Wf)();return{getClassName:(n=null==e?void 0:e.className,(t,...e)=>{var r;const i=null!=(r=null==n?void 0:n(t,...e))?r:e;return Array.isArray(i)?i.filter((t=>t)).join(" "):i}),getStyle:t=>(null==e?void 0:e.headless)?"":t(i),themeManager:r}}catch{throw(0,j.Wf)()}var n},V=async(t,e,n,r)=>{if(await t.wait(B.Iq),e.remarkPlugins){const n=e.remarkPlugins(t);t.update(B.CG,(t=>[...t,...n]))}const i=await n();if(e.commands){e.commands(i,t).forEach((([e,n])=>{t.get(B.Xo).create(e,n)}))}if(e.inputRules){const n=e.inputRules(i,t);t.update(B.tQ,(t=>[...t,...n]))}if(e.shortcuts){const n=(t,e)=>{var n,i;return null!=(i=null==(n=null==r?void 0:r.keymap)?void 0:n[t])?i:e},i=Object.entries(e.shortcuts).flatMap((([e,[r,i,o]])=>{const a=()=>t.get(B.Xo).call(r,o),s=n(e,i);return Array.isArray(s)?s.map((t=>({key:t,runner:a}))):{key:s,runner:a}})).map((t=>[t.key,t.runner]));t.update(B.ZV,(t=>t.concat((0,$.h)(Object.fromEntries(i)))))}if(e.prosePlugins){const n=e.prosePlugins(i,t);t.update(B.ZV,(t=>[...t,...n]))}},G=t=>{const e=n=>{const r=t(n);return r.origin=e,r};return e},X=(t,e,n)=>{const r=e;return r.extend=(e,r)=>n(((...n)=>e(t(...n),...n)),r),r},K=(t,e)=>X(t,G((n=>r=>(null==e||e.forEach((t=>r.inject(t))),async e=>{var r;await e.wait(B.MT);const i=H(e,n),o=t(i,n);if(o.view=null!=(r=null==n?void 0:n.view)?r:o.view,await V(e,o,(async()=>{const t=o.schema(e);e.update(B.ZP,(e=>[...e,[o.id,t]])),await e.wait(B.R3);const n=e.get(B.le).marks[o.id];if(!n)throw new Error;return n}),n),o.view){const t=o.view(e);e.update(B.z6,(e=>[...e,[o.id,t]]))}}))),K),J=(t,e)=>X(t,G((n=>r=>(null==e||e.forEach((t=>r.inject(t))),async e=>{var r;await e.wait(B.MT);const i=H(e,n),o=t(i,n);if(o.view=null!=(r=null==n?void 0:n.view)?r:o.view,await V(e,o,(async()=>{const t=o.schema(e);e.update(B.pB,(e=>[...e,[o.id,t]])),await e.wait(B.R3);const n=e.get(B.le).nodes[o.id];if(!n)throw new Error;return n}),n),o.view){const t=o.view(e);e.update(B.z6,(e=>[...e,[o.id,t]]))}}))),J),Z=(t,e)=>X(t,G((n=>r=>(null==e||e.forEach((t=>r.inject(t))),async e=>{await e.wait(B.MT);const r=H(e,n),i=t(r,n);if(await V(e,i,(async()=>{let t={},n={};if(i.schema){const r=i.schema(e);if(r.node){t=r.node;const n=Object.entries(r.node);e.update(B.pB,(t=>[...t,...n]))}if(r.mark){n=r.mark;const t=Object.entries(r.mark);e.update(B.ZP,(e=>[...e,...t]))}}await e.wait(B.R3);const r=e.get(B.le),o=Object.keys(t).map((t=>[t,r.nodes[t]])),a=Object.keys(n).map((t=>[t,r.marks[t]]));return Object.fromEntries([...o,...a])}),n),i.view){const t=i.view(e);e.update(B.z6,(e=>[...e,...Object.entries(t)]))}}))),Z);var Q=Object.defineProperty,tt=Object.defineProperties,et=Object.getOwnPropertyDescriptors,nt=Object.getOwnPropertySymbols,rt=Object.prototype.hasOwnProperty,it=Object.prototype.propertyIsEnumerable,ot=(t,e,n)=>e in t?Q(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;const at=t=>{if(!t)return!1;if(Array.isArray(t))return!(t.length>1)&&at(t[0]);const e=t.content;return e?at(e):"text"===t.type},st=new z.H$("MILKDOWN_CLIPBOARD"),lt=Z((()=>({prosePlugins:(t,e)=>{const n=e.get(B.le);e.update(B.i8,(t=>{var e,n,r;return n=((t,e)=>{for(var n in e||(e={}))rt.call(e,n)&&ot(t,n,e[n]);if(nt)for(var n of nt(e))it.call(e,n)&&ot(t,n,e[n]);return t})({},t),r={editable:null!=(e=t.editable)?e:()=>!0},tt(n,et(r))}));const r=new z.Sy({key:st,props:{handlePaste:(t,r)=>{var i,o;const a=e.get(B._z),s=e.get(B.Ck),l=null==(o=(i=t.props).editable)?void 0:o.call(i,t.state),{clipboardData:c}=r;if(!l||!c)return!1;if(t.state.selection.$from.node().type.spec.code)return!1;let u=c.getData("text/plain");const h=c.getData("text/html");if(0===h.length&&0===u.length)return!1;if(h.length>0||0===u.length){const t=document.createElement("template");t.innerHTML=h;const e=P.aw.fromSchema(n).parse(t.content);t.remove(),u=s(e)}const d=a(u);if(!d||"string"==typeof d)return!1;const{selection:f}=t.state,{$from:p,$to:g}=f;return t.dispatch(t.state.tr.replaceSelection(new P.p2(d.content,p.depth,g.depth))),!0},clipboardTextSerializer:t=>{const r=e.get(B.Ck);if(at(t.content.toJSON()))return t.content.textBetween(0,t.content.size,"\n\n");const i=n.topNodeType.createAndFill(void 0,t.content);if(!i)return"";return r(i)}}});return[r]}}))),ct=lt();var ut=n(89893);function ht(t={}){return new z.Sy({view:e=>new dt(e,t)})}class dt{constructor(t,e){this.editorView=t,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=e.width||1,this.color=e.color||"black",this.class=e.class,this.handlers=["dragover","dragend","drop","dragleave"].map((e=>{let n=t=>{this[e](t)};return t.dom.addEventListener(e,n),{name:e,handler:n}}))}destroy(){this.handlers.forEach((({name:t,handler:e})=>this.editorView.dom.removeEventListener(t,e)))}update(t,e){null!=this.cursorPos&&e.doc!=t.state.doc&&(this.cursorPos>t.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(t){t!=this.cursorPos&&(this.cursorPos=t,null==t?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let t,e=this.editorView.state.doc.resolve(this.cursorPos);if(!e.parent.inlineContent){let n=e.nodeBefore,r=e.nodeAfter;if(n||r){let e=this.editorView.nodeDOM(this.cursorPos-(n?n.nodeSize:0)).getBoundingClientRect(),i=n?e.bottom:e.top;n&&r&&(i=(i+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),t={left:e.left,right:e.right,top:i-this.width/2,bottom:i+this.width/2}}}if(!t){let e=this.editorView.coordsAtPos(this.cursorPos);t={left:e.left-this.width/2,right:e.left+this.width/2,top:e.top,bottom:e.bottom}}let n,r,i=this.editorView.dom.offsetParent;if(this.element||(this.element=i.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none; background-color: "+this.color),!i||i==document.body&&"static"==getComputedStyle(i).position)n=-pageXOffset,r=-pageYOffset;else{let t=i.getBoundingClientRect();n=t.left-i.scrollLeft,r=t.top-i.scrollTop}this.element.style.left=t.left-n+"px",this.element.style.top=t.top-r+"px",this.element.style.width=t.right-t.left+"px",this.element.style.height=t.bottom-t.top+"px"}scheduleRemoval(t){clearTimeout(this.timeout),this.timeout=setTimeout((()=>this.setCursor(null)),t)}dragover(t){if(!this.editorView.editable)return;let e=this.editorView.posAtCoords({left:t.clientX,top:t.clientY}),n=e&&e.inside>=0&&this.editorView.state.doc.nodeAt(e.inside),r=n&&n.type.spec.disableDropCursor,i="function"==typeof r?r(this.editorView,e):r;if(e&&!i){let t=e.pos;if(this.editorView.dragging&&this.editorView.dragging.slice&&(t=(0,ut.nj)(this.editorView.state.doc,t,this.editorView.dragging.slice),null==t))return this.setCursor(null);this.setCursor(t),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(t){t.target!=this.editorView.dom&&this.editorView.dom.contains(t.relatedTarget)||this.setCursor(null)}}var ft=n(68241);class pt extends z.Y1{constructor(t){super(t,t)}map(t,e){let n=t.resolve(e.map(this.head));return pt.valid(n)?new pt(n):z.Y1.near(n)}content(){return P.p2.empty}eq(t){return t instanceof pt&&t.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(t,e){if("number"!=typeof e.pos)throw new RangeError("Invalid input for GapCursor.fromJSON");return new pt(t.resolve(e.pos))}getBookmark(){return new gt(this.anchor)}static valid(t){let e=t.parent;if(e.isTextblock||!function(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(0!=n)for(let t=r.child(n-1);;t=t.lastChild){if(0==t.childCount&&!t.inlineContent||t.isAtom||t.type.spec.isolating)return!0;if(t.inlineContent)return!1}else if(r.type.spec.isolating)return!0}return!0}(t)||!function(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n!=r.childCount)for(let t=r.child(n);;t=t.firstChild){if(0==t.childCount&&!t.inlineContent||t.isAtom||t.type.spec.isolating)return!0;if(t.inlineContent)return!1}else if(r.type.spec.isolating)return!0}return!0}(t))return!1;let n=e.type.spec.allowGapCursor;if(null!=n)return n;let r=e.contentMatchAt(t.index()).defaultType;return r&&r.isTextblock}static findGapCursorFrom(t,e,n=!1){t:for(;;){if(!n&&pt.valid(t))return t;let r=t.pos,i=null;for(let n=t.depth;;n--){let o=t.node(n);if(e>0?t.indexAfter(n)<o.childCount:t.index(n)>0){i=o.child(e>0?t.indexAfter(n):t.index(n)-1);break}if(0==n)return null;r+=e;let a=t.doc.resolve(r);if(pt.valid(a))return a}for(;;){let o=e>0?i.firstChild:i.lastChild;if(!o){if(i.isAtom&&!i.isText&&!z.qv.isSelectable(i)){t=t.doc.resolve(r+i.nodeSize*e),n=!1;continue t}break}i=o,r+=e;let a=t.doc.resolve(r);if(pt.valid(a))return a}return null}}}pt.prototype.visible=!1,pt.findFrom=pt.findGapCursorFrom,z.Y1.jsonID("gapcursor",pt);class gt{constructor(t){this.pos=t}map(t){return new gt(t.map(this.pos))}resolve(t){let e=t.resolve(this.pos);return pt.valid(e)?new pt(e):z.Y1.near(e)}}const mt=(0,$.$)({ArrowLeft:yt("horiz",-1),ArrowRight:yt("horiz",1),ArrowUp:yt("vert",-1),ArrowDown:yt("vert",1)});function yt(t,e){const n="vert"==t?e>0?"down":"up":e>0?"right":"left";return function(t,r,i){let o=t.selection,a=e>0?o.$to:o.$from,s=o.empty;if(o instanceof z.Bs){if(!i.endOfTextblock(n)||0==a.depth)return!1;s=!1,a=t.doc.resolve(e>0?a.after():a.before())}let l=pt.findGapCursorFrom(a,e,s);return!!l&&(r&&r(t.tr.setSelection(new pt(l))),!0)}}function vt(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!pt.valid(r))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return!(i&&i.inside>-1&&z.qv.isSelectable(t.state.doc.nodeAt(i.inside)))&&(t.dispatch(t.state.tr.setSelection(new pt(r))),!0)}function bt(t,e){if("insertCompositionText"!=e.inputType||!(t.state.selection instanceof pt))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let i=P.HY.empty;for(let t=r.length-1;t>=0;t--)i=P.HY.from(r[t].createAndFill(null,i));let o=t.state.tr.replace(n.pos,n.pos,new P.p2(i,0,0));return o.setSelection(z.Bs.near(o.doc.resolve(n.pos+1))),t.dispatch(o),!1}function wt(t){if(!(t.selection instanceof pt))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",ft.EH.create(t.doc,[ft.p.widget(t.selection.head,e,{key:"gapcursor"})])}const xt=Z((({getStyle:t,themeManager:e})=>(e.onFlush((()=>{t((({injectGlobal:t})=>{t`
                /* copy from https://github.com/ProseMirror/prosemirror-gapcursor/blob/master/style/gapcursor.css */
                .ProseMirror-gapcursor {
                    display: none;
                    pointer-events: none;
                    position: absolute;
                    margin: 0 !important;
                }

                .ProseMirror-gapcursor:after {
                    content: '';
                    display: block;
                    position: absolute;
                    top: -2px;
                    width: 20px;
                    border-top: ${e.get(R.dz,"lineWidth")} solid
                        ${e.get(R.tP,["secondary"])};
                    animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
                }

                @keyframes ProseMirror-cursor-blink {
                    to {
                        visibility: hidden;
                    }
                }

                .ProseMirror-focused .ProseMirror-gapcursor {
                    display: block;
                }
            `}))})),{prosePlugins:(t,e)=>{var n,r;const i=e.get(R.Xc),o=i.get(R.dz,"lineWidth"),a=i.get(R.tP,["secondary"]),s=Number(null!=(r=null==(n=null==o?void 0:o.match(/\d+/))?void 0:n[0])?r:1);return[new z.Sy({props:{decorations:wt,createSelectionBetween:(t,e,n)=>e.pos==n.pos&&pt.valid(n)?new pt(n):null,handleClick:vt,handleKeyDown:mt,handleDOMEvents:{beforeinput:bt}}}),ht({color:a,width:s})]}})))();var _t=n(84148),kt=n(94704),Et={2536:(t,e,n)=>{t=n.nmd(t);var r=function(){var t=function(t,e,n,r){for(n=n||{},r=t.length;r--;n[t[r]]=e);return n},e=[1,6],n=[1,7],r=[1,8],i=[1,9],o=[1,16],a=[1,11],s=[1,12],l=[1,13],u=[1,14],h=[1,15],d=[1,27],f=[1,33],p=[1,34],g=[1,66],m=[1,67],y=[1,68],v=[1,69],b=[1,70],w=[1,71],x=[1,72],_=[1,35],k=[1,36],E=[1,37],C=[1,38],S=[1,39],D=[1,40],T=[1,41],A=[1,42],M=[1,43],N=[1,44],O=[1,45],F=[1,46],I=[1,47],L=[1,48],B=[1,49],R=[1,50],P=[1,51],z=[1,52],$=[1,53],j=[1,54],U=[1,56],Y=[1,57],q=[1,58],W=[1,59],H=[1,60],V=[1,61],G=[1,62],X=[1,63],K=[24,47],J=[24,39,41,42,43,44,45,46,47,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76],Z=[15,24,39,41,42,43,44,45,46,47,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76],Q=[1,86],tt=[1,87],et=[1,88],nt=[15,24,47],rt=[7,8,9,10,18,22,25,26,27,28],it=[15,24,38,47],ot=[15,24,38,47,78,79,80],at=[15,38],st=[39,41,42,43,44,45,46,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76],lt={trace:function(){},yy:{},symbols_:{error:2,start:3,mermaidDoc:4,direction:5,directive:6,direction_tb:7,direction_bt:8,direction_rl:9,direction_lr:10,graphConfig:11,openDirective:12,typeDirective:13,closeDirective:14,NEWLINE:15,":":16,argDirective:17,open_directive:18,type_directive:19,arg_directive:20,close_directive:21,C4_CONTEXT:22,statements:23,EOF:24,C4_CONTAINER:25,C4_COMPONENT:26,C4_DYNAMIC:27,C4_DEPLOYMENT:28,otherStatements:29,diagramStatements:30,otherStatement:31,title:32,accDescription:33,boundaryStatement:34,boundaryStartStatement:35,boundaryStopStatement:36,boundaryStart:37,LBRACE:38,ENTERPRISE_BOUNDARY:39,attributes:40,SYSTEM_BOUNDARY:41,BOUNDARY:42,CONTAINER_BOUNDARY:43,NODE:44,NODE_L:45,NODE_R:46,RBRACE:47,diagramStatement:48,PERSON:49,PERSON_EXT:50,SYSTEM:51,SYSTEM_DB:52,SYSTEM_QUEUE:53,SYSTEM_EXT:54,SYSTEM_EXT_DB:55,SYSTEM_EXT_QUEUE:56,CONTAINER:57,CONTAINER_DB:58,CONTAINER_QUEUE:59,CONTAINER_EXT:60,CONTAINER_EXT_DB:61,CONTAINER_EXT_QUEUE:62,COMPONENT:63,COMPONENT_DB:64,COMPONENT_QUEUE:65,COMPONENT_EXT:66,COMPONENT_EXT_DB:67,COMPONENT_EXT_QUEUE:68,REL:69,BIREL:70,REL_U:71,REL_D:72,REL_L:73,REL_R:74,REL_B:75,REL_INDEX:76,attribute:77,STR:78,ATTRIBUTE:79,ATTRIBUTE_EMPTY:80,$accept:0,$end:1},terminals_:{2:"error",7:"direction_tb",8:"direction_bt",9:"direction_rl",10:"direction_lr",15:"NEWLINE",16:":",18:"open_directive",19:"type_directive",20:"arg_directive",21:"close_directive",22:"C4_CONTEXT",24:"EOF",25:"C4_CONTAINER",26:"C4_COMPONENT",27:"C4_DYNAMIC",28:"C4_DEPLOYMENT",32:"title",33:"accDescription",38:"LBRACE",39:"ENTERPRISE_BOUNDARY",41:"SYSTEM_BOUNDARY",42:"BOUNDARY",43:"CONTAINER_BOUNDARY",44:"NODE",45:"NODE_L",46:"NODE_R",47:"RBRACE",49:"PERSON",50:"PERSON_EXT",51:"SYSTEM",52:"SYSTEM_DB",53:"SYSTEM_QUEUE",54:"SYSTEM_EXT",55:"SYSTEM_EXT_DB",56:"SYSTEM_EXT_QUEUE",57:"CONTAINER",58:"CONTAINER_DB",59:"CONTAINER_QUEUE",60:"CONTAINER_EXT",61:"CONTAINER_EXT_DB",62:"CONTAINER_EXT_QUEUE",63:"COMPONENT",64:"COMPONENT_DB",65:"COMPONENT_QUEUE",66:"COMPONENT_EXT",67:"COMPONENT_EXT_DB",68:"COMPONENT_EXT_QUEUE",69:"REL",70:"BIREL",71:"REL_U",72:"REL_D",73:"REL_L",74:"REL_R",75:"REL_B",76:"REL_INDEX",78:"STR",79:"ATTRIBUTE",80:"ATTRIBUTE_EMPTY"},productions_:[0,[3,1],[3,1],[3,2],[5,1],[5,1],[5,1],[5,1],[4,1],[6,4],[6,6],[12,1],[13,1],[17,1],[14,1],[11,4],[11,4],[11,4],[11,4],[11,4],[23,1],[23,1],[23,2],[29,1],[29,2],[29,3],[31,1],[31,1],[34,3],[35,3],[35,3],[35,4],[37,2],[37,2],[37,2],[37,2],[37,2],[37,2],[37,2],[36,1],[30,1],[30,2],[30,3],[48,2],[48,2],[48,2],[48,2],[48,2],[48,2],[48,2],[48,2],[48,2],[48,2],[48,2],[48,2],[48,2],[48,2],[48,2],[48,2],[48,2],[48,2],[48,2],[48,2],[48,1],[48,2],[48,2],[48,2],[48,2],[48,2],[48,2],[48,2],[48,2],[40,1],[40,2],[77,1],[77,1],[77,1]],performAction:function(t,e,n,r,i,o,a){var s=o.length-1;switch(i){case 4:r.setDirection("TB");break;case 5:r.setDirection("BT");break;case 6:r.setDirection("RL");break;case 7:r.setDirection("LR");break;case 11:r.parseDirective("%%{","open_directive");break;case 12:break;case 13:o[s]=o[s].trim().replace(/'/g,'"'),r.parseDirective(o[s],"arg_directive");break;case 14:r.parseDirective("}%%","close_directive","c4Context");break;case 15:case 16:case 17:case 18:case 19:r.setC4Type(o[s-3]);break;case 26:r.setTitle(o[s].substring(6)),this.$=o[s].substring(6);break;case 27:r.setAccDescription(o[s].substring(15)),this.$=o[s].substring(15);break;case 32:case 33:o[s].splice(2,0,"ENTERPRISE"),r.addPersonOrSystemBoundary(...o[s]),this.$=o[s];break;case 34:r.addPersonOrSystemBoundary(...o[s]),this.$=o[s];break;case 35:o[s].splice(2,0,"CONTAINER"),r.addContainerBoundary(...o[s]),this.$=o[s];break;case 36:r.addDeploymentNode("node",...o[s]),this.$=o[s];break;case 37:r.addDeploymentNode("nodeL",...o[s]),this.$=o[s];break;case 38:r.addDeploymentNode("nodeR",...o[s]),this.$=o[s];break;case 39:r.popBoundaryParseStack();break;case 43:r.addPersonOrSystem("person",...o[s]),this.$=o[s];break;case 44:r.addPersonOrSystem("external_person",...o[s]),this.$=o[s];break;case 45:r.addPersonOrSystem("system",...o[s]),this.$=o[s];break;case 46:r.addPersonOrSystem("system_db",...o[s]),this.$=o[s];break;case 47:r.addPersonOrSystem("system_queue",...o[s]),this.$=o[s];break;case 48:r.addPersonOrSystem("external_system",...o[s]),this.$=o[s];break;case 49:r.addPersonOrSystem("external_system_db",...o[s]),this.$=o[s];break;case 50:r.addPersonOrSystem("external_system_queue",...o[s]),this.$=o[s];break;case 51:r.addContainer("container",...o[s]),this.$=o[s];break;case 52:r.addContainer("container_db",...o[s]),this.$=o[s];break;case 53:r.addContainer("container_queue",...o[s]),this.$=o[s];break;case 54:r.addContainer("external_container",...o[s]),this.$=o[s];break;case 55:r.addContainer("external_container_db",...o[s]),this.$=o[s];break;case 56:r.addContainer("external_container_queue",...o[s]),this.$=o[s];break;case 57:r.addComponent("component",...o[s]),this.$=o[s];break;case 58:r.addComponent("component_db",...o[s]),this.$=o[s];break;case 59:r.addComponent("component_queue",...o[s]),this.$=o[s];break;case 60:r.addComponent("external_component",...o[s]),this.$=o[s];break;case 61:r.addComponent("external_component_db",...o[s]),this.$=o[s];break;case 62:r.addComponent("external_component_queue",...o[s]),this.$=o[s];break;case 64:r.addRel("rel",...o[s]),this.$=o[s];break;case 65:r.addRel("birel",...o[s]),this.$=o[s];break;case 66:r.addRel("rel_u",...o[s]),this.$=o[s];break;case 67:r.addRel("rel_d",...o[s]),this.$=o[s];break;case 68:r.addRel("rel_l",...o[s]),this.$=o[s];break;case 69:r.addRel("rel_r",...o[s]),this.$=o[s];break;case 70:r.addRel("rel_b",...o[s]),this.$=o[s];break;case 71:o[s].splice(0,1),r.addRel("rel",...o[s]),this.$=o[s];break;case 72:this.$=[o[s]];break;case 73:o[s].unshift(o[s-1]),this.$=o[s];break;case 74:case 75:this.$=o[s].trim();break;case 76:this.$=""}},table:[{3:1,4:2,5:3,6:4,7:e,8:n,9:r,10:i,11:5,12:10,18:o,22:a,25:s,26:l,27:u,28:h},{1:[3]},{1:[2,1]},{1:[2,2]},{3:17,4:2,5:3,6:4,7:e,8:n,9:r,10:i,11:5,12:10,18:o,22:a,25:s,26:l,27:u,28:h},{1:[2,8]},{1:[2,4]},{1:[2,5]},{1:[2,6]},{1:[2,7]},{13:18,19:[1,19]},{15:[1,20]},{15:[1,21]},{15:[1,22]},{15:[1,23]},{15:[1,24]},{19:[2,11]},{1:[2,3]},{14:25,16:[1,26],21:d},t([16,21],[2,12]),{23:28,29:29,30:30,31:31,32:f,33:p,34:55,35:64,37:65,39:g,41:m,42:y,43:v,44:b,45:w,46:x,48:32,49:_,50:k,51:E,52:C,53:S,54:D,55:T,56:A,57:M,58:N,59:O,60:F,61:I,62:L,63:B,64:R,65:P,66:z,67:$,68:j,69:U,70:Y,71:q,72:W,73:H,74:V,75:G,76:X},{23:73,29:29,30:30,31:31,32:f,33:p,34:55,35:64,37:65,39:g,41:m,42:y,43:v,44:b,45:w,46:x,48:32,49:_,50:k,51:E,52:C,53:S,54:D,55:T,56:A,57:M,58:N,59:O,60:F,61:I,62:L,63:B,64:R,65:P,66:z,67:$,68:j,69:U,70:Y,71:q,72:W,73:H,74:V,75:G,76:X},{23:74,29:29,30:30,31:31,32:f,33:p,34:55,35:64,37:65,39:g,41:m,42:y,43:v,44:b,45:w,46:x,48:32,49:_,50:k,51:E,52:C,53:S,54:D,55:T,56:A,57:M,58:N,59:O,60:F,61:I,62:L,63:B,64:R,65:P,66:z,67:$,68:j,69:U,70:Y,71:q,72:W,73:H,74:V,75:G,76:X},{23:75,29:29,30:30,31:31,32:f,33:p,34:55,35:64,37:65,39:g,41:m,42:y,43:v,44:b,45:w,46:x,48:32,49:_,50:k,51:E,52:C,53:S,54:D,55:T,56:A,57:M,58:N,59:O,60:F,61:I,62:L,63:B,64:R,65:P,66:z,67:$,68:j,69:U,70:Y,71:q,72:W,73:H,74:V,75:G,76:X},{23:76,29:29,30:30,31:31,32:f,33:p,34:55,35:64,37:65,39:g,41:m,42:y,43:v,44:b,45:w,46:x,48:32,49:_,50:k,51:E,52:C,53:S,54:D,55:T,56:A,57:M,58:N,59:O,60:F,61:I,62:L,63:B,64:R,65:P,66:z,67:$,68:j,69:U,70:Y,71:q,72:W,73:H,74:V,75:G,76:X},{15:[1,77]},{17:78,20:[1,79]},{15:[2,14]},{24:[1,80]},t(K,[2,20],{48:32,34:55,35:64,37:65,30:81,39:g,41:m,42:y,43:v,44:b,45:w,46:x,49:_,50:k,51:E,52:C,53:S,54:D,55:T,56:A,57:M,58:N,59:O,60:F,61:I,62:L,63:B,64:R,65:P,66:z,67:$,68:j,69:U,70:Y,71:q,72:W,73:H,74:V,75:G,76:X}),t(K,[2,21]),t(J,[2,23],{15:[1,82]}),t(K,[2,40],{15:[1,83]}),t(Z,[2,26]),t(Z,[2,27]),{40:84,77:85,78:Q,79:tt,80:et},{40:89,77:85,78:Q,79:tt,80:et},{40:90,77:85,78:Q,79:tt,80:et},{40:91,77:85,78:Q,79:tt,80:et},{40:92,77:85,78:Q,79:tt,80:et},{40:93,77:85,78:Q,79:tt,80:et},{40:94,77:85,78:Q,79:tt,80:et},{40:95,77:85,78:Q,79:tt,80:et},{40:96,77:85,78:Q,79:tt,80:et},{40:97,77:85,78:Q,79:tt,80:et},{40:98,77:85,78:Q,79:tt,80:et},{40:99,77:85,78:Q,79:tt,80:et},{40:100,77:85,78:Q,79:tt,80:et},{40:101,77:85,78:Q,79:tt,80:et},{40:102,77:85,78:Q,79:tt,80:et},{40:103,77:85,78:Q,79:tt,80:et},{40:104,77:85,78:Q,79:tt,80:et},{40:105,77:85,78:Q,79:tt,80:et},{40:106,77:85,78:Q,79:tt,80:et},{40:107,77:85,78:Q,79:tt,80:et},t(nt,[2,63]),{40:108,77:85,78:Q,79:tt,80:et},{40:109,77:85,78:Q,79:tt,80:et},{40:110,77:85,78:Q,79:tt,80:et},{40:111,77:85,78:Q,79:tt,80:et},{40:112,77:85,78:Q,79:tt,80:et},{40:113,77:85,78:Q,79:tt,80:et},{40:114,77:85,78:Q,79:tt,80:et},{40:115,77:85,78:Q,79:tt,80:et},{30:116,34:55,35:64,37:65,39:g,41:m,42:y,43:v,44:b,45:w,46:x,48:32,49:_,50:k,51:E,52:C,53:S,54:D,55:T,56:A,57:M,58:N,59:O,60:F,61:I,62:L,63:B,64:R,65:P,66:z,67:$,68:j,69:U,70:Y,71:q,72:W,73:H,74:V,75:G,76:X},{15:[1,118],38:[1,117]},{40:119,77:85,78:Q,79:tt,80:et},{40:120,77:85,78:Q,79:tt,80:et},{40:121,77:85,78:Q,79:tt,80:et},{40:122,77:85,78:Q,79:tt,80:et},{40:123,77:85,78:Q,79:tt,80:et},{40:124,77:85,78:Q,79:tt,80:et},{40:125,77:85,78:Q,79:tt,80:et},{24:[1,126]},{24:[1,127]},{24:[1,128]},{24:[1,129]},t(rt,[2,9]),{14:130,21:d},{21:[2,13]},{1:[2,15]},t(K,[2,22]),t(J,[2,24],{31:31,29:131,32:f,33:p}),t(K,[2,41],{29:29,30:30,31:31,48:32,34:55,35:64,37:65,23:132,32:f,33:p,39:g,41:m,42:y,43:v,44:b,45:w,46:x,49:_,50:k,51:E,52:C,53:S,54:D,55:T,56:A,57:M,58:N,59:O,60:F,61:I,62:L,63:B,64:R,65:P,66:z,67:$,68:j,69:U,70:Y,71:q,72:W,73:H,74:V,75:G,76:X}),t(nt,[2,43]),t(it,[2,72],{77:85,40:133,78:Q,79:tt,80:et}),t(ot,[2,74]),t(ot,[2,75]),t(ot,[2,76]),t(nt,[2,44]),t(nt,[2,45]),t(nt,[2,46]),t(nt,[2,47]),t(nt,[2,48]),t(nt,[2,49]),t(nt,[2,50]),t(nt,[2,51]),t(nt,[2,52]),t(nt,[2,53]),t(nt,[2,54]),t(nt,[2,55]),t(nt,[2,56]),t(nt,[2,57]),t(nt,[2,58]),t(nt,[2,59]),t(nt,[2,60]),t(nt,[2,61]),t(nt,[2,62]),t(nt,[2,64]),t(nt,[2,65]),t(nt,[2,66]),t(nt,[2,67]),t(nt,[2,68]),t(nt,[2,69]),t(nt,[2,70]),t(nt,[2,71]),{36:134,47:[1,135]},{15:[1,136]},{38:[1,137]},t(at,[2,32]),t(at,[2,33]),t(at,[2,34]),t(at,[2,35]),t(at,[2,36]),t(at,[2,37]),t(at,[2,38]),{1:[2,16]},{1:[2,17]},{1:[2,18]},{1:[2,19]},{15:[1,138]},t(J,[2,25]),t(K,[2,42]),t(it,[2,73]),t(nt,[2,28]),t(nt,[2,39]),t(st,[2,29]),t(st,[2,30],{15:[1,139]}),t(rt,[2,10]),t(st,[2,31])],defaultActions:{2:[2,1],3:[2,2],5:[2,8],6:[2,4],7:[2,5],8:[2,6],9:[2,7],16:[2,11],17:[2,3],27:[2,14],79:[2,13],80:[2,15],126:[2,16],127:[2,17],128:[2,18],129:[2,19]},parseError:function(t,e){if(!e.recoverable){var n=new Error(t);throw n.hash=e,n}this.trace(t)},parse:function(t){var e=this,n=[0],r=[],i=[null],o=[],a=this.table,s="",l=0,c=0,u=0,h=2,d=1,f=o.slice.call(arguments,1),p=Object.create(this.lexer),g={yy:{}};for(var m in this.yy)Object.prototype.hasOwnProperty.call(this.yy,m)&&(g.yy[m]=this.yy[m]);p.setInput(t,g.yy),g.yy.lexer=p,g.yy.parser=this,void 0===p.yylloc&&(p.yylloc={});var y=p.yylloc;o.push(y);var v=p.options&&p.options.ranges;function b(){var t;return"number"!=typeof(t=r.pop()||p.lex()||d)&&(t instanceof Array&&(t=(r=t).pop()),t=e.symbols_[t]||t),t}"function"==typeof g.yy.parseError?this.parseError=g.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var w,x,_,k,E,C,S,D,T,A={};;){if(_=n[n.length-1],this.defaultActions[_]?k=this.defaultActions[_]:(null==w&&(w=b()),k=a[_]&&a[_][w]),void 0===k||!k.length||!k[0]){var M="";for(C in T=[],a[_])this.terminals_[C]&&C>h&&T.push("'"+this.terminals_[C]+"'");M=p.showPosition?"Parse error on line "+(l+1)+":\n"+p.showPosition()+"\nExpecting "+T.join(", ")+", got '"+(this.terminals_[w]||w)+"'":"Parse error on line "+(l+1)+": Unexpected "+(w==d?"end of input":"'"+(this.terminals_[w]||w)+"'"),this.parseError(M,{text:p.match,token:this.terminals_[w]||w,line:p.yylineno,loc:y,expected:T})}if(k[0]instanceof Array&&k.length>1)throw new Error("Parse Error: multiple actions possible at state: "+_+", token: "+w);switch(k[0]){case 1:n.push(w),i.push(p.yytext),o.push(p.yylloc),n.push(k[1]),w=null,x?(w=x,x=null):(c=p.yyleng,s=p.yytext,l=p.yylineno,y=p.yylloc,u>0&&u--);break;case 2:if(S=this.productions_[k[1]][1],A.$=i[i.length-S],A._$={first_line:o[o.length-(S||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(S||1)].first_column,last_column:o[o.length-1].last_column},v&&(A._$.range=[o[o.length-(S||1)].range[0],o[o.length-1].range[1]]),void 0!==(E=this.performAction.apply(A,[s,c,l,g.yy,k[1],i,o].concat(f))))return E;S&&(n=n.slice(0,-1*S*2),i=i.slice(0,-1*S),o=o.slice(0,-1*S)),n.push(this.productions_[k[1]][0]),i.push(A.$),o.push(A._$),D=a[n[n.length-2]][n[n.length-1]],n.push(D);break;case 3:return!0}}return!0}},ct={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,r,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(r=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in i)this[o]=i[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,n,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),o=0;o<i.length;o++)if((n=this._input.match(this.rules[i[o]]))&&(!e||n[0].length>e[0].length)){if(e=n,r=o,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,i[o])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,i[r]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(t,e,n,r){switch(n){case 0:return this.begin("open_directive"),18;case 1:return 7;case 2:return 8;case 3:return 9;case 4:return 10;case 5:return this.begin("type_directive"),19;case 6:return this.popState(),this.begin("arg_directive"),16;case 7:return this.popState(),this.popState(),21;case 8:return 20;case 9:case 14:case 65:break;case 10:c;break;case 11:return 32;case 12:return 33;case 13:return 15;case 15:return 22;case 16:return 25;case 17:return 26;case 18:return 27;case 19:return 28;case 20:return this.begin("person_ext"),50;case 21:return this.begin("person"),49;case 22:return this.begin("system_ext_queue"),56;case 23:return this.begin("system_ext_db"),55;case 24:return this.begin("system_ext"),54;case 25:return this.begin("system_queue"),53;case 26:return this.begin("system_db"),52;case 27:return this.begin("system"),51;case 28:return this.begin("boundary"),42;case 29:return this.begin("enterprise_boundary"),39;case 30:return this.begin("system_boundary"),41;case 31:return this.begin("container_ext_queue"),62;case 32:return this.begin("container_ext_db"),61;case 33:return this.begin("container_ext"),60;case 34:return this.begin("container_queue"),59;case 35:return this.begin("container_db"),58;case 36:return this.begin("container"),57;case 37:return this.begin("container_boundary"),43;case 38:return this.begin("component_ext_queue"),68;case 39:return this.begin("component_ext_db"),67;case 40:return this.begin("component_ext"),66;case 41:return this.begin("component_queue"),65;case 42:return this.begin("component_db"),64;case 43:return this.begin("component"),63;case 44:case 45:return this.begin("node"),44;case 46:return this.begin("node_l"),45;case 47:return this.begin("node_r"),46;case 48:return this.begin("rel"),69;case 49:return this.begin("birel"),70;case 50:case 51:return this.begin("rel_u"),71;case 52:case 53:return this.begin("rel_d"),72;case 54:case 55:return this.begin("rel_l"),73;case 56:case 57:return this.begin("rel_r"),74;case 58:return this.begin("rel_b"),75;case 59:return this.begin("rel_index"),76;case 60:return"EOF_IN_STRUCT";case 61:return this.begin("attribute"),"ATTRIBUTE_EMPTY";case 62:this.begin("attribute");break;case 63:this.popState(),this.popState();break;case 64:case 66:return 80;case 67:this.begin("string");break;case 68:this.popState();break;case 69:case 70:return"STR";case 71:return"LBRACE";case 72:return"RBRACE";case 73:return"SPACE";case 74:return"EOL";case 75:return 24}},rules:[/^(?:%%\{)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:((?:(?!\}%%)[^:.])*))/,/^(?::)/,/^(?:\}%%)/,/^(?:((?:(?!\}%%).|\n)*))/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:title\s[^#\n;]+)/,/^(?:accDescription\s[^#\n;]+)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:C4Context\b)/,/^(?:C4Container\b)/,/^(?:C4Component\b)/,/^(?:C4Dynamic\b)/,/^(?:C4Deployment\b)/,/^(?:Person_Ext\b)/,/^(?:Person\b)/,/^(?:SystemQueue_Ext\b)/,/^(?:SystemDb_Ext\b)/,/^(?:System_Ext\b)/,/^(?:SystemQueue\b)/,/^(?:SystemDb\b)/,/^(?:System\b)/,/^(?:Boundary\b)/,/^(?:Enterprise_Boundary\b)/,/^(?:System_Boundary\b)/,/^(?:ContainerQueue_Ext\b)/,/^(?:ContainerDb_Ext\b)/,/^(?:Container_Ext\b)/,/^(?:ContainerQueue\b)/,/^(?:ContainerDb\b)/,/^(?:Container\b)/,/^(?:Container_Boundary\b)/,/^(?:ComponentQueue_Ext\b)/,/^(?:ComponentDb_Ext\b)/,/^(?:Component_Ext\b)/,/^(?:ComponentQueue\b)/,/^(?:ComponentDb\b)/,/^(?:Component\b)/,/^(?:Deployment_Node\b)/,/^(?:Node\b)/,/^(?:Node_L\b)/,/^(?:Node_R\b)/,/^(?:Rel\b)/,/^(?:BiRel\b)/,/^(?:Rel_Up\b)/,/^(?:Rel_U\b)/,/^(?:Rel_Down\b)/,/^(?:Rel_D\b)/,/^(?:Rel_Left\b)/,/^(?:Rel_L\b)/,/^(?:Rel_Right\b)/,/^(?:Rel_R\b)/,/^(?:Rel_Back\b)/,/^(?:RelIndex\b)/,/^(?:$)/,/^(?:[(][ ]*[,])/,/^(?:[(])/,/^(?:[)])/,/^(?:,,)/,/^(?:,)/,/^(?:[ ]*["]["])/,/^(?:[ ]*["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:[^,]+)/,/^(?:\{)/,/^(?:\})/,/^(?:[\s]+)/,/^(?:[\n\r]+)/,/^(?:$)/],conditions:{arg_directive:{rules:[7,8],inclusive:!1},type_directive:{rules:[6,7],inclusive:!1},open_directive:{rules:[5],inclusive:!1},string:{rules:[68,69],inclusive:!1},attribute:{rules:[63,64,65,66,67,70],inclusive:!1},rel_b:{rules:[60,61,62,63],inclusive:!1},rel_r:{rules:[60,61,62,63],inclusive:!1},rel_l:{rules:[60,61,62,63],inclusive:!1},rel_d:{rules:[60,61,62,63],inclusive:!1},rel_u:{rules:[60,61,62,63],inclusive:!1},rel_bi:{rules:[],inclusive:!1},rel:{rules:[60,61,62,63],inclusive:!1},node_r:{rules:[60,61,62,63],inclusive:!1},node_l:{rules:[60,61,62,63],inclusive:!1},node:{rules:[60,61,62,63],inclusive:!1},index:{rules:[],inclusive:!1},rel_index:{rules:[60,61,62,63],inclusive:!1},component_ext_queue:{rules:[],inclusive:!1},component_ext_db:{rules:[60,61,62,63],inclusive:!1},component_ext:{rules:[60,61,62,63],inclusive:!1},component_queue:{rules:[60,61,62,63],inclusive:!1},component_db:{rules:[60,61,62,63],inclusive:!1},component:{rules:[60,61,62,63],inclusive:!1},container_boundary:{rules:[60,61,62,63],inclusive:!1},container_ext_queue:{rules:[],inclusive:!1},container_ext_db:{rules:[60,61,62,63],inclusive:!1},container_ext:{rules:[60,61,62,63],inclusive:!1},container_queue:{rules:[60,61,62,63],inclusive:!1},container_db:{rules:[60,61,62,63],inclusive:!1},container:{rules:[60,61,62,63],inclusive:!1},birel:{rules:[60,61,62,63],inclusive:!1},system_boundary:{rules:[60,61,62,63],inclusive:!1},enterprise_boundary:{rules:[60,61,62,63],inclusive:!1},boundary:{rules:[60,61,62,63],inclusive:!1},system_ext_queue:{rules:[60,61,62,63],inclusive:!1},system_ext_db:{rules:[60,61,62,63],inclusive:!1},system_ext:{rules:[60,61,62,63],inclusive:!1},system_queue:{rules:[60,61,62,63],inclusive:!1},system_db:{rules:[60,61,62,63],inclusive:!1},system:{rules:[60,61,62,63],inclusive:!1},person_ext:{rules:[60,61,62,63],inclusive:!1},person:{rules:[60,61,62,63],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,71,72,73,74,75],inclusive:!0}}};function ut(){this.yy={}}return lt.lexer=ct,ut.prototype=lt,lt.Parser=ut,new ut}();e.parser=r,e.Parser=r.Parser,e.parse=function(){return r.parse.apply(r,arguments)},e.main=function(t){t[1]||process.exit(1);var r=n(555).readFileSync(n(6470).normalize(t[1]),"utf8");return e.parser.parse(r)},n.c[n.s]===t&&e.main(process.argv.slice(1))},1362:(t,e,n)=>{t=n.nmd(t);var r=function(){var t=function(t,e,n,r){for(n=n||{},r=t.length;r--;n[t[r]]=e);return n},e=[1,3],n=[1,7],r=[1,8],i=[1,9],o=[1,10],a=[1,13],s=[1,12],l=[1,16,25],c=[1,20],u=[1,31],h=[1,32],d=[1,33],f=[1,35],p=[1,38],g=[1,36],m=[1,37],y=[1,39],v=[1,40],b=[1,41],w=[1,42],x=[1,45],_=[1,46],k=[1,47],E=[1,48],C=[16,25],S=[1,62],D=[1,63],T=[1,64],A=[1,65],M=[1,66],N=[1,67],O=[16,25,32,44,45,53,56,57,58,59,60,61,66,68],F=[16,25,30,32,44,45,49,53,56,57,58,59,60,61,66,68,83,84,85,86],I=[5,8,9,10,11,16,19,23,25],L=[53,83,84,85,86],B=[53,60,61,83,84,85,86],R=[53,56,57,58,59,83,84,85,86],P=[16,25,32],z=[1,99],$={trace:function(){},yy:{},symbols_:{error:2,start:3,mermaidDoc:4,statments:5,direction:6,directive:7,direction_tb:8,direction_bt:9,direction_rl:10,direction_lr:11,graphConfig:12,openDirective:13,typeDirective:14,closeDirective:15,NEWLINE:16,":":17,argDirective:18,open_directive:19,type_directive:20,arg_directive:21,close_directive:22,CLASS_DIAGRAM:23,statements:24,EOF:25,statement:26,className:27,alphaNumToken:28,classLiteralName:29,GENERICTYPE:30,relationStatement:31,LABEL:32,classStatement:33,methodStatement:34,annotationStatement:35,clickStatement:36,cssClassStatement:37,acc_title:38,acc_title_value:39,acc_descr:40,acc_descr_value:41,acc_descr_multiline_value:42,CLASS:43,STYLE_SEPARATOR:44,STRUCT_START:45,members:46,STRUCT_STOP:47,ANNOTATION_START:48,ANNOTATION_END:49,MEMBER:50,SEPARATOR:51,relation:52,STR:53,relationType:54,lineType:55,AGGREGATION:56,EXTENSION:57,COMPOSITION:58,DEPENDENCY:59,LINE:60,DOTTED_LINE:61,CALLBACK:62,LINK:63,LINK_TARGET:64,CLICK:65,CALLBACK_NAME:66,CALLBACK_ARGS:67,HREF:68,CSSCLASS:69,commentToken:70,textToken:71,graphCodeTokens:72,textNoTagsToken:73,TAGSTART:74,TAGEND:75,"==":76,"--":77,PCT:78,DEFAULT:79,SPACE:80,MINUS:81,keywords:82,UNICODE_TEXT:83,NUM:84,ALPHA:85,BQUOTE_STR:86,$accept:0,$end:1},terminals_:{2:"error",5:"statments",8:"direction_tb",9:"direction_bt",10:"direction_rl",11:"direction_lr",16:"NEWLINE",17:":",19:"open_directive",20:"type_directive",21:"arg_directive",22:"close_directive",23:"CLASS_DIAGRAM",25:"EOF",30:"GENERICTYPE",32:"LABEL",38:"acc_title",39:"acc_title_value",40:"acc_descr",41:"acc_descr_value",42:"acc_descr_multiline_value",43:"CLASS",44:"STYLE_SEPARATOR",45:"STRUCT_START",47:"STRUCT_STOP",48:"ANNOTATION_START",49:"ANNOTATION_END",50:"MEMBER",51:"SEPARATOR",53:"STR",56:"AGGREGATION",57:"EXTENSION",58:"COMPOSITION",59:"DEPENDENCY",60:"LINE",61:"DOTTED_LINE",62:"CALLBACK",63:"LINK",64:"LINK_TARGET",65:"CLICK",66:"CALLBACK_NAME",67:"CALLBACK_ARGS",68:"HREF",69:"CSSCLASS",72:"graphCodeTokens",74:"TAGSTART",75:"TAGEND",76:"==",77:"--",78:"PCT",79:"DEFAULT",80:"SPACE",81:"MINUS",82:"keywords",83:"UNICODE_TEXT",84:"NUM",85:"ALPHA",86:"BQUOTE_STR"},productions_:[0,[3,1],[3,1],[3,1],[3,2],[6,1],[6,1],[6,1],[6,1],[4,1],[7,4],[7,6],[13,1],[14,1],[18,1],[15,1],[12,4],[24,1],[24,2],[24,3],[27,1],[27,1],[27,2],[27,2],[27,2],[26,1],[26,2],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,2],[26,2],[26,1],[33,2],[33,4],[33,5],[33,7],[35,4],[46,1],[46,2],[34,1],[34,2],[34,1],[34,1],[31,3],[31,4],[31,4],[31,5],[52,3],[52,2],[52,2],[52,1],[54,1],[54,1],[54,1],[54,1],[55,1],[55,1],[36,3],[36,4],[36,3],[36,4],[36,4],[36,5],[36,3],[36,4],[36,4],[36,5],[36,3],[36,4],[36,4],[36,5],[37,3],[70,1],[70,1],[71,1],[71,1],[71,1],[71,1],[71,1],[71,1],[71,1],[73,1],[73,1],[73,1],[73,1],[28,1],[28,1],[28,1],[29,1]],performAction:function(t,e,n,r,i,o,a){var s=o.length-1;switch(i){case 5:r.setDirection("TB");break;case 6:r.setDirection("BT");break;case 7:r.setDirection("RL");break;case 8:r.setDirection("LR");break;case 12:r.parseDirective("%%{","open_directive");break;case 13:r.parseDirective(o[s],"type_directive");break;case 14:o[s]=o[s].trim().replace(/'/g,'"'),r.parseDirective(o[s],"arg_directive");break;case 15:r.parseDirective("}%%","close_directive","class");break;case 20:case 21:this.$=o[s];break;case 22:this.$=o[s-1]+o[s];break;case 23:case 24:this.$=o[s-1]+"~"+o[s];break;case 25:r.addRelation(o[s]);break;case 26:o[s-1].title=r.cleanupLabel(o[s]),r.addRelation(o[s-1]);break;case 34:this.$=o[s].trim(),r.setAccTitle(this.$);break;case 35:case 36:this.$=o[s].trim(),r.setAccDescription(this.$);break;case 37:r.addClass(o[s]);break;case 38:r.addClass(o[s-2]),r.setCssClass(o[s-2],o[s]);break;case 39:r.addClass(o[s-3]),r.addMembers(o[s-3],o[s-1]);break;case 40:r.addClass(o[s-5]),r.setCssClass(o[s-5],o[s-3]),r.addMembers(o[s-5],o[s-1]);break;case 41:r.addAnnotation(o[s],o[s-2]);break;case 42:this.$=[o[s]];break;case 43:o[s].push(o[s-1]),this.$=o[s];break;case 44:case 46:case 47:break;case 45:r.addMember(o[s-1],r.cleanupLabel(o[s]));break;case 48:this.$={id1:o[s-2],id2:o[s],relation:o[s-1],relationTitle1:"none",relationTitle2:"none"};break;case 49:this.$={id1:o[s-3],id2:o[s],relation:o[s-1],relationTitle1:o[s-2],relationTitle2:"none"};break;case 50:this.$={id1:o[s-3],id2:o[s],relation:o[s-2],relationTitle1:"none",relationTitle2:o[s-1]};break;case 51:this.$={id1:o[s-4],id2:o[s],relation:o[s-2],relationTitle1:o[s-3],relationTitle2:o[s-1]};break;case 52:this.$={type1:o[s-2],type2:o[s],lineType:o[s-1]};break;case 53:this.$={type1:"none",type2:o[s],lineType:o[s-1]};break;case 54:this.$={type1:o[s-1],type2:"none",lineType:o[s]};break;case 55:this.$={type1:"none",type2:"none",lineType:o[s]};break;case 56:this.$=r.relationType.AGGREGATION;break;case 57:this.$=r.relationType.EXTENSION;break;case 58:this.$=r.relationType.COMPOSITION;break;case 59:this.$=r.relationType.DEPENDENCY;break;case 60:this.$=r.lineType.LINE;break;case 61:this.$=r.lineType.DOTTED_LINE;break;case 62:case 68:this.$=o[s-2],r.setClickEvent(o[s-1],o[s]);break;case 63:case 69:this.$=o[s-3],r.setClickEvent(o[s-2],o[s-1]),r.setTooltip(o[s-2],o[s]);break;case 64:case 72:this.$=o[s-2],r.setLink(o[s-1],o[s]);break;case 65:case 73:this.$=o[s-3],r.setLink(o[s-2],o[s-1],o[s]);break;case 66:case 74:this.$=o[s-3],r.setLink(o[s-2],o[s-1]),r.setTooltip(o[s-2],o[s]);break;case 67:case 75:this.$=o[s-4],r.setLink(o[s-3],o[s-2],o[s]),r.setTooltip(o[s-3],o[s-1]);break;case 70:this.$=o[s-3],r.setClickEvent(o[s-2],o[s-1],o[s]);break;case 71:this.$=o[s-4],r.setClickEvent(o[s-3],o[s-2],o[s-1]),r.setTooltip(o[s-3],o[s]);break;case 76:r.setCssClass(o[s-1],o[s])}},table:[{3:1,4:2,5:e,6:4,7:5,8:n,9:r,10:i,11:o,12:6,13:11,19:a,23:s},{1:[3]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{3:14,4:2,5:e,6:4,7:5,8:n,9:r,10:i,11:o,12:6,13:11,19:a,23:s},{1:[2,9]},t(l,[2,5]),t(l,[2,6]),t(l,[2,7]),t(l,[2,8]),{14:15,20:[1,16]},{16:[1,17]},{20:[2,12]},{1:[2,4]},{15:18,17:[1,19],22:c},t([17,22],[2,13]),{6:30,7:29,8:n,9:r,10:i,11:o,13:11,19:a,24:21,26:22,27:34,28:43,29:44,31:23,33:24,34:25,35:26,36:27,37:28,38:u,40:h,42:d,43:f,48:p,50:g,51:m,62:y,63:v,65:b,69:w,83:x,84:_,85:k,86:E},{16:[1,49]},{18:50,21:[1,51]},{16:[2,15]},{25:[1,52]},{16:[1,53],25:[2,17]},t(C,[2,25],{32:[1,54]}),t(C,[2,27]),t(C,[2,28]),t(C,[2,29]),t(C,[2,30]),t(C,[2,31]),t(C,[2,32]),t(C,[2,33]),{39:[1,55]},{41:[1,56]},t(C,[2,36]),t(C,[2,44],{52:57,54:60,55:61,32:[1,59],53:[1,58],56:S,57:D,58:T,59:A,60:M,61:N}),{27:68,28:43,29:44,83:x,84:_,85:k,86:E},t(C,[2,46]),t(C,[2,47]),{28:69,83:x,84:_,85:k},{27:70,28:43,29:44,83:x,84:_,85:k,86:E},{27:71,28:43,29:44,83:x,84:_,85:k,86:E},{27:72,28:43,29:44,83:x,84:_,85:k,86:E},{53:[1,73]},t(O,[2,20],{28:43,29:44,27:74,30:[1,75],83:x,84:_,85:k,86:E}),t(O,[2,21],{30:[1,76]}),t(F,[2,90]),t(F,[2,91]),t(F,[2,92]),t([16,25,30,32,44,45,53,56,57,58,59,60,61,66,68],[2,93]),t(I,[2,10]),{15:77,22:c},{22:[2,14]},{1:[2,16]},{6:30,7:29,8:n,9:r,10:i,11:o,13:11,19:a,24:78,25:[2,18],26:22,27:34,28:43,29:44,31:23,33:24,34:25,35:26,36:27,37:28,38:u,40:h,42:d,43:f,48:p,50:g,51:m,62:y,63:v,65:b,69:w,83:x,84:_,85:k,86:E},t(C,[2,26]),t(C,[2,34]),t(C,[2,35]),{27:79,28:43,29:44,53:[1,80],83:x,84:_,85:k,86:E},{52:81,54:60,55:61,56:S,57:D,58:T,59:A,60:M,61:N},t(C,[2,45]),{55:82,60:M,61:N},t(L,[2,55],{54:83,56:S,57:D,58:T,59:A}),t(B,[2,56]),t(B,[2,57]),t(B,[2,58]),t(B,[2,59]),t(R,[2,60]),t(R,[2,61]),t(C,[2,37],{44:[1,84],45:[1,85]}),{49:[1,86]},{53:[1,87]},{53:[1,88]},{66:[1,89],68:[1,90]},{28:91,83:x,84:_,85:k},t(O,[2,22]),t(O,[2,23]),t(O,[2,24]),{16:[1,92]},{25:[2,19]},t(P,[2,48]),{27:93,28:43,29:44,83:x,84:_,85:k,86:E},{27:94,28:43,29:44,53:[1,95],83:x,84:_,85:k,86:E},t(L,[2,54],{54:96,56:S,57:D,58:T,59:A}),t(L,[2,53]),{28:97,83:x,84:_,85:k},{46:98,50:z},{27:100,28:43,29:44,83:x,84:_,85:k,86:E},t(C,[2,62],{53:[1,101]}),t(C,[2,64],{53:[1,103],64:[1,102]}),t(C,[2,68],{53:[1,104],67:[1,105]}),t(C,[2,72],{53:[1,107],64:[1,106]}),t(C,[2,76]),t(I,[2,11]),t(P,[2,50]),t(P,[2,49]),{27:108,28:43,29:44,83:x,84:_,85:k,86:E},t(L,[2,52]),t(C,[2,38],{45:[1,109]}),{47:[1,110]},{46:111,47:[2,42],50:z},t(C,[2,41]),t(C,[2,63]),t(C,[2,65]),t(C,[2,66],{64:[1,112]}),t(C,[2,69]),t(C,[2,70],{53:[1,113]}),t(C,[2,73]),t(C,[2,74],{64:[1,114]}),t(P,[2,51]),{46:115,50:z},t(C,[2,39]),{47:[2,43]},t(C,[2,67]),t(C,[2,71]),t(C,[2,75]),{47:[1,116]},t(C,[2,40])],defaultActions:{2:[2,1],3:[2,2],4:[2,3],6:[2,9],13:[2,12],14:[2,4],20:[2,15],51:[2,14],52:[2,16],78:[2,19],111:[2,43]},parseError:function(t,e){if(!e.recoverable){var n=new Error(t);throw n.hash=e,n}this.trace(t)},parse:function(t){var e=this,n=[0],r=[],i=[null],o=[],a=this.table,s="",l=0,c=0,u=0,h=2,d=1,f=o.slice.call(arguments,1),p=Object.create(this.lexer),g={yy:{}};for(var m in this.yy)Object.prototype.hasOwnProperty.call(this.yy,m)&&(g.yy[m]=this.yy[m]);p.setInput(t,g.yy),g.yy.lexer=p,g.yy.parser=this,void 0===p.yylloc&&(p.yylloc={});var y=p.yylloc;o.push(y);var v=p.options&&p.options.ranges;function b(){var t;return"number"!=typeof(t=r.pop()||p.lex()||d)&&(t instanceof Array&&(t=(r=t).pop()),t=e.symbols_[t]||t),t}"function"==typeof g.yy.parseError?this.parseError=g.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var w,x,_,k,E,C,S,D,T,A={};;){if(_=n[n.length-1],this.defaultActions[_]?k=this.defaultActions[_]:(null==w&&(w=b()),k=a[_]&&a[_][w]),void 0===k||!k.length||!k[0]){var M="";for(C in T=[],a[_])this.terminals_[C]&&C>h&&T.push("'"+this.terminals_[C]+"'");M=p.showPosition?"Parse error on line "+(l+1)+":\n"+p.showPosition()+"\nExpecting "+T.join(", ")+", got '"+(this.terminals_[w]||w)+"'":"Parse error on line "+(l+1)+": Unexpected "+(w==d?"end of input":"'"+(this.terminals_[w]||w)+"'"),this.parseError(M,{text:p.match,token:this.terminals_[w]||w,line:p.yylineno,loc:y,expected:T})}if(k[0]instanceof Array&&k.length>1)throw new Error("Parse Error: multiple actions possible at state: "+_+", token: "+w);switch(k[0]){case 1:n.push(w),i.push(p.yytext),o.push(p.yylloc),n.push(k[1]),w=null,x?(w=x,x=null):(c=p.yyleng,s=p.yytext,l=p.yylineno,y=p.yylloc,u>0&&u--);break;case 2:if(S=this.productions_[k[1]][1],A.$=i[i.length-S],A._$={first_line:o[o.length-(S||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(S||1)].first_column,last_column:o[o.length-1].last_column},v&&(A._$.range=[o[o.length-(S||1)].range[0],o[o.length-1].range[1]]),void 0!==(E=this.performAction.apply(A,[s,c,l,g.yy,k[1],i,o].concat(f))))return E;S&&(n=n.slice(0,-1*S*2),i=i.slice(0,-1*S),o=o.slice(0,-1*S)),n.push(this.productions_[k[1]][0]),i.push(A.$),o.push(A._$),D=a[n[n.length-2]][n[n.length-1]],n.push(D);break;case 3:return!0}}return!0}},j={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,r,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(r=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in i)this[o]=i[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,n,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),o=0;o<i.length;o++)if((n=this._input.match(this.rules[i[o]]))&&(!e||n[0].length>e[0].length)){if(e=n,r=o,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,i[o])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,i[r]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(t,e,n,r){switch(n){case 0:return this.begin("open_directive"),19;case 1:return 8;case 2:return 9;case 3:return 10;case 4:return 11;case 5:return this.begin("type_directive"),20;case 6:return this.popState(),this.begin("arg_directive"),17;case 7:return this.popState(),this.popState(),22;case 8:return 21;case 9:case 10:case 19:case 26:break;case 11:return this.begin("acc_title"),38;case 12:return this.popState(),"acc_title_value";case 13:return this.begin("acc_descr"),40;case 14:return this.popState(),"acc_descr_value";case 15:this.begin("acc_descr_multiline");break;case 16:case 36:case 39:case 42:case 45:case 48:case 51:this.popState();break;case 17:return"acc_descr_multiline_value";case 18:return 16;case 20:case 21:return 23;case 22:return this.begin("struct"),45;case 23:return"EOF_IN_STRUCT";case 24:return"OPEN_IN_STRUCT";case 25:return this.popState(),47;case 27:return"MEMBER";case 28:return 43;case 29:return 69;case 30:return 62;case 31:return 63;case 32:return 65;case 33:return 48;case 34:return 49;case 35:this.begin("generic");break;case 37:return"GENERICTYPE";case 38:this.begin("string");break;case 40:return"STR";case 41:this.begin("bqstring");break;case 43:return"BQUOTE_STR";case 44:this.begin("href");break;case 46:return 68;case 47:this.begin("callback_name");break;case 49:this.popState(),this.begin("callback_args");break;case 50:return 66;case 52:return 67;case 53:case 54:case 55:case 56:return 64;case 57:case 58:return 57;case 59:case 60:return 59;case 61:return 58;case 62:return 56;case 63:return 60;case 64:return 61;case 65:return 32;case 66:return 44;case 67:return 81;case 68:return"DOT";case 69:return"PLUS";case 70:return 78;case 71:case 72:return"EQUALS";case 73:return 85;case 74:return"PUNCTUATION";case 75:return 84;case 76:return 83;case 77:return 80;case 78:return 25}},rules:[/^(?:%%\{)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:((?:(?!\}%%)[^:.])*))/,/^(?::)/,/^(?:\}%%)/,/^(?:((?:(?!\}%%).|\n)*))/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:classDiagram-v2\b)/,/^(?:classDiagram\b)/,/^(?:[{])/,/^(?:$)/,/^(?:[{])/,/^(?:[}])/,/^(?:[\n])/,/^(?:[^{}\n]*)/,/^(?:class\b)/,/^(?:cssClass\b)/,/^(?:callback\b)/,/^(?:link\b)/,/^(?:click\b)/,/^(?:<<)/,/^(?:>>)/,/^(?:[~])/,/^(?:[~])/,/^(?:[^~]*)/,/^(?:["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:[`])/,/^(?:[`])/,/^(?:[^`]+)/,/^(?:href[\s]+["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:\s*<\|)/,/^(?:\s*\|>)/,/^(?:\s*>)/,/^(?:\s*<)/,/^(?:\s*\*)/,/^(?:\s*o\b)/,/^(?:--)/,/^(?:\.\.)/,/^(?::{1}[^:\n;]+)/,/^(?::{3})/,/^(?:-)/,/^(?:\.)/,/^(?:\+)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:\w+)/,/^(?:[!"#$%&'*+,-.`?\\/])/,/^(?:[0-9]+)/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\s)/,/^(?:$)/],conditions:{acc_descr_multiline:{rules:[16,17],inclusive:!1},acc_descr:{rules:[14],inclusive:!1},acc_title:{rules:[12],inclusive:!1},arg_directive:{rules:[7,8],inclusive:!1},type_directive:{rules:[6,7],inclusive:!1},open_directive:{rules:[5],inclusive:!1},callback_args:{rules:[51,52],inclusive:!1},callback_name:{rules:[48,49,50],inclusive:!1},href:{rules:[45,46],inclusive:!1},struct:{rules:[23,24,25,26,27],inclusive:!1},generic:{rules:[36,37],inclusive:!1},bqstring:{rules:[42,43],inclusive:!1},string:{rules:[39,40],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,9,10,11,13,15,18,19,20,21,22,28,29,30,31,32,33,34,35,38,41,44,47,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78],inclusive:!0}}};function U(){this.yy={}}return $.lexer=j,U.prototype=$,$.Parser=U,new U}();e.parser=r,e.Parser=r.Parser,e.parse=function(){return r.parse.apply(r,arguments)},e.main=function(t){t[1]||process.exit(1);var r=n(8218).readFileSync(n(6470).normalize(t[1]),"utf8");return e.parser.parse(r)},n.c[n.s]===t&&e.main(process.argv.slice(1))},5890:(t,e,n)=>{t=n.nmd(t);var r=function(){var t=function(t,e,n,r){for(n=n||{},r=t.length;r--;n[t[r]]=e);return n},e=[1,2],n=[1,5],r=[6,9,11,23,25,27,29,30,49],i=[1,17],o=[1,18],a=[1,19],s=[1,20],l=[1,21],c=[1,24],u=[1,29],h=[1,30],d=[1,31],f=[1,32],p=[6,9,11,15,20,23,25,27,29,30,42,43,44,45,49],g=[1,45],m=[30,46,47],y=[4,6,9,11,23,25,27,29,30,49],v=[42,43,44,45],b=[22,37],w=[1,64],x={trace:function(){},yy:{},symbols_:{error:2,start:3,ER_DIAGRAM:4,document:5,EOF:6,directive:7,line:8,SPACE:9,statement:10,NEWLINE:11,openDirective:12,typeDirective:13,closeDirective:14,":":15,argDirective:16,entityName:17,relSpec:18,role:19,BLOCK_START:20,attributes:21,BLOCK_STOP:22,title:23,title_value:24,acc_title:25,acc_title_value:26,acc_descr:27,acc_descr_value:28,acc_descr_multiline_value:29,ALPHANUM:30,".":31,attribute:32,attributeType:33,attributeName:34,attributeKeyType:35,attributeComment:36,ATTRIBUTE_WORD:37,ATTRIBUTE_KEY:38,COMMENT:39,cardinality:40,relType:41,ZERO_OR_ONE:42,ZERO_OR_MORE:43,ONE_OR_MORE:44,ONLY_ONE:45,NON_IDENTIFYING:46,IDENTIFYING:47,WORD:48,open_directive:49,type_directive:50,arg_directive:51,close_directive:52,$accept:0,$end:1},terminals_:{2:"error",4:"ER_DIAGRAM",6:"EOF",9:"SPACE",11:"NEWLINE",15:":",20:"BLOCK_START",22:"BLOCK_STOP",23:"title",24:"title_value",25:"acc_title",26:"acc_title_value",27:"acc_descr",28:"acc_descr_value",29:"acc_descr_multiline_value",30:"ALPHANUM",31:".",37:"ATTRIBUTE_WORD",38:"ATTRIBUTE_KEY",39:"COMMENT",42:"ZERO_OR_ONE",43:"ZERO_OR_MORE",44:"ONE_OR_MORE",45:"ONLY_ONE",46:"NON_IDENTIFYING",47:"IDENTIFYING",48:"WORD",49:"open_directive",50:"type_directive",51:"arg_directive",52:"close_directive"},productions_:[0,[3,3],[3,2],[5,0],[5,2],[8,2],[8,1],[8,1],[8,1],[7,4],[7,6],[10,1],[10,5],[10,4],[10,3],[10,1],[10,2],[10,2],[10,2],[10,1],[17,1],[17,3],[21,1],[21,2],[32,2],[32,3],[32,3],[32,4],[33,1],[34,1],[35,1],[36,1],[18,3],[40,1],[40,1],[40,1],[40,1],[41,1],[41,1],[19,1],[19,1],[12,1],[13,1],[16,1],[14,1]],performAction:function(t,e,n,r,i,o,a){var s=o.length-1;switch(i){case 1:break;case 3:case 7:case 8:this.$=[];break;case 4:o[s-1].push(o[s]),this.$=o[s-1];break;case 5:case 6:case 20:case 28:case 29:case 30:case 40:this.$=o[s];break;case 12:r.addEntity(o[s-4]),r.addEntity(o[s-2]),r.addRelationship(o[s-4],o[s],o[s-2],o[s-3]);break;case 13:r.addEntity(o[s-3]),r.addAttributes(o[s-3],o[s-1]);break;case 14:r.addEntity(o[s-2]);break;case 15:r.addEntity(o[s]);break;case 16:case 17:this.$=o[s].trim(),r.setAccTitle(this.$);break;case 18:case 19:this.$=o[s].trim(),r.setAccDescription(this.$);break;case 21:this.$=o[s-2]+o[s-1]+o[s];break;case 22:this.$=[o[s]];break;case 23:o[s].push(o[s-1]),this.$=o[s];break;case 24:this.$={attributeType:o[s-1],attributeName:o[s]};break;case 25:this.$={attributeType:o[s-2],attributeName:o[s-1],attributeKeyType:o[s]};break;case 26:this.$={attributeType:o[s-2],attributeName:o[s-1],attributeComment:o[s]};break;case 27:this.$={attributeType:o[s-3],attributeName:o[s-2],attributeKeyType:o[s-1],attributeComment:o[s]};break;case 31:case 39:this.$=o[s].replace(/"/g,"");break;case 32:this.$={cardA:o[s],relType:o[s-1],cardB:o[s-2]};break;case 33:this.$=r.Cardinality.ZERO_OR_ONE;break;case 34:this.$=r.Cardinality.ZERO_OR_MORE;break;case 35:this.$=r.Cardinality.ONE_OR_MORE;break;case 36:this.$=r.Cardinality.ONLY_ONE;break;case 37:this.$=r.Identification.NON_IDENTIFYING;break;case 38:this.$=r.Identification.IDENTIFYING;break;case 41:r.parseDirective("%%{","open_directive");break;case 42:r.parseDirective(o[s],"type_directive");break;case 43:o[s]=o[s].trim().replace(/'/g,'"'),r.parseDirective(o[s],"arg_directive");break;case 44:r.parseDirective("}%%","close_directive","er")}},table:[{3:1,4:e,7:3,12:4,49:n},{1:[3]},t(r,[2,3],{5:6}),{3:7,4:e,7:3,12:4,49:n},{13:8,50:[1,9]},{50:[2,41]},{6:[1,10],7:15,8:11,9:[1,12],10:13,11:[1,14],12:4,17:16,23:i,25:o,27:a,29:s,30:l,49:n},{1:[2,2]},{14:22,15:[1,23],52:c},t([15,52],[2,42]),t(r,[2,8],{1:[2,1]}),t(r,[2,4]),{7:15,10:25,12:4,17:16,23:i,25:o,27:a,29:s,30:l,49:n},t(r,[2,6]),t(r,[2,7]),t(r,[2,11]),t(r,[2,15],{18:26,40:28,20:[1,27],42:u,43:h,44:d,45:f}),{24:[1,33]},{26:[1,34]},{28:[1,35]},t(r,[2,19]),t(p,[2,20],{31:[1,36]}),{11:[1,37]},{16:38,51:[1,39]},{11:[2,44]},t(r,[2,5]),{17:40,30:l},{21:41,22:[1,42],32:43,33:44,37:g},{41:46,46:[1,47],47:[1,48]},t(m,[2,33]),t(m,[2,34]),t(m,[2,35]),t(m,[2,36]),t(r,[2,16]),t(r,[2,17]),t(r,[2,18]),{17:49,30:l},t(y,[2,9]),{14:50,52:c},{52:[2,43]},{15:[1,51]},{22:[1,52]},t(r,[2,14]),{21:53,22:[2,22],32:43,33:44,37:g},{34:54,37:[1,55]},{37:[2,28]},{40:56,42:u,43:h,44:d,45:f},t(v,[2,37]),t(v,[2,38]),t(p,[2,21]),{11:[1,57]},{19:58,30:[1,60],48:[1,59]},t(r,[2,13]),{22:[2,23]},t(b,[2,24],{35:61,36:62,38:[1,63],39:w}),t([22,37,38,39],[2,29]),{30:[2,32]},t(y,[2,10]),t(r,[2,12]),t(r,[2,39]),t(r,[2,40]),t(b,[2,25],{36:65,39:w}),t(b,[2,26]),t([22,37,39],[2,30]),t(b,[2,31]),t(b,[2,27])],defaultActions:{5:[2,41],7:[2,2],24:[2,44],39:[2,43],45:[2,28],53:[2,23],56:[2,32]},parseError:function(t,e){if(!e.recoverable){var n=new Error(t);throw n.hash=e,n}this.trace(t)},parse:function(t){var e=this,n=[0],r=[],i=[null],o=[],a=this.table,s="",l=0,c=0,u=0,h=2,d=1,f=o.slice.call(arguments,1),p=Object.create(this.lexer),g={yy:{}};for(var m in this.yy)Object.prototype.hasOwnProperty.call(this.yy,m)&&(g.yy[m]=this.yy[m]);p.setInput(t,g.yy),g.yy.lexer=p,g.yy.parser=this,void 0===p.yylloc&&(p.yylloc={});var y=p.yylloc;o.push(y);var v=p.options&&p.options.ranges;function b(){var t;return"number"!=typeof(t=r.pop()||p.lex()||d)&&(t instanceof Array&&(t=(r=t).pop()),t=e.symbols_[t]||t),t}"function"==typeof g.yy.parseError?this.parseError=g.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var w,x,_,k,E,C,S,D,T,A={};;){if(_=n[n.length-1],this.defaultActions[_]?k=this.defaultActions[_]:(null==w&&(w=b()),k=a[_]&&a[_][w]),void 0===k||!k.length||!k[0]){var M="";for(C in T=[],a[_])this.terminals_[C]&&C>h&&T.push("'"+this.terminals_[C]+"'");M=p.showPosition?"Parse error on line "+(l+1)+":\n"+p.showPosition()+"\nExpecting "+T.join(", ")+", got '"+(this.terminals_[w]||w)+"'":"Parse error on line "+(l+1)+": Unexpected "+(w==d?"end of input":"'"+(this.terminals_[w]||w)+"'"),this.parseError(M,{text:p.match,token:this.terminals_[w]||w,line:p.yylineno,loc:y,expected:T})}if(k[0]instanceof Array&&k.length>1)throw new Error("Parse Error: multiple actions possible at state: "+_+", token: "+w);switch(k[0]){case 1:n.push(w),i.push(p.yytext),o.push(p.yylloc),n.push(k[1]),w=null,x?(w=x,x=null):(c=p.yyleng,s=p.yytext,l=p.yylineno,y=p.yylloc,u>0&&u--);break;case 2:if(S=this.productions_[k[1]][1],A.$=i[i.length-S],A._$={first_line:o[o.length-(S||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(S||1)].first_column,last_column:o[o.length-1].last_column},v&&(A._$.range=[o[o.length-(S||1)].range[0],o[o.length-1].range[1]]),void 0!==(E=this.performAction.apply(A,[s,c,l,g.yy,k[1],i,o].concat(f))))return E;S&&(n=n.slice(0,-1*S*2),i=i.slice(0,-1*S),o=o.slice(0,-1*S)),n.push(this.productions_[k[1]][0]),i.push(A.$),o.push(A._$),D=a[n[n.length-2]][n[n.length-1]],n.push(D);break;case 3:return!0}}return!0}},_={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,r,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(r=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in i)this[o]=i[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,n,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),o=0;o<i.length;o++)if((n=this._input.match(this.rules[i[o]]))&&(!e||n[0].length>e[0].length)){if(e=n,r=o,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,i[o])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,i[r]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(t,e,n,r){switch(n){case 0:return this.begin("acc_title"),25;case 1:return this.popState(),"acc_title_value";case 2:return this.begin("acc_descr"),27;case 3:return this.popState(),"acc_descr_value";case 4:this.begin("acc_descr_multiline");break;case 5:this.popState();break;case 6:return"acc_descr_multiline_value";case 7:return this.begin("open_directive"),49;case 8:return this.begin("type_directive"),50;case 9:return this.popState(),this.begin("arg_directive"),15;case 10:return this.popState(),this.popState(),52;case 11:return 51;case 12:case 13:case 15:case 20:case 24:break;case 14:return 11;case 16:return 9;case 17:return 48;case 18:return 4;case 19:return this.begin("block"),20;case 21:return 38;case 22:return 37;case 23:return 39;case 25:return this.popState(),22;case 26:case 39:return e.yytext[0];case 27:case 31:return 42;case 28:case 32:return 43;case 29:case 33:return 44;case 30:return 45;case 34:case 36:case 37:return 46;case 35:return 47;case 38:return 30;case 40:return 6}},rules:[/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:[\s]+)/i,/^(?:"[^"]*")/i,/^(?:erDiagram\b)/i,/^(?:\{)/i,/^(?:\s+)/i,/^(?:(?:PK)|(?:FK))/i,/^(?:[A-Za-z][A-Za-z0-9\-_]*)/i,/^(?:"[^"]*")/i,/^(?:[\n]+)/i,/^(?:\})/i,/^(?:.)/i,/^(?:\|o\b)/i,/^(?:\}o\b)/i,/^(?:\}\|)/i,/^(?:\|\|)/i,/^(?:o\|)/i,/^(?:o\{)/i,/^(?:\|\{)/i,/^(?:\.\.)/i,/^(?:--)/i,/^(?:\.-)/i,/^(?:-\.)/i,/^(?:[A-Za-z][A-Za-z0-9\-_]*)/i,/^(?:.)/i,/^(?:$)/i],conditions:{acc_descr_multiline:{rules:[5,6],inclusive:!1},acc_descr:{rules:[3],inclusive:!1},acc_title:{rules:[1],inclusive:!1},open_directive:{rules:[8],inclusive:!1},type_directive:{rules:[9,10],inclusive:!1},arg_directive:{rules:[10,11],inclusive:!1},block:{rules:[20,21,22,23,24,25,26],inclusive:!1},INITIAL:{rules:[0,2,4,7,12,13,14,15,16,17,18,19,27,28,29,30,31,32,33,34,35,36,37,38,39,40],inclusive:!0}}};function k(){this.yy={}}return x.lexer=_,k.prototype=x,x.Parser=k,new k}();e.parser=r,e.Parser=r.Parser,e.parse=function(){return r.parse.apply(r,arguments)},e.main=function(t){t[1]||process.exit(1);var r=n(8009).readFileSync(n(6470).normalize(t[1]),"utf8");return e.parser.parse(r)},n.c[n.s]===t&&e.main(process.argv.slice(1))},3602:(t,e,n)=>{t=n.nmd(t);var r=function(){var t=function(t,e,n,r){for(n=n||{},r=t.length;r--;n[t[r]]=e);return n},e=[1,9],n=[1,7],r=[1,6],i=[1,8],o=[1,20,21,22,23,38,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],a=[2,10],s=[1,20],l=[1,21],c=[1,22],u=[1,23],h=[1,30],d=[1,32],f=[1,33],p=[1,34],g=[1,62],m=[1,48],y=[1,52],v=[1,36],b=[1,37],w=[1,38],x=[1,39],_=[1,40],k=[1,56],E=[1,63],C=[1,51],S=[1,53],D=[1,55],T=[1,59],A=[1,60],M=[1,41],N=[1,42],O=[1,43],F=[1,44],I=[1,61],L=[1,50],B=[1,54],R=[1,57],P=[1,58],z=[1,49],$=[1,66],j=[1,71],U=[1,20,21,22,23,38,42,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],Y=[1,75],q=[1,74],W=[1,76],H=[20,21,23,81,82],V=[1,99],G=[1,104],X=[1,107],K=[1,108],J=[1,101],Z=[1,106],Q=[1,109],tt=[1,102],et=[1,114],nt=[1,113],rt=[1,103],it=[1,105],ot=[1,110],at=[1,111],st=[1,112],lt=[1,115],ct=[20,21,22,23,81,82],ut=[20,21,22,23,53,81,82],ht=[20,21,22,23,40,52,53,55,57,59,61,63,65,66,67,69,71,73,74,76,81,82,91,95,105,106,109,111,112,122,123,124,125,126,127],dt=[20,21,23],ft=[20,21,23,52,66,67,81,82,91,95,105,106,109,111,112,122,123,124,125,126,127],pt=[1,12,20,21,22,23,24,38,42,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],gt=[52,66,67,91,95,105,106,109,111,112,122,123,124,125,126,127],mt=[1,149],yt=[1,157],vt=[1,158],bt=[1,159],wt=[1,160],xt=[1,144],_t=[1,145],kt=[1,141],Et=[1,152],Ct=[1,153],St=[1,154],Dt=[1,155],Tt=[1,156],At=[1,161],Mt=[1,162],Nt=[1,147],Ot=[1,150],Ft=[1,146],It=[1,143],Lt=[20,21,22,23,38,42,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],Bt=[1,165],Rt=[20,21,22,23,26,52,66,67,91,105,106,109,111,112,122,123,124,125,126,127],Pt=[20,21,22,23,24,26,38,40,41,42,52,56,58,60,62,64,66,67,68,70,72,73,75,77,81,82,86,87,88,89,90,91,92,95,105,106,109,111,112,113,114,122,123,124,125,126,127],zt=[12,21,22,24],$t=[22,106],jt=[1,250],Ut=[1,245],Yt=[1,246],qt=[1,254],Wt=[1,251],Ht=[1,248],Vt=[1,247],Gt=[1,249],Xt=[1,252],Kt=[1,253],Jt=[1,255],Zt=[1,273],Qt=[20,21,23,106],te=[20,21,22,23,66,67,86,102,105,106,109,110,111,112,113],ee={trace:function(){},yy:{},symbols_:{error:2,start:3,mermaidDoc:4,directive:5,openDirective:6,typeDirective:7,closeDirective:8,separator:9,":":10,argDirective:11,open_directive:12,type_directive:13,arg_directive:14,close_directive:15,graphConfig:16,document:17,line:18,statement:19,SEMI:20,NEWLINE:21,SPACE:22,EOF:23,GRAPH:24,NODIR:25,DIR:26,FirstStmtSeperator:27,ending:28,endToken:29,spaceList:30,spaceListNewline:31,verticeStatement:32,styleStatement:33,linkStyleStatement:34,classDefStatement:35,classStatement:36,clickStatement:37,subgraph:38,text:39,SQS:40,SQE:41,end:42,direction:43,acc_title:44,acc_title_value:45,acc_descr:46,acc_descr_value:47,acc_descr_multiline_value:48,link:49,node:50,vertex:51,AMP:52,STYLE_SEPARATOR:53,idString:54,DOUBLECIRCLESTART:55,DOUBLECIRCLEEND:56,PS:57,PE:58,"(-":59,"-)":60,STADIUMSTART:61,STADIUMEND:62,SUBROUTINESTART:63,SUBROUTINEEND:64,VERTEX_WITH_PROPS_START:65,ALPHA:66,COLON:67,PIPE:68,CYLINDERSTART:69,CYLINDEREND:70,DIAMOND_START:71,DIAMOND_STOP:72,TAGEND:73,TRAPSTART:74,TRAPEND:75,INVTRAPSTART:76,INVTRAPEND:77,linkStatement:78,arrowText:79,TESTSTR:80,START_LINK:81,LINK:82,textToken:83,STR:84,keywords:85,STYLE:86,LINKSTYLE:87,CLASSDEF:88,CLASS:89,CLICK:90,DOWN:91,UP:92,textNoTags:93,textNoTagsToken:94,DEFAULT:95,stylesOpt:96,alphaNum:97,CALLBACKNAME:98,CALLBACKARGS:99,HREF:100,LINK_TARGET:101,HEX:102,numList:103,INTERPOLATE:104,NUM:105,COMMA:106,style:107,styleComponent:108,MINUS:109,UNIT:110,BRKT:111,DOT:112,PCT:113,TAGSTART:114,alphaNumToken:115,idStringToken:116,alphaNumStatement:117,direction_tb:118,direction_bt:119,direction_rl:120,direction_lr:121,PUNCTUATION:122,UNICODE_TEXT:123,PLUS:124,EQUALS:125,MULT:126,UNDERSCORE:127,graphCodeTokens:128,ARROW_CROSS:129,ARROW_POINT:130,ARROW_CIRCLE:131,ARROW_OPEN:132,QUOTE:133,$accept:0,$end:1},terminals_:{2:"error",10:":",12:"open_directive",13:"type_directive",14:"arg_directive",15:"close_directive",20:"SEMI",21:"NEWLINE",22:"SPACE",23:"EOF",24:"GRAPH",25:"NODIR",26:"DIR",38:"subgraph",40:"SQS",41:"SQE",42:"end",44:"acc_title",45:"acc_title_value",46:"acc_descr",47:"acc_descr_value",48:"acc_descr_multiline_value",52:"AMP",53:"STYLE_SEPARATOR",55:"DOUBLECIRCLESTART",56:"DOUBLECIRCLEEND",57:"PS",58:"PE",59:"(-",60:"-)",61:"STADIUMSTART",62:"STADIUMEND",63:"SUBROUTINESTART",64:"SUBROUTINEEND",65:"VERTEX_WITH_PROPS_START",66:"ALPHA",67:"COLON",68:"PIPE",69:"CYLINDERSTART",70:"CYLINDEREND",71:"DIAMOND_START",72:"DIAMOND_STOP",73:"TAGEND",74:"TRAPSTART",75:"TRAPEND",76:"INVTRAPSTART",77:"INVTRAPEND",80:"TESTSTR",81:"START_LINK",82:"LINK",84:"STR",86:"STYLE",87:"LINKSTYLE",88:"CLASSDEF",89:"CLASS",90:"CLICK",91:"DOWN",92:"UP",95:"DEFAULT",98:"CALLBACKNAME",99:"CALLBACKARGS",100:"HREF",101:"LINK_TARGET",102:"HEX",104:"INTERPOLATE",105:"NUM",106:"COMMA",109:"MINUS",110:"UNIT",111:"BRKT",112:"DOT",113:"PCT",114:"TAGSTART",118:"direction_tb",119:"direction_bt",120:"direction_rl",121:"direction_lr",122:"PUNCTUATION",123:"UNICODE_TEXT",124:"PLUS",125:"EQUALS",126:"MULT",127:"UNDERSCORE",129:"ARROW_CROSS",130:"ARROW_POINT",131:"ARROW_CIRCLE",132:"ARROW_OPEN",133:"QUOTE"},productions_:[0,[3,1],[3,2],[5,4],[5,6],[6,1],[7,1],[11,1],[8,1],[4,2],[17,0],[17,2],[18,1],[18,1],[18,1],[18,1],[18,1],[16,2],[16,2],[16,2],[16,3],[28,2],[28,1],[29,1],[29,1],[29,1],[27,1],[27,1],[27,2],[31,2],[31,2],[31,1],[31,1],[30,2],[30,1],[19,2],[19,2],[19,2],[19,2],[19,2],[19,2],[19,9],[19,6],[19,4],[19,1],[19,2],[19,2],[19,1],[9,1],[9,1],[9,1],[32,3],[32,4],[32,2],[32,1],[50,1],[50,5],[50,3],[51,4],[51,4],[51,6],[51,4],[51,4],[51,4],[51,8],[51,4],[51,4],[51,4],[51,6],[51,4],[51,4],[51,4],[51,4],[51,4],[51,1],[49,2],[49,3],[49,3],[49,1],[49,3],[78,1],[79,3],[39,1],[39,2],[39,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[93,1],[93,2],[35,5],[35,5],[36,5],[37,2],[37,4],[37,3],[37,5],[37,2],[37,4],[37,4],[37,6],[37,2],[37,4],[37,2],[37,4],[37,4],[37,6],[33,5],[33,5],[34,5],[34,5],[34,9],[34,9],[34,7],[34,7],[103,1],[103,3],[96,1],[96,3],[107,1],[107,2],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[94,1],[94,1],[94,1],[94,1],[54,1],[54,2],[97,1],[97,2],[117,1],[117,1],[117,1],[117,1],[43,1],[43,1],[43,1],[43,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1]],performAction:function(t,e,n,r,i,o,a){var s=o.length-1;switch(i){case 5:r.parseDirective("%%{","open_directive");break;case 6:r.parseDirective(o[s],"type_directive");break;case 7:o[s]=o[s].trim().replace(/'/g,'"'),r.parseDirective(o[s],"arg_directive");break;case 8:r.parseDirective("}%%","close_directive","flowchart");break;case 10:case 36:case 37:case 38:case 39:case 40:this.$=[];break;case 11:o[s]!==[]&&o[s-1].push(o[s]),this.$=o[s-1];break;case 12:case 82:case 84:case 96:case 152:case 154:case 155:case 78:case 150:this.$=o[s];break;case 19:r.setDirection("TB"),this.$="TB";break;case 20:r.setDirection(o[s-1]),this.$=o[s-1];break;case 35:this.$=o[s-1].nodes;break;case 41:this.$=r.addSubGraph(o[s-6],o[s-1],o[s-4]);break;case 42:this.$=r.addSubGraph(o[s-3],o[s-1],o[s-3]);break;case 43:this.$=r.addSubGraph(void 0,o[s-1],void 0);break;case 45:this.$=o[s].trim(),r.setAccTitle(this.$);break;case 46:case 47:this.$=o[s].trim(),r.setAccDescription(this.$);break;case 51:r.addLink(o[s-2].stmt,o[s],o[s-1]),this.$={stmt:o[s],nodes:o[s].concat(o[s-2].nodes)};break;case 52:r.addLink(o[s-3].stmt,o[s-1],o[s-2]),this.$={stmt:o[s-1],nodes:o[s-1].concat(o[s-3].nodes)};break;case 53:this.$={stmt:o[s-1],nodes:o[s-1]};break;case 54:this.$={stmt:o[s],nodes:o[s]};break;case 55:case 123:case 125:this.$=[o[s]];break;case 56:this.$=o[s-4].concat(o[s]);break;case 57:this.$=[o[s-2]],r.setClass(o[s-2],o[s]);break;case 58:this.$=o[s-3],r.addVertex(o[s-3],o[s-1],"square");break;case 59:this.$=o[s-3],r.addVertex(o[s-3],o[s-1],"doublecircle");break;case 60:this.$=o[s-5],r.addVertex(o[s-5],o[s-2],"circle");break;case 61:this.$=o[s-3],r.addVertex(o[s-3],o[s-1],"ellipse");break;case 62:this.$=o[s-3],r.addVertex(o[s-3],o[s-1],"stadium");break;case 63:this.$=o[s-3],r.addVertex(o[s-3],o[s-1],"subroutine");break;case 64:this.$=o[s-7],r.addVertex(o[s-7],o[s-1],"rect",void 0,void 0,void 0,Object.fromEntries([[o[s-5],o[s-3]]]));break;case 65:this.$=o[s-3],r.addVertex(o[s-3],o[s-1],"cylinder");break;case 66:this.$=o[s-3],r.addVertex(o[s-3],o[s-1],"round");break;case 67:this.$=o[s-3],r.addVertex(o[s-3],o[s-1],"diamond");break;case 68:this.$=o[s-5],r.addVertex(o[s-5],o[s-2],"hexagon");break;case 69:this.$=o[s-3],r.addVertex(o[s-3],o[s-1],"odd");break;case 70:this.$=o[s-3],r.addVertex(o[s-3],o[s-1],"trapezoid");break;case 71:this.$=o[s-3],r.addVertex(o[s-3],o[s-1],"inv_trapezoid");break;case 72:this.$=o[s-3],r.addVertex(o[s-3],o[s-1],"lean_right");break;case 73:this.$=o[s-3],r.addVertex(o[s-3],o[s-1],"lean_left");break;case 74:this.$=o[s],r.addVertex(o[s]);break;case 75:o[s-1].text=o[s],this.$=o[s-1];break;case 76:case 77:o[s-2].text=o[s-1],this.$=o[s-2];break;case 79:var l=r.destructLink(o[s],o[s-2]);this.$={type:l.type,stroke:l.stroke,length:l.length,text:o[s-1]};break;case 80:l=r.destructLink(o[s]),this.$={type:l.type,stroke:l.stroke,length:l.length};break;case 81:this.$=o[s-1];break;case 83:case 97:case 153:case 151:this.$=o[s-1]+""+o[s];break;case 98:case 99:this.$=o[s-4],r.addClass(o[s-2],o[s]);break;case 100:this.$=o[s-4],r.setClass(o[s-2],o[s]);break;case 101:case 109:this.$=o[s-1],r.setClickEvent(o[s-1],o[s]);break;case 102:case 110:this.$=o[s-3],r.setClickEvent(o[s-3],o[s-2]),r.setTooltip(o[s-3],o[s]);break;case 103:this.$=o[s-2],r.setClickEvent(o[s-2],o[s-1],o[s]);break;case 104:this.$=o[s-4],r.setClickEvent(o[s-4],o[s-3],o[s-2]),r.setTooltip(o[s-4],o[s]);break;case 105:case 111:this.$=o[s-1],r.setLink(o[s-1],o[s]);break;case 106:case 112:this.$=o[s-3],r.setLink(o[s-3],o[s-2]),r.setTooltip(o[s-3],o[s]);break;case 107:case 113:this.$=o[s-3],r.setLink(o[s-3],o[s-2],o[s]);break;case 108:case 114:this.$=o[s-5],r.setLink(o[s-5],o[s-4],o[s]),r.setTooltip(o[s-5],o[s-2]);break;case 115:this.$=o[s-4],r.addVertex(o[s-2],void 0,void 0,o[s]);break;case 116:case 118:this.$=o[s-4],r.updateLink(o[s-2],o[s]);break;case 117:this.$=o[s-4],r.updateLink([o[s-2]],o[s]);break;case 119:this.$=o[s-8],r.updateLinkInterpolate([o[s-6]],o[s-2]),r.updateLink([o[s-6]],o[s]);break;case 120:this.$=o[s-8],r.updateLinkInterpolate(o[s-6],o[s-2]),r.updateLink(o[s-6],o[s]);break;case 121:this.$=o[s-6],r.updateLinkInterpolate([o[s-4]],o[s]);break;case 122:this.$=o[s-6],r.updateLinkInterpolate(o[s-4],o[s]);break;case 124:case 126:o[s-2].push(o[s]),this.$=o[s-2];break;case 128:this.$=o[s-1]+o[s];break;case 156:this.$="v";break;case 157:this.$="-";break;case 158:this.$={stmt:"dir",value:"TB"};break;case 159:this.$={stmt:"dir",value:"BT"};break;case 160:this.$={stmt:"dir",value:"RL"};break;case 161:this.$={stmt:"dir",value:"LR"}}},table:[{3:1,4:2,5:3,6:5,12:e,16:4,21:n,22:r,24:i},{1:[3]},{1:[2,1]},{3:10,4:2,5:3,6:5,12:e,16:4,21:n,22:r,24:i},t(o,a,{17:11}),{7:12,13:[1,13]},{16:14,21:n,22:r,24:i},{16:15,21:n,22:r,24:i},{25:[1,16],26:[1,17]},{13:[2,5]},{1:[2,2]},{1:[2,9],18:18,19:19,20:s,21:l,22:c,23:u,32:24,33:25,34:26,35:27,36:28,37:29,38:h,43:31,44:d,46:f,48:p,50:35,51:45,52:g,54:46,66:m,67:y,86:v,87:b,88:w,89:x,90:_,91:k,95:E,105:C,106:S,109:D,111:T,112:A,116:47,118:M,119:N,120:O,121:F,122:I,123:L,124:B,125:R,126:P,127:z},{8:64,10:[1,65],15:$},t([10,15],[2,6]),t(o,[2,17]),t(o,[2,18]),t(o,[2,19]),{20:[1,68],21:[1,69],22:j,27:67,30:70},t(U,[2,11]),t(U,[2,12]),t(U,[2,13]),t(U,[2,14]),t(U,[2,15]),t(U,[2,16]),{9:72,20:Y,21:q,23:W,49:73,78:77,81:[1,78],82:[1,79]},{9:80,20:Y,21:q,23:W},{9:81,20:Y,21:q,23:W},{9:82,20:Y,21:q,23:W},{9:83,20:Y,21:q,23:W},{9:84,20:Y,21:q,23:W},{9:86,20:Y,21:q,22:[1,85],23:W},t(U,[2,44]),{45:[1,87]},{47:[1,88]},t(U,[2,47]),t(H,[2,54],{30:89,22:j}),{22:[1,90]},{22:[1,91]},{22:[1,92]},{22:[1,93]},{26:V,52:G,66:X,67:K,84:[1,97],91:J,97:96,98:[1,94],100:[1,95],105:Z,106:Q,109:tt,111:et,112:nt,115:100,117:98,122:rt,123:it,124:ot,125:at,126:st,127:lt},t(U,[2,158]),t(U,[2,159]),t(U,[2,160]),t(U,[2,161]),t(ct,[2,55],{53:[1,116]}),t(ut,[2,74],{116:129,40:[1,117],52:g,55:[1,118],57:[1,119],59:[1,120],61:[1,121],63:[1,122],65:[1,123],66:m,67:y,69:[1,124],71:[1,125],73:[1,126],74:[1,127],76:[1,128],91:k,95:E,105:C,106:S,109:D,111:T,112:A,122:I,123:L,124:B,125:R,126:P,127:z}),t(ht,[2,150]),t(ht,[2,175]),t(ht,[2,176]),t(ht,[2,177]),t(ht,[2,178]),t(ht,[2,179]),t(ht,[2,180]),t(ht,[2,181]),t(ht,[2,182]),t(ht,[2,183]),t(ht,[2,184]),t(ht,[2,185]),t(ht,[2,186]),t(ht,[2,187]),t(ht,[2,188]),t(ht,[2,189]),t(ht,[2,190]),{9:130,20:Y,21:q,23:W},{11:131,14:[1,132]},t(dt,[2,8]),t(o,[2,20]),t(o,[2,26]),t(o,[2,27]),{21:[1,133]},t(ft,[2,34],{30:134,22:j}),t(U,[2,35]),{50:135,51:45,52:g,54:46,66:m,67:y,91:k,95:E,105:C,106:S,109:D,111:T,112:A,116:47,122:I,123:L,124:B,125:R,126:P,127:z},t(pt,[2,48]),t(pt,[2,49]),t(pt,[2,50]),t(gt,[2,78],{79:136,68:[1,138],80:[1,137]}),{22:mt,24:yt,26:vt,38:bt,39:139,42:wt,52:G,66:X,67:K,73:xt,81:_t,83:140,84:kt,85:151,86:Et,87:Ct,88:St,89:Dt,90:Tt,91:At,92:Mt,94:142,95:Nt,105:Z,106:Q,109:Ot,111:et,112:nt,113:Ft,114:It,115:148,122:rt,123:it,124:ot,125:at,126:st,127:lt},t([52,66,67,68,80,91,95,105,106,109,111,112,122,123,124,125,126,127],[2,80]),t(U,[2,36]),t(U,[2,37]),t(U,[2,38]),t(U,[2,39]),t(U,[2,40]),{22:mt,24:yt,26:vt,38:bt,39:163,42:wt,52:G,66:X,67:K,73:xt,81:_t,83:140,84:kt,85:151,86:Et,87:Ct,88:St,89:Dt,90:Tt,91:At,92:Mt,94:142,95:Nt,105:Z,106:Q,109:Ot,111:et,112:nt,113:Ft,114:It,115:148,122:rt,123:it,124:ot,125:at,126:st,127:lt},t(Lt,a,{17:164}),t(U,[2,45]),t(U,[2,46]),t(H,[2,53],{52:Bt}),{26:V,52:G,66:X,67:K,91:J,97:166,102:[1,167],105:Z,106:Q,109:tt,111:et,112:nt,115:100,117:98,122:rt,123:it,124:ot,125:at,126:st,127:lt},{95:[1,168],103:169,105:[1,170]},{26:V,52:G,66:X,67:K,91:J,95:[1,171],97:172,105:Z,106:Q,109:tt,111:et,112:nt,115:100,117:98,122:rt,123:it,124:ot,125:at,126:st,127:lt},{26:V,52:G,66:X,67:K,91:J,97:173,105:Z,106:Q,109:tt,111:et,112:nt,115:100,117:98,122:rt,123:it,124:ot,125:at,126:st,127:lt},t(dt,[2,101],{22:[1,174],99:[1,175]}),t(dt,[2,105],{22:[1,176]}),t(dt,[2,109],{115:100,117:178,22:[1,177],26:V,52:G,66:X,67:K,91:J,105:Z,106:Q,109:tt,111:et,112:nt,122:rt,123:it,124:ot,125:at,126:st,127:lt}),t(dt,[2,111],{22:[1,179]}),t(Rt,[2,152]),t(Rt,[2,154]),t(Rt,[2,155]),t(Rt,[2,156]),t(Rt,[2,157]),t(Pt,[2,162]),t(Pt,[2,163]),t(Pt,[2,164]),t(Pt,[2,165]),t(Pt,[2,166]),t(Pt,[2,167]),t(Pt,[2,168]),t(Pt,[2,169]),t(Pt,[2,170]),t(Pt,[2,171]),t(Pt,[2,172]),t(Pt,[2,173]),t(Pt,[2,174]),{52:g,54:180,66:m,67:y,91:k,95:E,105:C,106:S,109:D,111:T,112:A,116:47,122:I,123:L,124:B,125:R,126:P,127:z},{22:mt,24:yt,26:vt,38:bt,39:181,42:wt,52:G,66:X,67:K,73:xt,81:_t,83:140,84:kt,85:151,86:Et,87:Ct,88:St,89:Dt,90:Tt,91:At,92:Mt,94:142,95:Nt,105:Z,106:Q,109:Ot,111:et,112:nt,113:Ft,114:It,115:148,122:rt,123:it,124:ot,125:at,126:st,127:lt},{22:mt,24:yt,26:vt,38:bt,39:182,42:wt,52:G,66:X,67:K,73:xt,81:_t,83:140,84:kt,85:151,86:Et,87:Ct,88:St,89:Dt,90:Tt,91:At,92:Mt,94:142,95:Nt,105:Z,106:Q,109:Ot,111:et,112:nt,113:Ft,114:It,115:148,122:rt,123:it,124:ot,125:at,126:st,127:lt},{22:mt,24:yt,26:vt,38:bt,39:184,42:wt,52:G,57:[1,183],66:X,67:K,73:xt,81:_t,83:140,84:kt,85:151,86:Et,87:Ct,88:St,89:Dt,90:Tt,91:At,92:Mt,94:142,95:Nt,105:Z,106:Q,109:Ot,111:et,112:nt,113:Ft,114:It,115:148,122:rt,123:it,124:ot,125:at,126:st,127:lt},{22:mt,24:yt,26:vt,38:bt,39:185,42:wt,52:G,66:X,67:K,73:xt,81:_t,83:140,84:kt,85:151,86:Et,87:Ct,88:St,89:Dt,90:Tt,91:At,92:Mt,94:142,95:Nt,105:Z,106:Q,109:Ot,111:et,112:nt,113:Ft,114:It,115:148,122:rt,123:it,124:ot,125:at,126:st,127:lt},{22:mt,24:yt,26:vt,38:bt,39:186,42:wt,52:G,66:X,67:K,73:xt,81:_t,83:140,84:kt,85:151,86:Et,87:Ct,88:St,89:Dt,90:Tt,91:At,92:Mt,94:142,95:Nt,105:Z,106:Q,109:Ot,111:et,112:nt,113:Ft,114:It,115:148,122:rt,123:it,124:ot,125:at,126:st,127:lt},{22:mt,24:yt,26:vt,38:bt,39:187,42:wt,52:G,66:X,67:K,73:xt,81:_t,83:140,84:kt,85:151,86:Et,87:Ct,88:St,89:Dt,90:Tt,91:At,92:Mt,94:142,95:Nt,105:Z,106:Q,109:Ot,111:et,112:nt,113:Ft,114:It,115:148,122:rt,123:it,124:ot,125:at,126:st,127:lt},{66:[1,188]},{22:mt,24:yt,26:vt,38:bt,39:189,42:wt,52:G,66:X,67:K,73:xt,81:_t,83:140,84:kt,85:151,86:Et,87:Ct,88:St,89:Dt,90:Tt,91:At,92:Mt,94:142,95:Nt,105:Z,106:Q,109:Ot,111:et,112:nt,113:Ft,114:It,115:148,122:rt,123:it,124:ot,125:at,126:st,127:lt},{22:mt,24:yt,26:vt,38:bt,39:190,42:wt,52:G,66:X,67:K,71:[1,191],73:xt,81:_t,83:140,84:kt,85:151,86:Et,87:Ct,88:St,89:Dt,90:Tt,91:At,92:Mt,94:142,95:Nt,105:Z,106:Q,109:Ot,111:et,112:nt,113:Ft,114:It,115:148,122:rt,123:it,124:ot,125:at,126:st,127:lt},{22:mt,24:yt,26:vt,38:bt,39:192,42:wt,52:G,66:X,67:K,73:xt,81:_t,83:140,84:kt,85:151,86:Et,87:Ct,88:St,89:Dt,90:Tt,91:At,92:Mt,94:142,95:Nt,105:Z,106:Q,109:Ot,111:et,112:nt,113:Ft,114:It,115:148,122:rt,123:it,124:ot,125:at,126:st,127:lt},{22:mt,24:yt,26:vt,38:bt,39:193,42:wt,52:G,66:X,67:K,73:xt,81:_t,83:140,84:kt,85:151,86:Et,87:Ct,88:St,89:Dt,90:Tt,91:At,92:Mt,94:142,95:Nt,105:Z,106:Q,109:Ot,111:et,112:nt,113:Ft,114:It,115:148,122:rt,123:it,124:ot,125:at,126:st,127:lt},{22:mt,24:yt,26:vt,38:bt,39:194,42:wt,52:G,66:X,67:K,73:xt,81:_t,83:140,84:kt,85:151,86:Et,87:Ct,88:St,89:Dt,90:Tt,91:At,92:Mt,94:142,95:Nt,105:Z,106:Q,109:Ot,111:et,112:nt,113:Ft,114:It,115:148,122:rt,123:it,124:ot,125:at,126:st,127:lt},t(ht,[2,151]),t(zt,[2,3]),{8:195,15:$},{15:[2,7]},t(o,[2,28]),t(ft,[2,33]),t(H,[2,51],{30:196,22:j}),t(gt,[2,75],{22:[1,197]}),{22:[1,198]},{22:mt,24:yt,26:vt,38:bt,39:199,42:wt,52:G,66:X,67:K,73:xt,81:_t,83:140,84:kt,85:151,86:Et,87:Ct,88:St,89:Dt,90:Tt,91:At,92:Mt,94:142,95:Nt,105:Z,106:Q,109:Ot,111:et,112:nt,113:Ft,114:It,115:148,122:rt,123:it,124:ot,125:at,126:st,127:lt},{22:mt,24:yt,26:vt,38:bt,42:wt,52:G,66:X,67:K,73:xt,81:_t,82:[1,200],83:201,85:151,86:Et,87:Ct,88:St,89:Dt,90:Tt,91:At,92:Mt,94:142,95:Nt,105:Z,106:Q,109:Ot,111:et,112:nt,113:Ft,114:It,115:148,122:rt,123:it,124:ot,125:at,126:st,127:lt},t(Pt,[2,82]),t(Pt,[2,84]),t(Pt,[2,140]),t(Pt,[2,141]),t(Pt,[2,142]),t(Pt,[2,143]),t(Pt,[2,144]),t(Pt,[2,145]),t(Pt,[2,146]),t(Pt,[2,147]),t(Pt,[2,148]),t(Pt,[2,149]),t(Pt,[2,85]),t(Pt,[2,86]),t(Pt,[2,87]),t(Pt,[2,88]),t(Pt,[2,89]),t(Pt,[2,90]),t(Pt,[2,91]),t(Pt,[2,92]),t(Pt,[2,93]),t(Pt,[2,94]),t(Pt,[2,95]),{9:203,20:Y,21:q,22:mt,23:W,24:yt,26:vt,38:bt,40:[1,202],42:wt,52:G,66:X,67:K,73:xt,81:_t,83:201,85:151,86:Et,87:Ct,88:St,89:Dt,90:Tt,91:At,92:Mt,94:142,95:Nt,105:Z,106:Q,109:Ot,111:et,112:nt,113:Ft,114:It,115:148,122:rt,123:it,124:ot,125:at,126:st,127:lt},{18:18,19:19,20:s,21:l,22:c,23:u,32:24,33:25,34:26,35:27,36:28,37:29,38:h,42:[1,204],43:31,44:d,46:f,48:p,50:35,51:45,52:g,54:46,66:m,67:y,86:v,87:b,88:w,89:x,90:_,91:k,95:E,105:C,106:S,109:D,111:T,112:A,116:47,118:M,119:N,120:O,121:F,122:I,123:L,124:B,125:R,126:P,127:z},{22:j,30:205},{22:[1,206],26:V,52:G,66:X,67:K,91:J,105:Z,106:Q,109:tt,111:et,112:nt,115:100,117:178,122:rt,123:it,124:ot,125:at,126:st,127:lt},{22:[1,207]},{22:[1,208]},{22:[1,209],106:[1,210]},t($t,[2,123]),{22:[1,211]},{22:[1,212],26:V,52:G,66:X,67:K,91:J,105:Z,106:Q,109:tt,111:et,112:nt,115:100,117:178,122:rt,123:it,124:ot,125:at,126:st,127:lt},{22:[1,213],26:V,52:G,66:X,67:K,91:J,105:Z,106:Q,109:tt,111:et,112:nt,115:100,117:178,122:rt,123:it,124:ot,125:at,126:st,127:lt},{84:[1,214]},t(dt,[2,103],{22:[1,215]}),{84:[1,216],101:[1,217]},{84:[1,218]},t(Rt,[2,153]),{84:[1,219],101:[1,220]},t(ct,[2,57],{116:129,52:g,66:m,67:y,91:k,95:E,105:C,106:S,109:D,111:T,112:A,122:I,123:L,124:B,125:R,126:P,127:z}),{22:mt,24:yt,26:vt,38:bt,41:[1,221],42:wt,52:G,66:X,67:K,73:xt,81:_t,83:201,85:151,86:Et,87:Ct,88:St,89:Dt,90:Tt,91:At,92:Mt,94:142,95:Nt,105:Z,106:Q,109:Ot,111:et,112:nt,113:Ft,114:It,115:148,122:rt,123:it,124:ot,125:at,126:st,127:lt},{22:mt,24:yt,26:vt,38:bt,42:wt,52:G,56:[1,222],66:X,67:K,73:xt,81:_t,83:201,85:151,86:Et,87:Ct,88:St,89:Dt,90:Tt,91:At,92:Mt,94:142,95:Nt,105:Z,106:Q,109:Ot,111:et,112:nt,113:Ft,114:It,115:148,122:rt,123:it,124:ot,125:at,126:st,127:lt},{22:mt,24:yt,26:vt,38:bt,39:223,42:wt,52:G,66:X,67:K,73:xt,81:_t,83:140,84:kt,85:151,86:Et,87:Ct,88:St,89:Dt,90:Tt,91:At,92:Mt,94:142,95:Nt,105:Z,106:Q,109:Ot,111:et,112:nt,113:Ft,114:It,115:148,122:rt,123:it,124:ot,125:at,126:st,127:lt},{22:mt,24:yt,26:vt,38:bt,42:wt,52:G,58:[1,224],66:X,67:K,73:xt,81:_t,83:201,85:151,86:Et,87:Ct,88:St,89:Dt,90:Tt,91:At,92:Mt,94:142,95:Nt,105:Z,106:Q,109:Ot,111:et,112:nt,113:Ft,114:It,115:148,122:rt,123:it,124:ot,125:at,126:st,127:lt},{22:mt,24:yt,26:vt,38:bt,42:wt,52:G,60:[1,225],66:X,67:K,73:xt,81:_t,83:201,85:151,86:Et,87:Ct,88:St,89:Dt,90:Tt,91:At,92:Mt,94:142,95:Nt,105:Z,106:Q,109:Ot,111:et,112:nt,113:Ft,114:It,115:148,122:rt,123:it,124:ot,125:at,126:st,127:lt},{22:mt,24:yt,26:vt,38:bt,42:wt,52:G,62:[1,226],66:X,67:K,73:xt,81:_t,83:201,85:151,86:Et,87:Ct,88:St,89:Dt,90:Tt,91:At,92:Mt,94:142,95:Nt,105:Z,106:Q,109:Ot,111:et,112:nt,113:Ft,114:It,115:148,122:rt,123:it,124:ot,125:at,126:st,127:lt},{22:mt,24:yt,26:vt,38:bt,42:wt,52:G,64:[1,227],66:X,67:K,73:xt,81:_t,83:201,85:151,86:Et,87:Ct,88:St,89:Dt,90:Tt,91:At,92:Mt,94:142,95:Nt,105:Z,106:Q,109:Ot,111:et,112:nt,113:Ft,114:It,115:148,122:rt,123:it,124:ot,125:at,126:st,127:lt},{67:[1,228]},{22:mt,24:yt,26:vt,38:bt,42:wt,52:G,66:X,67:K,70:[1,229],73:xt,81:_t,83:201,85:151,86:Et,87:Ct,88:St,89:Dt,90:Tt,91:At,92:Mt,94:142,95:Nt,105:Z,106:Q,109:Ot,111:et,112:nt,113:Ft,114:It,115:148,122:rt,123:it,124:ot,125:at,126:st,127:lt},{22:mt,24:yt,26:vt,38:bt,42:wt,52:G,66:X,67:K,72:[1,230],73:xt,81:_t,83:201,85:151,86:Et,87:Ct,88:St,89:Dt,90:Tt,91:At,92:Mt,94:142,95:Nt,105:Z,106:Q,109:Ot,111:et,112:nt,113:Ft,114:It,115:148,122:rt,123:it,124:ot,125:at,126:st,127:lt},{22:mt,24:yt,26:vt,38:bt,39:231,42:wt,52:G,66:X,67:K,73:xt,81:_t,83:140,84:kt,85:151,86:Et,87:Ct,88:St,89:Dt,90:Tt,91:At,92:Mt,94:142,95:Nt,105:Z,106:Q,109:Ot,111:et,112:nt,113:Ft,114:It,115:148,122:rt,123:it,124:ot,125:at,126:st,127:lt},{22:mt,24:yt,26:vt,38:bt,41:[1,232],42:wt,52:G,66:X,67:K,73:xt,81:_t,83:201,85:151,86:Et,87:Ct,88:St,89:Dt,90:Tt,91:At,92:Mt,94:142,95:Nt,105:Z,106:Q,109:Ot,111:et,112:nt,113:Ft,114:It,115:148,122:rt,123:it,124:ot,125:at,126:st,127:lt},{22:mt,24:yt,26:vt,38:bt,42:wt,52:G,66:X,67:K,73:xt,75:[1,233],77:[1,234],81:_t,83:201,85:151,86:Et,87:Ct,88:St,89:Dt,90:Tt,91:At,92:Mt,94:142,95:Nt,105:Z,106:Q,109:Ot,111:et,112:nt,113:Ft,114:It,115:148,122:rt,123:it,124:ot,125:at,126:st,127:lt},{22:mt,24:yt,26:vt,38:bt,42:wt,52:G,66:X,67:K,73:xt,75:[1,236],77:[1,235],81:_t,83:201,85:151,86:Et,87:Ct,88:St,89:Dt,90:Tt,91:At,92:Mt,94:142,95:Nt,105:Z,106:Q,109:Ot,111:et,112:nt,113:Ft,114:It,115:148,122:rt,123:it,124:ot,125:at,126:st,127:lt},{9:237,20:Y,21:q,23:W},t(H,[2,52],{52:Bt}),t(gt,[2,77]),t(gt,[2,76]),{22:mt,24:yt,26:vt,38:bt,42:wt,52:G,66:X,67:K,68:[1,238],73:xt,81:_t,83:201,85:151,86:Et,87:Ct,88:St,89:Dt,90:Tt,91:At,92:Mt,94:142,95:Nt,105:Z,106:Q,109:Ot,111:et,112:nt,113:Ft,114:It,115:148,122:rt,123:it,124:ot,125:at,126:st,127:lt},t(gt,[2,79]),t(Pt,[2,83]),{22:mt,24:yt,26:vt,38:bt,39:239,42:wt,52:G,66:X,67:K,73:xt,81:_t,83:140,84:kt,85:151,86:Et,87:Ct,88:St,89:Dt,90:Tt,91:At,92:Mt,94:142,95:Nt,105:Z,106:Q,109:Ot,111:et,112:nt,113:Ft,114:It,115:148,122:rt,123:it,124:ot,125:at,126:st,127:lt},t(Lt,a,{17:240}),t(U,[2,43]),{51:241,52:g,54:46,66:m,67:y,91:k,95:E,105:C,106:S,109:D,111:T,112:A,116:47,122:I,123:L,124:B,125:R,126:P,127:z},{22:jt,66:Ut,67:Yt,86:qt,96:242,102:Wt,105:Ht,107:243,108:244,109:Vt,110:Gt,111:Xt,112:Kt,113:Jt},{22:jt,66:Ut,67:Yt,86:qt,96:256,102:Wt,105:Ht,107:243,108:244,109:Vt,110:Gt,111:Xt,112:Kt,113:Jt},{22:jt,66:Ut,67:Yt,86:qt,96:257,102:Wt,104:[1,258],105:Ht,107:243,108:244,109:Vt,110:Gt,111:Xt,112:Kt,113:Jt},{22:jt,66:Ut,67:Yt,86:qt,96:259,102:Wt,104:[1,260],105:Ht,107:243,108:244,109:Vt,110:Gt,111:Xt,112:Kt,113:Jt},{105:[1,261]},{22:jt,66:Ut,67:Yt,86:qt,96:262,102:Wt,105:Ht,107:243,108:244,109:Vt,110:Gt,111:Xt,112:Kt,113:Jt},{22:jt,66:Ut,67:Yt,86:qt,96:263,102:Wt,105:Ht,107:243,108:244,109:Vt,110:Gt,111:Xt,112:Kt,113:Jt},{26:V,52:G,66:X,67:K,91:J,97:264,105:Z,106:Q,109:tt,111:et,112:nt,115:100,117:98,122:rt,123:it,124:ot,125:at,126:st,127:lt},t(dt,[2,102]),{84:[1,265]},t(dt,[2,106],{22:[1,266]}),t(dt,[2,107]),t(dt,[2,110]),t(dt,[2,112],{22:[1,267]}),t(dt,[2,113]),t(ut,[2,58]),t(ut,[2,59]),{22:mt,24:yt,26:vt,38:bt,42:wt,52:G,58:[1,268],66:X,67:K,73:xt,81:_t,83:201,85:151,86:Et,87:Ct,88:St,89:Dt,90:Tt,91:At,92:Mt,94:142,95:Nt,105:Z,106:Q,109:Ot,111:et,112:nt,113:Ft,114:It,115:148,122:rt,123:it,124:ot,125:at,126:st,127:lt},t(ut,[2,66]),t(ut,[2,61]),t(ut,[2,62]),t(ut,[2,63]),{66:[1,269]},t(ut,[2,65]),t(ut,[2,67]),{22:mt,24:yt,26:vt,38:bt,42:wt,52:G,66:X,67:K,72:[1,270],73:xt,81:_t,83:201,85:151,86:Et,87:Ct,88:St,89:Dt,90:Tt,91:At,92:Mt,94:142,95:Nt,105:Z,106:Q,109:Ot,111:et,112:nt,113:Ft,114:It,115:148,122:rt,123:it,124:ot,125:at,126:st,127:lt},t(ut,[2,69]),t(ut,[2,70]),t(ut,[2,72]),t(ut,[2,71]),t(ut,[2,73]),t(zt,[2,4]),t([22,52,66,67,91,95,105,106,109,111,112,122,123,124,125,126,127],[2,81]),{22:mt,24:yt,26:vt,38:bt,41:[1,271],42:wt,52:G,66:X,67:K,73:xt,81:_t,83:201,85:151,86:Et,87:Ct,88:St,89:Dt,90:Tt,91:At,92:Mt,94:142,95:Nt,105:Z,106:Q,109:Ot,111:et,112:nt,113:Ft,114:It,115:148,122:rt,123:it,124:ot,125:at,126:st,127:lt},{18:18,19:19,20:s,21:l,22:c,23:u,32:24,33:25,34:26,35:27,36:28,37:29,38:h,42:[1,272],43:31,44:d,46:f,48:p,50:35,51:45,52:g,54:46,66:m,67:y,86:v,87:b,88:w,89:x,90:_,91:k,95:E,105:C,106:S,109:D,111:T,112:A,116:47,118:M,119:N,120:O,121:F,122:I,123:L,124:B,125:R,126:P,127:z},t(ct,[2,56]),t(dt,[2,115],{106:Zt}),t(Qt,[2,125],{108:274,22:jt,66:Ut,67:Yt,86:qt,102:Wt,105:Ht,109:Vt,110:Gt,111:Xt,112:Kt,113:Jt}),t(te,[2,127]),t(te,[2,129]),t(te,[2,130]),t(te,[2,131]),t(te,[2,132]),t(te,[2,133]),t(te,[2,134]),t(te,[2,135]),t(te,[2,136]),t(te,[2,137]),t(te,[2,138]),t(te,[2,139]),t(dt,[2,116],{106:Zt}),t(dt,[2,117],{106:Zt}),{22:[1,275]},t(dt,[2,118],{106:Zt}),{22:[1,276]},t($t,[2,124]),t(dt,[2,98],{106:Zt}),t(dt,[2,99],{106:Zt}),t(dt,[2,100],{115:100,117:178,26:V,52:G,66:X,67:K,91:J,105:Z,106:Q,109:tt,111:et,112:nt,122:rt,123:it,124:ot,125:at,126:st,127:lt}),t(dt,[2,104]),{101:[1,277]},{101:[1,278]},{58:[1,279]},{68:[1,280]},{72:[1,281]},{9:282,20:Y,21:q,23:W},t(U,[2,42]),{22:jt,66:Ut,67:Yt,86:qt,102:Wt,105:Ht,107:283,108:244,109:Vt,110:Gt,111:Xt,112:Kt,113:Jt},t(te,[2,128]),{26:V,52:G,66:X,67:K,91:J,97:284,105:Z,106:Q,109:tt,111:et,112:nt,115:100,117:98,122:rt,123:it,124:ot,125:at,126:st,127:lt},{26:V,52:G,66:X,67:K,91:J,97:285,105:Z,106:Q,109:tt,111:et,112:nt,115:100,117:98,122:rt,123:it,124:ot,125:at,126:st,127:lt},t(dt,[2,108]),t(dt,[2,114]),t(ut,[2,60]),{22:mt,24:yt,26:vt,38:bt,39:286,42:wt,52:G,66:X,67:K,73:xt,81:_t,83:140,84:kt,85:151,86:Et,87:Ct,88:St,89:Dt,90:Tt,91:At,92:Mt,94:142,95:Nt,105:Z,106:Q,109:Ot,111:et,112:nt,113:Ft,114:It,115:148,122:rt,123:it,124:ot,125:at,126:st,127:lt},t(ut,[2,68]),t(Lt,a,{17:287}),t(Qt,[2,126],{108:274,22:jt,66:Ut,67:Yt,86:qt,102:Wt,105:Ht,109:Vt,110:Gt,111:Xt,112:Kt,113:Jt}),t(dt,[2,121],{115:100,117:178,22:[1,288],26:V,52:G,66:X,67:K,91:J,105:Z,106:Q,109:tt,111:et,112:nt,122:rt,123:it,124:ot,125:at,126:st,127:lt}),t(dt,[2,122],{115:100,117:178,22:[1,289],26:V,52:G,66:X,67:K,91:J,105:Z,106:Q,109:tt,111:et,112:nt,122:rt,123:it,124:ot,125:at,126:st,127:lt}),{22:mt,24:yt,26:vt,38:bt,41:[1,290],42:wt,52:G,66:X,67:K,73:xt,81:_t,83:201,85:151,86:Et,87:Ct,88:St,89:Dt,90:Tt,91:At,92:Mt,94:142,95:Nt,105:Z,106:Q,109:Ot,111:et,112:nt,113:Ft,114:It,115:148,122:rt,123:it,124:ot,125:at,126:st,127:lt},{18:18,19:19,20:s,21:l,22:c,23:u,32:24,33:25,34:26,35:27,36:28,37:29,38:h,42:[1,291],43:31,44:d,46:f,48:p,50:35,51:45,52:g,54:46,66:m,67:y,86:v,87:b,88:w,89:x,90:_,91:k,95:E,105:C,106:S,109:D,111:T,112:A,116:47,118:M,119:N,120:O,121:F,122:I,123:L,124:B,125:R,126:P,127:z},{22:jt,66:Ut,67:Yt,86:qt,96:292,102:Wt,105:Ht,107:243,108:244,109:Vt,110:Gt,111:Xt,112:Kt,113:Jt},{22:jt,66:Ut,67:Yt,86:qt,96:293,102:Wt,105:Ht,107:243,108:244,109:Vt,110:Gt,111:Xt,112:Kt,113:Jt},t(ut,[2,64]),t(U,[2,41]),t(dt,[2,119],{106:Zt}),t(dt,[2,120],{106:Zt})],defaultActions:{2:[2,1],9:[2,5],10:[2,2],132:[2,7]},parseError:function(t,e){if(!e.recoverable){var n=new Error(t);throw n.hash=e,n}this.trace(t)},parse:function(t){var e=this,n=[0],r=[],i=[null],o=[],a=this.table,s="",l=0,c=0,u=0,h=2,d=1,f=o.slice.call(arguments,1),p=Object.create(this.lexer),g={yy:{}};for(var m in this.yy)Object.prototype.hasOwnProperty.call(this.yy,m)&&(g.yy[m]=this.yy[m]);p.setInput(t,g.yy),g.yy.lexer=p,g.yy.parser=this,void 0===p.yylloc&&(p.yylloc={});var y=p.yylloc;o.push(y);var v=p.options&&p.options.ranges;function b(){var t;return"number"!=typeof(t=r.pop()||p.lex()||d)&&(t instanceof Array&&(t=(r=t).pop()),t=e.symbols_[t]||t),t}"function"==typeof g.yy.parseError?this.parseError=g.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var w,x,_,k,E,C,S,D,T,A={};;){if(_=n[n.length-1],this.defaultActions[_]?k=this.defaultActions[_]:(null==w&&(w=b()),k=a[_]&&a[_][w]),void 0===k||!k.length||!k[0]){var M="";for(C in T=[],a[_])this.terminals_[C]&&C>h&&T.push("'"+this.terminals_[C]+"'");M=p.showPosition?"Parse error on line "+(l+1)+":\n"+p.showPosition()+"\nExpecting "+T.join(", ")+", got '"+(this.terminals_[w]||w)+"'":"Parse error on line "+(l+1)+": Unexpected "+(w==d?"end of input":"'"+(this.terminals_[w]||w)+"'"),this.parseError(M,{text:p.match,token:this.terminals_[w]||w,line:p.yylineno,loc:y,expected:T})}if(k[0]instanceof Array&&k.length>1)throw new Error("Parse Error: multiple actions possible at state: "+_+", token: "+w);switch(k[0]){case 1:n.push(w),i.push(p.yytext),o.push(p.yylloc),n.push(k[1]),w=null,x?(w=x,x=null):(c=p.yyleng,s=p.yytext,l=p.yylineno,y=p.yylloc,u>0&&u--);break;case 2:if(S=this.productions_[k[1]][1],A.$=i[i.length-S],A._$={first_line:o[o.length-(S||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(S||1)].first_column,last_column:o[o.length-1].last_column},v&&(A._$.range=[o[o.length-(S||1)].range[0],o[o.length-1].range[1]]),void 0!==(E=this.performAction.apply(A,[s,c,l,g.yy,k[1],i,o].concat(f))))return E;S&&(n=n.slice(0,-1*S*2),i=i.slice(0,-1*S),o=o.slice(0,-1*S)),n.push(this.productions_[k[1]][0]),i.push(A.$),o.push(A._$),D=a[n[n.length-2]][n[n.length-1]],n.push(D);break;case 3:return!0}}return!0}},ne={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,r,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(r=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in i)this[o]=i[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,n,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),o=0;o<i.length;o++)if((n=this._input.match(this.rules[i[o]]))&&(!e||n[0].length>e[0].length)){if(e=n,r=o,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,i[o])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,i[r]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(t,e,n,r){switch(n){case 0:return this.begin("open_directive"),12;case 1:return this.begin("type_directive"),13;case 2:return this.popState(),this.begin("arg_directive"),10;case 3:return this.popState(),this.popState(),15;case 4:return 14;case 5:case 6:break;case 7:return this.begin("acc_title"),44;case 8:return this.popState(),"acc_title_value";case 9:return this.begin("acc_descr"),46;case 10:return this.popState(),"acc_descr_value";case 11:this.begin("acc_descr_multiline");break;case 12:case 15:case 24:case 27:case 30:case 33:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:this.begin("string");break;case 16:return"STR";case 17:return 86;case 18:return 95;case 19:return 87;case 20:return 104;case 21:return 88;case 22:return 89;case 23:this.begin("href");break;case 25:return 100;case 26:this.begin("callbackname");break;case 28:this.popState(),this.begin("callbackargs");break;case 29:return 98;case 31:return 99;case 32:this.begin("click");break;case 34:return 90;case 35:case 36:return t.lex.firstGraph()&&this.begin("dir"),24;case 37:return 38;case 38:return 42;case 39:case 40:case 41:case 42:return 101;case 43:return this.popState(),25;case 44:case 45:case 46:case 47:case 48:case 49:case 50:case 51:case 52:case 53:return this.popState(),26;case 54:return 118;case 55:return 119;case 56:return 120;case 57:return 121;case 58:return 105;case 59:return 111;case 60:return 53;case 61:return 67;case 62:return 52;case 63:return 20;case 64:return 106;case 65:return 126;case 66:case 67:case 68:return 82;case 69:case 70:case 71:return 81;case 72:return 59;case 73:return 60;case 74:return 61;case 75:return 62;case 76:return 63;case 77:return 64;case 78:return 65;case 79:return 69;case 80:return 70;case 81:return 55;case 82:return 56;case 83:return 109;case 84:return 112;case 85:return 127;case 86:return 124;case 87:return 113;case 88:case 89:return 125;case 90:return 114;case 91:return 73;case 92:return 92;case 93:return"SEP";case 94:return 91;case 95:return 66;case 96:return 75;case 97:return 74;case 98:return 77;case 99:return 76;case 100:return 122;case 101:return 123;case 102:return 68;case 103:return 57;case 104:return 58;case 105:return 40;case 106:return 41;case 107:return 71;case 108:return 72;case 109:return 133;case 110:return 21;case 111:return 22;case 112:return 23}},rules:[/^(?:%%\{)/,/^(?:((?:(?!\}%%)[^:.])*))/,/^(?::)/,/^(?:\}%%)/,/^(?:((?:(?!\}%%).|\n)*))/,/^(?:%%(?!\{)[^\n]*)/,/^(?:[^\}]%%[^\n]*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:style\b)/,/^(?:default\b)/,/^(?:linkStyle\b)/,/^(?:interpolate\b)/,/^(?:classDef\b)/,/^(?:class\b)/,/^(?:href[\s]+["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:click[\s]+)/,/^(?:[\s\n])/,/^(?:[^\s\n]*)/,/^(?:graph\b)/,/^(?:flowchart\b)/,/^(?:subgraph\b)/,/^(?:end\b\s*)/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:(\r?\n)*\s*\n)/,/^(?:\s*LR\b)/,/^(?:\s*RL\b)/,/^(?:\s*TB\b)/,/^(?:\s*BT\b)/,/^(?:\s*TD\b)/,/^(?:\s*BR\b)/,/^(?:\s*<)/,/^(?:\s*>)/,/^(?:\s*\^)/,/^(?:\s*v\b)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:[0-9]+)/,/^(?:#)/,/^(?::::)/,/^(?::)/,/^(?:&)/,/^(?:;)/,/^(?:,)/,/^(?:\*)/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?:\s*[xo<]?--\s*)/,/^(?:\s*[xo<]?==\s*)/,/^(?:\s*[xo<]?-\.\s*)/,/^(?:\(-)/,/^(?:-\))/,/^(?:\(\[)/,/^(?:\]\))/,/^(?:\[\[)/,/^(?:\]\])/,/^(?:\[\|)/,/^(?:\[\()/,/^(?:\)\])/,/^(?:\(\(\()/,/^(?:\)\)\))/,/^(?:-)/,/^(?:\.)/,/^(?:[\_])/,/^(?:\+)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:<)/,/^(?:>)/,/^(?:\^)/,/^(?:\\\|)/,/^(?:v\b)/,/^(?:[A-Za-z]+)/,/^(?:\\\])/,/^(?:\[\/)/,/^(?:\/\])/,/^(?:\[\\)/,/^(?:[!"#$%&'*+,-.`?\\_/])/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\|)/,/^(?:\()/,/^(?:\))/,/^(?:\[)/,/^(?:\])/,/^(?:\{)/,/^(?:\})/,/^(?:")/,/^(?:(\r?\n)+)/,/^(?:\s)/,/^(?:$)/],conditions:{close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},callbackargs:{rules:[30,31],inclusive:!1},callbackname:{rules:[27,28,29],inclusive:!1},href:{rules:[24,25],inclusive:!1},click:{rules:[33,34],inclusive:!1},vertex:{rules:[],inclusive:!1},dir:{rules:[43,44,45,46,47,48,49,50,51,52,53],inclusive:!1},acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},string:{rules:[15,16],inclusive:!1},INITIAL:{rules:[0,5,6,7,9,11,14,17,18,19,20,21,22,23,26,32,35,36,37,38,39,40,41,42,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112],inclusive:!0}}};function re(){this.yy={}}return ee.lexer=ne,re.prototype=ee,ee.Parser=re,new re}();e.parser=r,e.Parser=r.Parser,e.parse=function(){return r.parse.apply(r,arguments)},e.main=function(t){t[1]||process.exit(1);var r=n(5354).readFileSync(n(6470).normalize(t[1]),"utf8");return e.parser.parse(r)},n.c[n.s]===t&&e.main(process.argv.slice(1))},9959:(t,e,n)=>{t=n.nmd(t);var r=function(){var t=function(t,e,n,r){for(n=n||{},r=t.length;r--;n[t[r]]=e);return n},e=[1,3],n=[1,5],r=[7,9,11,12,13,14,15,16,17,18,19,20,22,24,25,27,34,39],i=[1,15],o=[1,16],a=[1,17],s=[1,18],l=[1,19],c=[1,20],u=[1,21],h=[1,22],d=[1,23],f=[1,24],p=[1,25],g=[1,26],m=[1,28],y=[1,30],v=[1,33],b=[5,7,9,11,12,13,14,15,16,17,18,19,20,22,24,25,27,34,39],w={trace:function(){},yy:{},symbols_:{error:2,start:3,directive:4,gantt:5,document:6,EOF:7,line:8,SPACE:9,statement:10,NL:11,dateFormat:12,inclusiveEndDates:13,topAxis:14,axisFormat:15,excludes:16,includes:17,todayMarker:18,title:19,acc_title:20,acc_title_value:21,acc_descr:22,acc_descr_value:23,acc_descr_multiline_value:24,section:25,clickStatement:26,taskTxt:27,taskData:28,openDirective:29,typeDirective:30,closeDirective:31,":":32,argDirective:33,click:34,callbackname:35,callbackargs:36,href:37,clickStatementDebug:38,open_directive:39,type_directive:40,arg_directive:41,close_directive:42,$accept:0,$end:1},terminals_:{2:"error",5:"gantt",7:"EOF",9:"SPACE",11:"NL",12:"dateFormat",13:"inclusiveEndDates",14:"topAxis",15:"axisFormat",16:"excludes",17:"includes",18:"todayMarker",19:"title",20:"acc_title",21:"acc_title_value",22:"acc_descr",23:"acc_descr_value",24:"acc_descr_multiline_value",25:"section",27:"taskTxt",28:"taskData",32:":",34:"click",35:"callbackname",36:"callbackargs",37:"href",39:"open_directive",40:"type_directive",41:"arg_directive",42:"close_directive"},productions_:[0,[3,2],[3,3],[6,0],[6,2],[8,2],[8,1],[8,1],[8,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,2],[10,2],[10,1],[10,1],[10,1],[10,2],[10,1],[4,4],[4,6],[26,2],[26,3],[26,3],[26,4],[26,3],[26,4],[26,2],[38,2],[38,3],[38,3],[38,4],[38,3],[38,4],[38,2],[29,1],[30,1],[33,1],[31,1]],performAction:function(t,e,n,r,i,o,a){var s=o.length-1;switch(i){case 2:return o[s-1];case 3:case 7:case 8:this.$=[];break;case 4:o[s-1].push(o[s]),this.$=o[s-1];break;case 5:case 6:this.$=o[s];break;case 9:r.setDateFormat(o[s].substr(11)),this.$=o[s].substr(11);break;case 10:r.enableInclusiveEndDates(),this.$=o[s].substr(18);break;case 11:r.TopAxis(),this.$=o[s].substr(8);break;case 12:r.setAxisFormat(o[s].substr(11)),this.$=o[s].substr(11);break;case 13:r.setExcludes(o[s].substr(9)),this.$=o[s].substr(9);break;case 14:r.setIncludes(o[s].substr(9)),this.$=o[s].substr(9);break;case 15:r.setTodayMarker(o[s].substr(12)),this.$=o[s].substr(12);break;case 16:r.setDiagramTitle(o[s].substr(6)),this.$=o[s].substr(6);break;case 17:this.$=o[s].trim(),r.setAccTitle(this.$);break;case 18:case 19:this.$=o[s].trim(),r.setAccDescription(this.$);break;case 20:r.addSection(o[s].substr(8)),this.$=o[s].substr(8);break;case 22:r.addTask(o[s-1],o[s]),this.$="task";break;case 26:this.$=o[s-1],r.setClickEvent(o[s-1],o[s],null);break;case 27:this.$=o[s-2],r.setClickEvent(o[s-2],o[s-1],o[s]);break;case 28:this.$=o[s-2],r.setClickEvent(o[s-2],o[s-1],null),r.setLink(o[s-2],o[s]);break;case 29:this.$=o[s-3],r.setClickEvent(o[s-3],o[s-2],o[s-1]),r.setLink(o[s-3],o[s]);break;case 30:this.$=o[s-2],r.setClickEvent(o[s-2],o[s],null),r.setLink(o[s-2],o[s-1]);break;case 31:this.$=o[s-3],r.setClickEvent(o[s-3],o[s-1],o[s]),r.setLink(o[s-3],o[s-2]);break;case 32:this.$=o[s-1],r.setLink(o[s-1],o[s]);break;case 33:case 39:this.$=o[s-1]+" "+o[s];break;case 34:case 35:case 37:this.$=o[s-2]+" "+o[s-1]+" "+o[s];break;case 36:case 38:this.$=o[s-3]+" "+o[s-2]+" "+o[s-1]+" "+o[s];break;case 40:r.parseDirective("%%{","open_directive");break;case 41:r.parseDirective(o[s],"type_directive");break;case 42:o[s]=o[s].trim().replace(/'/g,'"'),r.parseDirective(o[s],"arg_directive");break;case 43:r.parseDirective("}%%","close_directive","gantt")}},table:[{3:1,4:2,5:e,29:4,39:n},{1:[3]},{3:6,4:2,5:e,29:4,39:n},t(r,[2,3],{6:7}),{30:8,40:[1,9]},{40:[2,40]},{1:[2,1]},{4:29,7:[1,10],8:11,9:[1,12],10:13,11:[1,14],12:i,13:o,14:a,15:s,16:l,17:c,18:u,19:h,20:d,22:f,24:p,25:g,26:27,27:m,29:4,34:y,39:n},{31:31,32:[1,32],42:v},t([32,42],[2,41]),t(r,[2,8],{1:[2,2]}),t(r,[2,4]),{4:29,10:34,12:i,13:o,14:a,15:s,16:l,17:c,18:u,19:h,20:d,22:f,24:p,25:g,26:27,27:m,29:4,34:y,39:n},t(r,[2,6]),t(r,[2,7]),t(r,[2,9]),t(r,[2,10]),t(r,[2,11]),t(r,[2,12]),t(r,[2,13]),t(r,[2,14]),t(r,[2,15]),t(r,[2,16]),{21:[1,35]},{23:[1,36]},t(r,[2,19]),t(r,[2,20]),t(r,[2,21]),{28:[1,37]},t(r,[2,23]),{35:[1,38],37:[1,39]},{11:[1,40]},{33:41,41:[1,42]},{11:[2,43]},t(r,[2,5]),t(r,[2,17]),t(r,[2,18]),t(r,[2,22]),t(r,[2,26],{36:[1,43],37:[1,44]}),t(r,[2,32],{35:[1,45]}),t(b,[2,24]),{31:46,42:v},{42:[2,42]},t(r,[2,27],{37:[1,47]}),t(r,[2,28]),t(r,[2,30],{36:[1,48]}),{11:[1,49]},t(r,[2,29]),t(r,[2,31]),t(b,[2,25])],defaultActions:{5:[2,40],6:[2,1],33:[2,43],42:[2,42]},parseError:function(t,e){if(!e.recoverable){var n=new Error(t);throw n.hash=e,n}this.trace(t)},parse:function(t){var e=this,n=[0],r=[],i=[null],o=[],a=this.table,s="",l=0,c=0,u=0,h=2,d=1,f=o.slice.call(arguments,1),p=Object.create(this.lexer),g={yy:{}};for(var m in this.yy)Object.prototype.hasOwnProperty.call(this.yy,m)&&(g.yy[m]=this.yy[m]);p.setInput(t,g.yy),g.yy.lexer=p,g.yy.parser=this,void 0===p.yylloc&&(p.yylloc={});var y=p.yylloc;o.push(y);var v=p.options&&p.options.ranges;function b(){var t;return"number"!=typeof(t=r.pop()||p.lex()||d)&&(t instanceof Array&&(t=(r=t).pop()),t=e.symbols_[t]||t),t}"function"==typeof g.yy.parseError?this.parseError=g.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var w,x,_,k,E,C,S,D,T,A={};;){if(_=n[n.length-1],this.defaultActions[_]?k=this.defaultActions[_]:(null==w&&(w=b()),k=a[_]&&a[_][w]),void 0===k||!k.length||!k[0]){var M="";for(C in T=[],a[_])this.terminals_[C]&&C>h&&T.push("'"+this.terminals_[C]+"'");M=p.showPosition?"Parse error on line "+(l+1)+":\n"+p.showPosition()+"\nExpecting "+T.join(", ")+", got '"+(this.terminals_[w]||w)+"'":"Parse error on line "+(l+1)+": Unexpected "+(w==d?"end of input":"'"+(this.terminals_[w]||w)+"'"),this.parseError(M,{text:p.match,token:this.terminals_[w]||w,line:p.yylineno,loc:y,expected:T})}if(k[0]instanceof Array&&k.length>1)throw new Error("Parse Error: multiple actions possible at state: "+_+", token: "+w);switch(k[0]){case 1:n.push(w),i.push(p.yytext),o.push(p.yylloc),n.push(k[1]),w=null,x?(w=x,x=null):(c=p.yyleng,s=p.yytext,l=p.yylineno,y=p.yylloc,u>0&&u--);break;case 2:if(S=this.productions_[k[1]][1],A.$=i[i.length-S],A._$={first_line:o[o.length-(S||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(S||1)].first_column,last_column:o[o.length-1].last_column},v&&(A._$.range=[o[o.length-(S||1)].range[0],o[o.length-1].range[1]]),void 0!==(E=this.performAction.apply(A,[s,c,l,g.yy,k[1],i,o].concat(f))))return E;S&&(n=n.slice(0,-1*S*2),i=i.slice(0,-1*S),o=o.slice(0,-1*S)),n.push(this.productions_[k[1]][0]),i.push(A.$),o.push(A._$),D=a[n[n.length-2]][n[n.length-1]],n.push(D);break;case 3:return!0}}return!0}},x={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,r,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(r=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in i)this[o]=i[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,n,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),o=0;o<i.length;o++)if((n=this._input.match(this.rules[i[o]]))&&(!e||n[0].length>e[0].length)){if(e=n,r=o,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,i[o])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,i[r]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(t,e,n,r){switch(n){case 0:return this.begin("open_directive"),39;case 1:return this.begin("type_directive"),40;case 2:return this.popState(),this.begin("arg_directive"),32;case 3:return this.popState(),this.popState(),42;case 4:return 41;case 5:return this.begin("acc_title"),20;case 6:return this.popState(),"acc_title_value";case 7:return this.begin("acc_descr"),22;case 8:return this.popState(),"acc_descr_value";case 9:this.begin("acc_descr_multiline");break;case 10:case 20:case 23:case 26:case 29:this.popState();break;case 11:return"acc_descr_multiline_value";case 12:case 13:case 14:case 16:case 17:case 18:break;case 15:return 11;case 19:this.begin("href");break;case 21:return 37;case 22:this.begin("callbackname");break;case 24:this.popState(),this.begin("callbackargs");break;case 25:return 35;case 27:return 36;case 28:this.begin("click");break;case 30:return 34;case 31:return 5;case 32:return 12;case 33:return 13;case 34:return 14;case 35:return 15;case 36:return 17;case 37:return 16;case 38:return 18;case 39:return"date";case 40:return 19;case 41:return"accDescription";case 42:return 25;case 43:return 27;case 44:return 28;case 45:return 32;case 46:return 7;case 47:return"INVALID"}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:%%(?!\{)*[^\n]*)/i,/^(?:[^\}]%%*[^\n]*)/i,/^(?:%%*[^\n]*[\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:href[\s]+["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:call[\s]+)/i,/^(?:\([\s]*\))/i,/^(?:\()/i,/^(?:[^(]*)/i,/^(?:\))/i,/^(?:[^)]*)/i,/^(?:click[\s]+)/i,/^(?:[\s\n])/i,/^(?:[^\s\n]*)/i,/^(?:gantt\b)/i,/^(?:dateFormat\s[^#\n;]+)/i,/^(?:inclusiveEndDates\b)/i,/^(?:topAxis\b)/i,/^(?:axisFormat\s[^#\n;]+)/i,/^(?:includes\s[^#\n;]+)/i,/^(?:excludes\s[^#\n;]+)/i,/^(?:todayMarker\s[^\n;]+)/i,/^(?:\d\d\d\d-\d\d-\d\d\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:accDescription\s[^#\n;]+)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[10,11],inclusive:!1},acc_descr:{rules:[8],inclusive:!1},acc_title:{rules:[6],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},callbackargs:{rules:[26,27],inclusive:!1},callbackname:{rules:[23,24,25],inclusive:!1},href:{rules:[20,21],inclusive:!1},click:{rules:[29,30],inclusive:!1},INITIAL:{rules:[0,5,7,9,12,13,14,15,16,17,18,19,22,28,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47],inclusive:!0}}};function _(){this.yy={}}return w.lexer=x,_.prototype=w,w.Parser=_,new _}();e.parser=r,e.Parser=r.Parser,e.parse=function(){return r.parse.apply(r,arguments)},e.main=function(t){t[1]||process.exit(1);var r=n(6878).readFileSync(n(6470).normalize(t[1]),"utf8");return e.parser.parse(r)},n.c[n.s]===t&&e.main(process.argv.slice(1))},2553:(t,e,n)=>{t=n.nmd(t);var r=function(){var t=function(t,e,n,r){for(n=n||{},r=t.length;r--;n[t[r]]=e);return n},e=[1,4],n=[1,7],r=[1,5],i=[1,9],o=[1,6],a=[2,6],s=[1,16],l=[6,8,14,20,22,24,25,27,29,32,35,37,49,53],c=[8,14,20,22,24,25,27,29,32,35,37],u=[8,13,14,20,22,24,25,27,29,32,35,37],h=[1,26],d=[6,8,14,49,53],f=[8,14,53],p=[1,64],g=[1,65],m=[1,66],y=[8,14,33,36,41,53],v={trace:function(){},yy:{},symbols_:{error:2,start:3,eol:4,directive:5,GG:6,document:7,EOF:8,":":9,DIR:10,options:11,body:12,OPT:13,NL:14,line:15,statement:16,commitStatement:17,mergeStatement:18,cherryPickStatement:19,acc_title:20,acc_title_value:21,acc_descr:22,acc_descr_value:23,acc_descr_multiline_value:24,section:25,branchStatement:26,CHECKOUT:27,ID:28,BRANCH:29,ORDER:30,NUM:31,CHERRY_PICK:32,COMMIT_ID:33,STR:34,MERGE:35,COMMIT_TAG:36,COMMIT:37,commit_arg:38,COMMIT_TYPE:39,commitType:40,COMMIT_MSG:41,NORMAL:42,REVERSE:43,HIGHLIGHT:44,openDirective:45,typeDirective:46,closeDirective:47,argDirective:48,open_directive:49,type_directive:50,arg_directive:51,close_directive:52,";":53,$accept:0,$end:1},terminals_:{2:"error",6:"GG",8:"EOF",9:":",10:"DIR",13:"OPT",14:"NL",20:"acc_title",21:"acc_title_value",22:"acc_descr",23:"acc_descr_value",24:"acc_descr_multiline_value",25:"section",27:"CHECKOUT",28:"ID",29:"BRANCH",30:"ORDER",31:"NUM",32:"CHERRY_PICK",33:"COMMIT_ID",34:"STR",35:"MERGE",36:"COMMIT_TAG",37:"COMMIT",39:"COMMIT_TYPE",41:"COMMIT_MSG",42:"NORMAL",43:"REVERSE",44:"HIGHLIGHT",49:"open_directive",50:"type_directive",51:"arg_directive",52:"close_directive",53:";"},productions_:[0,[3,2],[3,2],[3,3],[3,4],[3,5],[7,0],[7,2],[11,2],[11,1],[12,0],[12,2],[15,2],[15,1],[16,1],[16,1],[16,1],[16,2],[16,2],[16,1],[16,1],[16,1],[16,2],[26,2],[26,4],[19,3],[18,2],[18,4],[17,2],[17,3],[17,3],[17,5],[17,5],[17,3],[17,5],[17,5],[17,5],[17,5],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,3],[17,5],[17,5],[17,5],[17,5],[17,5],[17,5],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[38,0],[38,1],[40,1],[40,1],[40,1],[5,3],[5,5],[45,1],[46,1],[48,1],[47,1],[4,1],[4,1],[4,1]],performAction:function(t,e,n,r,i,o,a){var s=o.length-1;switch(i){case 3:return o[s];case 4:return o[s-1];case 5:return r.setDirection(o[s-3]),o[s-1];case 7:r.setOptions(o[s-1]),this.$=o[s];break;case 8:o[s-1]+=o[s],this.$=o[s-1];break;case 10:this.$=[];break;case 11:o[s-1].push(o[s]),this.$=o[s-1];break;case 12:this.$=o[s-1];break;case 17:this.$=o[s].trim(),r.setAccTitle(this.$);break;case 18:case 19:this.$=o[s].trim(),r.setAccDescription(this.$);break;case 20:r.addSection(o[s].substr(8)),this.$=o[s].substr(8);break;case 22:r.checkout(o[s]);break;case 23:r.branch(o[s]);break;case 24:r.branch(o[s-2],o[s]);break;case 25:r.cherryPick(o[s]);break;case 26:r.merge(o[s]);break;case 27:r.merge(o[s-2],o[s]);break;case 28:r.commit(o[s]);break;case 29:r.commit("","",r.commitType.NORMAL,o[s]);break;case 30:r.commit("","",o[s],"");break;case 31:r.commit("","",o[s],o[s-2]);break;case 32:r.commit("","",o[s-2],o[s]);break;case 33:r.commit("",o[s],r.commitType.NORMAL,"");break;case 34:r.commit("",o[s-2],r.commitType.NORMAL,o[s]);break;case 35:r.commit("",o[s],r.commitType.NORMAL,o[s-2]);break;case 36:r.commit("",o[s-2],o[s],"");break;case 37:r.commit("",o[s],o[s-2],"");break;case 38:r.commit("",o[s-4],o[s-2],o[s]);break;case 39:r.commit("",o[s-4],o[s],o[s-2]);break;case 40:r.commit("",o[s-2],o[s-4],o[s]);break;case 41:r.commit("",o[s],o[s-4],o[s-2]);break;case 42:r.commit("",o[s],o[s-2],o[s-4]);break;case 43:r.commit("",o[s-2],o[s],o[s-4]);break;case 44:r.commit(o[s],"",r.commitType.NORMAL,"");break;case 45:r.commit(o[s],"",r.commitType.NORMAL,o[s-2]);break;case 46:r.commit(o[s-2],"",r.commitType.NORMAL,o[s]);break;case 47:r.commit(o[s-2],"",o[s],"");break;case 48:r.commit(o[s],"",o[s-2],"");break;case 49:r.commit(o[s],o[s-2],r.commitType.NORMAL,"");break;case 50:r.commit(o[s-2],o[s],r.commitType.NORMAL,"");break;case 51:r.commit(o[s-4],"",o[s-2],o[s]);break;case 52:r.commit(o[s-4],"",o[s],o[s-2]);break;case 53:r.commit(o[s-2],"",o[s-4],o[s]);break;case 54:r.commit(o[s],"",o[s-4],o[s-2]);break;case 55:r.commit(o[s],"",o[s-2],o[s-4]);break;case 56:r.commit(o[s-2],"",o[s],o[s-4]);break;case 57:r.commit(o[s-4],o[s],o[s-2],"");break;case 58:r.commit(o[s-4],o[s-2],o[s],"");break;case 59:r.commit(o[s-2],o[s],o[s-4],"");break;case 60:r.commit(o[s],o[s-2],o[s-4],"");break;case 61:r.commit(o[s],o[s-4],o[s-2],"");break;case 62:r.commit(o[s-2],o[s-4],o[s],"");break;case 63:r.commit(o[s-4],o[s],r.commitType.NORMAL,o[s-2]);break;case 64:r.commit(o[s-4],o[s-2],r.commitType.NORMAL,o[s]);break;case 65:r.commit(o[s-2],o[s],r.commitType.NORMAL,o[s-4]);break;case 66:r.commit(o[s],o[s-2],r.commitType.NORMAL,o[s-4]);break;case 67:r.commit(o[s],o[s-4],r.commitType.NORMAL,o[s-2]);break;case 68:r.commit(o[s-2],o[s-4],r.commitType.NORMAL,o[s]);break;case 69:r.commit(o[s-6],o[s-4],o[s-2],o[s]);break;case 70:r.commit(o[s-6],o[s-4],o[s],o[s-2]);break;case 71:r.commit(o[s-6],o[s-2],o[s-4],o[s]);break;case 72:r.commit(o[s-6],o[s],o[s-4],o[s-2]);break;case 73:r.commit(o[s-6],o[s-2],o[s],o[s-4]);break;case 74:r.commit(o[s-6],o[s],o[s-2],o[s-4]);break;case 75:r.commit(o[s-4],o[s-6],o[s-2],o[s]);break;case 76:r.commit(o[s-4],o[s-6],o[s],o[s-2]);break;case 77:r.commit(o[s-2],o[s-6],o[s-4],o[s]);break;case 78:r.commit(o[s],o[s-6],o[s-4],o[s-2]);break;case 79:r.commit(o[s-2],o[s-6],o[s],o[s-4]);break;case 80:r.commit(o[s],o[s-6],o[s-2],o[s-4]);break;case 81:r.commit(o[s],o[s-4],o[s-2],o[s-6]);break;case 82:r.commit(o[s-2],o[s-4],o[s],o[s-6]);break;case 83:r.commit(o[s],o[s-2],o[s-4],o[s-6]);break;case 84:r.commit(o[s-2],o[s],o[s-4],o[s-6]);break;case 85:r.commit(o[s-4],o[s-2],o[s],o[s-6]);break;case 86:r.commit(o[s-4],o[s],o[s-2],o[s-6]);break;case 87:r.commit(o[s-2],o[s-4],o[s-6],o[s]);break;case 88:r.commit(o[s],o[s-4],o[s-6],o[s-2]);break;case 89:r.commit(o[s-2],o[s],o[s-6],o[s-4]);break;case 90:r.commit(o[s],o[s-2],o[s-6],o[s-4]);break;case 91:r.commit(o[s-4],o[s-2],o[s-6],o[s]);break;case 92:r.commit(o[s-4],o[s],o[s-6],o[s-2]);break;case 93:this.$="";break;case 94:this.$=o[s];break;case 95:this.$=r.commitType.NORMAL;break;case 96:this.$=r.commitType.REVERSE;break;case 97:this.$=r.commitType.HIGHLIGHT;break;case 100:r.parseDirective("%%{","open_directive");break;case 101:r.parseDirective(o[s],"type_directive");break;case 102:o[s]=o[s].trim().replace(/'/g,'"'),r.parseDirective(o[s],"arg_directive");break;case 103:r.parseDirective("}%%","close_directive","gitGraph")}},table:[{3:1,4:2,5:3,6:e,8:n,14:r,45:8,49:i,53:o},{1:[3]},{3:10,4:2,5:3,6:e,8:n,14:r,45:8,49:i,53:o},{3:11,4:2,5:3,6:e,8:n,14:r,45:8,49:i,53:o},{7:12,8:a,9:[1,13],10:[1,14],11:15,14:s},t(l,[2,104]),t(l,[2,105]),t(l,[2,106]),{46:17,50:[1,18]},{50:[2,100]},{1:[2,1]},{1:[2,2]},{8:[1,19]},{7:20,8:a,11:15,14:s},{9:[1,21]},t(c,[2,10],{12:22,13:[1,23]}),t(u,[2,9]),{9:[1,25],47:24,52:h},t([9,52],[2,101]),{1:[2,3]},{8:[1,27]},{7:28,8:a,11:15,14:s},{8:[2,7],14:[1,31],15:29,16:30,17:32,18:33,19:34,20:[1,35],22:[1,36],24:[1,37],25:[1,38],26:39,27:[1,40],29:[1,44],32:[1,43],35:[1,42],37:[1,41]},t(u,[2,8]),t(d,[2,98]),{48:45,51:[1,46]},t(d,[2,103]),{1:[2,4]},{8:[1,47]},t(c,[2,11]),{4:48,8:n,14:r,53:o},t(c,[2,13]),t(f,[2,14]),t(f,[2,15]),t(f,[2,16]),{21:[1,49]},{23:[1,50]},t(f,[2,19]),t(f,[2,20]),t(f,[2,21]),{28:[1,51]},t(f,[2,93],{38:52,33:[1,55],34:[1,57],36:[1,53],39:[1,54],41:[1,56]}),{28:[1,58]},{33:[1,59]},{28:[1,60]},{47:61,52:h},{52:[2,102]},{1:[2,5]},t(c,[2,12]),t(f,[2,17]),t(f,[2,18]),t(f,[2,22]),t(f,[2,28]),{34:[1,62]},{40:63,42:p,43:g,44:m},{34:[1,67]},{34:[1,68]},t(f,[2,94]),t(f,[2,26],{36:[1,69]}),{34:[1,70]},t(f,[2,23],{30:[1,71]}),t(d,[2,99]),t(f,[2,29],{33:[1,73],39:[1,72],41:[1,74]}),t(f,[2,30],{33:[1,76],36:[1,75],41:[1,77]}),t(y,[2,95]),t(y,[2,96]),t(y,[2,97]),t(f,[2,33],{36:[1,78],39:[1,79],41:[1,80]}),t(f,[2,44],{33:[1,83],36:[1,81],39:[1,82]}),{34:[1,84]},t(f,[2,25]),{31:[1,85]},{40:86,42:p,43:g,44:m},{34:[1,87]},{34:[1,88]},{34:[1,89]},{34:[1,90]},{34:[1,91]},{34:[1,92]},{40:93,42:p,43:g,44:m},{34:[1,94]},{34:[1,95]},{40:96,42:p,43:g,44:m},{34:[1,97]},t(f,[2,27]),t(f,[2,24]),t(f,[2,31],{33:[1,98],41:[1,99]}),t(f,[2,35],{39:[1,100],41:[1,101]}),t(f,[2,45],{33:[1,103],39:[1,102]}),t(f,[2,32],{33:[1,104],41:[1,105]}),t(f,[2,37],{36:[1,106],41:[1,107]}),t(f,[2,48],{33:[1,109],36:[1,108]}),t(f,[2,34],{39:[1,110],41:[1,111]}),t(f,[2,36],{36:[1,112],41:[1,113]}),t(f,[2,49],{36:[1,115],39:[1,114]}),t(f,[2,46],{33:[1,117],39:[1,116]}),t(f,[2,47],{33:[1,119],36:[1,118]}),t(f,[2,50],{36:[1,121],39:[1,120]}),{34:[1,122]},{34:[1,123]},{40:124,42:p,43:g,44:m},{34:[1,125]},{40:126,42:p,43:g,44:m},{34:[1,127]},{34:[1,128]},{34:[1,129]},{34:[1,130]},{34:[1,131]},{34:[1,132]},{34:[1,133]},{40:134,42:p,43:g,44:m},{34:[1,135]},{34:[1,136]},{34:[1,137]},{40:138,42:p,43:g,44:m},{34:[1,139]},{40:140,42:p,43:g,44:m},{34:[1,141]},{34:[1,142]},{34:[1,143]},{40:144,42:p,43:g,44:m},{34:[1,145]},t(f,[2,42],{41:[1,146]}),t(f,[2,55],{33:[1,147]}),t(f,[2,43],{41:[1,148]}),t(f,[2,66],{39:[1,149]}),t(f,[2,56],{33:[1,150]}),t(f,[2,65],{39:[1,151]}),t(f,[2,41],{41:[1,152]}),t(f,[2,54],{33:[1,153]}),t(f,[2,40],{41:[1,154]}),t(f,[2,60],{36:[1,155]}),t(f,[2,53],{33:[1,156]}),t(f,[2,59],{36:[1,157]}),t(f,[2,39],{41:[1,158]}),t(f,[2,67],{39:[1,159]}),t(f,[2,38],{41:[1,160]}),t(f,[2,61],{36:[1,161]}),t(f,[2,62],{36:[1,162]}),t(f,[2,68],{39:[1,163]}),t(f,[2,52],{33:[1,164]}),t(f,[2,63],{39:[1,165]}),t(f,[2,51],{33:[1,166]}),t(f,[2,57],{36:[1,167]}),t(f,[2,58],{36:[1,168]}),t(f,[2,64],{39:[1,169]}),{34:[1,170]},{34:[1,171]},{34:[1,172]},{40:173,42:p,43:g,44:m},{34:[1,174]},{40:175,42:p,43:g,44:m},{34:[1,176]},{34:[1,177]},{34:[1,178]},{34:[1,179]},{34:[1,180]},{34:[1,181]},{34:[1,182]},{40:183,42:p,43:g,44:m},{34:[1,184]},{34:[1,185]},{34:[1,186]},{40:187,42:p,43:g,44:m},{34:[1,188]},{40:189,42:p,43:g,44:m},{34:[1,190]},{34:[1,191]},{34:[1,192]},{40:193,42:p,43:g,44:m},t(f,[2,83]),t(f,[2,84]),t(f,[2,81]),t(f,[2,82]),t(f,[2,86]),t(f,[2,85]),t(f,[2,90]),t(f,[2,89]),t(f,[2,88]),t(f,[2,87]),t(f,[2,92]),t(f,[2,91]),t(f,[2,80]),t(f,[2,79]),t(f,[2,78]),t(f,[2,77]),t(f,[2,75]),t(f,[2,76]),t(f,[2,74]),t(f,[2,73]),t(f,[2,72]),t(f,[2,71]),t(f,[2,69]),t(f,[2,70])],defaultActions:{9:[2,100],10:[2,1],11:[2,2],19:[2,3],27:[2,4],46:[2,102],47:[2,5]},parseError:function(t,e){if(!e.recoverable){var n=new Error(t);throw n.hash=e,n}this.trace(t)},parse:function(t){var e=this,n=[0],r=[],i=[null],o=[],a=this.table,s="",l=0,c=0,u=0,h=2,d=1,f=o.slice.call(arguments,1),p=Object.create(this.lexer),g={yy:{}};for(var m in this.yy)Object.prototype.hasOwnProperty.call(this.yy,m)&&(g.yy[m]=this.yy[m]);p.setInput(t,g.yy),g.yy.lexer=p,g.yy.parser=this,void 0===p.yylloc&&(p.yylloc={});var y=p.yylloc;o.push(y);var v=p.options&&p.options.ranges;function b(){var t;return"number"!=typeof(t=r.pop()||p.lex()||d)&&(t instanceof Array&&(t=(r=t).pop()),t=e.symbols_[t]||t),t}"function"==typeof g.yy.parseError?this.parseError=g.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var w,x,_,k,E,C,S,D,T,A={};;){if(_=n[n.length-1],this.defaultActions[_]?k=this.defaultActions[_]:(null==w&&(w=b()),k=a[_]&&a[_][w]),void 0===k||!k.length||!k[0]){var M="";for(C in T=[],a[_])this.terminals_[C]&&C>h&&T.push("'"+this.terminals_[C]+"'");M=p.showPosition?"Parse error on line "+(l+1)+":\n"+p.showPosition()+"\nExpecting "+T.join(", ")+", got '"+(this.terminals_[w]||w)+"'":"Parse error on line "+(l+1)+": Unexpected "+(w==d?"end of input":"'"+(this.terminals_[w]||w)+"'"),this.parseError(M,{text:p.match,token:this.terminals_[w]||w,line:p.yylineno,loc:y,expected:T})}if(k[0]instanceof Array&&k.length>1)throw new Error("Parse Error: multiple actions possible at state: "+_+", token: "+w);switch(k[0]){case 1:n.push(w),i.push(p.yytext),o.push(p.yylloc),n.push(k[1]),w=null,x?(w=x,x=null):(c=p.yyleng,s=p.yytext,l=p.yylineno,y=p.yylloc,u>0&&u--);break;case 2:if(S=this.productions_[k[1]][1],A.$=i[i.length-S],A._$={first_line:o[o.length-(S||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(S||1)].first_column,last_column:o[o.length-1].last_column},v&&(A._$.range=[o[o.length-(S||1)].range[0],o[o.length-1].range[1]]),void 0!==(E=this.performAction.apply(A,[s,c,l,g.yy,k[1],i,o].concat(f))))return E;S&&(n=n.slice(0,-1*S*2),i=i.slice(0,-1*S),o=o.slice(0,-1*S)),n.push(this.productions_[k[1]][0]),i.push(A.$),o.push(A._$),D=a[n[n.length-2]][n[n.length-1]],n.push(D);break;case 3:return!0}}return!0}},b={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,r,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(r=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in i)this[o]=i[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,n,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),o=0;o<i.length;o++)if((n=this._input.match(this.rules[i[o]]))&&(!e||n[0].length>e[0].length)){if(e=n,r=o,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,i[o])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,i[r]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(t,e,n,r){switch(n){case 0:return this.begin("open_directive"),49;case 1:return this.begin("type_directive"),50;case 2:return this.popState(),this.begin("arg_directive"),9;case 3:return this.popState(),this.popState(),52;case 4:return 51;case 5:return this.begin("acc_title"),20;case 6:return this.popState(),"acc_title_value";case 7:return this.begin("acc_descr"),22;case 8:return this.popState(),"acc_descr_value";case 9:this.begin("acc_descr_multiline");break;case 10:case 35:case 38:this.popState();break;case 11:return"acc_descr_multiline_value";case 12:return 14;case 13:case 14:case 15:break;case 16:return 6;case 17:return 37;case 18:return 33;case 19:return 39;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 36;case 25:return 29;case 26:return 30;case 27:return 35;case 28:return 32;case 29:return 27;case 30:case 31:return 10;case 32:return 9;case 33:return"CARET";case 34:this.begin("options");break;case 36:return 13;case 37:this.begin("string");break;case 39:return 34;case 40:return 31;case 41:return 28;case 42:return 8}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:(\r?\n)+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:gitGraph\b)/i,/^(?:commit\b)/i,/^(?:id:)/i,/^(?:type:)/i,/^(?:msg:)/i,/^(?:NORMAL\b)/i,/^(?:REVERSE\b)/i,/^(?:HIGHLIGHT\b)/i,/^(?:tag:)/i,/^(?:branch\b)/i,/^(?:order:)/i,/^(?:merge\b)/i,/^(?:cherry-pick\b)/i,/^(?:checkout\b)/i,/^(?:LR\b)/i,/^(?:BT\b)/i,/^(?::)/i,/^(?:\^)/i,/^(?:options\r?\n)/i,/^(?:[ \r\n\t]+end\b)/i,/^(?:[\s\S]+(?=[ \r\n\t]+end))/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[0-9]+)/i,/^(?:[a-zA-Z][-_\./a-zA-Z0-9]*[-_a-zA-Z0-9])/i,/^(?:$)/i],conditions:{acc_descr_multiline:{rules:[10,11],inclusive:!1},acc_descr:{rules:[8],inclusive:!1},acc_title:{rules:[6],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},options:{rules:[35,36],inclusive:!1},string:{rules:[38,39],inclusive:!1},INITIAL:{rules:[0,5,7,9,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,37,40,41,42],inclusive:!0}}};function w(){this.yy={}}return v.lexer=b,w.prototype=v,v.Parser=w,new w}();e.parser=r,e.Parser=r.Parser,e.parse=function(){return r.parse.apply(r,arguments)},e.main=function(t){t[1]||process.exit(1);var r=n(8183).readFileSync(n(6470).normalize(t[1]),"utf8");return e.parser.parse(r)},n.c[n.s]===t&&e.main(process.argv.slice(1))},6765:(t,e,n)=>{t=n.nmd(t);var r=function(){var t=function(t,e,n,r){for(n=n||{},r=t.length;r--;n[t[r]]=e);return n},e=[6,9,10],n={trace:function(){},yy:{},symbols_:{error:2,start:3,info:4,document:5,EOF:6,line:7,statement:8,NL:9,showInfo:10,$accept:0,$end:1},terminals_:{2:"error",4:"info",6:"EOF",9:"NL",10:"showInfo"},productions_:[0,[3,3],[5,0],[5,2],[7,1],[7,1],[8,1]],performAction:function(t,e,n,r,i,o,a){switch(o.length,i){case 1:return r;case 4:break;case 6:r.setInfo(!0)}},table:[{3:1,4:[1,2]},{1:[3]},t(e,[2,2],{5:3}),{6:[1,4],7:5,8:6,9:[1,7],10:[1,8]},{1:[2,1]},t(e,[2,3]),t(e,[2,4]),t(e,[2,5]),t(e,[2,6])],defaultActions:{4:[2,1]},parseError:function(t,e){if(!e.recoverable){var n=new Error(t);throw n.hash=e,n}this.trace(t)},parse:function(t){var e=this,n=[0],r=[],i=[null],o=[],a=this.table,s="",l=0,c=0,u=0,h=2,d=1,f=o.slice.call(arguments,1),p=Object.create(this.lexer),g={yy:{}};for(var m in this.yy)Object.prototype.hasOwnProperty.call(this.yy,m)&&(g.yy[m]=this.yy[m]);p.setInput(t,g.yy),g.yy.lexer=p,g.yy.parser=this,void 0===p.yylloc&&(p.yylloc={});var y=p.yylloc;o.push(y);var v=p.options&&p.options.ranges;function b(){var t;return"number"!=typeof(t=r.pop()||p.lex()||d)&&(t instanceof Array&&(t=(r=t).pop()),t=e.symbols_[t]||t),t}"function"==typeof g.yy.parseError?this.parseError=g.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var w,x,_,k,E,C,S,D,T,A={};;){if(_=n[n.length-1],this.defaultActions[_]?k=this.defaultActions[_]:(null==w&&(w=b()),k=a[_]&&a[_][w]),void 0===k||!k.length||!k[0]){var M="";for(C in T=[],a[_])this.terminals_[C]&&C>h&&T.push("'"+this.terminals_[C]+"'");M=p.showPosition?"Parse error on line "+(l+1)+":\n"+p.showPosition()+"\nExpecting "+T.join(", ")+", got '"+(this.terminals_[w]||w)+"'":"Parse error on line "+(l+1)+": Unexpected "+(w==d?"end of input":"'"+(this.terminals_[w]||w)+"'"),this.parseError(M,{text:p.match,token:this.terminals_[w]||w,line:p.yylineno,loc:y,expected:T})}if(k[0]instanceof Array&&k.length>1)throw new Error("Parse Error: multiple actions possible at state: "+_+", token: "+w);switch(k[0]){case 1:n.push(w),i.push(p.yytext),o.push(p.yylloc),n.push(k[1]),w=null,x?(w=x,x=null):(c=p.yyleng,s=p.yytext,l=p.yylineno,y=p.yylloc,u>0&&u--);break;case 2:if(S=this.productions_[k[1]][1],A.$=i[i.length-S],A._$={first_line:o[o.length-(S||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(S||1)].first_column,last_column:o[o.length-1].last_column},v&&(A._$.range=[o[o.length-(S||1)].range[0],o[o.length-1].range[1]]),void 0!==(E=this.performAction.apply(A,[s,c,l,g.yy,k[1],i,o].concat(f))))return E;S&&(n=n.slice(0,-1*S*2),i=i.slice(0,-1*S),o=o.slice(0,-1*S)),n.push(this.productions_[k[1]][0]),i.push(A.$),o.push(A._$),D=a[n[n.length-2]][n[n.length-1]],n.push(D);break;case 3:return!0}}return!0}},r={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,r,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(r=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in i)this[o]=i[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,n,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),o=0;o<i.length;o++)if((n=this._input.match(this.rules[i[o]]))&&(!e||n[0].length>e[0].length)){if(e=n,r=o,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,i[o])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,i[r]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(t,e,n,r){switch(n){case 0:return 4;case 1:return 9;case 2:return"space";case 3:return 10;case 4:return 6;case 5:return"TXT"}},rules:[/^(?:info\b)/i,/^(?:[\s\n\r]+)/i,/^(?:[\s]+)/i,/^(?:showInfo\b)/i,/^(?:$)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5],inclusive:!0}}};function i(){this.yy={}}return n.lexer=r,i.prototype=n,n.Parser=i,new i}();e.parser=r,e.Parser=r.Parser,e.parse=function(){return r.parse.apply(r,arguments)},e.main=function(t){t[1]||process.exit(1);var r=n(1428).readFileSync(n(6470).normalize(t[1]),"utf8");return e.parser.parse(r)},n.c[n.s]===t&&e.main(process.argv.slice(1))},7062:(t,e,n)=>{t=n.nmd(t);var r=function(){var t=function(t,e,n,r){for(n=n||{},r=t.length;r--;n[t[r]]=e);return n},e=[1,4],n=[1,5],r=[1,6],i=[1,7],o=[1,9],a=[1,11,13,15,17,19,20,26,27,28,29],s=[2,5],l=[1,6,11,13,15,17,19,20,26,27,28,29],c=[26,27,28],u=[2,8],h=[1,18],d=[1,19],f=[1,20],p=[1,21],g=[1,22],m=[1,23],y=[1,28],v=[6,26,27,28,29],b={trace:function(){},yy:{},symbols_:{error:2,start:3,eol:4,directive:5,PIE:6,document:7,showData:8,line:9,statement:10,txt:11,value:12,title:13,title_value:14,acc_title:15,acc_title_value:16,acc_descr:17,acc_descr_value:18,acc_descr_multiline_value:19,section:20,openDirective:21,typeDirective:22,closeDirective:23,":":24,argDirective:25,NEWLINE:26,";":27,EOF:28,open_directive:29,type_directive:30,arg_directive:31,close_directive:32,$accept:0,$end:1},terminals_:{2:"error",6:"PIE",8:"showData",11:"txt",12:"value",13:"title",14:"title_value",15:"acc_title",16:"acc_title_value",17:"acc_descr",18:"acc_descr_value",19:"acc_descr_multiline_value",20:"section",24:":",26:"NEWLINE",27:";",28:"EOF",29:"open_directive",30:"type_directive",31:"arg_directive",32:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,3],[7,0],[7,2],[9,2],[10,0],[10,2],[10,2],[10,2],[10,2],[10,1],[10,1],[10,1],[5,3],[5,5],[4,1],[4,1],[4,1],[21,1],[22,1],[25,1],[23,1]],performAction:function(t,e,n,r,i,o,a){var s=o.length-1;switch(i){case 4:r.setShowData(!0);break;case 7:this.$=o[s-1];break;case 9:r.addSection(o[s-1],r.cleanupValue(o[s]));break;case 10:this.$=o[s].trim(),r.setDiagramTitle(this.$);break;case 11:this.$=o[s].trim(),r.setAccTitle(this.$);break;case 12:case 13:this.$=o[s].trim(),r.setAccDescription(this.$);break;case 14:r.addSection(o[s].substr(8)),this.$=o[s].substr(8);break;case 21:r.parseDirective("%%{","open_directive");break;case 22:r.parseDirective(o[s],"type_directive");break;case 23:o[s]=o[s].trim().replace(/'/g,'"'),r.parseDirective(o[s],"arg_directive");break;case 24:r.parseDirective("}%%","close_directive","pie")}},table:[{3:1,4:2,5:3,6:e,21:8,26:n,27:r,28:i,29:o},{1:[3]},{3:10,4:2,5:3,6:e,21:8,26:n,27:r,28:i,29:o},{3:11,4:2,5:3,6:e,21:8,26:n,27:r,28:i,29:o},t(a,s,{7:12,8:[1,13]}),t(l,[2,18]),t(l,[2,19]),t(l,[2,20]),{22:14,30:[1,15]},{30:[2,21]},{1:[2,1]},{1:[2,2]},t(c,u,{21:8,9:16,10:17,5:24,1:[2,3],11:h,13:d,15:f,17:p,19:g,20:m,29:o}),t(a,s,{7:25}),{23:26,24:[1,27],32:y},t([24,32],[2,22]),t(a,[2,6]),{4:29,26:n,27:r,28:i},{12:[1,30]},{14:[1,31]},{16:[1,32]},{18:[1,33]},t(c,[2,13]),t(c,[2,14]),t(c,[2,15]),t(c,u,{21:8,9:16,10:17,5:24,1:[2,4],11:h,13:d,15:f,17:p,19:g,20:m,29:o}),t(v,[2,16]),{25:34,31:[1,35]},t(v,[2,24]),t(a,[2,7]),t(c,[2,9]),t(c,[2,10]),t(c,[2,11]),t(c,[2,12]),{23:36,32:y},{32:[2,23]},t(v,[2,17])],defaultActions:{9:[2,21],10:[2,1],11:[2,2],35:[2,23]},parseError:function(t,e){if(!e.recoverable){var n=new Error(t);throw n.hash=e,n}this.trace(t)},parse:function(t){var e=this,n=[0],r=[],i=[null],o=[],a=this.table,s="",l=0,c=0,u=0,h=2,d=1,f=o.slice.call(arguments,1),p=Object.create(this.lexer),g={yy:{}};for(var m in this.yy)Object.prototype.hasOwnProperty.call(this.yy,m)&&(g.yy[m]=this.yy[m]);p.setInput(t,g.yy),g.yy.lexer=p,g.yy.parser=this,void 0===p.yylloc&&(p.yylloc={});var y=p.yylloc;o.push(y);var v=p.options&&p.options.ranges;function b(){var t;return"number"!=typeof(t=r.pop()||p.lex()||d)&&(t instanceof Array&&(t=(r=t).pop()),t=e.symbols_[t]||t),t}"function"==typeof g.yy.parseError?this.parseError=g.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var w,x,_,k,E,C,S,D,T,A={};;){if(_=n[n.length-1],this.defaultActions[_]?k=this.defaultActions[_]:(null==w&&(w=b()),k=a[_]&&a[_][w]),void 0===k||!k.length||!k[0]){var M="";for(C in T=[],a[_])this.terminals_[C]&&C>h&&T.push("'"+this.terminals_[C]+"'");M=p.showPosition?"Parse error on line "+(l+1)+":\n"+p.showPosition()+"\nExpecting "+T.join(", ")+", got '"+(this.terminals_[w]||w)+"'":"Parse error on line "+(l+1)+": Unexpected "+(w==d?"end of input":"'"+(this.terminals_[w]||w)+"'"),this.parseError(M,{text:p.match,token:this.terminals_[w]||w,line:p.yylineno,loc:y,expected:T})}if(k[0]instanceof Array&&k.length>1)throw new Error("Parse Error: multiple actions possible at state: "+_+", token: "+w);switch(k[0]){case 1:n.push(w),i.push(p.yytext),o.push(p.yylloc),n.push(k[1]),w=null,x?(w=x,x=null):(c=p.yyleng,s=p.yytext,l=p.yylineno,y=p.yylloc,u>0&&u--);break;case 2:if(S=this.productions_[k[1]][1],A.$=i[i.length-S],A._$={first_line:o[o.length-(S||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(S||1)].first_column,last_column:o[o.length-1].last_column},v&&(A._$.range=[o[o.length-(S||1)].range[0],o[o.length-1].range[1]]),void 0!==(E=this.performAction.apply(A,[s,c,l,g.yy,k[1],i,o].concat(f))))return E;S&&(n=n.slice(0,-1*S*2),i=i.slice(0,-1*S),o=o.slice(0,-1*S)),n.push(this.productions_[k[1]][0]),i.push(A.$),o.push(A._$),D=a[n[n.length-2]][n[n.length-1]],n.push(D);break;case 3:return!0}}return!0}},w={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,r,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(r=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in i)this[o]=i[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,n,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),o=0;o<i.length;o++)if((n=this._input.match(this.rules[i[o]]))&&(!e||n[0].length>e[0].length)){if(e=n,r=o,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,i[o])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,i[r]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(t,e,n,r){switch(n){case 0:return this.begin("open_directive"),29;case 1:return this.begin("type_directive"),30;case 2:return this.popState(),this.begin("arg_directive"),24;case 3:return this.popState(),this.popState(),32;case 4:return 31;case 5:case 6:case 8:case 9:break;case 7:return 26;case 10:return this.begin("title"),13;case 11:return this.popState(),"title_value";case 12:return this.begin("acc_title"),15;case 13:return this.popState(),"acc_title_value";case 14:return this.begin("acc_descr"),17;case 15:return this.popState(),"acc_descr_value";case 16:this.begin("acc_descr_multiline");break;case 17:case 20:this.popState();break;case 18:return"acc_descr_multiline_value";case 19:this.begin("string");break;case 21:return"txt";case 22:return 6;case 23:return 8;case 24:return"value";case 25:return 28}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:[\s]+)/i,/^(?:title\b)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:pie\b)/i,/^(?:showData\b)/i,/^(?::[\s]*[\d]+(?:\.[\d]+)?)/i,/^(?:$)/i],conditions:{acc_descr_multiline:{rules:[17,18],inclusive:!1},acc_descr:{rules:[15],inclusive:!1},acc_title:{rules:[13],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},title:{rules:[11],inclusive:!1},string:{rules:[20,21],inclusive:!1},INITIAL:{rules:[0,5,6,7,8,9,10,12,14,16,19,22,23,24,25],inclusive:!0}}};function x(){this.yy={}}return b.lexer=w,x.prototype=b,b.Parser=x,new x}();e.parser=r,e.Parser=r.Parser,e.parse=function(){return r.parse.apply(r,arguments)},e.main=function(t){t[1]||process.exit(1);var r=n(4551).readFileSync(n(6470).normalize(t[1]),"utf8");return e.parser.parse(r)},n.c[n.s]===t&&e.main(process.argv.slice(1))},3176:(t,e,n)=>{t=n.nmd(t);var r=function(){var t=function(t,e,n,r){for(n=n||{},r=t.length;r--;n[t[r]]=e);return n},e=[1,3],n=[1,5],r=[1,6],i=[1,7],o=[1,8],a=[5,6,8,14,16,18,19,40,41,42,43,44,45,53,71,72],s=[1,22],l=[2,13],c=[1,26],u=[1,27],h=[1,28],d=[1,29],f=[1,30],p=[1,31],g=[1,24],m=[1,32],y=[1,33],v=[1,36],b=[71,72],w=[5,8,14,16,18,19,40,41,42,43,44,45,53,60,62,71,72],x=[1,56],_=[1,57],k=[1,58],E=[1,59],C=[1,60],S=[1,61],D=[1,62],T=[62,63],A=[1,74],M=[1,70],N=[1,71],O=[1,72],F=[1,73],I=[1,75],L=[1,79],B=[1,80],R=[1,77],P=[1,78],z=[5,8,14,16,18,19,40,41,42,43,44,45,53,71,72],$={trace:function(){},yy:{},symbols_:{error:2,start:3,directive:4,NEWLINE:5,RD:6,diagram:7,EOF:8,openDirective:9,typeDirective:10,closeDirective:11,":":12,argDirective:13,acc_title:14,acc_title_value:15,acc_descr:16,acc_descr_value:17,acc_descr_multiline_value:18,open_directive:19,type_directive:20,arg_directive:21,close_directive:22,requirementDef:23,elementDef:24,relationshipDef:25,requirementType:26,requirementName:27,STRUCT_START:28,requirementBody:29,ID:30,COLONSEP:31,id:32,TEXT:33,text:34,RISK:35,riskLevel:36,VERIFYMTHD:37,verifyType:38,STRUCT_STOP:39,REQUIREMENT:40,FUNCTIONAL_REQUIREMENT:41,INTERFACE_REQUIREMENT:42,PERFORMANCE_REQUIREMENT:43,PHYSICAL_REQUIREMENT:44,DESIGN_CONSTRAINT:45,LOW_RISK:46,MED_RISK:47,HIGH_RISK:48,VERIFY_ANALYSIS:49,VERIFY_DEMONSTRATION:50,VERIFY_INSPECTION:51,VERIFY_TEST:52,ELEMENT:53,elementName:54,elementBody:55,TYPE:56,type:57,DOCREF:58,ref:59,END_ARROW_L:60,relationship:61,LINE:62,END_ARROW_R:63,CONTAINS:64,COPIES:65,DERIVES:66,SATISFIES:67,VERIFIES:68,REFINES:69,TRACES:70,unqString:71,qString:72,$accept:0,$end:1},terminals_:{2:"error",5:"NEWLINE",6:"RD",8:"EOF",12:":",14:"acc_title",15:"acc_title_value",16:"acc_descr",17:"acc_descr_value",18:"acc_descr_multiline_value",19:"open_directive",20:"type_directive",21:"arg_directive",22:"close_directive",28:"STRUCT_START",30:"ID",31:"COLONSEP",33:"TEXT",35:"RISK",37:"VERIFYMTHD",39:"STRUCT_STOP",40:"REQUIREMENT",41:"FUNCTIONAL_REQUIREMENT",42:"INTERFACE_REQUIREMENT",43:"PERFORMANCE_REQUIREMENT",44:"PHYSICAL_REQUIREMENT",45:"DESIGN_CONSTRAINT",46:"LOW_RISK",47:"MED_RISK",48:"HIGH_RISK",49:"VERIFY_ANALYSIS",50:"VERIFY_DEMONSTRATION",51:"VERIFY_INSPECTION",52:"VERIFY_TEST",53:"ELEMENT",56:"TYPE",58:"DOCREF",60:"END_ARROW_L",62:"LINE",63:"END_ARROW_R",64:"CONTAINS",65:"COPIES",66:"DERIVES",67:"SATISFIES",68:"VERIFIES",69:"REFINES",70:"TRACES",71:"unqString",72:"qString"},productions_:[0,[3,3],[3,2],[3,4],[4,3],[4,5],[4,2],[4,2],[4,1],[9,1],[10,1],[13,1],[11,1],[7,0],[7,2],[7,2],[7,2],[7,2],[7,2],[23,5],[29,5],[29,5],[29,5],[29,5],[29,2],[29,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[36,1],[36,1],[36,1],[38,1],[38,1],[38,1],[38,1],[24,5],[55,5],[55,5],[55,2],[55,1],[25,5],[25,5],[61,1],[61,1],[61,1],[61,1],[61,1],[61,1],[61,1],[27,1],[27,1],[32,1],[32,1],[34,1],[34,1],[54,1],[54,1],[57,1],[57,1],[59,1],[59,1]],performAction:function(t,e,n,r,i,o,a){var s=o.length-1;switch(i){case 6:this.$=o[s].trim(),r.setAccTitle(this.$);break;case 7:case 8:this.$=o[s].trim(),r.setAccDescription(this.$);break;case 9:r.parseDirective("%%{","open_directive");break;case 10:r.parseDirective(o[s],"type_directive");break;case 11:o[s]=o[s].trim().replace(/'/g,'"'),r.parseDirective(o[s],"arg_directive");break;case 12:r.parseDirective("}%%","close_directive","pie");break;case 13:this.$=[];break;case 19:r.addRequirement(o[s-3],o[s-4]);break;case 20:r.setNewReqId(o[s-2]);break;case 21:r.setNewReqText(o[s-2]);break;case 22:r.setNewReqRisk(o[s-2]);break;case 23:r.setNewReqVerifyMethod(o[s-2]);break;case 26:this.$=r.RequirementType.REQUIREMENT;break;case 27:this.$=r.RequirementType.FUNCTIONAL_REQUIREMENT;break;case 28:this.$=r.RequirementType.INTERFACE_REQUIREMENT;break;case 29:this.$=r.RequirementType.PERFORMANCE_REQUIREMENT;break;case 30:this.$=r.RequirementType.PHYSICAL_REQUIREMENT;break;case 31:this.$=r.RequirementType.DESIGN_CONSTRAINT;break;case 32:this.$=r.RiskLevel.LOW_RISK;break;case 33:this.$=r.RiskLevel.MED_RISK;break;case 34:this.$=r.RiskLevel.HIGH_RISK;break;case 35:this.$=r.VerifyType.VERIFY_ANALYSIS;break;case 36:this.$=r.VerifyType.VERIFY_DEMONSTRATION;break;case 37:this.$=r.VerifyType.VERIFY_INSPECTION;break;case 38:this.$=r.VerifyType.VERIFY_TEST;break;case 39:r.addElement(o[s-3]);break;case 40:r.setNewElementType(o[s-2]);break;case 41:r.setNewElementDocRef(o[s-2]);break;case 44:r.addRelationship(o[s-2],o[s],o[s-4]);break;case 45:r.addRelationship(o[s-2],o[s-4],o[s]);break;case 46:this.$=r.Relationships.CONTAINS;break;case 47:this.$=r.Relationships.COPIES;break;case 48:this.$=r.Relationships.DERIVES;break;case 49:this.$=r.Relationships.SATISFIES;break;case 50:this.$=r.Relationships.VERIFIES;break;case 51:this.$=r.Relationships.REFINES;break;case 52:this.$=r.Relationships.TRACES}},table:[{3:1,4:2,6:e,9:4,14:n,16:r,18:i,19:o},{1:[3]},{3:10,4:2,5:[1,9],6:e,9:4,14:n,16:r,18:i,19:o},{5:[1,11]},{10:12,20:[1,13]},{15:[1,14]},{17:[1,15]},t(a,[2,8]),{20:[2,9]},{3:16,4:2,6:e,9:4,14:n,16:r,18:i,19:o},{1:[2,2]},{4:21,5:s,7:17,8:l,9:4,14:n,16:r,18:i,19:o,23:18,24:19,25:20,26:23,32:25,40:c,41:u,42:h,43:d,44:f,45:p,53:g,71:m,72:y},{11:34,12:[1,35],22:v},t([12,22],[2,10]),t(a,[2,6]),t(a,[2,7]),{1:[2,1]},{8:[1,37]},{4:21,5:s,7:38,8:l,9:4,14:n,16:r,18:i,19:o,23:18,24:19,25:20,26:23,32:25,40:c,41:u,42:h,43:d,44:f,45:p,53:g,71:m,72:y},{4:21,5:s,7:39,8:l,9:4,14:n,16:r,18:i,19:o,23:18,24:19,25:20,26:23,32:25,40:c,41:u,42:h,43:d,44:f,45:p,53:g,71:m,72:y},{4:21,5:s,7:40,8:l,9:4,14:n,16:r,18:i,19:o,23:18,24:19,25:20,26:23,32:25,40:c,41:u,42:h,43:d,44:f,45:p,53:g,71:m,72:y},{4:21,5:s,7:41,8:l,9:4,14:n,16:r,18:i,19:o,23:18,24:19,25:20,26:23,32:25,40:c,41:u,42:h,43:d,44:f,45:p,53:g,71:m,72:y},{4:21,5:s,7:42,8:l,9:4,14:n,16:r,18:i,19:o,23:18,24:19,25:20,26:23,32:25,40:c,41:u,42:h,43:d,44:f,45:p,53:g,71:m,72:y},{27:43,71:[1,44],72:[1,45]},{54:46,71:[1,47],72:[1,48]},{60:[1,49],62:[1,50]},t(b,[2,26]),t(b,[2,27]),t(b,[2,28]),t(b,[2,29]),t(b,[2,30]),t(b,[2,31]),t(w,[2,55]),t(w,[2,56]),t(a,[2,4]),{13:51,21:[1,52]},t(a,[2,12]),{1:[2,3]},{8:[2,14]},{8:[2,15]},{8:[2,16]},{8:[2,17]},{8:[2,18]},{28:[1,53]},{28:[2,53]},{28:[2,54]},{28:[1,54]},{28:[2,59]},{28:[2,60]},{61:55,64:x,65:_,66:k,67:E,68:C,69:S,70:D},{61:63,64:x,65:_,66:k,67:E,68:C,69:S,70:D},{11:64,22:v},{22:[2,11]},{5:[1,65]},{5:[1,66]},{62:[1,67]},t(T,[2,46]),t(T,[2,47]),t(T,[2,48]),t(T,[2,49]),t(T,[2,50]),t(T,[2,51]),t(T,[2,52]),{63:[1,68]},t(a,[2,5]),{5:A,29:69,30:M,33:N,35:O,37:F,39:I},{5:L,39:B,55:76,56:R,58:P},{32:81,71:m,72:y},{32:82,71:m,72:y},t(z,[2,19]),{31:[1,83]},{31:[1,84]},{31:[1,85]},{31:[1,86]},{5:A,29:87,30:M,33:N,35:O,37:F,39:I},t(z,[2,25]),t(z,[2,39]),{31:[1,88]},{31:[1,89]},{5:L,39:B,55:90,56:R,58:P},t(z,[2,43]),t(z,[2,44]),t(z,[2,45]),{32:91,71:m,72:y},{34:92,71:[1,93],72:[1,94]},{36:95,46:[1,96],47:[1,97],48:[1,98]},{38:99,49:[1,100],50:[1,101],51:[1,102],52:[1,103]},t(z,[2,24]),{57:104,71:[1,105],72:[1,106]},{59:107,71:[1,108],72:[1,109]},t(z,[2,42]),{5:[1,110]},{5:[1,111]},{5:[2,57]},{5:[2,58]},{5:[1,112]},{5:[2,32]},{5:[2,33]},{5:[2,34]},{5:[1,113]},{5:[2,35]},{5:[2,36]},{5:[2,37]},{5:[2,38]},{5:[1,114]},{5:[2,61]},{5:[2,62]},{5:[1,115]},{5:[2,63]},{5:[2,64]},{5:A,29:116,30:M,33:N,35:O,37:F,39:I},{5:A,29:117,30:M,33:N,35:O,37:F,39:I},{5:A,29:118,30:M,33:N,35:O,37:F,39:I},{5:A,29:119,30:M,33:N,35:O,37:F,39:I},{5:L,39:B,55:120,56:R,58:P},{5:L,39:B,55:121,56:R,58:P},t(z,[2,20]),t(z,[2,21]),t(z,[2,22]),t(z,[2,23]),t(z,[2,40]),t(z,[2,41])],defaultActions:{8:[2,9],10:[2,2],16:[2,1],37:[2,3],38:[2,14],39:[2,15],40:[2,16],41:[2,17],42:[2,18],44:[2,53],45:[2,54],47:[2,59],48:[2,60],52:[2,11],93:[2,57],94:[2,58],96:[2,32],97:[2,33],98:[2,34],100:[2,35],101:[2,36],102:[2,37],103:[2,38],105:[2,61],106:[2,62],108:[2,63],109:[2,64]},parseError:function(t,e){if(!e.recoverable){var n=new Error(t);throw n.hash=e,n}this.trace(t)},parse:function(t){var e=this,n=[0],r=[],i=[null],o=[],a=this.table,s="",l=0,c=0,u=0,h=2,d=1,f=o.slice.call(arguments,1),p=Object.create(this.lexer),g={yy:{}};for(var m in this.yy)Object.prototype.hasOwnProperty.call(this.yy,m)&&(g.yy[m]=this.yy[m]);p.setInput(t,g.yy),g.yy.lexer=p,g.yy.parser=this,void 0===p.yylloc&&(p.yylloc={});var y=p.yylloc;o.push(y);var v=p.options&&p.options.ranges;function b(){var t;return"number"!=typeof(t=r.pop()||p.lex()||d)&&(t instanceof Array&&(t=(r=t).pop()),t=e.symbols_[t]||t),t}"function"==typeof g.yy.parseError?this.parseError=g.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var w,x,_,k,E,C,S,D,T,A={};;){if(_=n[n.length-1],this.defaultActions[_]?k=this.defaultActions[_]:(null==w&&(w=b()),k=a[_]&&a[_][w]),void 0===k||!k.length||!k[0]){var M="";for(C in T=[],a[_])this.terminals_[C]&&C>h&&T.push("'"+this.terminals_[C]+"'");M=p.showPosition?"Parse error on line "+(l+1)+":\n"+p.showPosition()+"\nExpecting "+T.join(", ")+", got '"+(this.terminals_[w]||w)+"'":"Parse error on line "+(l+1)+": Unexpected "+(w==d?"end of input":"'"+(this.terminals_[w]||w)+"'"),this.parseError(M,{text:p.match,token:this.terminals_[w]||w,line:p.yylineno,loc:y,expected:T})}if(k[0]instanceof Array&&k.length>1)throw new Error("Parse Error: multiple actions possible at state: "+_+", token: "+w);switch(k[0]){case 1:n.push(w),i.push(p.yytext),o.push(p.yylloc),n.push(k[1]),w=null,x?(w=x,x=null):(c=p.yyleng,s=p.yytext,l=p.yylineno,y=p.yylloc,u>0&&u--);break;case 2:if(S=this.productions_[k[1]][1],A.$=i[i.length-S],A._$={first_line:o[o.length-(S||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(S||1)].first_column,last_column:o[o.length-1].last_column},v&&(A._$.range=[o[o.length-(S||1)].range[0],o[o.length-1].range[1]]),void 0!==(E=this.performAction.apply(A,[s,c,l,g.yy,k[1],i,o].concat(f))))return E;S&&(n=n.slice(0,-1*S*2),i=i.slice(0,-1*S),o=o.slice(0,-1*S)),n.push(this.productions_[k[1]][0]),i.push(A.$),o.push(A._$),D=a[n[n.length-2]][n[n.length-1]],n.push(D);break;case 3:return!0}}return!0}},j={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,r,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(r=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in i)this[o]=i[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,n,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),o=0;o<i.length;o++)if((n=this._input.match(this.rules[i[o]]))&&(!e||n[0].length>e[0].length)){if(e=n,r=o,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,i[o])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,i[r]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(t,e,n,r){switch(n){case 0:return this.begin("open_directive"),19;case 1:return this.begin("type_directive"),20;case 2:return this.popState(),this.begin("arg_directive"),12;case 3:return this.popState(),this.popState(),22;case 4:return 21;case 5:return"title";case 6:return this.begin("acc_title"),14;case 7:return this.popState(),"acc_title_value";case 8:return this.begin("acc_descr"),16;case 9:return this.popState(),"acc_descr_value";case 10:this.begin("acc_descr_multiline");break;case 11:case 53:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:return 5;case 14:case 15:case 16:break;case 17:return 8;case 18:return 6;case 19:return 28;case 20:return 39;case 21:return 31;case 22:return 30;case 23:return 33;case 24:return 35;case 25:return 37;case 26:return 40;case 27:return 41;case 28:return 42;case 29:return 43;case 30:return 44;case 31:return 45;case 32:return 46;case 33:return 47;case 34:return 48;case 35:return 49;case 36:return 50;case 37:return 51;case 38:return 52;case 39:return 53;case 40:return 64;case 41:return 65;case 42:return 66;case 43:return 67;case 44:return 68;case 45:return 69;case 46:return 70;case 47:return 56;case 48:return 58;case 49:return 60;case 50:return 63;case 51:return 62;case 52:this.begin("string");break;case 54:return"qString";case 55:return e.yytext=e.yytext.trim(),71}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:(\r?\n)+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:$)/i,/^(?:requirementDiagram\b)/i,/^(?:\{)/i,/^(?:\})/i,/^(?::)/i,/^(?:id\b)/i,/^(?:text\b)/i,/^(?:risk\b)/i,/^(?:verifyMethod\b)/i,/^(?:requirement\b)/i,/^(?:functionalRequirement\b)/i,/^(?:interfaceRequirement\b)/i,/^(?:performanceRequirement\b)/i,/^(?:physicalRequirement\b)/i,/^(?:designConstraint\b)/i,/^(?:low\b)/i,/^(?:medium\b)/i,/^(?:high\b)/i,/^(?:analysis\b)/i,/^(?:demonstration\b)/i,/^(?:inspection\b)/i,/^(?:test\b)/i,/^(?:element\b)/i,/^(?:contains\b)/i,/^(?:copies\b)/i,/^(?:derives\b)/i,/^(?:satisfies\b)/i,/^(?:verifies\b)/i,/^(?:refines\b)/i,/^(?:traces\b)/i,/^(?:type\b)/i,/^(?:docref\b)/i,/^(?:<-)/i,/^(?:->)/i,/^(?:-)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[\w][^\r\n\{\<\>\-\=]*)/i],conditions:{acc_descr_multiline:{rules:[11,12],inclusive:!1},acc_descr:{rules:[9],inclusive:!1},acc_title:{rules:[7],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},unqString:{rules:[],inclusive:!1},token:{rules:[],inclusive:!1},string:{rules:[53,54],inclusive:!1},INITIAL:{rules:[0,5,6,8,10,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,55],inclusive:!0}}};function U(){this.yy={}}return $.lexer=j,U.prototype=$,$.Parser=U,new U}();e.parser=r,e.Parser=r.Parser,e.parse=function(){return r.parse.apply(r,arguments)},e.main=function(t){t[1]||process.exit(1);var r=n(8800).readFileSync(n(6470).normalize(t[1]),"utf8");return e.parser.parse(r)},n.c[n.s]===t&&e.main(process.argv.slice(1))},6876:(t,e,n)=>{t=n.nmd(t);var r=function(){var t=function(t,e,n,r){for(n=n||{},r=t.length;r--;n[t[r]]=e);return n},e=[1,2],n=[1,3],r=[1,5],i=[1,7],o=[2,5],a=[1,15],s=[1,17],l=[1,18],c=[1,19],u=[1,21],h=[1,22],d=[1,23],f=[1,29],p=[1,30],g=[1,31],m=[1,32],y=[1,33],v=[1,34],b=[1,35],w=[1,36],x=[1,37],_=[1,38],k=[1,39],E=[1,40],C=[1,43],S=[1,44],D=[1,45],T=[1,46],A=[1,47],M=[1,48],N=[1,51],O=[1,4,5,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,50,51,52,53,58,59,60,61,69,79],F=[4,5,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,53,58,59,60,61,69,79],I=[4,5,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,52,53,58,59,60,61,69,79],L=[4,5,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,51,53,58,59,60,61,69,79],B=[4,5,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,50,53,58,59,60,61,69,79],R=[67,68,69],P=[1,121],z=[1,4,5,7,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,50,51,52,53,58,59,60,61,69,79],$={trace:function(){},yy:{},symbols_:{error:2,start:3,SPACE:4,NEWLINE:5,directive:6,SD:7,document:8,line:9,statement:10,openDirective:11,typeDirective:12,closeDirective:13,":":14,argDirective:15,participant:16,actor:17,AS:18,restOfLine:19,participant_actor:20,signal:21,autonumber:22,NUM:23,off:24,activate:25,deactivate:26,note_statement:27,links_statement:28,link_statement:29,properties_statement:30,details_statement:31,title:32,legacy_title:33,acc_title:34,acc_title_value:35,acc_descr:36,acc_descr_value:37,acc_descr_multiline_value:38,loop:39,end:40,rect:41,opt:42,alt:43,else_sections:44,par:45,par_sections:46,critical:47,option_sections:48,break:49,option:50,and:51,else:52,note:53,placement:54,text2:55,over:56,actor_pair:57,links:58,link:59,properties:60,details:61,spaceList:62,",":63,left_of:64,right_of:65,signaltype:66,"+":67,"-":68,ACTOR:69,SOLID_OPEN_ARROW:70,DOTTED_OPEN_ARROW:71,SOLID_ARROW:72,DOTTED_ARROW:73,SOLID_CROSS:74,DOTTED_CROSS:75,SOLID_POINT:76,DOTTED_POINT:77,TXT:78,open_directive:79,type_directive:80,arg_directive:81,close_directive:82,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NEWLINE",7:"SD",14:":",16:"participant",18:"AS",19:"restOfLine",20:"participant_actor",22:"autonumber",23:"NUM",24:"off",25:"activate",26:"deactivate",32:"title",33:"legacy_title",34:"acc_title",35:"acc_title_value",36:"acc_descr",37:"acc_descr_value",38:"acc_descr_multiline_value",39:"loop",40:"end",41:"rect",42:"opt",43:"alt",45:"par",47:"critical",49:"break",50:"option",51:"and",52:"else",53:"note",56:"over",58:"links",59:"link",60:"properties",61:"details",63:",",64:"left_of",65:"right_of",67:"+",68:"-",69:"ACTOR",70:"SOLID_OPEN_ARROW",71:"DOTTED_OPEN_ARROW",72:"SOLID_ARROW",73:"DOTTED_ARROW",74:"SOLID_CROSS",75:"DOTTED_CROSS",76:"SOLID_POINT",77:"DOTTED_POINT",78:"TXT",79:"open_directive",80:"type_directive",81:"arg_directive",82:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,2],[8,0],[8,2],[9,2],[9,1],[9,1],[6,4],[6,6],[10,5],[10,3],[10,5],[10,3],[10,2],[10,4],[10,3],[10,3],[10,2],[10,3],[10,3],[10,2],[10,2],[10,2],[10,2],[10,2],[10,1],[10,1],[10,2],[10,2],[10,1],[10,4],[10,4],[10,4],[10,4],[10,4],[10,4],[10,4],[10,1],[48,1],[48,4],[46,1],[46,4],[44,1],[44,4],[27,4],[27,4],[28,3],[29,3],[30,3],[31,3],[62,2],[62,1],[57,3],[57,1],[54,1],[54,1],[21,5],[21,5],[21,4],[17,1],[66,1],[66,1],[66,1],[66,1],[66,1],[66,1],[66,1],[66,1],[55,1],[11,1],[12,1],[15,1],[13,1]],performAction:function(t,e,n,r,i,o,a){var s=o.length-1;switch(i){case 4:return r.apply(o[s]),o[s];case 5:case 9:this.$=[];break;case 6:o[s-1].push(o[s]),this.$=o[s-1];break;case 7:case 8:case 56:this.$=o[s];break;case 12:o[s-3].type="addParticipant",o[s-3].description=r.parseMessage(o[s-1]),this.$=o[s-3];break;case 13:o[s-1].type="addParticipant",this.$=o[s-1];break;case 14:o[s-3].type="addActor",o[s-3].description=r.parseMessage(o[s-1]),this.$=o[s-3];break;case 15:o[s-1].type="addActor",this.$=o[s-1];break;case 17:this.$={type:"sequenceIndex",sequenceIndex:Number(o[s-2]),sequenceIndexStep:Number(o[s-1]),sequenceVisible:!0,signalType:r.LINETYPE.AUTONUMBER};break;case 18:this.$={type:"sequenceIndex",sequenceIndex:Number(o[s-1]),sequenceIndexStep:1,sequenceVisible:!0,signalType:r.LINETYPE.AUTONUMBER};break;case 19:this.$={type:"sequenceIndex",sequenceVisible:!1,signalType:r.LINETYPE.AUTONUMBER};break;case 20:this.$={type:"sequenceIndex",sequenceVisible:!0,signalType:r.LINETYPE.AUTONUMBER};break;case 21:this.$={type:"activeStart",signalType:r.LINETYPE.ACTIVE_START,actor:o[s-1]};break;case 22:this.$={type:"activeEnd",signalType:r.LINETYPE.ACTIVE_END,actor:o[s-1]};break;case 28:r.setDiagramTitle(o[s].substring(6)),this.$=o[s].substring(6);break;case 29:r.setDiagramTitle(o[s].substring(7)),this.$=o[s].substring(7);break;case 30:this.$=o[s].trim(),r.setAccTitle(this.$);break;case 31:case 32:this.$=o[s].trim(),r.setAccDescription(this.$);break;case 33:o[s-1].unshift({type:"loopStart",loopText:r.parseMessage(o[s-2]),signalType:r.LINETYPE.LOOP_START}),o[s-1].push({type:"loopEnd",loopText:o[s-2],signalType:r.LINETYPE.LOOP_END}),this.$=o[s-1];break;case 34:o[s-1].unshift({type:"rectStart",color:r.parseMessage(o[s-2]),signalType:r.LINETYPE.RECT_START}),o[s-1].push({type:"rectEnd",color:r.parseMessage(o[s-2]),signalType:r.LINETYPE.RECT_END}),this.$=o[s-1];break;case 35:o[s-1].unshift({type:"optStart",optText:r.parseMessage(o[s-2]),signalType:r.LINETYPE.OPT_START}),o[s-1].push({type:"optEnd",optText:r.parseMessage(o[s-2]),signalType:r.LINETYPE.OPT_END}),this.$=o[s-1];break;case 36:o[s-1].unshift({type:"altStart",altText:r.parseMessage(o[s-2]),signalType:r.LINETYPE.ALT_START}),o[s-1].push({type:"altEnd",signalType:r.LINETYPE.ALT_END}),this.$=o[s-1];break;case 37:o[s-1].unshift({type:"parStart",parText:r.parseMessage(o[s-2]),signalType:r.LINETYPE.PAR_START}),o[s-1].push({type:"parEnd",signalType:r.LINETYPE.PAR_END}),this.$=o[s-1];break;case 38:o[s-1].unshift({type:"criticalStart",criticalText:r.parseMessage(o[s-2]),signalType:r.LINETYPE.CRITICAL_START}),o[s-1].push({type:"criticalEnd",signalType:r.LINETYPE.CRITICAL_END}),this.$=o[s-1];break;case 39:o[s-1].unshift({type:"breakStart",breakText:r.parseMessage(o[s-2]),signalType:r.LINETYPE.BREAK_START}),o[s-1].push({type:"breakEnd",optText:r.parseMessage(o[s-2]),signalType:r.LINETYPE.BREAK_END}),this.$=o[s-1];break;case 42:this.$=o[s-3].concat([{type:"option",optionText:r.parseMessage(o[s-1]),signalType:r.LINETYPE.CRITICAL_OPTION},o[s]]);break;case 44:this.$=o[s-3].concat([{type:"and",parText:r.parseMessage(o[s-1]),signalType:r.LINETYPE.PAR_AND},o[s]]);break;case 46:this.$=o[s-3].concat([{type:"else",altText:r.parseMessage(o[s-1]),signalType:r.LINETYPE.ALT_ELSE},o[s]]);break;case 47:this.$=[o[s-1],{type:"addNote",placement:o[s-2],actor:o[s-1].actor,text:o[s]}];break;case 48:o[s-2]=[].concat(o[s-1],o[s-1]).slice(0,2),o[s-2][0]=o[s-2][0].actor,o[s-2][1]=o[s-2][1].actor,this.$=[o[s-1],{type:"addNote",placement:r.PLACEMENT.OVER,actor:o[s-2].slice(0,2),text:o[s]}];break;case 49:this.$=[o[s-1],{type:"addLinks",actor:o[s-1].actor,text:o[s]}];break;case 50:this.$=[o[s-1],{type:"addALink",actor:o[s-1].actor,text:o[s]}];break;case 51:this.$=[o[s-1],{type:"addProperties",actor:o[s-1].actor,text:o[s]}];break;case 52:this.$=[o[s-1],{type:"addDetails",actor:o[s-1].actor,text:o[s]}];break;case 55:this.$=[o[s-2],o[s]];break;case 57:this.$=r.PLACEMENT.LEFTOF;break;case 58:this.$=r.PLACEMENT.RIGHTOF;break;case 59:this.$=[o[s-4],o[s-1],{type:"addMessage",from:o[s-4].actor,to:o[s-1].actor,signalType:o[s-3],msg:o[s]},{type:"activeStart",signalType:r.LINETYPE.ACTIVE_START,actor:o[s-1]}];break;case 60:this.$=[o[s-4],o[s-1],{type:"addMessage",from:o[s-4].actor,to:o[s-1].actor,signalType:o[s-3],msg:o[s]},{type:"activeEnd",signalType:r.LINETYPE.ACTIVE_END,actor:o[s-4]}];break;case 61:this.$=[o[s-3],o[s-1],{type:"addMessage",from:o[s-3].actor,to:o[s-1].actor,signalType:o[s-2],msg:o[s]}];break;case 62:this.$={type:"addParticipant",actor:o[s]};break;case 63:this.$=r.LINETYPE.SOLID_OPEN;break;case 64:this.$=r.LINETYPE.DOTTED_OPEN;break;case 65:this.$=r.LINETYPE.SOLID;break;case 66:this.$=r.LINETYPE.DOTTED;break;case 67:this.$=r.LINETYPE.SOLID_CROSS;break;case 68:this.$=r.LINETYPE.DOTTED_CROSS;break;case 69:this.$=r.LINETYPE.SOLID_POINT;break;case 70:this.$=r.LINETYPE.DOTTED_POINT;break;case 71:this.$=r.parseMessage(o[s].trim().substring(1));break;case 72:r.parseDirective("%%{","open_directive");break;case 73:r.parseDirective(o[s],"type_directive");break;case 74:o[s]=o[s].trim().replace(/'/g,'"'),r.parseDirective(o[s],"arg_directive");break;case 75:r.parseDirective("}%%","close_directive","sequence")}},table:[{3:1,4:e,5:n,6:4,7:r,11:6,79:i},{1:[3]},{3:8,4:e,5:n,6:4,7:r,11:6,79:i},{3:9,4:e,5:n,6:4,7:r,11:6,79:i},{3:10,4:e,5:n,6:4,7:r,11:6,79:i},t([1,4,5,16,20,22,25,26,32,33,34,36,38,39,41,42,43,45,47,49,53,58,59,60,61,69,79],o,{8:11}),{12:12,80:[1,13]},{80:[2,72]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{1:[2,4],4:a,5:s,6:41,9:14,10:16,11:6,16:l,17:42,20:c,21:20,22:u,25:h,26:d,27:24,28:25,29:26,30:27,31:28,32:f,33:p,34:g,36:m,38:y,39:v,41:b,42:w,43:x,45:_,47:k,49:E,53:C,58:S,59:D,60:T,61:A,69:M,79:i},{13:49,14:[1,50],82:N},t([14,82],[2,73]),t(O,[2,6]),{6:41,10:52,11:6,16:l,17:42,20:c,21:20,22:u,25:h,26:d,27:24,28:25,29:26,30:27,31:28,32:f,33:p,34:g,36:m,38:y,39:v,41:b,42:w,43:x,45:_,47:k,49:E,53:C,58:S,59:D,60:T,61:A,69:M,79:i},t(O,[2,8]),t(O,[2,9]),{17:53,69:M},{17:54,69:M},{5:[1,55]},{5:[1,58],23:[1,56],24:[1,57]},{17:59,69:M},{17:60,69:M},{5:[1,61]},{5:[1,62]},{5:[1,63]},{5:[1,64]},{5:[1,65]},t(O,[2,28]),t(O,[2,29]),{35:[1,66]},{37:[1,67]},t(O,[2,32]),{19:[1,68]},{19:[1,69]},{19:[1,70]},{19:[1,71]},{19:[1,72]},{19:[1,73]},{19:[1,74]},t(O,[2,40]),{66:75,70:[1,76],71:[1,77],72:[1,78],73:[1,79],74:[1,80],75:[1,81],76:[1,82],77:[1,83]},{54:84,56:[1,85],64:[1,86],65:[1,87]},{17:88,69:M},{17:89,69:M},{17:90,69:M},{17:91,69:M},t([5,18,63,70,71,72,73,74,75,76,77,78],[2,62]),{5:[1,92]},{15:93,81:[1,94]},{5:[2,75]},t(O,[2,7]),{5:[1,96],18:[1,95]},{5:[1,98],18:[1,97]},t(O,[2,16]),{5:[1,100],23:[1,99]},{5:[1,101]},t(O,[2,20]),{5:[1,102]},{5:[1,103]},t(O,[2,23]),t(O,[2,24]),t(O,[2,25]),t(O,[2,26]),t(O,[2,27]),t(O,[2,30]),t(O,[2,31]),t(F,o,{8:104}),t(F,o,{8:105}),t(F,o,{8:106}),t(I,o,{44:107,8:108}),t(L,o,{46:109,8:110}),t(B,o,{48:111,8:112}),t(F,o,{8:113}),{17:116,67:[1,114],68:[1,115],69:M},t(R,[2,63]),t(R,[2,64]),t(R,[2,65]),t(R,[2,66]),t(R,[2,67]),t(R,[2,68]),t(R,[2,69]),t(R,[2,70]),{17:117,69:M},{17:119,57:118,69:M},{69:[2,57]},{69:[2,58]},{55:120,78:P},{55:122,78:P},{55:123,78:P},{55:124,78:P},t(z,[2,10]),{13:125,82:N},{82:[2,74]},{19:[1,126]},t(O,[2,13]),{19:[1,127]},t(O,[2,15]),{5:[1,128]},t(O,[2,18]),t(O,[2,19]),t(O,[2,21]),t(O,[2,22]),{4:a,5:s,6:41,9:14,10:16,11:6,16:l,17:42,20:c,21:20,22:u,25:h,26:d,27:24,28:25,29:26,30:27,31:28,32:f,33:p,34:g,36:m,38:y,39:v,40:[1,129],41:b,42:w,43:x,45:_,47:k,49:E,53:C,58:S,59:D,60:T,61:A,69:M,79:i},{4:a,5:s,6:41,9:14,10:16,11:6,16:l,17:42,20:c,21:20,22:u,25:h,26:d,27:24,28:25,29:26,30:27,31:28,32:f,33:p,34:g,36:m,38:y,39:v,40:[1,130],41:b,42:w,43:x,45:_,47:k,49:E,53:C,58:S,59:D,60:T,61:A,69:M,79:i},{4:a,5:s,6:41,9:14,10:16,11:6,16:l,17:42,20:c,21:20,22:u,25:h,26:d,27:24,28:25,29:26,30:27,31:28,32:f,33:p,34:g,36:m,38:y,39:v,40:[1,131],41:b,42:w,43:x,45:_,47:k,49:E,53:C,58:S,59:D,60:T,61:A,69:M,79:i},{40:[1,132]},{4:a,5:s,6:41,9:14,10:16,11:6,16:l,17:42,20:c,21:20,22:u,25:h,26:d,27:24,28:25,29:26,30:27,31:28,32:f,33:p,34:g,36:m,38:y,39:v,40:[2,45],41:b,42:w,43:x,45:_,47:k,49:E,52:[1,133],53:C,58:S,59:D,60:T,61:A,69:M,79:i},{40:[1,134]},{4:a,5:s,6:41,9:14,10:16,11:6,16:l,17:42,20:c,21:20,22:u,25:h,26:d,27:24,28:25,29:26,30:27,31:28,32:f,33:p,34:g,36:m,38:y,39:v,40:[2,43],41:b,42:w,43:x,45:_,47:k,49:E,51:[1,135],53:C,58:S,59:D,60:T,61:A,69:M,79:i},{40:[1,136]},{4:a,5:s,6:41,9:14,10:16,11:6,16:l,17:42,20:c,21:20,22:u,25:h,26:d,27:24,28:25,29:26,30:27,31:28,32:f,33:p,34:g,36:m,38:y,39:v,40:[2,41],41:b,42:w,43:x,45:_,47:k,49:E,50:[1,137],53:C,58:S,59:D,60:T,61:A,69:M,79:i},{4:a,5:s,6:41,9:14,10:16,11:6,16:l,17:42,20:c,21:20,22:u,25:h,26:d,27:24,28:25,29:26,30:27,31:28,32:f,33:p,34:g,36:m,38:y,39:v,40:[1,138],41:b,42:w,43:x,45:_,47:k,49:E,53:C,58:S,59:D,60:T,61:A,69:M,79:i},{17:139,69:M},{17:140,69:M},{55:141,78:P},{55:142,78:P},{55:143,78:P},{63:[1,144],78:[2,56]},{5:[2,49]},{5:[2,71]},{5:[2,50]},{5:[2,51]},{5:[2,52]},{5:[1,145]},{5:[1,146]},{5:[1,147]},t(O,[2,17]),t(O,[2,33]),t(O,[2,34]),t(O,[2,35]),t(O,[2,36]),{19:[1,148]},t(O,[2,37]),{19:[1,149]},t(O,[2,38]),{19:[1,150]},t(O,[2,39]),{55:151,78:P},{55:152,78:P},{5:[2,61]},{5:[2,47]},{5:[2,48]},{17:153,69:M},t(z,[2,11]),t(O,[2,12]),t(O,[2,14]),t(I,o,{8:108,44:154}),t(L,o,{8:110,46:155}),t(B,o,{8:112,48:156}),{5:[2,59]},{5:[2,60]},{78:[2,55]},{40:[2,46]},{40:[2,44]},{40:[2,42]}],defaultActions:{7:[2,72],8:[2,1],9:[2,2],10:[2,3],51:[2,75],86:[2,57],87:[2,58],94:[2,74],120:[2,49],121:[2,71],122:[2,50],123:[2,51],124:[2,52],141:[2,61],142:[2,47],143:[2,48],151:[2,59],152:[2,60],153:[2,55],154:[2,46],155:[2,44],156:[2,42]},parseError:function(t,e){if(!e.recoverable){var n=new Error(t);throw n.hash=e,n}this.trace(t)},parse:function(t){var e=this,n=[0],r=[],i=[null],o=[],a=this.table,s="",l=0,c=0,u=0,h=2,d=1,f=o.slice.call(arguments,1),p=Object.create(this.lexer),g={yy:{}};for(var m in this.yy)Object.prototype.hasOwnProperty.call(this.yy,m)&&(g.yy[m]=this.yy[m]);p.setInput(t,g.yy),g.yy.lexer=p,g.yy.parser=this,void 0===p.yylloc&&(p.yylloc={});var y=p.yylloc;o.push(y);var v=p.options&&p.options.ranges;function b(){var t;return"number"!=typeof(t=r.pop()||p.lex()||d)&&(t instanceof Array&&(t=(r=t).pop()),t=e.symbols_[t]||t),t}"function"==typeof g.yy.parseError?this.parseError=g.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var w,x,_,k,E,C,S,D,T,A={};;){if(_=n[n.length-1],this.defaultActions[_]?k=this.defaultActions[_]:(null==w&&(w=b()),k=a[_]&&a[_][w]),void 0===k||!k.length||!k[0]){var M="";for(C in T=[],a[_])this.terminals_[C]&&C>h&&T.push("'"+this.terminals_[C]+"'");M=p.showPosition?"Parse error on line "+(l+1)+":\n"+p.showPosition()+"\nExpecting "+T.join(", ")+", got '"+(this.terminals_[w]||w)+"'":"Parse error on line "+(l+1)+": Unexpected "+(w==d?"end of input":"'"+(this.terminals_[w]||w)+"'"),this.parseError(M,{text:p.match,token:this.terminals_[w]||w,line:p.yylineno,loc:y,expected:T})}if(k[0]instanceof Array&&k.length>1)throw new Error("Parse Error: multiple actions possible at state: "+_+", token: "+w);switch(k[0]){case 1:n.push(w),i.push(p.yytext),o.push(p.yylloc),n.push(k[1]),w=null,x?(w=x,x=null):(c=p.yyleng,s=p.yytext,l=p.yylineno,y=p.yylloc,u>0&&u--);break;case 2:if(S=this.productions_[k[1]][1],A.$=i[i.length-S],A._$={first_line:o[o.length-(S||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(S||1)].first_column,last_column:o[o.length-1].last_column},v&&(A._$.range=[o[o.length-(S||1)].range[0],o[o.length-1].range[1]]),void 0!==(E=this.performAction.apply(A,[s,c,l,g.yy,k[1],i,o].concat(f))))return E;S&&(n=n.slice(0,-1*S*2),i=i.slice(0,-1*S),o=o.slice(0,-1*S)),n.push(this.productions_[k[1]][0]),i.push(A.$),o.push(A._$),D=a[n[n.length-2]][n[n.length-1]],n.push(D);break;case 3:return!0}}return!0}},j={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,r,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(r=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in i)this[o]=i[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,n,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),o=0;o<i.length;o++)if((n=this._input.match(this.rules[i[o]]))&&(!e||n[0].length>e[0].length)){if(e=n,r=o,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,i[o])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,i[r]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(t,e,n,r){switch(n){case 0:return this.begin("open_directive"),79;case 1:return this.begin("type_directive"),80;case 2:return this.popState(),this.begin("arg_directive"),14;case 3:return this.popState(),this.popState(),82;case 4:return 81;case 5:case 52:case 65:return 5;case 6:case 7:case 8:case 9:case 10:break;case 11:return 23;case 12:return this.begin("ID"),16;case 13:return this.begin("ID"),20;case 14:return e.yytext=e.yytext.trim(),this.begin("ALIAS"),69;case 15:return this.popState(),this.popState(),this.begin("LINE"),18;case 16:return this.popState(),this.popState(),5;case 17:return this.begin("LINE"),39;case 18:return this.begin("LINE"),41;case 19:return this.begin("LINE"),42;case 20:return this.begin("LINE"),43;case 21:return this.begin("LINE"),52;case 22:return this.begin("LINE"),45;case 23:return this.begin("LINE"),51;case 24:return this.begin("LINE"),47;case 25:return this.begin("LINE"),50;case 26:return this.begin("LINE"),49;case 27:return this.popState(),19;case 28:return 40;case 29:return 64;case 30:return 65;case 31:return 58;case 32:return 59;case 33:return 60;case 34:return 61;case 35:return 56;case 36:return 53;case 37:return this.begin("ID"),25;case 38:return this.begin("ID"),26;case 39:return 32;case 40:return 33;case 41:return this.begin("acc_title"),34;case 42:return this.popState(),"acc_title_value";case 43:return this.begin("acc_descr"),36;case 44:return this.popState(),"acc_descr_value";case 45:this.begin("acc_descr_multiline");break;case 46:this.popState();break;case 47:return"acc_descr_multiline_value";case 48:return 7;case 49:return 22;case 50:return 24;case 51:return 63;case 53:return e.yytext=e.yytext.trim(),69;case 54:return 72;case 55:return 73;case 56:return 70;case 57:return 71;case 58:return 74;case 59:return 75;case 60:return 76;case 61:return 77;case 62:return 78;case 63:return 67;case 64:return 68;case 66:return"INVALID"}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[0-9]+(?=[ \n]+))/i,/^(?:participant\b)/i,/^(?:actor\b)/i,/^(?:[^\->:\n,;]+?(?=((?!\n)\s)+as(?!\n)\s|[#\n;]|$))/i,/^(?:as\b)/i,/^(?:(?:))/i,/^(?:loop\b)/i,/^(?:rect\b)/i,/^(?:opt\b)/i,/^(?:alt\b)/i,/^(?:else\b)/i,/^(?:par\b)/i,/^(?:and\b)/i,/^(?:critical\b)/i,/^(?:option\b)/i,/^(?:break\b)/i,/^(?:(?:[:]?(?:no)?wrap)?[^#\n;]*)/i,/^(?:end\b)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:links\b)/i,/^(?:link\b)/i,/^(?:properties\b)/i,/^(?:details\b)/i,/^(?:over\b)/i,/^(?:note\b)/i,/^(?:activate\b)/i,/^(?:deactivate\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:title:\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:sequenceDiagram\b)/i,/^(?:autonumber\b)/i,/^(?:off\b)/i,/^(?:,)/i,/^(?:;)/i,/^(?:[^\+\->:\n,;]+((?!(-x|--x|-\)|--\)))[\-]*[^\+\->:\n,;]+)*)/i,/^(?:->>)/i,/^(?:-->>)/i,/^(?:->)/i,/^(?:-->)/i,/^(?:-[x])/i,/^(?:--[x])/i,/^(?:-[\)])/i,/^(?:--[\)])/i,/^(?::(?:(?:no)?wrap)?[^#\n;]+)/i,/^(?:\+)/i,/^(?:-)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[46,47],inclusive:!1},acc_descr:{rules:[44],inclusive:!1},acc_title:{rules:[42],inclusive:!1},open_directive:{rules:[1,8],inclusive:!1},type_directive:{rules:[2,3,8],inclusive:!1},arg_directive:{rules:[3,4,8],inclusive:!1},ID:{rules:[7,8,14],inclusive:!1},ALIAS:{rules:[7,8,15,16],inclusive:!1},LINE:{rules:[7,8,27],inclusive:!1},INITIAL:{rules:[0,5,6,8,9,10,11,12,13,17,18,19,20,21,22,23,24,25,26,28,29,30,31,32,33,34,35,36,37,38,39,40,41,43,45,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66],inclusive:!0}}};function U(){this.yy={}}return $.lexer=j,U.prototype=$,$.Parser=U,new U}();e.parser=r,e.Parser=r.Parser,e.parse=function(){return r.parse.apply(r,arguments)},e.main=function(t){t[1]||process.exit(1);var r=n(1993).readFileSync(n(6470).normalize(t[1]),"utf8");return e.parser.parse(r)},n.c[n.s]===t&&e.main(process.argv.slice(1))},3584:(t,e,n)=>{t=n.nmd(t);var r=function(){var t=function(t,e,n,r){for(n=n||{},r=t.length;r--;n[t[r]]=e);return n},e=[1,2],n=[1,3],r=[1,5],i=[1,7],o=[2,5],a=[1,15],s=[1,17],l=[1,19],c=[1,20],u=[1,21],h=[1,22],d=[1,33],f=[1,23],p=[1,24],g=[1,25],m=[1,26],y=[1,27],v=[1,30],b=[1,31],w=[1,32],x=[1,35],_=[1,36],k=[1,37],E=[1,38],C=[1,34],S=[1,41],D=[1,4,5,14,15,17,19,20,22,23,24,25,26,27,31,33,35,41,42,43,44,47,50],T=[1,4,5,12,13,14,15,17,19,20,22,23,24,25,26,27,31,33,35,41,42,43,44,47,50],A=[1,4,5,7,14,15,17,19,20,22,23,24,25,26,27,31,33,35,41,42,43,44,47,50],M=[4,5,14,15,17,19,20,22,23,24,25,26,27,31,33,35,41,42,43,44,47,50],N={trace:function(){},yy:{},symbols_:{error:2,start:3,SPACE:4,NL:5,directive:6,SD:7,document:8,line:9,statement:10,idStatement:11,DESCR:12,"--\x3e":13,HIDE_EMPTY:14,scale:15,WIDTH:16,COMPOSIT_STATE:17,STRUCT_START:18,STRUCT_STOP:19,STATE_DESCR:20,AS:21,ID:22,FORK:23,JOIN:24,CHOICE:25,CONCURRENT:26,note:27,notePosition:28,NOTE_TEXT:29,direction:30,acc_title:31,acc_title_value:32,acc_descr:33,acc_descr_value:34,acc_descr_multiline_value:35,openDirective:36,typeDirective:37,closeDirective:38,":":39,argDirective:40,direction_tb:41,direction_bt:42,direction_rl:43,direction_lr:44,eol:45,";":46,EDGE_STATE:47,left_of:48,right_of:49,open_directive:50,type_directive:51,arg_directive:52,close_directive:53,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NL",7:"SD",12:"DESCR",13:"--\x3e",14:"HIDE_EMPTY",15:"scale",16:"WIDTH",17:"COMPOSIT_STATE",18:"STRUCT_START",19:"STRUCT_STOP",20:"STATE_DESCR",21:"AS",22:"ID",23:"FORK",24:"JOIN",25:"CHOICE",26:"CONCURRENT",27:"note",29:"NOTE_TEXT",31:"acc_title",32:"acc_title_value",33:"acc_descr",34:"acc_descr_value",35:"acc_descr_multiline_value",39:":",41:"direction_tb",42:"direction_bt",43:"direction_rl",44:"direction_lr",46:";",47:"EDGE_STATE",48:"left_of",49:"right_of",50:"open_directive",51:"type_directive",52:"arg_directive",53:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,2],[8,0],[8,2],[9,2],[9,1],[9,1],[10,1],[10,2],[10,3],[10,4],[10,1],[10,2],[10,1],[10,4],[10,3],[10,6],[10,1],[10,1],[10,1],[10,1],[10,4],[10,4],[10,1],[10,1],[10,2],[10,2],[10,1],[6,3],[6,5],[30,1],[30,1],[30,1],[30,1],[45,1],[45,1],[11,1],[11,1],[28,1],[28,1],[36,1],[37,1],[40,1],[38,1]],performAction:function(t,e,n,r,i,o,a){var s=o.length-1;switch(i){case 4:return r.setRootDoc(o[s]),o[s];case 5:this.$=[];break;case 6:"nl"!=o[s]&&(o[s-1].push(o[s]),this.$=o[s-1]);break;case 7:case 8:case 39:case 40:this.$=o[s];break;case 9:this.$="nl";break;case 10:this.$={stmt:"state",id:o[s],type:"default",description:""};break;case 11:this.$={stmt:"state",id:o[s-1],type:"default",description:r.trimColon(o[s])};break;case 12:this.$={stmt:"relation",state1:{stmt:"state",id:o[s-2],type:"default",description:""},state2:{stmt:"state",id:o[s],type:"default",description:""}};break;case 13:this.$={stmt:"relation",state1:{stmt:"state",id:o[s-3],type:"default",description:""},state2:{stmt:"state",id:o[s-1],type:"default",description:""},description:o[s].substr(1).trim()};break;case 17:this.$={stmt:"state",id:o[s-3],type:"default",description:"",doc:o[s-1]};break;case 18:var l=o[s],c=o[s-2].trim();if(o[s].match(":")){var u=o[s].split(":");l=u[0],c=[c,u[1]]}this.$={stmt:"state",id:l,type:"default",description:c};break;case 19:this.$={stmt:"state",id:o[s-3],type:"default",description:o[s-5],doc:o[s-1]};break;case 20:this.$={stmt:"state",id:o[s],type:"fork"};break;case 21:this.$={stmt:"state",id:o[s],type:"join"};break;case 22:this.$={stmt:"state",id:o[s],type:"choice"};break;case 23:this.$={stmt:"state",id:r.getDividerId(),type:"divider"};break;case 24:this.$={stmt:"state",id:o[s-1].trim(),note:{position:o[s-2].trim(),text:o[s].trim()}};break;case 28:this.$=o[s].trim(),r.setAccTitle(this.$);break;case 29:case 30:this.$=o[s].trim(),r.setAccDescription(this.$);break;case 33:r.setDirection("TB"),this.$={stmt:"dir",value:"TB"};break;case 34:r.setDirection("BT"),this.$={stmt:"dir",value:"BT"};break;case 35:r.setDirection("RL"),this.$={stmt:"dir",value:"RL"};break;case 36:r.setDirection("LR"),this.$={stmt:"dir",value:"LR"};break;case 43:r.parseDirective("%%{","open_directive");break;case 44:r.parseDirective(o[s],"type_directive");break;case 45:o[s]=o[s].trim().replace(/'/g,'"'),r.parseDirective(o[s],"arg_directive");break;case 46:r.parseDirective("}%%","close_directive","state")}},table:[{3:1,4:e,5:n,6:4,7:r,36:6,50:i},{1:[3]},{3:8,4:e,5:n,6:4,7:r,36:6,50:i},{3:9,4:e,5:n,6:4,7:r,36:6,50:i},{3:10,4:e,5:n,6:4,7:r,36:6,50:i},t([1,4,5,14,15,17,20,22,23,24,25,26,27,31,33,35,41,42,43,44,47,50],o,{8:11}),{37:12,51:[1,13]},{51:[2,43]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{1:[2,4],4:a,5:s,6:28,9:14,10:16,11:18,14:l,15:c,17:u,20:h,22:d,23:f,24:p,25:g,26:m,27:y,30:29,31:v,33:b,35:w,36:6,41:x,42:_,43:k,44:E,47:C,50:i},{38:39,39:[1,40],53:S},t([39,53],[2,44]),t(D,[2,6]),{6:28,10:42,11:18,14:l,15:c,17:u,20:h,22:d,23:f,24:p,25:g,26:m,27:y,30:29,31:v,33:b,35:w,36:6,41:x,42:_,43:k,44:E,47:C,50:i},t(D,[2,8]),t(D,[2,9]),t(D,[2,10],{12:[1,43],13:[1,44]}),t(D,[2,14]),{16:[1,45]},t(D,[2,16],{18:[1,46]}),{21:[1,47]},t(D,[2,20]),t(D,[2,21]),t(D,[2,22]),t(D,[2,23]),{28:48,29:[1,49],48:[1,50],49:[1,51]},t(D,[2,26]),t(D,[2,27]),{32:[1,52]},{34:[1,53]},t(D,[2,30]),t(T,[2,39]),t(T,[2,40]),t(D,[2,33]),t(D,[2,34]),t(D,[2,35]),t(D,[2,36]),t(A,[2,31]),{40:54,52:[1,55]},t(A,[2,46]),t(D,[2,7]),t(D,[2,11]),{11:56,22:d,47:C},t(D,[2,15]),t(M,o,{8:57}),{22:[1,58]},{22:[1,59]},{21:[1,60]},{22:[2,41]},{22:[2,42]},t(D,[2,28]),t(D,[2,29]),{38:61,53:S},{53:[2,45]},t(D,[2,12],{12:[1,62]}),{4:a,5:s,6:28,9:14,10:16,11:18,14:l,15:c,17:u,19:[1,63],20:h,22:d,23:f,24:p,25:g,26:m,27:y,30:29,31:v,33:b,35:w,36:6,41:x,42:_,43:k,44:E,47:C,50:i},t(D,[2,18],{18:[1,64]}),{29:[1,65]},{22:[1,66]},t(A,[2,32]),t(D,[2,13]),t(D,[2,17]),t(M,o,{8:67}),t(D,[2,24]),t(D,[2,25]),{4:a,5:s,6:28,9:14,10:16,11:18,14:l,15:c,17:u,19:[1,68],20:h,22:d,23:f,24:p,25:g,26:m,27:y,30:29,31:v,33:b,35:w,36:6,41:x,42:_,43:k,44:E,47:C,50:i},t(D,[2,19])],defaultActions:{7:[2,43],8:[2,1],9:[2,2],10:[2,3],50:[2,41],51:[2,42],55:[2,45]},parseError:function(t,e){if(!e.recoverable){var n=new Error(t);throw n.hash=e,n}this.trace(t)},parse:function(t){var e=this,n=[0],r=[],i=[null],o=[],a=this.table,s="",l=0,c=0,u=0,h=2,d=1,f=o.slice.call(arguments,1),p=Object.create(this.lexer),g={yy:{}};for(var m in this.yy)Object.prototype.hasOwnProperty.call(this.yy,m)&&(g.yy[m]=this.yy[m]);p.setInput(t,g.yy),g.yy.lexer=p,g.yy.parser=this,void 0===p.yylloc&&(p.yylloc={});var y=p.yylloc;o.push(y);var v=p.options&&p.options.ranges;function b(){var t;return"number"!=typeof(t=r.pop()||p.lex()||d)&&(t instanceof Array&&(t=(r=t).pop()),t=e.symbols_[t]||t),t}"function"==typeof g.yy.parseError?this.parseError=g.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var w,x,_,k,E,C,S,D,T,A={};;){if(_=n[n.length-1],this.defaultActions[_]?k=this.defaultActions[_]:(null==w&&(w=b()),k=a[_]&&a[_][w]),void 0===k||!k.length||!k[0]){var M="";for(C in T=[],a[_])this.terminals_[C]&&C>h&&T.push("'"+this.terminals_[C]+"'");M=p.showPosition?"Parse error on line "+(l+1)+":\n"+p.showPosition()+"\nExpecting "+T.join(", ")+", got '"+(this.terminals_[w]||w)+"'":"Parse error on line "+(l+1)+": Unexpected "+(w==d?"end of input":"'"+(this.terminals_[w]||w)+"'"),this.parseError(M,{text:p.match,token:this.terminals_[w]||w,line:p.yylineno,loc:y,expected:T})}if(k[0]instanceof Array&&k.length>1)throw new Error("Parse Error: multiple actions possible at state: "+_+", token: "+w);switch(k[0]){case 1:n.push(w),i.push(p.yytext),o.push(p.yylloc),n.push(k[1]),w=null,x?(w=x,x=null):(c=p.yyleng,s=p.yytext,l=p.yylineno,y=p.yylloc,u>0&&u--);break;case 2:if(S=this.productions_[k[1]][1],A.$=i[i.length-S],A._$={first_line:o[o.length-(S||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(S||1)].first_column,last_column:o[o.length-1].last_column},v&&(A._$.range=[o[o.length-(S||1)].range[0],o[o.length-1].range[1]]),void 0!==(E=this.performAction.apply(A,[s,c,l,g.yy,k[1],i,o].concat(f))))return E;S&&(n=n.slice(0,-1*S*2),i=i.slice(0,-1*S),o=o.slice(0,-1*S)),n.push(this.productions_[k[1]][0]),i.push(A.$),o.push(A._$),D=a[n[n.length-2]][n[n.length-1]],n.push(D);break;case 3:return!0}}return!0}},O={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,r,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(r=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in i)this[o]=i[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,n,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),o=0;o<i.length;o++)if((n=this._input.match(this.rules[i[o]]))&&(!e||n[0].length>e[0].length)){if(e=n,r=o,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,i[o])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,i[r]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(t,e,n,r){switch(n){case 0:case 33:return 41;case 1:case 34:return 42;case 2:case 35:return 43;case 3:case 36:return 44;case 4:return this.begin("open_directive"),50;case 5:return this.begin("type_directive"),51;case 6:return this.popState(),this.begin("arg_directive"),39;case 7:return this.popState(),this.popState(),53;case 8:return 52;case 9:case 10:case 12:case 13:case 14:case 15:case 46:case 52:break;case 11:case 66:return 5;case 16:return this.pushState("SCALE"),15;case 17:return 16;case 18:case 24:case 40:case 43:this.popState();break;case 19:return this.begin("acc_title"),31;case 20:return this.popState(),"acc_title_value";case 21:return this.begin("acc_descr"),33;case 22:return this.popState(),"acc_descr_value";case 23:this.begin("acc_descr_multiline");break;case 25:return"acc_descr_multiline_value";case 26:this.pushState("STATE");break;case 27:case 30:return this.popState(),e.yytext=e.yytext.slice(0,-8).trim(),23;case 28:case 31:return this.popState(),e.yytext=e.yytext.slice(0,-8).trim(),24;case 29:case 32:return this.popState(),e.yytext=e.yytext.slice(0,-10).trim(),25;case 37:this.begin("STATE_STRING");break;case 38:return this.popState(),this.pushState("STATE_ID"),"AS";case 39:case 54:return this.popState(),"ID";case 41:return"STATE_DESCR";case 42:return 17;case 44:return this.popState(),this.pushState("struct"),18;case 45:return this.popState(),19;case 47:return this.begin("NOTE"),27;case 48:return this.popState(),this.pushState("NOTE_ID"),48;case 49:return this.popState(),this.pushState("NOTE_ID"),49;case 50:this.popState(),this.pushState("FLOATING_NOTE");break;case 51:return this.popState(),this.pushState("FLOATING_NOTE_ID"),"AS";case 53:return"NOTE_TEXT";case 55:return this.popState(),this.pushState("NOTE_TEXT"),22;case 56:return this.popState(),e.yytext=e.yytext.substr(2).trim(),29;case 57:return this.popState(),e.yytext=e.yytext.slice(0,-8).trim(),29;case 58:case 59:return 7;case 60:return 14;case 61:return 47;case 62:return 22;case 63:return e.yytext=e.yytext.trim(),12;case 64:return 13;case 65:return 26;case 67:return"INVALID"}},rules:[/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:[\s]+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:state\s+)/i,/^(?:.*<<fork>>)/i,/^(?:.*<<join>>)/i,/^(?:.*<<choice>>)/i,/^(?:.*\[\[fork\]\])/i,/^(?:.*\[\[join\]\])/i,/^(?:.*\[\[choice\]\])/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:["])/i,/^(?:\s*as\s+)/i,/^(?:[^\n\{]*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n\s\{]+)/i,/^(?:\n)/i,/^(?:\{)/i,/^(?:\})/i,/^(?:[\n])/i,/^(?:note\s+)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:")/i,/^(?:\s*as\s*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n]*)/i,/^(?:\s*[^:\n\s\-]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:[\s\S]*?end note\b)/i,/^(?:stateDiagram\s+)/i,/^(?:stateDiagram-v2\s+)/i,/^(?:hide empty description\b)/i,/^(?:\[\*\])/i,/^(?:[^:\n\s\-\{]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:-->)/i,/^(?:--)/i,/^(?:$)/i,/^(?:.)/i],conditions:{LINE:{rules:[13,14],inclusive:!1},close_directive:{rules:[13,14],inclusive:!1},arg_directive:{rules:[7,8,13,14],inclusive:!1},type_directive:{rules:[6,7,13,14],inclusive:!1},open_directive:{rules:[5,13,14],inclusive:!1},struct:{rules:[13,14,26,33,34,35,36,45,46,47,61,62,63,64,65],inclusive:!1},FLOATING_NOTE_ID:{rules:[54],inclusive:!1},FLOATING_NOTE:{rules:[51,52,53],inclusive:!1},NOTE_TEXT:{rules:[56,57],inclusive:!1},NOTE_ID:{rules:[55],inclusive:!1},NOTE:{rules:[48,49,50],inclusive:!1},acc_descr_multiline:{rules:[24,25],inclusive:!1},acc_descr:{rules:[22],inclusive:!1},acc_title:{rules:[20],inclusive:!1},SCALE:{rules:[17,18],inclusive:!1},ALIAS:{rules:[],inclusive:!1},STATE_ID:{rules:[39],inclusive:!1},STATE_STRING:{rules:[40,41],inclusive:!1},FORK_STATE:{rules:[],inclusive:!1},STATE:{rules:[13,14,27,28,29,30,31,32,37,38,42,43,44],inclusive:!1},ID:{rules:[13,14],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,9,10,11,12,14,15,16,19,21,23,26,44,47,58,59,60,61,62,63,64,66,67],inclusive:!0}}};function F(){this.yy={}}return N.lexer=O,F.prototype=N,N.Parser=F,new F}();e.parser=r,e.Parser=r.Parser,e.parse=function(){return r.parse.apply(r,arguments)},e.main=function(t){t[1]||process.exit(1);var r=n(3069).readFileSync(n(6470).normalize(t[1]),"utf8");return e.parser.parse(r)},n.c[n.s]===t&&e.main(process.argv.slice(1))},9763:(t,e,n)=>{t=n.nmd(t);var r=function(){var t=function(t,e,n,r){for(n=n||{},r=t.length;r--;n[t[r]]=e);return n},e=[1,2],n=[1,5],r=[6,9,11,17,18,20,22,23,24,26],i=[1,15],o=[1,16],a=[1,17],s=[1,18],l=[1,19],c=[1,20],u=[1,24],h=[4,6,9,11,17,18,20,22,23,24,26],d={trace:function(){},yy:{},symbols_:{error:2,start:3,journey:4,document:5,EOF:6,directive:7,line:8,SPACE:9,statement:10,NEWLINE:11,openDirective:12,typeDirective:13,closeDirective:14,":":15,argDirective:16,title:17,acc_title:18,acc_title_value:19,acc_descr:20,acc_descr_value:21,acc_descr_multiline_value:22,section:23,taskName:24,taskData:25,open_directive:26,type_directive:27,arg_directive:28,close_directive:29,$accept:0,$end:1},terminals_:{2:"error",4:"journey",6:"EOF",9:"SPACE",11:"NEWLINE",15:":",17:"title",18:"acc_title",19:"acc_title_value",20:"acc_descr",21:"acc_descr_value",22:"acc_descr_multiline_value",23:"section",24:"taskName",25:"taskData",26:"open_directive",27:"type_directive",28:"arg_directive",29:"close_directive"},productions_:[0,[3,3],[3,2],[5,0],[5,2],[8,2],[8,1],[8,1],[8,1],[7,4],[7,6],[10,1],[10,2],[10,2],[10,1],[10,1],[10,2],[10,1],[12,1],[13,1],[16,1],[14,1]],performAction:function(t,e,n,r,i,o,a){var s=o.length-1;switch(i){case 1:return o[s-1];case 3:case 7:case 8:this.$=[];break;case 4:o[s-1].push(o[s]),this.$=o[s-1];break;case 5:case 6:this.$=o[s];break;case 11:r.setDiagramTitle(o[s].substr(6)),this.$=o[s].substr(6);break;case 12:this.$=o[s].trim(),r.setAccTitle(this.$);break;case 13:case 14:this.$=o[s].trim(),r.setAccDescription(this.$);break;case 15:r.addSection(o[s].substr(8)),this.$=o[s].substr(8);break;case 16:r.addTask(o[s-1],o[s]),this.$="task";break;case 18:r.parseDirective("%%{","open_directive");break;case 19:r.parseDirective(o[s],"type_directive");break;case 20:o[s]=o[s].trim().replace(/'/g,'"'),r.parseDirective(o[s],"arg_directive");break;case 21:r.parseDirective("}%%","close_directive","journey")}},table:[{3:1,4:e,7:3,12:4,26:n},{1:[3]},t(r,[2,3],{5:6}),{3:7,4:e,7:3,12:4,26:n},{13:8,27:[1,9]},{27:[2,18]},{6:[1,10],7:21,8:11,9:[1,12],10:13,11:[1,14],12:4,17:i,18:o,20:a,22:s,23:l,24:c,26:n},{1:[2,2]},{14:22,15:[1,23],29:u},t([15,29],[2,19]),t(r,[2,8],{1:[2,1]}),t(r,[2,4]),{7:21,10:25,12:4,17:i,18:o,20:a,22:s,23:l,24:c,26:n},t(r,[2,6]),t(r,[2,7]),t(r,[2,11]),{19:[1,26]},{21:[1,27]},t(r,[2,14]),t(r,[2,15]),{25:[1,28]},t(r,[2,17]),{11:[1,29]},{16:30,28:[1,31]},{11:[2,21]},t(r,[2,5]),t(r,[2,12]),t(r,[2,13]),t(r,[2,16]),t(h,[2,9]),{14:32,29:u},{29:[2,20]},{11:[1,33]},t(h,[2,10])],defaultActions:{5:[2,18],7:[2,2],24:[2,21],31:[2,20]},parseError:function(t,e){if(!e.recoverable){var n=new Error(t);throw n.hash=e,n}this.trace(t)},parse:function(t){var e=this,n=[0],r=[],i=[null],o=[],a=this.table,s="",l=0,c=0,u=0,h=2,d=1,f=o.slice.call(arguments,1),p=Object.create(this.lexer),g={yy:{}};for(var m in this.yy)Object.prototype.hasOwnProperty.call(this.yy,m)&&(g.yy[m]=this.yy[m]);p.setInput(t,g.yy),g.yy.lexer=p,g.yy.parser=this,void 0===p.yylloc&&(p.yylloc={});var y=p.yylloc;o.push(y);var v=p.options&&p.options.ranges;function b(){var t;return"number"!=typeof(t=r.pop()||p.lex()||d)&&(t instanceof Array&&(t=(r=t).pop()),t=e.symbols_[t]||t),t}"function"==typeof g.yy.parseError?this.parseError=g.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var w,x,_,k,E,C,S,D,T,A={};;){if(_=n[n.length-1],this.defaultActions[_]?k=this.defaultActions[_]:(null==w&&(w=b()),k=a[_]&&a[_][w]),void 0===k||!k.length||!k[0]){var M="";for(C in T=[],a[_])this.terminals_[C]&&C>h&&T.push("'"+this.terminals_[C]+"'");M=p.showPosition?"Parse error on line "+(l+1)+":\n"+p.showPosition()+"\nExpecting "+T.join(", ")+", got '"+(this.terminals_[w]||w)+"'":"Parse error on line "+(l+1)+": Unexpected "+(w==d?"end of input":"'"+(this.terminals_[w]||w)+"'"),this.parseError(M,{text:p.match,token:this.terminals_[w]||w,line:p.yylineno,loc:y,expected:T})}if(k[0]instanceof Array&&k.length>1)throw new Error("Parse Error: multiple actions possible at state: "+_+", token: "+w);switch(k[0]){case 1:n.push(w),i.push(p.yytext),o.push(p.yylloc),n.push(k[1]),w=null,x?(w=x,x=null):(c=p.yyleng,s=p.yytext,l=p.yylineno,y=p.yylloc,u>0&&u--);break;case 2:if(S=this.productions_[k[1]][1],A.$=i[i.length-S],A._$={first_line:o[o.length-(S||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(S||1)].first_column,last_column:o[o.length-1].last_column},v&&(A._$.range=[o[o.length-(S||1)].range[0],o[o.length-1].range[1]]),void 0!==(E=this.performAction.apply(A,[s,c,l,g.yy,k[1],i,o].concat(f))))return E;S&&(n=n.slice(0,-1*S*2),i=i.slice(0,-1*S),o=o.slice(0,-1*S)),n.push(this.productions_[k[1]][0]),i.push(A.$),o.push(A._$),D=a[n[n.length-2]][n[n.length-1]],n.push(D);break;case 3:return!0}}return!0}},f={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t,e){return this.yy=e||this.yy||{},this._input=t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e),this.offset-=e;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-e]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,r,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(r=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var o in i)this[o]=i[o];return!1}return!1},next:function(){if(this.done)return this.EOF;var t,e,n,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),o=0;o<i.length;o++)if((n=this._input.match(this.rules[i[o]]))&&(!e||n[0].length>e[0].length)){if(e=n,r=o,this.options.backtrack_lexer){if(!1!==(t=this.test_match(n,i[o])))return t;if(this._backtrack){e=!1;continue}return!1}if(!this.options.flex)break}return e?!1!==(t=this.test_match(e,i[r]))&&t:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(t){return(t=this.conditionStack.length-1-Math.abs(t||0))>=0?this.conditionStack[t]:"INITIAL"},pushState:function(t){this.begin(t)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(t,e,n,r){switch(n){case 0:return this.begin("open_directive"),26;case 1:return this.begin("type_directive"),27;case 2:return this.popState(),this.begin("arg_directive"),15;case 3:return this.popState(),this.popState(),29;case 4:return 28;case 5:case 6:case 8:case 9:break;case 7:return 11;case 10:return 4;case 11:return 17;case 12:return this.begin("acc_title"),18;case 13:return this.popState(),"acc_title_value";case 14:return this.begin("acc_descr"),20;case 15:return this.popState(),"acc_descr_value";case 16:this.begin("acc_descr_multiline");break;case 17:this.popState();break;case 18:return"acc_descr_multiline_value";case 19:return 23;case 20:return 24;case 21:return 25;case 22:return 15;case 23:return 6;case 24:return"INVALID"}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:journey\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{open_directive:{rules:[1],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},acc_descr_multiline:{rules:[17,18],inclusive:!1},acc_descr:{rules:[15],inclusive:!1},acc_title:{rules:[13],inclusive:!1},INITIAL:{rules:[0,5,6,7,8,9,10,11,12,14,16,19,20,21,22,23,24],inclusive:!0}}};function p(){this.yy={}}return d.lexer=f,p.prototype=d,d.Parser=p,new p}();e.parser=r,e.Parser=r.Parser,e.parse=function(){return r.parse.apply(r,arguments)},e.main=function(t){t[1]||process.exit(1);var r=n(9143).readFileSync(n(6470).normalize(t[1]),"utf8");return e.parser.parse(r)},n.c[n.s]===t&&e.main(process.argv.slice(1))},7967:(t,e)=>{e.N=void 0;var n=/^([^\w]*)(javascript|data|vbscript)/im,r=/&#(\w+)(^\w|;)?/g,i=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,o=/^([^:]+):/gm,a=[".","/"];e.N=function(t){var e,s=(e=t||"",e.replace(r,(function(t,e){return String.fromCharCode(e)}))).replace(i,"").trim();if(!s)return"about:blank";if(function(t){return a.indexOf(t[0])>-1}(s))return s;var l=s.match(o);if(!l)return s;var c=l[0];return n.test(c)?"about:blank":s}},3841:t=>{t.exports=function(t,e){return t.intersect(e)}},1689:(t,e,n)=>{n.d(e,{Z:()=>XS});var r=n(1941),i=n.n(r),o={debug:1,info:2,warn:3,error:4,fatal:5},a={debug:function(){},info:function(){},warn:function(){},error:function(){},fatal:function(){}},s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"fatal";isNaN(t)&&(t=t.toLowerCase(),void 0!==o[t]&&(t=o[t])),a.trace=function(){},a.debug=function(){},a.info=function(){},a.warn=function(){},a.error=function(){},a.fatal=function(){},t<=o.fatal&&(a.fatal=void console.error),t<=o.error&&(a.error=void console.error),t<=o.warn&&(a.warn=void console.warn),t<=o.info&&(a.info=void console.info),t<=o.debug&&(a.debug=void console.debug)};function l(t,e){let n;if(void 0===e)for(const e of t)null!=e&&(n<e||void 0===n&&e>=e)&&(n=e);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function c(t,e){let n;if(void 0===e)for(const e of t)null!=e&&(n>e||void 0===n&&e>=e)&&(n=e);else{let r=-1;for(let i of t)null!=(i=e(i,++r,t))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function u(t){return t}var h=1e-6;function d(t){return"translate("+t+",0)"}function f(t){return"translate(0,"+t+")"}function p(t){return e=>+t(e)}function g(t,e){return e=Math.max(0,t.bandwidth()-2*e)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function m(){return!this.__axis}function y(t,e){var n=[],r=null,i=null,o=6,a=6,s=3,l="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,c=1===t||4===t?-1:1,y=4===t||2===t?"x":"y",v=1===t||3===t?d:f;function b(d){var f=null==r?e.ticks?e.ticks.apply(e,n):e.domain():r,b=null==i?e.tickFormat?e.tickFormat.apply(e,n):u:i,w=Math.max(o,0)+s,x=e.range(),_=+x[0]+l,k=+x[x.length-1]+l,E=(e.bandwidth?g:p)(e.copy(),l),C=d.selection?d.selection():d,S=C.selectAll(".domain").data([null]),D=C.selectAll(".tick").data(f,e).order(),T=D.exit(),A=D.enter().append("g").attr("class","tick"),M=D.select("line"),N=D.select("text");S=S.merge(S.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),D=D.merge(A),M=M.merge(A.append("line").attr("stroke","currentColor").attr(y+"2",c*o)),N=N.merge(A.append("text").attr("fill","currentColor").attr(y,c*w).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),d!==C&&(S=S.transition(d),D=D.transition(d),M=M.transition(d),N=N.transition(d),T=T.transition(d).attr("opacity",h).attr("transform",(function(t){return isFinite(t=E(t))?v(t+l):this.getAttribute("transform")})),A.attr("opacity",h).attr("transform",(function(t){var e=this.parentNode.__axis;return v((e&&isFinite(e=e(t))?e:E(t))+l)}))),T.remove(),S.attr("d",4===t||2===t?a?"M"+c*a+","+_+"H"+l+"V"+k+"H"+c*a:"M"+l+","+_+"V"+k:a?"M"+_+","+c*a+"V"+l+"H"+k+"V"+c*a:"M"+_+","+l+"H"+k),D.attr("opacity",1).attr("transform",(function(t){return v(E(t)+l)})),M.attr(y+"2",c*o),N.attr(y,c*w).text(b),C.filter(m).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),C.each((function(){this.__axis=E}))}return b.scale=function(t){return arguments.length?(e=t,b):e},b.ticks=function(){return n=Array.from(arguments),b},b.tickArguments=function(t){return arguments.length?(n=null==t?[]:Array.from(t),b):n.slice()},b.tickValues=function(t){return arguments.length?(r=null==t?null:Array.from(t),b):r&&r.slice()},b.tickFormat=function(t){return arguments.length?(i=t,b):i},b.tickSize=function(t){return arguments.length?(o=a=+t,b):o},b.tickSizeInner=function(t){return arguments.length?(o=+t,b):o},b.tickSizeOuter=function(t){return arguments.length?(a=+t,b):a},b.tickPadding=function(t){return arguments.length?(s=+t,b):s},b.offset=function(t){return arguments.length?(l=+t,b):l},b}function v(){}function b(t){return null==t?v:function(){return this.querySelector(t)}}function w(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}function x(){return[]}function _(t){return null==t?x:function(){return this.querySelectorAll(t)}}function k(t){return function(){return this.matches(t)}}function E(t){return function(e){return e.matches(t)}}var C=Array.prototype.find;function S(){return this.firstElementChild}var D=Array.prototype.filter;function T(){return Array.from(this.children)}function A(t){return new Array(t.length)}function M(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function N(t){return function(){return t}}function O(t,e,n,r,i,o){for(var a,s=0,l=e.length,c=o.length;s<c;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new M(t,o[s]);for(;s<l;++s)(a=e[s])&&(i[s]=a)}function F(t,e,n,r,i,o,a){var s,l,c,u=new Map,h=e.length,d=o.length,f=new Array(h);for(s=0;s<h;++s)(l=e[s])&&(f[s]=c=a.call(l,l.__data__,s,e)+"",u.has(c)?i[s]=l:u.set(c,l));for(s=0;s<d;++s)c=a.call(t,o[s],s,o)+"",(l=u.get(c))?(r[s]=l,l.__data__=o[s],u.delete(c)):n[s]=new M(t,o[s]);for(s=0;s<h;++s)(l=e[s])&&u.get(f[s])===l&&(i[s]=l)}function I(t){return t.__data__}function L(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function B(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}M.prototype={constructor:M,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var R="http://www.w3.org/1999/xhtml";const P={svg:"http://www.w3.org/2000/svg",xhtml:R,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function z(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),P.hasOwnProperty(e)?{space:P[e],local:t}:t}function $(t){return function(){this.removeAttribute(t)}}function j(t){return function(){this.removeAttributeNS(t.space,t.local)}}function U(t,e){return function(){this.setAttribute(t,e)}}function Y(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function q(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function W(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function H(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function V(t){return function(){this.style.removeProperty(t)}}function G(t,e,n){return function(){this.style.setProperty(t,e,n)}}function X(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function K(t,e){return t.style.getPropertyValue(e)||H(t).getComputedStyle(t,null).getPropertyValue(e)}function J(t){return function(){delete this[t]}}function Z(t,e){return function(){this[t]=e}}function Q(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function tt(t){return t.trim().split(/^|\s+/)}function et(t){return t.classList||new nt(t)}function nt(t){this._node=t,this._names=tt(t.getAttribute("class")||"")}function rt(t,e){for(var n=et(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function it(t,e){for(var n=et(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function ot(t){return function(){rt(this,t)}}function at(t){return function(){it(this,t)}}function st(t,e){return function(){(e.apply(this,arguments)?rt:it)(this,t)}}function lt(){this.textContent=""}function ct(t){return function(){this.textContent=t}}function ut(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function ht(){this.innerHTML=""}function dt(t){return function(){this.innerHTML=t}}function ft(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function pt(){this.nextSibling&&this.parentNode.appendChild(this)}function gt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function mt(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===R&&e.documentElement.namespaceURI===R?e.createElement(t):e.createElementNS(n,t)}}function yt(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function vt(t){var e=z(t);return(e.local?yt:mt)(e)}function bt(){return null}function wt(){var t=this.parentNode;t&&t.removeChild(this)}function xt(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function _t(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function kt(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function Et(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?e.length=i:delete this.__on}}}function Ct(t,e,n){return function(){var r,i=this.__on,o=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(i)for(var a=0,s=i.length;a<s;++a)if((r=i[a]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),void(r.value=e);this.addEventListener(t.type,o,n),r={type:t.type,name:t.name,value:e,listener:o,options:n},i?i.push(r):this.__on=[r]}}function St(t,e,n){var r=H(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Dt(t,e){return function(){return St(this,t,e)}}function Tt(t,e){return function(){return St(this,t,e.apply(this,arguments))}}nt.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var At=[null];function Mt(t,e){this._groups=t,this._parents=e}function Nt(){return new Mt([[document.documentElement]],At)}Mt.prototype=Nt.prototype={constructor:Mt,select:function(t){"function"!=typeof t&&(t=b(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=e[i],l=s.length,c=r[i]=new Array(l),u=0;u<l;++u)(o=s[u])&&(a=t.call(o,o.__data__,u,s))&&("__data__"in o&&(a.__data__=o.__data__),c[u]=a);return new Mt(r,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){return w(t.apply(this,arguments))}}(t):_(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,s=e[o],l=s.length,c=0;c<l;++c)(a=s[c])&&(r.push(t.call(a,a.__data__,c,s)),i.push(a));return new Mt(r,i)},selectChild:function(t){return this.select(null==t?S:function(t){return function(){return C.call(this.children,t)}}("function"==typeof t?t:E(t)))},selectChildren:function(t){return this.selectAll(null==t?T:function(t){return function(){return D.call(this.children,t)}}("function"==typeof t?t:E(t)))},filter:function(t){"function"!=typeof t&&(t=k(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,l=r[i]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&l.push(o);return new Mt(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,I);var n=e?F:O,r=this._parents,i=this._groups;"function"!=typeof t&&(t=N(t));for(var o=i.length,a=new Array(o),s=new Array(o),l=new Array(o),c=0;c<o;++c){var u=r[c],h=i[c],d=h.length,f=L(t.call(u,u&&u.__data__,c,r)),p=f.length,g=s[c]=new Array(p),m=a[c]=new Array(p),y=l[c]=new Array(d);n(u,h,g,m,y,f,e);for(var v,b,w=0,x=0;w<p;++w)if(v=g[w]){for(w>=x&&(x=w+1);!(b=m[x])&&++x<p;);v._next=b||null}}return(a=new Mt(a,r))._enter=s,a._exit=l,a},enter:function(){return new Mt(this._enter||this._groups.map(A),this._parents)},exit:function(){return new Mt(this._exit||this._groups.map(A),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=e&&(i=e(i))&&(i=i.selection()),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,a=Math.min(i,o),s=new Array(i),l=0;l<a;++l)for(var c,u=n[l],h=r[l],d=u.length,f=s[l]=new Array(d),p=0;p<d;++p)(c=u[p]||h[p])&&(f[p]=c);for(;l<i;++l)s[l]=n[l];return new Mt(s,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=B);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],l=s.length,c=i[o]=new Array(l),u=0;u<l;++u)(a=s[u])&&(c[u]=a);c.sort(e)}return new Mt(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=z(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?j:$:"function"==typeof e?n.local?W:q:n.local?Y:U)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?V:"function"==typeof e?X:G)(t,e,null==n?"":n)):K(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?J:"function"==typeof e?Q:Z)(t,e)):this.node()[t]},classed:function(t,e){var n=tt(t+"");if(arguments.length<2){for(var r=et(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?st:e?ot:at)(n,e))},text:function(t){return arguments.length?this.each(null==t?lt:("function"==typeof t?ut:ct)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?ht:("function"==typeof t?ft:dt)(t)):this.node().innerHTML},raise:function(){return this.each(pt)},lower:function(){return this.each(gt)},append:function(t){var e="function"==typeof t?t:vt(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:vt(t),r=null==e?bt:"function"==typeof e?e:b(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(wt)},clone:function(t){return this.select(t?_t:xt)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=kt(t+""),a=o.length;if(!(arguments.length<2)){for(s=e?Ct:Et,r=0;r<a;++r)this.each(s(o[r],e,n));return this}var s=this.node().__on;if(s)for(var l,c=0,u=s.length;c<u;++c)for(r=0,l=s[c];r<a;++r)if((i=o[r]).type===l.type&&i.name===l.name)return l.value},dispatch:function(t,e){return this.each(("function"==typeof e?Tt:Dt)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,i=t[e],o=0,a=i.length;o<a;++o)(r=i[o])&&(yield r)}};const Ot=Nt;var Ft={value:()=>{}};function It(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new Lt(r)}function Lt(t){this._=t}function Bt(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function Rt(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function Pt(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Ft,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}Lt.prototype=It.prototype={constructor:Lt,on:function(t,e){var n,r=this._,i=Bt(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<a;)if(n=(t=i[o]).type)r[n]=Pt(r[n],t.name,e);else if(null==e)for(n in r)r[n]=Pt(r[n],t.name,null);return this}for(;++o<a;)if((n=(t=i[o]).type)&&(n=Rt(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Lt(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};const zt=It;var $t,jt,Ut=0,Yt=0,qt=0,Wt=0,Ht=0,Vt=0,Gt="object"==typeof performance&&performance.now?performance:Date,Xt="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Kt(){return Ht||(Xt(Jt),Ht=Gt.now()+Vt)}function Jt(){Ht=0}function Zt(){this._call=this._time=this._next=null}function Qt(t,e,n){var r=new Zt;return r.restart(t,e,n),r}function te(){Ht=(Wt=Gt.now())+Vt,Ut=Yt=0;try{!function(){Kt(),++Ut;for(var t,e=$t;e;)(t=Ht-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Ut}()}finally{Ut=0,function(){for(var t,e,n=$t,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:$t=e);jt=t,ne(r)}(),Ht=0}}function ee(){var t=Gt.now(),e=t-Wt;e>1e3&&(Vt-=e,Wt=t)}function ne(t){Ut||(Yt&&(Yt=clearTimeout(Yt)),t-Ht>24?(t<1/0&&(Yt=setTimeout(te,t-Gt.now()-Vt)),qt&&(qt=clearInterval(qt))):(qt||(Wt=Gt.now(),qt=setInterval(ee,1e3)),Ut=1,Xt(te)))}function re(t,e,n){var r=new Zt;return e=null==e?0:+e,r.restart((n=>{r.stop(),t(n+e)}),e,n),r}Zt.prototype=Qt.prototype={constructor:Zt,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?Kt():+n)+(null==e?0:+e),this._next||jt===this||(jt?jt._next=this:$t=this,jt=this),this._call=t,this._time=n,ne()},stop:function(){this._call&&(this._call=null,this._time=1/0,ne())}};var ie=zt("start","end","cancel","interrupt"),oe=[];function ae(t,e,n,r,i,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function o(l){var c,u,h,d;if(1!==n.state)return s();for(c in i)if((d=i[c]).name===n.name){if(3===d.state)return re(o);4===d.state?(d.state=6,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete i[c]):+c<e&&(d.state=6,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete i[c])}if(re((function(){3===n.state&&(n.state=4,n.timer.restart(a,n.delay,n.time),a(l))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(h=n.tween.length),c=0,u=-1;c<h;++c)(d=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(r[++u]=d);r.length=u+1}}function a(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(s),n.state=5,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){for(var r in n.state=6,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=Qt((function(t){n.state=1,n.timer.restart(o,n.delay,n.time),n.delay<=t&&o(t-n.delay)}),0,n.time)}(t,n,{name:e,index:r,group:i,on:ie,tween:oe,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function se(t,e){var n=ce(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function le(t,e){var n=ce(t,e);if(n.state>3)throw new Error("too late; already running");return n}function ce(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function ue(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var he,de=180/Math.PI,fe={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function pe(t,e,n,r,i,o){var a,s,l;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),t*r<e*n&&(t=-t,e=-e,l=-l,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*de,skewX:Math.atan(l)*de,scaleX:a,scaleY:s}}function ge(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var s=[],l=[];return o=t(o),a=t(a),function(t,r,i,o,a,s){if(t!==i||r!==o){var l=a.push("translate(",null,e,null,n);s.push({i:l-4,x:ue(t,i)},{i:l-2,x:ue(r,o)})}else(i||o)&&a.push("translate("+i+e+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,l),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:ue(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(o.rotate,a.rotate,s,l),function(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:ue(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(o.skewX,a.skewX,s,l),function(t,e,n,r,o,a){if(t!==n||e!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:ue(t,n)},{i:s-2,x:ue(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,l),o=a=null,function(t){for(var e,n=-1,r=l.length;++n<r;)s[(e=l[n]).i]=e.x(t);return s.join("")}}}var me=ge((function(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?fe:pe(e.a,e.b,e.c,e.d,e.e,e.f)}),"px, ","px)","deg)"),ye=ge((function(t){return null==t?fe:(he||(he=document.createElementNS("http://www.w3.org/2000/svg","g")),he.setAttribute("transform",t),(t=he.transform.baseVal.consolidate())?pe((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):fe)}),", ",")",")");function ve(t,e){var n,r;return function(){var i=le(this,t),o=i.tween;if(o!==n)for(var a=0,s=(r=n=o).length;a<s;++a)if(r[a].name===e){(r=r.slice()).splice(a,1);break}i.tween=r}}function be(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=le(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===e){i[l]=s;break}l===c&&i.push(s)}o.tween=i}}function we(t,e,n){var r=t._id;return t.each((function(){var t=le(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return ce(t,r).value[e]}}function xe(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function _e(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function ke(){}var Ee=.7,Ce=1/Ee,Se="\\s*([+-]?\\d+)\\s*",De="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Te="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ae=/^#([0-9a-f]{3,8})$/,Me=new RegExp("^rgb\\("+[Se,Se,Se]+"\\)$"),Ne=new RegExp("^rgb\\("+[Te,Te,Te]+"\\)$"),Oe=new RegExp("^rgba\\("+[Se,Se,Se,De]+"\\)$"),Fe=new RegExp("^rgba\\("+[Te,Te,Te,De]+"\\)$"),Ie=new RegExp("^hsl\\("+[De,Te,Te]+"\\)$"),Le=new RegExp("^hsla\\("+[De,Te,Te,De]+"\\)$"),Be={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Re(){return this.rgb().formatHex()}function Pe(){return this.rgb().formatRgb()}function ze(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Ae.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?$e(e):3===n?new qe(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?je(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?je(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Me.exec(t))?new qe(e[1],e[2],e[3],1):(e=Ne.exec(t))?new qe(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Oe.exec(t))?je(e[1],e[2],e[3],e[4]):(e=Fe.exec(t))?je(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Ie.exec(t))?Ge(e[1],e[2]/100,e[3]/100,1):(e=Le.exec(t))?Ge(e[1],e[2]/100,e[3]/100,e[4]):Be.hasOwnProperty(t)?$e(Be[t]):"transparent"===t?new qe(NaN,NaN,NaN,0):null}function $e(t){return new qe(t>>16&255,t>>8&255,255&t,1)}function je(t,e,n,r){return r<=0&&(t=e=n=NaN),new qe(t,e,n,r)}function Ue(t){return t instanceof ke||(t=ze(t)),t?new qe((t=t.rgb()).r,t.g,t.b,t.opacity):new qe}function Ye(t,e,n,r){return 1===arguments.length?Ue(t):new qe(t,e,n,null==r?1:r)}function qe(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function We(){return"#"+Ve(this.r)+Ve(this.g)+Ve(this.b)}function He(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Ve(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Ge(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ke(t,e,n,r)}function Xe(t){if(t instanceof Ke)return new Ke(t.h,t.s,t.l,t.opacity);if(t instanceof ke||(t=ze(t)),!t)return new Ke;if(t instanceof Ke)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new Ke(a,s,l,t.opacity)}function Ke(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Je(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function Ze(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}xe(ke,ze,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Re,formatHex:Re,formatHsl:function(){return Xe(this).formatHsl()},formatRgb:Pe,toString:Pe}),xe(qe,Ye,_e(ke,{brighter:function(t){return t=null==t?Ce:Math.pow(Ce,t),new qe(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?Ee:Math.pow(Ee,t),new qe(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:We,formatHex:We,formatRgb:He,toString:He})),xe(Ke,(function(t,e,n,r){return 1===arguments.length?Xe(t):new Ke(t,e,n,null==r?1:r)}),_e(ke,{brighter:function(t){return t=null==t?Ce:Math.pow(Ce,t),new Ke(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Ee:Math.pow(Ee,t),new Ke(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new qe(Je(t>=240?t-240:t+120,i,r),Je(t,i,r),Je(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));const Qe=t=>()=>t;function tn(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):Qe(isNaN(t)?e:t)}const en=function t(e){var n=function(t){return 1==(t=+t)?tn:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):Qe(isNaN(e)?n:e)}}(e);function r(t,e){var r=n((t=Ye(t)).r,(e=Ye(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=tn(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function nn(t){return function(e){var n,r,i=e.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=Ye(e[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=t(o),a=t(a),s=t(s),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=s(t),r+""}}}nn((function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,s=r<e-1?t[r+2]:2*o-i;return Ze((n-r/e)*e,a,i,o,s)}})),nn((function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],a=t[(r+1)%e],s=t[(r+2)%e];return Ze((n-r/e)*e,i,o,a,s)}}));var rn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,on=new RegExp(rn.source,"g");function an(t,e){var n,r,i,o=rn.lastIndex=on.lastIndex=0,a=-1,s=[],l=[];for(t+="",e+="";(n=rn.exec(t))&&(r=on.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:ue(n,r)})),o=on.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,r=0;r<e;++r)s[(n=l[r]).i]=n.x(t);return s.join("")})}function sn(t,e){var n;return("number"==typeof e?ue:e instanceof ze?en:(n=ze(e))?(e=n,en):an)(t,e)}function ln(t){return function(){this.removeAttribute(t)}}function cn(t){return function(){this.removeAttributeNS(t.space,t.local)}}function un(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=e(r=a,n)}}function hn(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=e(r=a,n)}}function dn(t,e,n){var r,i,o;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttribute(t))===(s=l+"")?null:a===r&&s===i?o:(i=s,o=e(r=a,l));this.removeAttribute(t)}}function fn(t,e,n){var r,i,o;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttributeNS(t.space,t.local))===(s=l+"")?null:a===r&&s===i?o:(i=s,o=e(r=a,l));this.removeAttributeNS(t.space,t.local)}}function pn(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function gn(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function mn(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&gn(t,i)),n}return i._value=e,i}function yn(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&pn(t,i)),n}return i._value=e,i}function vn(t,e){return function(){se(this,t).delay=+e.apply(this,arguments)}}function bn(t,e){return e=+e,function(){se(this,t).delay=e}}function wn(t,e){return function(){le(this,t).duration=+e.apply(this,arguments)}}function xn(t,e){return e=+e,function(){le(this,t).duration=e}}function _n(t,e){if("function"!=typeof e)throw new Error;return function(){le(this,t).ease=e}}function kn(t,e,n){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?se:le;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}var En=Ot.prototype.constructor;function Cn(t){return function(){this.style.removeProperty(t)}}function Sn(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function Dn(t,e,n){var r,i;function o(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&Sn(t,o,n)),r}return o._value=e,o}function Tn(t){return function(e){this.textContent=t.call(this,e)}}function An(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&Tn(r)),e}return r._value=t,r}var Mn=0;function Nn(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function On(){return++Mn}var Fn=Ot.prototype;Nn.prototype=function(t){return Ot().transition(t)}.prototype={constructor:Nn,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=b(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s,l,c=r[a],u=c.length,h=o[a]=new Array(u),d=0;d<u;++d)(s=c[d])&&(l=t.call(s,s.__data__,d,c))&&("__data__"in s&&(l.__data__=s.__data__),h[d]=l,ae(h[d],e,n,d,h,ce(s,n)));return new Nn(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=_(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var l,c=r[s],u=c.length,h=0;h<u;++h)if(l=c[h]){for(var d,f=t.call(l,l.__data__,h,c),p=ce(l,n),g=0,m=f.length;g<m;++g)(d=f[g])&&ae(d,e,n,g,f,p);o.push(f),a.push(l)}return new Nn(o,a,e,n)},selectChild:Fn.selectChild,selectChildren:Fn.selectChildren,filter:function(t){"function"!=typeof t&&(t=k(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,l=r[i]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&l.push(o);return new Nn(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var l,c=e[s],u=n[s],h=c.length,d=a[s]=new Array(h),f=0;f<h;++f)(l=c[f]||u[f])&&(d[f]=l);for(;s<r;++s)a[s]=e[s];return new Nn(a,this._parents,this._name,this._id)},selection:function(){return new En(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=On(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],l=s.length,c=0;c<l;++c)if(a=s[c]){var u=ce(a,e);ae(a,t,n,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Nn(r,this._parents,t,n)},call:Fn.call,nodes:Fn.nodes,node:Fn.node,size:Fn.size,empty:Fn.empty,each:Fn.each,on:function(t,e){var n=this._id;return arguments.length<2?ce(this.node(),n).on.on(t):this.each(kn(n,t,e))},attr:function(t,e){var n=z(t),r="transform"===n?ye:sn;return this.attrTween(t,"function"==typeof e?(n.local?fn:dn)(n,r,we(this,"attr."+t,e)):null==e?(n.local?cn:ln)(n):(n.local?hn:un)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=z(t);return this.tween(n,(r.local?mn:yn)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?me:sn;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var o=K(this,t),a=(this.style.removeProperty(t),K(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}(t,r)).on("end.style."+t,Cn(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,i,o;return function(){var a=K(this,t),s=n(this),l=s+"";return null==s&&(this.style.removeProperty(t),l=s=K(this,t)),a===l?null:a===r&&l===i?o:(i=l,o=e(r=a,s))}}(t,r,we(this,"style."+t,e))).each(function(t,e){var n,r,i,o,a="style."+e,s="end."+a;return function(){var l=le(this,t),c=l.on,u=null==l.value[a]?o||(o=Cn(e)):void 0;c===n&&i===u||(r=(n=c).copy()).on(s,i=u),l.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,o=n+"";return function(){var a=K(this,t);return a===o?null:a===r?i:i=e(r=a,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,Dn(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(we(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,An(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=ce(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?ve:be)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?vn:bn)(e,t)):ce(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?wn:xn)(e,t)):ce(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(_n(e,t)):ce(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;le(this,t).ease=n}}(this._id,t))},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(o,a){var s={value:a},l={value:function(){0==--i&&o()}};n.each((function(){var n=le(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(l)),n.on=e})),0===i&&o()}))},[Symbol.iterator]:Fn[Symbol.iterator]};var In={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Ln(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}Ot.prototype.interrupt=function(t){return this.each((function(){!function(t,e){var n,r,i,o=t.__transition,a=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}}(this,t)}))},Ot.prototype.transition=function(t){var e,n;t instanceof Nn?(e=t._id,t=t._name):(e=On(),(n=In).time=Kt(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],l=s.length,c=0;c<l;++c)(a=s[c])&&ae(a,t,e,c,s,n||Ln(a,e));return new Nn(r,this._parents,t,e)};const{abs:Bn,max:Rn,min:Pn}=Math;function zn(t){return{type:t}}function $n(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function jn(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Un(){}["w","e"].map(zn),["n","s"].map(zn),["n","w","e","s","nw","ne","sw","se"].map(zn);var Yn=.7,qn=1/Yn,Wn="\\s*([+-]?\\d+)\\s*",Hn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Vn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Gn=/^#([0-9a-f]{3,8})$/,Xn=new RegExp("^rgb\\("+[Wn,Wn,Wn]+"\\)$"),Kn=new RegExp("^rgb\\("+[Vn,Vn,Vn]+"\\)$"),Jn=new RegExp("^rgba\\("+[Wn,Wn,Wn,Hn]+"\\)$"),Zn=new RegExp("^rgba\\("+[Vn,Vn,Vn,Hn]+"\\)$"),Qn=new RegExp("^hsl\\("+[Hn,Vn,Vn]+"\\)$"),tr=new RegExp("^hsla\\("+[Hn,Vn,Vn,Hn]+"\\)$"),er={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function nr(){return this.rgb().formatHex()}function rr(){return this.rgb().formatRgb()}function ir(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Gn.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?or(e):3===n?new cr(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?ar(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?ar(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Xn.exec(t))?new cr(e[1],e[2],e[3],1):(e=Kn.exec(t))?new cr(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Jn.exec(t))?ar(e[1],e[2],e[3],e[4]):(e=Zn.exec(t))?ar(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Qn.exec(t))?fr(e[1],e[2]/100,e[3]/100,1):(e=tr.exec(t))?fr(e[1],e[2]/100,e[3]/100,e[4]):er.hasOwnProperty(t)?or(er[t]):"transparent"===t?new cr(NaN,NaN,NaN,0):null}function or(t){return new cr(t>>16&255,t>>8&255,255&t,1)}function ar(t,e,n,r){return r<=0&&(t=e=n=NaN),new cr(t,e,n,r)}function sr(t){return t instanceof Un||(t=ir(t)),t?new cr((t=t.rgb()).r,t.g,t.b,t.opacity):new cr}function lr(t,e,n,r){return 1===arguments.length?sr(t):new cr(t,e,n,null==r?1:r)}function cr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function ur(){return"#"+dr(this.r)+dr(this.g)+dr(this.b)}function hr(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function dr(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function fr(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new gr(t,e,n,r)}function pr(t){if(t instanceof gr)return new gr(t.h,t.s,t.l,t.opacity);if(t instanceof Un||(t=ir(t)),!t)return new gr;if(t instanceof gr)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new gr(a,s,l,t.opacity)}function gr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function mr(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}$n(Un,ir,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:nr,formatHex:nr,formatHsl:function(){return pr(this).formatHsl()},formatRgb:rr,toString:rr}),$n(cr,lr,jn(Un,{brighter:function(t){return t=null==t?qn:Math.pow(qn,t),new cr(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?Yn:Math.pow(Yn,t),new cr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ur,formatHex:ur,formatRgb:hr,toString:hr})),$n(gr,(function(t,e,n,r){return 1===arguments.length?pr(t):new gr(t,e,n,null==r?1:r)}),jn(Un,{brighter:function(t){return t=null==t?qn:Math.pow(qn,t),new gr(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Yn:Math.pow(Yn,t),new gr(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new cr(mr(t>=240?t-240:t+120,i,r),mr(t,i,r),mr(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));const yr=Math.PI/180,vr=180/Math.PI,br=.96422,wr=.82521,xr=4/29,_r=6/29,kr=3*_r*_r;function Er(t){if(t instanceof Cr)return new Cr(t.l,t.a,t.b,t.opacity);if(t instanceof Or)return Fr(t);t instanceof cr||(t=sr(t));var e,n,r=Ar(t.r),i=Ar(t.g),o=Ar(t.b),a=Sr((.2225045*r+.7168786*i+.0606169*o)/1);return r===i&&i===o?e=n=a:(e=Sr((.4360747*r+.3850649*i+.1430804*o)/br),n=Sr((.0139322*r+.0971045*i+.7141733*o)/wr)),new Cr(116*a-16,500*(e-a),200*(a-n),t.opacity)}function Cr(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function Sr(t){return t>.008856451679035631?Math.pow(t,1/3):t/kr+xr}function Dr(t){return t>_r?t*t*t:kr*(t-xr)}function Tr(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Ar(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Mr(t){if(t instanceof Or)return new Or(t.h,t.c,t.l,t.opacity);if(t instanceof Cr||(t=Er(t)),0===t.a&&0===t.b)return new Or(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*vr;return new Or(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Nr(t,e,n,r){return 1===arguments.length?Mr(t):new Or(t,e,n,null==r?1:r)}function Or(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function Fr(t){if(isNaN(t.h))return new Cr(t.l,0,0,t.opacity);var e=t.h*yr;return new Cr(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}$n(Cr,(function(t,e,n,r){return 1===arguments.length?Er(t):new Cr(t,e,n,null==r?1:r)}),jn(Un,{brighter:function(t){return new Cr(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Cr(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new cr(Tr(3.1338561*(e=br*Dr(e))-1.6168667*(t=1*Dr(t))-.4906146*(n=wr*Dr(n))),Tr(-.9787684*e+1.9161415*t+.033454*n),Tr(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),$n(Or,Nr,jn(Un,{brighter:function(t){return new Or(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new Or(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return Fr(this).rgb()}}));const Ir=t=>()=>t;function Lr(t,e){return function(n){return t+n*e}}function Br(t,e){var n=e-t;return n?Lr(t,n):Ir(isNaN(t)?e:t)}function Rr(t){return function(e,n){var r=t((e=Nr(e)).h,(n=Nr(n)).h),i=Br(e.c,n.c),o=Br(e.l,n.l),a=Br(e.opacity,n.opacity);return function(t){return e.h=r(t),e.c=i(t),e.l=o(t),e.opacity=a(t),e+""}}}const Pr=Rr((function(t,e){var n=e-t;return n?Lr(t,n>180||n<-180?n-360*Math.round(n/360):n):Ir(isNaN(t)?e:t)}));Rr(Br);var zr=Math.sqrt(50),$r=Math.sqrt(10),jr=Math.sqrt(2);function Ur(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=zr?10:o>=$r?5:o>=jr?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=zr?10:o>=$r?5:o>=jr?2:1)}function Yr(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=zr?i*=10:o>=$r?i*=5:o>=jr&&(i*=2),e<t?-i:i}function qr(t,e){return null==t||null==e?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Wr(t){let e=t,n=t,r=t;function i(t,e,i=0,o=t.length){if(i<o){if(0!==n(e,e))return o;do{const n=i+o>>>1;r(t[n],e)<0?i=n+1:o=n}while(i<o)}return i}return 2!==t.length&&(e=(e,n)=>t(e)-n,n=qr,r=(e,n)=>qr(t(e),n)),{left:i,center:function(t,n,r=0,o=t.length){const a=i(t,n,r,o-1);return a>r&&e(t[a-1],n)>-e(t[a],n)?a-1:a},right:function(t,e,i=0,o=t.length){if(i<o){if(0!==n(e,e))return o;do{const n=i+o>>>1;r(t[n],e)<=0?i=n+1:o=n}while(i<o)}return i}}}const Hr=Wr(qr),Vr=Hr.right,Gr=(Hr.left,Wr((function(t){return null===t?NaN:+t})).center,Vr);function Xr(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Kr(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Jr(){}var Zr=.7,Qr=1.4285714285714286,ti="\\s*([+-]?\\d+)\\s*",ei="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",ni="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ri=/^#([0-9a-f]{3,8})$/,ii=new RegExp("^rgb\\("+[ti,ti,ti]+"\\)$"),oi=new RegExp("^rgb\\("+[ni,ni,ni]+"\\)$"),ai=new RegExp("^rgba\\("+[ti,ti,ti,ei]+"\\)$"),si=new RegExp("^rgba\\("+[ni,ni,ni,ei]+"\\)$"),li=new RegExp("^hsl\\("+[ei,ni,ni]+"\\)$"),ci=new RegExp("^hsla\\("+[ei,ni,ni,ei]+"\\)$"),ui={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function hi(){return this.rgb().formatHex()}function di(){return this.rgb().formatRgb()}function fi(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=ri.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?pi(e):3===n?new vi(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?gi(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?gi(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=ii.exec(t))?new vi(e[1],e[2],e[3],1):(e=oi.exec(t))?new vi(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=ai.exec(t))?gi(e[1],e[2],e[3],e[4]):(e=si.exec(t))?gi(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=li.exec(t))?_i(e[1],e[2]/100,e[3]/100,1):(e=ci.exec(t))?_i(e[1],e[2]/100,e[3]/100,e[4]):ui.hasOwnProperty(t)?pi(ui[t]):"transparent"===t?new vi(NaN,NaN,NaN,0):null}function pi(t){return new vi(t>>16&255,t>>8&255,255&t,1)}function gi(t,e,n,r){return r<=0&&(t=e=n=NaN),new vi(t,e,n,r)}function mi(t){return t instanceof Jr||(t=fi(t)),t?new vi((t=t.rgb()).r,t.g,t.b,t.opacity):new vi}function yi(t,e,n,r){return 1===arguments.length?mi(t):new vi(t,e,n,null==r?1:r)}function vi(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function bi(){return"#"+xi(this.r)+xi(this.g)+xi(this.b)}function wi(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function xi(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function _i(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ei(t,e,n,r)}function ki(t){if(t instanceof Ei)return new Ei(t.h,t.s,t.l,t.opacity);if(t instanceof Jr||(t=fi(t)),!t)return new Ei;if(t instanceof Ei)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new Ei(a,s,l,t.opacity)}function Ei(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Ci(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function Si(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}Xr(Jr,fi,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:hi,formatHex:hi,formatHsl:function(){return ki(this).formatHsl()},formatRgb:di,toString:di}),Xr(vi,yi,Kr(Jr,{brighter:function(t){return t=null==t?Qr:Math.pow(Qr,t),new vi(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?Zr:Math.pow(Zr,t),new vi(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:bi,formatHex:bi,formatRgb:wi,toString:wi})),Xr(Ei,(function(t,e,n,r){return 1===arguments.length?ki(t):new Ei(t,e,n,null==r?1:r)}),Kr(Jr,{brighter:function(t){return t=null==t?Qr:Math.pow(Qr,t),new Ei(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Zr:Math.pow(Zr,t),new Ei(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new vi(Ci(t>=240?t-240:t+120,i,r),Ci(t,i,r),Ci(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));const Di=t=>()=>t;function Ti(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):Di(isNaN(t)?e:t)}const Ai=function t(e){var n=function(t){return 1==(t=+t)?Ti:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):Di(isNaN(e)?n:e)}}(e);function r(t,e){var r=n((t=yi(t)).r,(e=yi(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=Ti(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function Mi(t){return function(e){var n,r,i=e.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=yi(e[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=t(o),a=t(a),s=t(s),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=s(t),r+""}}}function Ni(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=zi(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}function Oi(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Fi(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Ii(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=zi(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}Mi((function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,s=r<e-1?t[r+2]:2*o-i;return Si((n-r/e)*e,a,i,o,s)}})),Mi((function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],a=t[(r+1)%e],s=t[(r+2)%e];return Si((n-r/e)*e,i,o,a,s)}}));var Li=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Bi=new RegExp(Li.source,"g");function Ri(t,e){var n,r,i,o=Li.lastIndex=Bi.lastIndex=0,a=-1,s=[],l=[];for(t+="",e+="";(n=Li.exec(t))&&(r=Bi.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:Fi(n,r)})),o=Bi.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,r=0;r<e;++r)s[(n=l[r]).i]=n.x(t);return s.join("")})}function Pi(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}}function zi(t,e){var n,r,i=typeof e;return null==e||"boolean"===i?Di(e):("number"===i?Fi:"string"===i?(n=fi(e))?(e=n,Ai):Ri:e instanceof fi?Ai:e instanceof Date?Oi:(r=e,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(e)?Ni:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Ii:Fi:Pi))(t,e)}function $i(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function ji(t){return+t}var Ui=[0,1];function Yi(t){return t}function qi(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function Wi(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=qi(i,r),o=n(a,o)):(r=qi(r,i),o=n(o,a)),function(t){return o(r(t))}}function Hi(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=qi(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(e){var n=Gr(t,e,1,r)-1;return o[n](i[n](e))}}function Vi(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Gi(){return function(){var t,e,n,r,i,o,a=Ui,s=Ui,l=zi,c=Yi;function u(){var t,e,n,l=Math.min(a.length,s.length);return c!==Yi&&(t=a[0],e=a[l-1],t>e&&(n=t,t=e,e=n),c=function(n){return Math.max(t,Math.min(e,n))}),r=l>2?Hi:Wi,i=o=null,h}function h(e){return null==e||isNaN(e=+e)?n:(i||(i=r(a.map(t),s,l)))(t(c(e)))}return h.invert=function(n){return c(e((o||(o=r(s,a.map(t),Fi)))(n)))},h.domain=function(t){return arguments.length?(a=Array.from(t,ji),u()):a.slice()},h.range=function(t){return arguments.length?(s=Array.from(t),u()):s.slice()},h.rangeRound=function(t){return s=Array.from(t),l=$i,u()},h.clamp=function(t){return arguments.length?(c=!!t||Yi,u()):c!==Yi},h.interpolate=function(t){return arguments.length?(l=t,u()):l},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,r){return t=n,e=r,u()}}()(Yi,Yi)}function Xi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}var Ki,Ji=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Zi(t){if(!(e=Ji.exec(t)))throw new Error("invalid format: "+t);var e;return new Qi({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function Qi(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function to(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function eo(t){return(t=to(Math.abs(t)))?t[1]:NaN}function no(t,e){var n=to(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Zi.prototype=Qi.prototype,Qi.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const ro={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>no(100*t,e),r:no,s:function(t,e){var n=to(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Ki=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+to(t,Math.max(0,e+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function io(t){return t}var oo,ao,so,lo=Array.prototype.map,co=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function uo(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){var r,i,o,a,s=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(a=Ur(t,e,n))||!isFinite(a))return[];if(a>0){let n=Math.round(t/a),r=Math.round(e/a);for(n*a<t&&++n,r*a>e&&--r,o=new Array(i=r-n+1);++s<i;)o[s]=(n+s)*a}else{a=-a;let n=Math.round(t*a),r=Math.round(e*a);for(n/a<t&&++n,r/a>e&&--r,o=new Array(i=r-n+1);++s<i;)o[s]=(n+s)/a}return r&&o.reverse(),o}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return function(t,e,n,r){var i,o=Yr(t,e,n);switch((r=Zi(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(eo(e)/3)))-eo(Math.abs(t)))}(o,a))||(r.precision=i),so(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,eo(e)-eo(t))+1}(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-eo(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return ao(r)}(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i,o=e(),a=0,s=o.length-1,l=o[a],c=o[s],u=10;for(c<l&&(i=l,l=c,c=i,i=a,a=s,s=i);u-- >0;){if((i=Ur(l,c,n))===r)return o[a]=l,o[s]=c,e(o);if(i>0)l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i}r=i}return t},t}function ho(){var t=Gi();return t.copy=function(){return Vi(t,ho())},Xi.apply(t,arguments),uo(t)}oo=function(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?io:(e=lo.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(t.substring(i-=s,i+s)),!((l+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?io:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(lo.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"−":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function h(t){var e=(t=Zi(t)).fill,n=t.align,h=t.sign,d=t.symbol,f=t.zero,p=t.width,g=t.comma,m=t.precision,y=t.trim,v=t.type;"n"===v?(g=!0,v="g"):ro[v]||(void 0===m&&(m=12),y=!0,v="g"),(f||"0"===e&&"="===n)&&(f=!0,e="0",n="=");var b="$"===d?i:"#"===d&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",w="$"===d?o:/[%p]/.test(v)?l:"",x=ro[v],_=/[defgprs%]/.test(v);function k(t){var i,o,l,d=b,k=w;if("c"===v)k=x(t)+k,t="";else{var E=(t=+t)<0||1/t<0;if(t=isNaN(t)?u:x(Math.abs(t),m),y&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),E&&0==+t&&"+"!==h&&(E=!1),d=(E?"("===h?h:c:"-"===h||"("===h?"":h)+d,k=("s"===v?co[8+Ki/3]:"")+k+(E&&"("===h?")":""),_)for(i=-1,o=t.length;++i<o;)if(48>(l=t.charCodeAt(i))||l>57){k=(46===l?a+t.slice(i+1):t.slice(i))+k,t=t.slice(0,i);break}}g&&!f&&(t=r(t,1/0));var C=d.length+t.length+k.length,S=C<p?new Array(p-C+1).join(e):"";switch(g&&f&&(t=r(S+t,S.length?p-k.length:1/0),S=""),n){case"<":t=d+t+k+S;break;case"=":t=d+S+t+k;break;case"^":t=S.slice(0,C=S.length>>1)+d+t+k+S.slice(C);break;default:t=S+d+t+k}return s(t)}return m=void 0===m?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),k.toString=function(){return t+""},k}return{format:h,formatPrefix:function(t,e){var n=h(((t=Zi(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(eo(e)/3))),i=Math.pow(10,-r),o=co[8+r/3];return function(t){return n(i*t)+o}}}}({thousands:",",grouping:[3],currency:["$",""]}),ao=oo.format,so=oo.formatPrefix;class fo extends Map{constructor(t,e=go){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:e}}),null!=t)for(const[e,n]of t)this.set(e,n)}get(t){return super.get(po(this,t))}has(t){return super.has(po(this,t))}set(t,e){return super.set(function({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}(this,t),e)}delete(t){return super.delete(function({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}(this,t))}}function po({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function go(t){return null!==t&&"object"==typeof t?t.valueOf():t}Set;const mo=Symbol("implicit");function yo(){var t=new fo,e=[],n=[],r=mo;function i(i){let o=t.get(i);if(void 0===o){if(r!==mo)return r;t.set(i,o=e.push(i)-1)}return n[o%n.length]}return i.domain=function(n){if(!arguments.length)return e.slice();e=[],t=new fo;for(const r of n)t.has(r)||t.set(r,e.push(r)-1);return i},i.range=function(t){return arguments.length?(n=Array.from(t),i):n.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return yo(e,n).unknown(r)},Xi.apply(i,arguments),i}const vo=1e3,bo=6e4,wo=36e5,xo=864e5,_o=6048e5,ko=31536e6;var Eo=new Date,Co=new Date;function So(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=function(e){return t(e=new Date(+e)),e},i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,o){var a,s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return s;do{s.push(a=new Date(+n)),e(n,o),t(n)}while(a<n&&n<r);return s},i.filter=function(n){return So((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}))},n&&(i.count=function(e,r){return Eo.setTime(+e),Co.setTime(+r),t(Eo),t(Co),Math.floor(n(Eo,Co))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t==0}:function(e){return i.count(0,e)%t==0}):i:null}),i}var Do=So((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));Do.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?So((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):Do:null};const To=Do;Do.range;var Ao=So((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+e*vo)}),(function(t,e){return(e-t)/vo}),(function(t){return t.getUTCSeconds()}));const Mo=Ao;Ao.range;var No=So((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*vo)}),(function(t,e){t.setTime(+t+e*bo)}),(function(t,e){return(e-t)/bo}),(function(t){return t.getMinutes()}));const Oo=No;No.range;var Fo=So((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*vo-t.getMinutes()*bo)}),(function(t,e){t.setTime(+t+e*wo)}),(function(t,e){return(e-t)/wo}),(function(t){return t.getHours()}));const Io=Fo;Fo.range;var Lo=So((t=>t.setHours(0,0,0,0)),((t,e)=>t.setDate(t.getDate()+e)),((t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*bo)/xo),(t=>t.getDate()-1));const Bo=Lo;function Ro(t){return So((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*bo)/_o}))}Lo.range;var Po=Ro(0),zo=Ro(1),$o=Ro(2),jo=Ro(3),Uo=Ro(4),Yo=Ro(5),qo=Ro(6),Wo=(Po.range,zo.range,$o.range,jo.range,Uo.range,Yo.range,qo.range,So((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()})));const Ho=Wo;Wo.range;var Vo=So((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));Vo.every=function(t){return isFinite(t=Math.floor(t))&&t>0?So((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};const Go=Vo;Vo.range;var Xo=So((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+e*bo)}),(function(t,e){return(e-t)/bo}),(function(t){return t.getUTCMinutes()}));const Ko=Xo;Xo.range;var Jo=So((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+e*wo)}),(function(t,e){return(e-t)/wo}),(function(t){return t.getUTCHours()}));const Zo=Jo;Jo.range;var Qo=So((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/xo}),(function(t){return t.getUTCDate()-1}));const ta=Qo;function ea(t){return So((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/_o}))}Qo.range;var na=ea(0),ra=ea(1),ia=ea(2),oa=ea(3),aa=ea(4),sa=ea(5),la=ea(6),ca=(na.range,ra.range,ia.range,oa.range,aa.range,sa.range,la.range,So((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()})));const ua=ca;ca.range;var ha=So((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));ha.every=function(t){return isFinite(t=Math.floor(t))&&t>0?So((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};const da=ha;function fa(t,e,n,r,i,o){const a=[[Mo,1,vo],[Mo,5,5e3],[Mo,15,15e3],[Mo,30,3e4],[o,1,bo],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,wo],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,xo],[r,2,1728e5],[n,1,_o],[e,1,2592e6],[e,3,7776e6],[t,1,ko]];function s(e,n,r){const i=Math.abs(n-e)/r,o=Wr((([,,t])=>t)).right(a,i);if(o===a.length)return t.every(Yr(e/ko,n/ko,r));if(0===o)return To.every(Math.max(Yr(e,n,r),1));const[s,l]=a[i/a[o-1][2]<a[o][2]/i?o-1:o];return s.every(l)}return[function(t,e,n){const r=e<t;r&&([t,e]=[e,t]);const i=n&&"function"==typeof n.range?n:s(t,e,n),o=i?i.range(t,+e+1):[];return r?o.reverse():o},s]}ha.range;const[pa,ga]=fa(da,ua,na,ta,Zo,Ko),[ma,ya]=fa(Go,Ho,Po,Bo,Io,Oo);function va(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function ba(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function wa(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}var xa,_a,ka={"-":"",_:" ",0:"0"},Ea=/^\s*\d+/,Ca=/^%/,Sa=/[\\^$*+?|[\]().{}]/g;function Da(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function Ta(t){return t.replace(Sa,"\\$&")}function Aa(t){return new RegExp("^(?:"+t.map(Ta).join("|")+")","i")}function Ma(t){return new Map(t.map(((t,e)=>[t.toLowerCase(),e])))}function Na(t,e,n){var r=Ea.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Oa(t,e,n){var r=Ea.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Fa(t,e,n){var r=Ea.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Ia(t,e,n){var r=Ea.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function La(t,e,n){var r=Ea.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Ba(t,e,n){var r=Ea.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Ra(t,e,n){var r=Ea.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Pa(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function za(t,e,n){var r=Ea.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function $a(t,e,n){var r=Ea.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function ja(t,e,n){var r=Ea.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Ua(t,e,n){var r=Ea.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Ya(t,e,n){var r=Ea.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function qa(t,e,n){var r=Ea.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Wa(t,e,n){var r=Ea.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Ha(t,e,n){var r=Ea.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Va(t,e,n){var r=Ea.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Ga(t,e,n){var r=Ca.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Xa(t,e,n){var r=Ea.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Ka(t,e,n){var r=Ea.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Ja(t,e){return Da(t.getDate(),e,2)}function Za(t,e){return Da(t.getHours(),e,2)}function Qa(t,e){return Da(t.getHours()%12||12,e,2)}function ts(t,e){return Da(1+Bo.count(Go(t),t),e,3)}function es(t,e){return Da(t.getMilliseconds(),e,3)}function ns(t,e){return es(t,e)+"000"}function rs(t,e){return Da(t.getMonth()+1,e,2)}function is(t,e){return Da(t.getMinutes(),e,2)}function os(t,e){return Da(t.getSeconds(),e,2)}function as(t){var e=t.getDay();return 0===e?7:e}function ss(t,e){return Da(Po.count(Go(t)-1,t),e,2)}function ls(t){var e=t.getDay();return e>=4||0===e?Uo(t):Uo.ceil(t)}function cs(t,e){return t=ls(t),Da(Uo.count(Go(t),t)+(4===Go(t).getDay()),e,2)}function us(t){return t.getDay()}function hs(t,e){return Da(zo.count(Go(t)-1,t),e,2)}function ds(t,e){return Da(t.getFullYear()%100,e,2)}function fs(t,e){return Da((t=ls(t)).getFullYear()%100,e,2)}function ps(t,e){return Da(t.getFullYear()%1e4,e,4)}function gs(t,e){var n=t.getDay();return Da((t=n>=4||0===n?Uo(t):Uo.ceil(t)).getFullYear()%1e4,e,4)}function ms(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Da(e/60|0,"0",2)+Da(e%60,"0",2)}function ys(t,e){return Da(t.getUTCDate(),e,2)}function vs(t,e){return Da(t.getUTCHours(),e,2)}function bs(t,e){return Da(t.getUTCHours()%12||12,e,2)}function ws(t,e){return Da(1+ta.count(da(t),t),e,3)}function xs(t,e){return Da(t.getUTCMilliseconds(),e,3)}function _s(t,e){return xs(t,e)+"000"}function ks(t,e){return Da(t.getUTCMonth()+1,e,2)}function Es(t,e){return Da(t.getUTCMinutes(),e,2)}function Cs(t,e){return Da(t.getUTCSeconds(),e,2)}function Ss(t){var e=t.getUTCDay();return 0===e?7:e}function Ds(t,e){return Da(na.count(da(t)-1,t),e,2)}function Ts(t){var e=t.getUTCDay();return e>=4||0===e?aa(t):aa.ceil(t)}function As(t,e){return t=Ts(t),Da(aa.count(da(t),t)+(4===da(t).getUTCDay()),e,2)}function Ms(t){return t.getUTCDay()}function Ns(t,e){return Da(ra.count(da(t)-1,t),e,2)}function Os(t,e){return Da(t.getUTCFullYear()%100,e,2)}function Fs(t,e){return Da((t=Ts(t)).getUTCFullYear()%100,e,2)}function Is(t,e){return Da(t.getUTCFullYear()%1e4,e,4)}function Ls(t,e){var n=t.getUTCDay();return Da((t=n>=4||0===n?aa(t):aa.ceil(t)).getUTCFullYear()%1e4,e,4)}function Bs(){return"+0000"}function Rs(){return"%"}function Ps(t){return+t}function zs(t){return Math.floor(+t/1e3)}function $s(t){return new Date(t)}function js(t){return t instanceof Date?+t:+new Date(+t)}function Us(t,e,n,r,i,o,a,s,l,c){var u=Gi(),h=u.invert,d=u.domain,f=c(".%L"),p=c(":%S"),g=c("%I:%M"),m=c("%I %p"),y=c("%a %d"),v=c("%b %d"),b=c("%B"),w=c("%Y");function x(t){return(l(t)<t?f:s(t)<t?p:a(t)<t?g:o(t)<t?m:r(t)<t?i(t)<t?y:v:n(t)<t?b:w)(t)}return u.invert=function(t){return new Date(h(t))},u.domain=function(t){return arguments.length?d(Array.from(t,js)):d().map($s)},u.ticks=function(e){var n=d();return t(n[0],n[n.length-1],null==e?10:e)},u.tickFormat=function(t,e){return null==e?x:c(e)},u.nice=function(t){var n=d();return t&&"function"==typeof t.range||(t=e(n[0],n[n.length-1],null==t?10:t)),t?d(function(t,e){var n,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}(n,t)):u},u.copy=function(){return Vi(u,Us(t,e,n,r,i,o,a,s,l,c))},u}function Ys(){}function qs(t){return null==t?Ys:function(){return this.querySelector(t)}}function Ws(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}function Hs(){return[]}function Vs(t){return null==t?Hs:function(){return this.querySelectorAll(t)}}function Gs(t){return function(){return this.matches(t)}}function Xs(t){return function(e){return e.matches(t)}}xa=function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,c=Aa(i),u=Ma(i),h=Aa(o),d=Ma(o),f=Aa(a),p=Ma(a),g=Aa(s),m=Ma(s),y=Aa(l),v=Ma(l),b={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:Ja,e:Ja,f:ns,g:fs,G:gs,H:Za,I:Qa,j:ts,L:es,m:rs,M:is,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:Ps,s:zs,S:os,u:as,U:ss,V:cs,w:us,W:hs,x:null,X:null,y:ds,Y:ps,Z:ms,"%":Rs},w={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:ys,e:ys,f:_s,g:Fs,G:Ls,H:vs,I:bs,j:ws,L:xs,m:ks,M:Es,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:Ps,s:zs,S:Cs,u:Ss,U:Ds,V:As,w:Ms,W:Ns,x:null,X:null,y:Os,Y:Is,Z:Bs,"%":Rs},x={a:function(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(t,e,n){var r=h.exec(e.slice(n));return r?(t.w=d.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(t,e,n){var r=y.exec(e.slice(n));return r?(t.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(t,e,n){var r=g.exec(e.slice(n));return r?(t.m=m.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(t,n,r){return E(t,e,n,r)},d:ja,e:ja,f:Va,g:Ra,G:Ba,H:Ya,I:Ya,j:Ua,L:Ha,m:$a,M:qa,p:function(t,e,n){var r=c.exec(e.slice(n));return r?(t.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:za,Q:Xa,s:Ka,S:Wa,u:Oa,U:Fa,V:Ia,w:Na,W:La,x:function(t,e,r){return E(t,n,e,r)},X:function(t,e,n){return E(t,r,e,n)},y:Ra,Y:Ba,Z:Pa,"%":Ga};function _(t,e){return function(n){var r,i,o,a=[],s=-1,l=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===t.charCodeAt(s)&&(a.push(t.slice(l,s)),null!=(i=ka[r=t.charAt(++s)])?r=t.charAt(++s):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),l=s+1);return a.push(t.slice(l,s)),a.join("")}}function k(t,e){return function(n){var r,i,o=wa(1900,void 0,1);if(E(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(e&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=ba(wa(o.y,0,1))).getUTCDay(),r=i>4||0===i?ra.ceil(r):ra(r),r=ta.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=va(wa(o.y,0,1))).getDay(),r=i>4||0===i?zo.ceil(r):zo(r),r=Bo.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?ba(wa(o.y,0,1)).getUTCDay():va(wa(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,ba(o)):va(o)}}function E(t,e,n,r){for(var i,o,a=0,s=e.length,l=n.length;a<s;){if(r>=l)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=x[i in ka?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=_(n,b),b.X=_(r,b),b.c=_(e,b),w.x=_(n,w),w.X=_(r,w),w.c=_(e,w),{format:function(t){var e=_(t+="",b);return e.toString=function(){return t},e},parse:function(t){var e=k(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=_(t+="",w);return e.toString=function(){return t},e},utcParse:function(t){var e=k(t+="",!0);return e.toString=function(){return t},e}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),_a=xa.format,xa.parse,xa.utcFormat,xa.utcParse;var Ks=Array.prototype.find;function Js(){return this.firstElementChild}var Zs=Array.prototype.filter;function Qs(){return Array.from(this.children)}function tl(t){return new Array(t.length)}function el(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function nl(t){return function(){return t}}function rl(t,e,n,r,i,o){for(var a,s=0,l=e.length,c=o.length;s<c;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new el(t,o[s]);for(;s<l;++s)(a=e[s])&&(i[s]=a)}function il(t,e,n,r,i,o,a){var s,l,c,u=new Map,h=e.length,d=o.length,f=new Array(h);for(s=0;s<h;++s)(l=e[s])&&(f[s]=c=a.call(l,l.__data__,s,e)+"",u.has(c)?i[s]=l:u.set(c,l));for(s=0;s<d;++s)c=a.call(t,o[s],s,o)+"",(l=u.get(c))?(r[s]=l,l.__data__=o[s],u.delete(c)):n[s]=new el(t,o[s]);for(s=0;s<h;++s)(l=e[s])&&u.get(f[s])===l&&(i[s]=l)}function ol(t){return t.__data__}function al(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function sl(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}el.prototype={constructor:el,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var ll="http://www.w3.org/1999/xhtml";const cl={svg:"http://www.w3.org/2000/svg",xhtml:ll,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ul(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),cl.hasOwnProperty(e)?{space:cl[e],local:t}:t}function hl(t){return function(){this.removeAttribute(t)}}function dl(t){return function(){this.removeAttributeNS(t.space,t.local)}}function fl(t,e){return function(){this.setAttribute(t,e)}}function pl(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function gl(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function ml(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function yl(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function vl(t){return function(){this.style.removeProperty(t)}}function bl(t,e,n){return function(){this.style.setProperty(t,e,n)}}function wl(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function xl(t,e){return t.style.getPropertyValue(e)||yl(t).getComputedStyle(t,null).getPropertyValue(e)}function _l(t){return function(){delete this[t]}}function kl(t,e){return function(){this[t]=e}}function El(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function Cl(t){return t.trim().split(/^|\s+/)}function Sl(t){return t.classList||new Dl(t)}function Dl(t){this._node=t,this._names=Cl(t.getAttribute("class")||"")}function Tl(t,e){for(var n=Sl(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Al(t,e){for(var n=Sl(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Ml(t){return function(){Tl(this,t)}}function Nl(t){return function(){Al(this,t)}}function Ol(t,e){return function(){(e.apply(this,arguments)?Tl:Al)(this,t)}}function Fl(){this.textContent=""}function Il(t){return function(){this.textContent=t}}function Ll(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function Bl(){this.innerHTML=""}function Rl(t){return function(){this.innerHTML=t}}function Pl(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function zl(){this.nextSibling&&this.parentNode.appendChild(this)}function $l(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function jl(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===ll&&e.documentElement.namespaceURI===ll?e.createElement(t):e.createElementNS(n,t)}}function Ul(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Yl(t){var e=ul(t);return(e.local?Ul:jl)(e)}function ql(){return null}function Wl(){var t=this.parentNode;t&&t.removeChild(this)}function Hl(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Vl(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Gl(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function Xl(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?e.length=i:delete this.__on}}}function Kl(t,e,n){return function(){var r,i=this.__on,o=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(i)for(var a=0,s=i.length;a<s;++a)if((r=i[a]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),void(r.value=e);this.addEventListener(t.type,o,n),r={type:t.type,name:t.name,value:e,listener:o,options:n},i?i.push(r):this.__on=[r]}}function Jl(t,e,n){var r=yl(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Zl(t,e){return function(){return Jl(this,t,e)}}function Ql(t,e){return function(){return Jl(this,t,e.apply(this,arguments))}}Dl.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var tc=[null];function ec(t,e){this._groups=t,this._parents=e}function nc(){return new ec([[document.documentElement]],tc)}ec.prototype=nc.prototype={constructor:ec,select:function(t){"function"!=typeof t&&(t=qs(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=e[i],l=s.length,c=r[i]=new Array(l),u=0;u<l;++u)(o=s[u])&&(a=t.call(o,o.__data__,u,s))&&("__data__"in o&&(a.__data__=o.__data__),c[u]=a);return new ec(r,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){return Ws(t.apply(this,arguments))}}(t):Vs(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,s=e[o],l=s.length,c=0;c<l;++c)(a=s[c])&&(r.push(t.call(a,a.__data__,c,s)),i.push(a));return new ec(r,i)},selectChild:function(t){return this.select(null==t?Js:function(t){return function(){return Ks.call(this.children,t)}}("function"==typeof t?t:Xs(t)))},selectChildren:function(t){return this.selectAll(null==t?Qs:function(t){return function(){return Zs.call(this.children,t)}}("function"==typeof t?t:Xs(t)))},filter:function(t){"function"!=typeof t&&(t=Gs(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,l=r[i]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&l.push(o);return new ec(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,ol);var n=e?il:rl,r=this._parents,i=this._groups;"function"!=typeof t&&(t=nl(t));for(var o=i.length,a=new Array(o),s=new Array(o),l=new Array(o),c=0;c<o;++c){var u=r[c],h=i[c],d=h.length,f=al(t.call(u,u&&u.__data__,c,r)),p=f.length,g=s[c]=new Array(p),m=a[c]=new Array(p),y=l[c]=new Array(d);n(u,h,g,m,y,f,e);for(var v,b,w=0,x=0;w<p;++w)if(v=g[w]){for(w>=x&&(x=w+1);!(b=m[x])&&++x<p;);v._next=b||null}}return(a=new ec(a,r))._enter=s,a._exit=l,a},enter:function(){return new ec(this._enter||this._groups.map(tl),this._parents)},exit:function(){return new ec(this._exit||this._groups.map(tl),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=e&&(i=e(i))&&(i=i.selection()),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,a=Math.min(i,o),s=new Array(i),l=0;l<a;++l)for(var c,u=n[l],h=r[l],d=u.length,f=s[l]=new Array(d),p=0;p<d;++p)(c=u[p]||h[p])&&(f[p]=c);for(;l<i;++l)s[l]=n[l];return new ec(s,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=sl);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],l=s.length,c=i[o]=new Array(l),u=0;u<l;++u)(a=s[u])&&(c[u]=a);c.sort(e)}return new ec(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=ul(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?dl:hl:"function"==typeof e?n.local?ml:gl:n.local?pl:fl)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?vl:"function"==typeof e?wl:bl)(t,e,null==n?"":n)):xl(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?_l:"function"==typeof e?El:kl)(t,e)):this.node()[t]},classed:function(t,e){var n=Cl(t+"");if(arguments.length<2){for(var r=Sl(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?Ol:e?Ml:Nl)(n,e))},text:function(t){return arguments.length?this.each(null==t?Fl:("function"==typeof t?Ll:Il)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Bl:("function"==typeof t?Pl:Rl)(t)):this.node().innerHTML},raise:function(){return this.each(zl)},lower:function(){return this.each($l)},append:function(t){var e="function"==typeof t?t:Yl(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:Yl(t),r=null==e?ql:"function"==typeof e?e:qs(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Wl)},clone:function(t){return this.select(t?Vl:Hl)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=Gl(t+""),a=o.length;if(!(arguments.length<2)){for(s=e?Kl:Xl,r=0;r<a;++r)this.each(s(o[r],e,n));return this}var s=this.node().__on;if(s)for(var l,c=0,u=s.length;c<u;++c)for(r=0,l=s[c];r<a;++r)if((i=o[r]).type===l.type&&i.name===l.name)return l.value},dispatch:function(t,e){return this.each(("function"==typeof e?Ql:Zl)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,i=t[e],o=0,a=i.length;o<a;++o)(r=i[o])&&(yield r)}};const rc=nc;function ic(t){return"string"==typeof t?new ec([[document.querySelector(t)]],[document.documentElement]):new ec([[t]],tc)}function oc(t){return"string"==typeof t?new ec([document.querySelectorAll(t)],[document.documentElement]):new ec([Ws(t)],tc)}const ac=Math.PI,sc=2*ac,lc=1e-6,cc=sc-lc;function uc(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function hc(){return new uc}uc.prototype=hc.prototype={constructor:uc,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,s=n-t,l=r-e,c=o-t,u=a-e,h=c*c+u*u;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(h>lc)if(Math.abs(u*s-l*c)>lc&&i){var d=n-o,f=r-a,p=s*s+l*l,g=d*d+f*f,m=Math.sqrt(p),y=Math.sqrt(h),v=i*Math.tan((ac-Math.acos((p+h-g)/(2*m*y)))/2),b=v/y,w=v/m;Math.abs(b-1)>lc&&(this._+="L"+(t+b*c)+","+(e+b*u)),this._+="A"+i+","+i+",0,0,"+ +(u*d>c*f)+","+(this._x1=t+w*s)+","+(this._y1=e+w*l)}else this._+="L"+(this._x1=t)+","+(this._y1=e)},arc:function(t,e,n,r,i,o){t=+t,e=+e,o=!!o;var a=(n=+n)*Math.cos(r),s=n*Math.sin(r),l=t+a,c=e+s,u=1^o,h=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+c:(Math.abs(this._x1-l)>lc||Math.abs(this._y1-c)>lc)&&(this._+="L"+l+","+c),n&&(h<0&&(h=h%sc+sc),h>cc?this._+="A"+n+","+n+",0,1,"+u+","+(t-a)+","+(e-s)+"A"+n+","+n+",0,1,"+u+","+(this._x1=l)+","+(this._y1=c):h>lc&&(this._+="A"+n+","+n+",0,"+ +(h>=ac)+","+u+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};const dc=hc;function fc(t){return function(){return t}}var pc=Math.abs,gc=Math.atan2,mc=Math.cos,yc=Math.max,vc=Math.min,bc=Math.sin,wc=Math.sqrt,xc=1e-12,_c=Math.PI,kc=_c/2,Ec=2*_c;function Cc(t){return t>1?0:t<-1?_c:Math.acos(t)}function Sc(t){return t>=1?kc:t<=-1?-kc:Math.asin(t)}function Dc(t){return t.innerRadius}function Tc(t){return t.outerRadius}function Ac(t){return t.startAngle}function Mc(t){return t.endAngle}function Nc(t){return t&&t.padAngle}function Oc(t,e,n,r,i,o,a,s){var l=n-t,c=r-e,u=a-i,h=s-o,d=h*l-u*c;if(!(d*d<xc))return[t+(d=(u*(e-o)-h*(t-i))/d)*l,e+d*c]}function Fc(t,e,n,r,i,o,a){var s=t-n,l=e-r,c=(a?o:-o)/wc(s*s+l*l),u=c*l,h=-c*s,d=t+u,f=e+h,p=n+u,g=r+h,m=(d+p)/2,y=(f+g)/2,v=p-d,b=g-f,w=v*v+b*b,x=i-o,_=d*g-p*f,k=(b<0?-1:1)*wc(yc(0,x*x*w-_*_)),E=(_*b-v*k)/w,C=(-_*v-b*k)/w,S=(_*b+v*k)/w,D=(-_*v+b*k)/w,T=E-m,A=C-y,M=S-m,N=D-y;return T*T+A*A>M*M+N*N&&(E=S,C=D),{cx:E,cy:C,x01:-u,y01:-h,x11:E*(i/x-1),y11:C*(i/x-1)}}function Ic(){var t=Dc,e=Tc,n=fc(0),r=null,i=Ac,o=Mc,a=Nc,s=null;function l(){var l,c,u=+t.apply(this,arguments),h=+e.apply(this,arguments),d=i.apply(this,arguments)-kc,f=o.apply(this,arguments)-kc,p=pc(f-d),g=f>d;if(s||(s=l=dc()),h<u&&(c=h,h=u,u=c),h>xc)if(p>Ec-xc)s.moveTo(h*mc(d),h*bc(d)),s.arc(0,0,h,d,f,!g),u>xc&&(s.moveTo(u*mc(f),u*bc(f)),s.arc(0,0,u,f,d,g));else{var m,y,v=d,b=f,w=d,x=f,_=p,k=p,E=a.apply(this,arguments)/2,C=E>xc&&(r?+r.apply(this,arguments):wc(u*u+h*h)),S=vc(pc(h-u)/2,+n.apply(this,arguments)),D=S,T=S;if(C>xc){var A=Sc(C/u*bc(E)),M=Sc(C/h*bc(E));(_-=2*A)>xc?(w+=A*=g?1:-1,x-=A):(_=0,w=x=(d+f)/2),(k-=2*M)>xc?(v+=M*=g?1:-1,b-=M):(k=0,v=b=(d+f)/2)}var N=h*mc(v),O=h*bc(v),F=u*mc(x),I=u*bc(x);if(S>xc){var L,B=h*mc(b),R=h*bc(b),P=u*mc(w),z=u*bc(w);if(p<_c&&(L=Oc(N,O,P,z,B,R,F,I))){var $=N-L[0],j=O-L[1],U=B-L[0],Y=R-L[1],q=1/bc(Cc(($*U+j*Y)/(wc($*$+j*j)*wc(U*U+Y*Y)))/2),W=wc(L[0]*L[0]+L[1]*L[1]);D=vc(S,(u-W)/(q-1)),T=vc(S,(h-W)/(q+1))}}k>xc?T>xc?(m=Fc(P,z,N,O,h,T,g),y=Fc(B,R,F,I,h,T,g),s.moveTo(m.cx+m.x01,m.cy+m.y01),T<S?s.arc(m.cx,m.cy,T,gc(m.y01,m.x01),gc(y.y01,y.x01),!g):(s.arc(m.cx,m.cy,T,gc(m.y01,m.x01),gc(m.y11,m.x11),!g),s.arc(0,0,h,gc(m.cy+m.y11,m.cx+m.x11),gc(y.cy+y.y11,y.cx+y.x11),!g),s.arc(y.cx,y.cy,T,gc(y.y11,y.x11),gc(y.y01,y.x01),!g))):(s.moveTo(N,O),s.arc(0,0,h,v,b,!g)):s.moveTo(N,O),u>xc&&_>xc?D>xc?(m=Fc(F,I,B,R,u,-D,g),y=Fc(N,O,P,z,u,-D,g),s.lineTo(m.cx+m.x01,m.cy+m.y01),D<S?s.arc(m.cx,m.cy,D,gc(m.y01,m.x01),gc(y.y01,y.x01),!g):(s.arc(m.cx,m.cy,D,gc(m.y01,m.x01),gc(m.y11,m.x11),!g),s.arc(0,0,u,gc(m.cy+m.y11,m.cx+m.x11),gc(y.cy+y.y11,y.cx+y.x11),g),s.arc(y.cx,y.cy,D,gc(y.y11,y.x11),gc(y.y01,y.x01),!g))):s.arc(0,0,u,x,w,g):s.lineTo(F,I)}else s.moveTo(0,0);if(s.closePath(),l)return s=null,l+""||null}return l.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-_c/2;return[mc(r)*n,bc(r)*n]},l.innerRadius=function(e){return arguments.length?(t="function"==typeof e?e:fc(+e),l):t},l.outerRadius=function(t){return arguments.length?(e="function"==typeof t?t:fc(+t),l):e},l.cornerRadius=function(t){return arguments.length?(n="function"==typeof t?t:fc(+t),l):n},l.padRadius=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:fc(+t),l):r},l.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:fc(+t),l):i},l.endAngle=function(t){return arguments.length?(o="function"==typeof t?t:fc(+t),l):o},l.padAngle=function(t){return arguments.length?(a="function"==typeof t?t:fc(+t),l):a},l.context=function(t){return arguments.length?(s=null==t?null:t,l):s},l}function Lc(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function Bc(t){this._context=t}function Rc(t){return new Bc(t)}function Pc(t){return t[0]}function zc(t){return t[1]}function $c(t,e){var n=fc(!0),r=null,i=Rc,o=null;function a(a){var s,l,c,u=(a=Lc(a)).length,h=!1;for(null==r&&(o=i(c=dc())),s=0;s<=u;++s)!(s<u&&n(l=a[s],s,a))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(l,s,a),+e(l,s,a));if(c)return o=null,c+""||null}return t="function"==typeof t?t:void 0===t?Pc:fc(t),e="function"==typeof e?e:void 0===e?zc:fc(e),a.x=function(e){return arguments.length?(t="function"==typeof e?e:fc(+e),a):t},a.y=function(t){return arguments.length?(e="function"==typeof t?t:fc(+t),a):e},a.defined=function(t){return arguments.length?(n="function"==typeof t?t:fc(!!t),a):n},a.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),a):i},a.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),a):r},a}function jc(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function Uc(t){return t}function Yc(){}function qc(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Wc(t){this._context=t}function Hc(t){return new Wc(t)}function Vc(t){this._context=t}function Gc(t){this._context=t}function Xc(t){this._context=t}function Kc(t){return t<0?-1:1}function Jc(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(Kc(o)+Kc(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function Zc(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Qc(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function tu(t){this._context=t}function eu(t){this._context=new nu(t)}function nu(t){this._context=t}function ru(t){this._context=t}function iu(t){var e,n,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/o[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function ou(t,e){this._context=t,this._t=e}Array.prototype.slice,Bc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}},Wc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:qc(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:qc(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},Vc.prototype={areaStart:Yc,areaEnd:Yc,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:qc(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},Gc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:qc(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},Xc.prototype={areaStart:Yc,areaEnd:Yc,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}},tu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Qc(this,this._t0,Zc(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Qc(this,Zc(this,n=Jc(this,t,e)),n);break;default:Qc(this,this._t0,n=Jc(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(eu.prototype=Object.create(tu.prototype)).point=function(t,e){tu.prototype.point.call(this,e,t)},nu.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}},ru.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=iu(t),i=iu(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}},ou.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};var au=new Date,su=new Date;function lu(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=function(e){return t(e=new Date(+e)),e},i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,o){var a,s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return s;do{s.push(a=new Date(+n)),e(n,o),t(n)}while(a<n&&n<r);return s},i.filter=function(n){return lu((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}))},n&&(i.count=function(e,r){return au.setTime(+e),su.setTime(+r),t(au),t(su),Math.floor(n(au,su))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t==0}:function(e){return i.count(0,e)%t==0}):i:null}),i}const cu=864e5,uu=6048e5;function hu(t){return lu((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/uu}))}var du=hu(0),fu=hu(1),pu=hu(2),gu=hu(3),mu=hu(4),yu=hu(5),vu=hu(6),bu=(du.range,fu.range,pu.range,gu.range,mu.range,yu.range,vu.range,lu((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/cu}),(function(t){return t.getUTCDate()-1})));const wu=bu;function xu(t){return lu((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/uu}))}bu.range;var _u=xu(0),ku=xu(1),Eu=xu(2),Cu=xu(3),Su=xu(4),Du=xu(5),Tu=xu(6),Au=(_u.range,ku.range,Eu.range,Cu.range,Su.range,Du.range,Tu.range,lu((t=>t.setHours(0,0,0,0)),((t,e)=>t.setDate(t.getDate()+e)),((t,e)=>(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/cu),(t=>t.getDate()-1)));const Mu=Au;Au.range;var Nu=lu((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));Nu.every=function(t){return isFinite(t=Math.floor(t))&&t>0?lu((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};const Ou=Nu;Nu.range;var Fu=lu((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));Fu.every=function(t){return isFinite(t=Math.floor(t))&&t>0?lu((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};const Iu=Fu;function Lu(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Bu(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ru(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}Fu.range;var Pu,zu,$u={"-":"",_:" ",0:"0"},ju=/^\s*\d+/,Uu=/^%/,Yu=/[\\^$*+?|[\]().{}]/g;function qu(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function Wu(t){return t.replace(Yu,"\\$&")}function Hu(t){return new RegExp("^(?:"+t.map(Wu).join("|")+")","i")}function Vu(t){return new Map(t.map(((t,e)=>[t.toLowerCase(),e])))}function Gu(t,e,n){var r=ju.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Xu(t,e,n){var r=ju.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Ku(t,e,n){var r=ju.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Ju(t,e,n){var r=ju.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Zu(t,e,n){var r=ju.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Qu(t,e,n){var r=ju.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function th(t,e,n){var r=ju.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function eh(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function nh(t,e,n){var r=ju.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function rh(t,e,n){var r=ju.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function ih(t,e,n){var r=ju.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function oh(t,e,n){var r=ju.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function ah(t,e,n){var r=ju.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function sh(t,e,n){var r=ju.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function lh(t,e,n){var r=ju.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function ch(t,e,n){var r=ju.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function uh(t,e,n){var r=ju.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function hh(t,e,n){var r=Uu.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function dh(t,e,n){var r=ju.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function fh(t,e,n){var r=ju.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function ph(t,e){return qu(t.getDate(),e,2)}function gh(t,e){return qu(t.getHours(),e,2)}function mh(t,e){return qu(t.getHours()%12||12,e,2)}function yh(t,e){return qu(1+Mu.count(Ou(t),t),e,3)}function vh(t,e){return qu(t.getMilliseconds(),e,3)}function bh(t,e){return vh(t,e)+"000"}function wh(t,e){return qu(t.getMonth()+1,e,2)}function xh(t,e){return qu(t.getMinutes(),e,2)}function _h(t,e){return qu(t.getSeconds(),e,2)}function kh(t){var e=t.getDay();return 0===e?7:e}function Eh(t,e){return qu(_u.count(Ou(t)-1,t),e,2)}function Ch(t){var e=t.getDay();return e>=4||0===e?Su(t):Su.ceil(t)}function Sh(t,e){return t=Ch(t),qu(Su.count(Ou(t),t)+(4===Ou(t).getDay()),e,2)}function Dh(t){return t.getDay()}function Th(t,e){return qu(ku.count(Ou(t)-1,t),e,2)}function Ah(t,e){return qu(t.getFullYear()%100,e,2)}function Mh(t,e){return qu((t=Ch(t)).getFullYear()%100,e,2)}function Nh(t,e){return qu(t.getFullYear()%1e4,e,4)}function Oh(t,e){var n=t.getDay();return qu((t=n>=4||0===n?Su(t):Su.ceil(t)).getFullYear()%1e4,e,4)}function Fh(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+qu(e/60|0,"0",2)+qu(e%60,"0",2)}function Ih(t,e){return qu(t.getUTCDate(),e,2)}function Lh(t,e){return qu(t.getUTCHours(),e,2)}function Bh(t,e){return qu(t.getUTCHours()%12||12,e,2)}function Rh(t,e){return qu(1+wu.count(Iu(t),t),e,3)}function Ph(t,e){return qu(t.getUTCMilliseconds(),e,3)}function zh(t,e){return Ph(t,e)+"000"}function $h(t,e){return qu(t.getUTCMonth()+1,e,2)}function jh(t,e){return qu(t.getUTCMinutes(),e,2)}function Uh(t,e){return qu(t.getUTCSeconds(),e,2)}function Yh(t){var e=t.getUTCDay();return 0===e?7:e}function qh(t,e){return qu(du.count(Iu(t)-1,t),e,2)}function Wh(t){var e=t.getUTCDay();return e>=4||0===e?mu(t):mu.ceil(t)}function Hh(t,e){return t=Wh(t),qu(mu.count(Iu(t),t)+(4===Iu(t).getUTCDay()),e,2)}function Vh(t){return t.getUTCDay()}function Gh(t,e){return qu(fu.count(Iu(t)-1,t),e,2)}function Xh(t,e){return qu(t.getUTCFullYear()%100,e,2)}function Kh(t,e){return qu((t=Wh(t)).getUTCFullYear()%100,e,2)}function Jh(t,e){return qu(t.getUTCFullYear()%1e4,e,4)}function Zh(t,e){var n=t.getUTCDay();return qu((t=n>=4||0===n?mu(t):mu.ceil(t)).getUTCFullYear()%1e4,e,4)}function Qh(){return"+0000"}function td(){return"%"}function ed(t){return+t}function nd(t){return Math.floor(+t/1e3)}Pu=function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,c=Hu(i),u=Vu(i),h=Hu(o),d=Vu(o),f=Hu(a),p=Vu(a),g=Hu(s),m=Vu(s),y=Hu(l),v=Vu(l),b={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:ph,e:ph,f:bh,g:Mh,G:Oh,H:gh,I:mh,j:yh,L:vh,m:wh,M:xh,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:ed,s:nd,S:_h,u:kh,U:Eh,V:Sh,w:Dh,W:Th,x:null,X:null,y:Ah,Y:Nh,Z:Fh,"%":td},w={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:Ih,e:Ih,f:zh,g:Kh,G:Zh,H:Lh,I:Bh,j:Rh,L:Ph,m:$h,M:jh,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:ed,s:nd,S:Uh,u:Yh,U:qh,V:Hh,w:Vh,W:Gh,x:null,X:null,y:Xh,Y:Jh,Z:Qh,"%":td},x={a:function(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(t,e,n){var r=h.exec(e.slice(n));return r?(t.w=d.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(t,e,n){var r=y.exec(e.slice(n));return r?(t.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(t,e,n){var r=g.exec(e.slice(n));return r?(t.m=m.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(t,n,r){return E(t,e,n,r)},d:ih,e:ih,f:uh,g:th,G:Qu,H:ah,I:ah,j:oh,L:ch,m:rh,M:sh,p:function(t,e,n){var r=c.exec(e.slice(n));return r?(t.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:nh,Q:dh,s:fh,S:lh,u:Xu,U:Ku,V:Ju,w:Gu,W:Zu,x:function(t,e,r){return E(t,n,e,r)},X:function(t,e,n){return E(t,r,e,n)},y:th,Y:Qu,Z:eh,"%":hh};function _(t,e){return function(n){var r,i,o,a=[],s=-1,l=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===t.charCodeAt(s)&&(a.push(t.slice(l,s)),null!=(i=$u[r=t.charAt(++s)])?r=t.charAt(++s):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),l=s+1);return a.push(t.slice(l,s)),a.join("")}}function k(t,e){return function(n){var r,i,o=Ru(1900,void 0,1);if(E(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(e&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=Bu(Ru(o.y,0,1))).getUTCDay(),r=i>4||0===i?fu.ceil(r):fu(r),r=wu.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=Lu(Ru(o.y,0,1))).getDay(),r=i>4||0===i?ku.ceil(r):ku(r),r=Mu.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?Bu(Ru(o.y,0,1)).getUTCDay():Lu(Ru(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,Bu(o)):Lu(o)}}function E(t,e,n,r){for(var i,o,a=0,s=e.length,l=n.length;a<s;){if(r>=l)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=x[i in $u?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=_(n,b),b.X=_(r,b),b.c=_(e,b),w.x=_(n,w),w.X=_(r,w),w.c=_(e,w),{format:function(t){var e=_(t+="",b);return e.toString=function(){return t},e},parse:function(t){var e=k(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=_(t+="",w);return e.toString=function(){return t},e},utcParse:function(t){var e=k(t+="",!0);return e.toString=function(){return t},e}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),zu=Pu.format,Pu.parse,Pu.utcFormat,Pu.utcParse;var rd={value:()=>{}};function id(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new od(r)}function od(t){this._=t}function ad(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function sd(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function ld(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=rd,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}od.prototype=id.prototype={constructor:od,on:function(t,e){var n,r=this._,i=ad(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<a;)if(n=(t=i[o]).type)r[n]=ld(r[n],t.name,e);else if(null==e)for(n in r)r[n]=ld(r[n],t.name,null);return this}for(;++o<a;)if((n=(t=i[o]).type)&&(n=sd(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new od(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};const cd=id;var ud,hd,dd=0,fd=0,pd=0,gd=0,md=0,yd=0,vd="object"==typeof performance&&performance.now?performance:Date,bd="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function wd(){return md||(bd(xd),md=vd.now()+yd)}function xd(){md=0}function _d(){this._call=this._time=this._next=null}function kd(t,e,n){var r=new _d;return r.restart(t,e,n),r}function Ed(){md=(gd=vd.now())+yd,dd=fd=0;try{!function(){wd(),++dd;for(var t,e=ud;e;)(t=md-e._time)>=0&&e._call.call(void 0,t),e=e._next;--dd}()}finally{dd=0,function(){for(var t,e,n=ud,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:ud=e);hd=t,Sd(r)}(),md=0}}function Cd(){var t=vd.now(),e=t-gd;e>1e3&&(yd-=e,gd=t)}function Sd(t){dd||(fd&&(fd=clearTimeout(fd)),t-md>24?(t<1/0&&(fd=setTimeout(Ed,t-vd.now()-yd)),pd&&(pd=clearInterval(pd))):(pd||(gd=vd.now(),pd=setInterval(Cd,1e3)),dd=1,bd(Ed)))}function Dd(t,e,n){var r=new _d;return e=null==e?0:+e,r.restart((n=>{r.stop(),t(n+e)}),e,n),r}_d.prototype=kd.prototype={constructor:_d,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?wd():+n)+(null==e?0:+e),this._next||hd===this||(hd?hd._next=this:ud=this,hd=this),this._call=t,this._time=n,Sd()},stop:function(){this._call&&(this._call=null,this._time=1/0,Sd())}};var Td=cd("start","end","cancel","interrupt"),Ad=[];function Md(t,e,n,r,i,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function o(l){var c,u,h,d;if(1!==n.state)return s();for(c in i)if((d=i[c]).name===n.name){if(3===d.state)return Dd(o);4===d.state?(d.state=6,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete i[c]):+c<e&&(d.state=6,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete i[c])}if(Dd((function(){3===n.state&&(n.state=4,n.timer.restart(a,n.delay,n.time),a(l))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(h=n.tween.length),c=0,u=-1;c<h;++c)(d=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(r[++u]=d);r.length=u+1}}function a(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(s),n.state=5,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){for(var r in n.state=6,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=kd((function(t){n.state=1,n.timer.restart(o,n.delay,n.time),n.delay<=t&&o(t-n.delay)}),0,n.time)}(t,n,{name:e,index:r,group:i,on:Td,tween:Ad,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function Nd(t,e){var n=Fd(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function Od(t,e){var n=Fd(t,e);if(n.state>3)throw new Error("too late; already running");return n}function Fd(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Id(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var Ld,Bd=180/Math.PI,Rd={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Pd(t,e,n,r,i,o){var a,s,l;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),t*r<e*n&&(t=-t,e=-e,l=-l,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*Bd,skewX:Math.atan(l)*Bd,scaleX:a,scaleY:s}}function zd(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var s=[],l=[];return o=t(o),a=t(a),function(t,r,i,o,a,s){if(t!==i||r!==o){var l=a.push("translate(",null,e,null,n);s.push({i:l-4,x:Id(t,i)},{i:l-2,x:Id(r,o)})}else(i||o)&&a.push("translate("+i+e+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,l),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:Id(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(o.rotate,a.rotate,s,l),function(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:Id(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(o.skewX,a.skewX,s,l),function(t,e,n,r,o,a){if(t!==n||e!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:Id(t,n)},{i:s-2,x:Id(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,l),o=a=null,function(t){for(var e,n=-1,r=l.length;++n<r;)s[(e=l[n]).i]=e.x(t);return s.join("")}}}var $d=zd((function(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Rd:Pd(e.a,e.b,e.c,e.d,e.e,e.f)}),"px, ","px)","deg)"),jd=zd((function(t){return null==t?Rd:(Ld||(Ld=document.createElementNS("http://www.w3.org/2000/svg","g")),Ld.setAttribute("transform",t),(t=Ld.transform.baseVal.consolidate())?Pd((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Rd)}),", ",")",")");function Ud(t,e){var n,r;return function(){var i=Od(this,t),o=i.tween;if(o!==n)for(var a=0,s=(r=n=o).length;a<s;++a)if(r[a].name===e){(r=r.slice()).splice(a,1);break}i.tween=r}}function Yd(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=Od(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===e){i[l]=s;break}l===c&&i.push(s)}o.tween=i}}function qd(t,e,n){var r=t._id;return t.each((function(){var t=Od(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return Fd(t,r).value[e]}}function Wd(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}const Hd=function t(e){var n=function(t){return 1==(t=+t)?Br:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):Ir(isNaN(e)?n:e)}}(e);function r(t,e){var r=n((t=lr(t)).r,(e=lr(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=Br(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function Vd(t){return function(e){var n,r,i=e.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=lr(e[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=t(o),a=t(a),s=t(s),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=s(t),r+""}}}Vd((function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,s=r<e-1?t[r+2]:2*o-i;return Wd((n-r/e)*e,a,i,o,s)}})),Vd((function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],a=t[(r+1)%e],s=t[(r+2)%e];return Wd((n-r/e)*e,i,o,a,s)}}));var Gd=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Xd=new RegExp(Gd.source,"g");function Kd(t,e){var n,r,i,o=Gd.lastIndex=Xd.lastIndex=0,a=-1,s=[],l=[];for(t+="",e+="";(n=Gd.exec(t))&&(r=Xd.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:Id(n,r)})),o=Xd.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,r=0;r<e;++r)s[(n=l[r]).i]=n.x(t);return s.join("")})}function Jd(t,e){var n;return("number"==typeof e?Id:e instanceof ir?Hd:(n=ir(e))?(e=n,Hd):Kd)(t,e)}function Zd(t){return function(){this.removeAttribute(t)}}function Qd(t){return function(){this.removeAttributeNS(t.space,t.local)}}function tf(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=e(r=a,n)}}function ef(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=e(r=a,n)}}function nf(t,e,n){var r,i,o;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttribute(t))===(s=l+"")?null:a===r&&s===i?o:(i=s,o=e(r=a,l));this.removeAttribute(t)}}function rf(t,e,n){var r,i,o;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttributeNS(t.space,t.local))===(s=l+"")?null:a===r&&s===i?o:(i=s,o=e(r=a,l));this.removeAttributeNS(t.space,t.local)}}function of(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function af(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function sf(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&af(t,i)),n}return i._value=e,i}function lf(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&of(t,i)),n}return i._value=e,i}function cf(t,e){return function(){Nd(this,t).delay=+e.apply(this,arguments)}}function uf(t,e){return e=+e,function(){Nd(this,t).delay=e}}function hf(t,e){return function(){Od(this,t).duration=+e.apply(this,arguments)}}function df(t,e){return e=+e,function(){Od(this,t).duration=e}}function ff(t,e){if("function"!=typeof e)throw new Error;return function(){Od(this,t).ease=e}}function pf(t,e,n){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?Nd:Od;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}var gf=rc.prototype.constructor;function mf(t){return function(){this.style.removeProperty(t)}}function yf(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function vf(t,e,n){var r,i;function o(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&yf(t,o,n)),r}return o._value=e,o}function bf(t){return function(e){this.textContent=t.call(this,e)}}function wf(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&bf(r)),e}return r._value=t,r}var xf=0;function _f(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function kf(){return++xf}var Ef=rc.prototype;_f.prototype=function(t){return rc().transition(t)}.prototype={constructor:_f,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=qs(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s,l,c=r[a],u=c.length,h=o[a]=new Array(u),d=0;d<u;++d)(s=c[d])&&(l=t.call(s,s.__data__,d,c))&&("__data__"in s&&(l.__data__=s.__data__),h[d]=l,Md(h[d],e,n,d,h,Fd(s,n)));return new _f(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Vs(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var l,c=r[s],u=c.length,h=0;h<u;++h)if(l=c[h]){for(var d,f=t.call(l,l.__data__,h,c),p=Fd(l,n),g=0,m=f.length;g<m;++g)(d=f[g])&&Md(d,e,n,g,f,p);o.push(f),a.push(l)}return new _f(o,a,e,n)},selectChild:Ef.selectChild,selectChildren:Ef.selectChildren,filter:function(t){"function"!=typeof t&&(t=Gs(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,l=r[i]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&l.push(o);return new _f(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var l,c=e[s],u=n[s],h=c.length,d=a[s]=new Array(h),f=0;f<h;++f)(l=c[f]||u[f])&&(d[f]=l);for(;s<r;++s)a[s]=e[s];return new _f(a,this._parents,this._name,this._id)},selection:function(){return new gf(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=kf(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],l=s.length,c=0;c<l;++c)if(a=s[c]){var u=Fd(a,e);Md(a,t,n,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new _f(r,this._parents,t,n)},call:Ef.call,nodes:Ef.nodes,node:Ef.node,size:Ef.size,empty:Ef.empty,each:Ef.each,on:function(t,e){var n=this._id;return arguments.length<2?Fd(this.node(),n).on.on(t):this.each(pf(n,t,e))},attr:function(t,e){var n=ul(t),r="transform"===n?jd:Jd;return this.attrTween(t,"function"==typeof e?(n.local?rf:nf)(n,r,qd(this,"attr."+t,e)):null==e?(n.local?Qd:Zd)(n):(n.local?ef:tf)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=ul(t);return this.tween(n,(r.local?sf:lf)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?$d:Jd;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var o=xl(this,t),a=(this.style.removeProperty(t),xl(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}(t,r)).on("end.style."+t,mf(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,i,o;return function(){var a=xl(this,t),s=n(this),l=s+"";return null==s&&(this.style.removeProperty(t),l=s=xl(this,t)),a===l?null:a===r&&l===i?o:(i=l,o=e(r=a,s))}}(t,r,qd(this,"style."+t,e))).each(function(t,e){var n,r,i,o,a="style."+e,s="end."+a;return function(){var l=Od(this,t),c=l.on,u=null==l.value[a]?o||(o=mf(e)):void 0;c===n&&i===u||(r=(n=c).copy()).on(s,i=u),l.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,o=n+"";return function(){var a=xl(this,t);return a===o?null:a===r?i:i=e(r=a,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,vf(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(qd(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,wf(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=Fd(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?Ud:Yd)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?cf:uf)(e,t)):Fd(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?hf:df)(e,t)):Fd(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(ff(e,t)):Fd(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;Od(this,t).ease=n}}(this._id,t))},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(o,a){var s={value:a},l={value:function(){0==--i&&o()}};n.each((function(){var n=Od(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(l)),n.on=e})),0===i&&o()}))},[Symbol.iterator]:Ef[Symbol.iterator]};var Cf={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Sf(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Df(){}function Tf(t){return null==t?Df:function(){return this.querySelector(t)}}function Af(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}function Mf(){return[]}function Nf(t){return null==t?Mf:function(){return this.querySelectorAll(t)}}function Of(t){return function(){return this.matches(t)}}function Ff(t){return function(e){return e.matches(t)}}rc.prototype.interrupt=function(t){return this.each((function(){!function(t,e){var n,r,i,o=t.__transition,a=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}}(this,t)}))},rc.prototype.transition=function(t){var e,n;t instanceof _f?(e=t._id,t=t._name):(e=kf(),(n=Cf).time=wd(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],l=s.length,c=0;c<l;++c)(a=s[c])&&Md(a,t,e,c,s,n||Sf(a,e));return new _f(r,this._parents,t,e)};var If=Array.prototype.find;function Lf(){return this.firstElementChild}var Bf=Array.prototype.filter;function Rf(){return Array.from(this.children)}function Pf(t){return new Array(t.length)}function zf(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function $f(t){return function(){return t}}function jf(t,e,n,r,i,o){for(var a,s=0,l=e.length,c=o.length;s<c;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new zf(t,o[s]);for(;s<l;++s)(a=e[s])&&(i[s]=a)}function Uf(t,e,n,r,i,o,a){var s,l,c,u=new Map,h=e.length,d=o.length,f=new Array(h);for(s=0;s<h;++s)(l=e[s])&&(f[s]=c=a.call(l,l.__data__,s,e)+"",u.has(c)?i[s]=l:u.set(c,l));for(s=0;s<d;++s)c=a.call(t,o[s],s,o)+"",(l=u.get(c))?(r[s]=l,l.__data__=o[s],u.delete(c)):n[s]=new zf(t,o[s]);for(s=0;s<h;++s)(l=e[s])&&u.get(f[s])===l&&(i[s]=l)}function Yf(t){return t.__data__}function qf(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function Wf(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}zf.prototype={constructor:zf,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Hf="http://www.w3.org/1999/xhtml";const Vf={svg:"http://www.w3.org/2000/svg",xhtml:Hf,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Gf(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Vf.hasOwnProperty(e)?{space:Vf[e],local:t}:t}function Xf(t){return function(){this.removeAttribute(t)}}function Kf(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Jf(t,e){return function(){this.setAttribute(t,e)}}function Zf(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Qf(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function tp(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function ep(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function np(t){return function(){this.style.removeProperty(t)}}function rp(t,e,n){return function(){this.style.setProperty(t,e,n)}}function ip(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function op(t,e){return t.style.getPropertyValue(e)||ep(t).getComputedStyle(t,null).getPropertyValue(e)}function ap(t){return function(){delete this[t]}}function sp(t,e){return function(){this[t]=e}}function lp(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function cp(t){return t.trim().split(/^|\s+/)}function up(t){return t.classList||new hp(t)}function hp(t){this._node=t,this._names=cp(t.getAttribute("class")||"")}function dp(t,e){for(var n=up(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function fp(t,e){for(var n=up(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function pp(t){return function(){dp(this,t)}}function gp(t){return function(){fp(this,t)}}function mp(t,e){return function(){(e.apply(this,arguments)?dp:fp)(this,t)}}function yp(){this.textContent=""}function vp(t){return function(){this.textContent=t}}function bp(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function wp(){this.innerHTML=""}function xp(t){return function(){this.innerHTML=t}}function _p(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function kp(){this.nextSibling&&this.parentNode.appendChild(this)}function Ep(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Cp(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Hf&&e.documentElement.namespaceURI===Hf?e.createElement(t):e.createElementNS(n,t)}}function Sp(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Dp(t){var e=Gf(t);return(e.local?Sp:Cp)(e)}function Tp(){return null}function Ap(){var t=this.parentNode;t&&t.removeChild(this)}function Mp(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Np(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Op(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function Fp(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?e.length=i:delete this.__on}}}function Ip(t,e,n){return function(){var r,i=this.__on,o=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(i)for(var a=0,s=i.length;a<s;++a)if((r=i[a]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),void(r.value=e);this.addEventListener(t.type,o,n),r={type:t.type,name:t.name,value:e,listener:o,options:n},i?i.push(r):this.__on=[r]}}function Lp(t,e,n){var r=ep(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Bp(t,e){return function(){return Lp(this,t,e)}}function Rp(t,e){return function(){return Lp(this,t,e.apply(this,arguments))}}hp.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Pp=[null];function zp(t,e){this._groups=t,this._parents=e}function $p(){return new zp([[document.documentElement]],Pp)}zp.prototype=$p.prototype={constructor:zp,select:function(t){"function"!=typeof t&&(t=Tf(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=e[i],l=s.length,c=r[i]=new Array(l),u=0;u<l;++u)(o=s[u])&&(a=t.call(o,o.__data__,u,s))&&("__data__"in o&&(a.__data__=o.__data__),c[u]=a);return new zp(r,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){return Af(t.apply(this,arguments))}}(t):Nf(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,s=e[o],l=s.length,c=0;c<l;++c)(a=s[c])&&(r.push(t.call(a,a.__data__,c,s)),i.push(a));return new zp(r,i)},selectChild:function(t){return this.select(null==t?Lf:function(t){return function(){return If.call(this.children,t)}}("function"==typeof t?t:Ff(t)))},selectChildren:function(t){return this.selectAll(null==t?Rf:function(t){return function(){return Bf.call(this.children,t)}}("function"==typeof t?t:Ff(t)))},filter:function(t){"function"!=typeof t&&(t=Of(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,l=r[i]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&l.push(o);return new zp(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,Yf);var n=e?Uf:jf,r=this._parents,i=this._groups;"function"!=typeof t&&(t=$f(t));for(var o=i.length,a=new Array(o),s=new Array(o),l=new Array(o),c=0;c<o;++c){var u=r[c],h=i[c],d=h.length,f=qf(t.call(u,u&&u.__data__,c,r)),p=f.length,g=s[c]=new Array(p),m=a[c]=new Array(p),y=l[c]=new Array(d);n(u,h,g,m,y,f,e);for(var v,b,w=0,x=0;w<p;++w)if(v=g[w]){for(w>=x&&(x=w+1);!(b=m[x])&&++x<p;);v._next=b||null}}return(a=new zp(a,r))._enter=s,a._exit=l,a},enter:function(){return new zp(this._enter||this._groups.map(Pf),this._parents)},exit:function(){return new zp(this._exit||this._groups.map(Pf),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return"function"==typeof t?(r=t(r))&&(r=r.selection()):r=r.append(t+""),null!=e&&(i=e(i))&&(i=i.selection()),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,a=Math.min(i,o),s=new Array(i),l=0;l<a;++l)for(var c,u=n[l],h=r[l],d=u.length,f=s[l]=new Array(d),p=0;p<d;++p)(c=u[p]||h[p])&&(f[p]=c);for(;l<i;++l)s[l]=n[l];return new zp(s,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=Wf);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],l=s.length,c=i[o]=new Array(l),u=0;u<l;++u)(a=s[u])&&(c[u]=a);c.sort(e)}return new zp(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=Gf(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?Kf:Xf:"function"==typeof e?n.local?tp:Qf:n.local?Zf:Jf)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?np:"function"==typeof e?ip:rp)(t,e,null==n?"":n)):op(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?ap:"function"==typeof e?lp:sp)(t,e)):this.node()[t]},classed:function(t,e){var n=cp(t+"");if(arguments.length<2){for(var r=up(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?mp:e?pp:gp)(n,e))},text:function(t){return arguments.length?this.each(null==t?yp:("function"==typeof t?bp:vp)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?wp:("function"==typeof t?_p:xp)(t)):this.node().innerHTML},raise:function(){return this.each(kp)},lower:function(){return this.each(Ep)},append:function(t){var e="function"==typeof t?t:Dp(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:Dp(t),r=null==e?Tp:"function"==typeof e?e:Tf(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Ap)},clone:function(t){return this.select(t?Np:Mp)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=Op(t+""),a=o.length;if(!(arguments.length<2)){for(s=e?Ip:Fp,r=0;r<a;++r)this.each(s(o[r],e,n));return this}var s=this.node().__on;if(s)for(var l,c=0,u=s.length;c<u;++c)for(r=0,l=s[c];r<a;++r)if((i=o[r]).type===l.type&&i.name===l.name)return l.value},dispatch:function(t,e){return this.each(("function"==typeof e?Rp:Bp)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,i=t[e],o=0,a=i.length;o<a;++o)(r=i[o])&&(yield r)}};const jp=$p;var Up={value:()=>{}};function Yp(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new qp(r)}function qp(t){this._=t}function Wp(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function Hp(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function Vp(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Up,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}qp.prototype=Yp.prototype={constructor:qp,on:function(t,e){var n,r=this._,i=Wp(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<a;)if(n=(t=i[o]).type)r[n]=Vp(r[n],t.name,e);else if(null==e)for(n in r)r[n]=Vp(r[n],t.name,null);return this}for(;++o<a;)if((n=(t=i[o]).type)&&(n=Hp(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new qp(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};const Gp=Yp;var Xp,Kp,Jp=0,Zp=0,Qp=0,tg=0,eg=0,ng=0,rg="object"==typeof performance&&performance.now?performance:Date,ig="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function og(){return eg||(ig(ag),eg=rg.now()+ng)}function ag(){eg=0}function sg(){this._call=this._time=this._next=null}function lg(t,e,n){var r=new sg;return r.restart(t,e,n),r}function cg(){eg=(tg=rg.now())+ng,Jp=Zp=0;try{!function(){og(),++Jp;for(var t,e=Xp;e;)(t=eg-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Jp}()}finally{Jp=0,function(){for(var t,e,n=Xp,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Xp=e);Kp=t,hg(r)}(),eg=0}}function ug(){var t=rg.now(),e=t-tg;e>1e3&&(ng-=e,tg=t)}function hg(t){Jp||(Zp&&(Zp=clearTimeout(Zp)),t-eg>24?(t<1/0&&(Zp=setTimeout(cg,t-rg.now()-ng)),Qp&&(Qp=clearInterval(Qp))):(Qp||(tg=rg.now(),Qp=setInterval(ug,1e3)),Jp=1,ig(cg)))}function dg(t,e,n){var r=new sg;return e=null==e?0:+e,r.restart((n=>{r.stop(),t(n+e)}),e,n),r}sg.prototype=lg.prototype={constructor:sg,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?og():+n)+(null==e?0:+e),this._next||Kp===this||(Kp?Kp._next=this:Xp=this,Kp=this),this._call=t,this._time=n,hg()},stop:function(){this._call&&(this._call=null,this._time=1/0,hg())}};var fg=Gp("start","end","cancel","interrupt"),pg=[];function gg(t,e,n,r,i,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function o(l){var c,u,h,d;if(1!==n.state)return s();for(c in i)if((d=i[c]).name===n.name){if(3===d.state)return dg(o);4===d.state?(d.state=6,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete i[c]):+c<e&&(d.state=6,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete i[c])}if(dg((function(){3===n.state&&(n.state=4,n.timer.restart(a,n.delay,n.time),a(l))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(h=n.tween.length),c=0,u=-1;c<h;++c)(d=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(r[++u]=d);r.length=u+1}}function a(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(s),n.state=5,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){for(var r in n.state=6,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=lg((function(t){n.state=1,n.timer.restart(o,n.delay,n.time),n.delay<=t&&o(t-n.delay)}),0,n.time)}(t,n,{name:e,index:r,group:i,on:fg,tween:pg,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function mg(t,e){var n=vg(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function yg(t,e){var n=vg(t,e);if(n.state>3)throw new Error("too late; already running");return n}function vg(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function bg(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var wg,xg=180/Math.PI,_g={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function kg(t,e,n,r,i,o){var a,s,l;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),t*r<e*n&&(t=-t,e=-e,l=-l,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*xg,skewX:Math.atan(l)*xg,scaleX:a,scaleY:s}}function Eg(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var s=[],l=[];return o=t(o),a=t(a),function(t,r,i,o,a,s){if(t!==i||r!==o){var l=a.push("translate(",null,e,null,n);s.push({i:l-4,x:bg(t,i)},{i:l-2,x:bg(r,o)})}else(i||o)&&a.push("translate("+i+e+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,l),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:bg(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(o.rotate,a.rotate,s,l),function(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:bg(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(o.skewX,a.skewX,s,l),function(t,e,n,r,o,a){if(t!==n||e!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:bg(t,n)},{i:s-2,x:bg(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,l),o=a=null,function(t){for(var e,n=-1,r=l.length;++n<r;)s[(e=l[n]).i]=e.x(t);return s.join("")}}}var Cg=Eg((function(t){const e=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?_g:kg(e.a,e.b,e.c,e.d,e.e,e.f)}),"px, ","px)","deg)"),Sg=Eg((function(t){return null==t?_g:(wg||(wg=document.createElementNS("http://www.w3.org/2000/svg","g")),wg.setAttribute("transform",t),(t=wg.transform.baseVal.consolidate())?kg((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):_g)}),", ",")",")");function Dg(t,e){var n,r;return function(){var i=yg(this,t),o=i.tween;if(o!==n)for(var a=0,s=(r=n=o).length;a<s;++a)if(r[a].name===e){(r=r.slice()).splice(a,1);break}i.tween=r}}function Tg(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=yg(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===e){i[l]=s;break}l===c&&i.push(s)}o.tween=i}}function Ag(t,e,n){var r=t._id;return t.each((function(){var t=yg(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return vg(t,r).value[e]}}function Mg(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Ng(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Og(){}var Fg=.7,Ig=1.4285714285714286,Lg="\\s*([+-]?\\d+)\\s*",Bg="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Rg="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Pg=/^#([0-9a-f]{3,8})$/,zg=new RegExp("^rgb\\("+[Lg,Lg,Lg]+"\\)$"),$g=new RegExp("^rgb\\("+[Rg,Rg,Rg]+"\\)$"),jg=new RegExp("^rgba\\("+[Lg,Lg,Lg,Bg]+"\\)$"),Ug=new RegExp("^rgba\\("+[Rg,Rg,Rg,Bg]+"\\)$"),Yg=new RegExp("^hsl\\("+[Bg,Rg,Rg]+"\\)$"),qg=new RegExp("^hsla\\("+[Bg,Rg,Rg,Bg]+"\\)$"),Wg={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Hg(){return this.rgb().formatHex()}function Vg(){return this.rgb().formatRgb()}function Gg(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Pg.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Xg(e):3===n?new Qg(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Kg(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Kg(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=zg.exec(t))?new Qg(e[1],e[2],e[3],1):(e=$g.exec(t))?new Qg(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=jg.exec(t))?Kg(e[1],e[2],e[3],e[4]):(e=Ug.exec(t))?Kg(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Yg.exec(t))?rm(e[1],e[2]/100,e[3]/100,1):(e=qg.exec(t))?rm(e[1],e[2]/100,e[3]/100,e[4]):Wg.hasOwnProperty(t)?Xg(Wg[t]):"transparent"===t?new Qg(NaN,NaN,NaN,0):null}function Xg(t){return new Qg(t>>16&255,t>>8&255,255&t,1)}function Kg(t,e,n,r){return r<=0&&(t=e=n=NaN),new Qg(t,e,n,r)}function Jg(t){return t instanceof Og||(t=Gg(t)),t?new Qg((t=t.rgb()).r,t.g,t.b,t.opacity):new Qg}function Zg(t,e,n,r){return 1===arguments.length?Jg(t):new Qg(t,e,n,null==r?1:r)}function Qg(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function tm(){return"#"+nm(this.r)+nm(this.g)+nm(this.b)}function em(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function nm(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function rm(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new om(t,e,n,r)}function im(t){if(t instanceof om)return new om(t.h,t.s,t.l,t.opacity);if(t instanceof Og||(t=Gg(t)),!t)return new om;if(t instanceof om)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new om(a,s,l,t.opacity)}function om(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function am(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function sm(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}Mg(Og,Gg,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Hg,formatHex:Hg,formatHsl:function(){return im(this).formatHsl()},formatRgb:Vg,toString:Vg}),Mg(Qg,Zg,Ng(Og,{brighter:function(t){return t=null==t?Ig:Math.pow(Ig,t),new Qg(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?Fg:Math.pow(Fg,t),new Qg(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:tm,formatHex:tm,formatRgb:em,toString:em})),Mg(om,(function(t,e,n,r){return 1===arguments.length?im(t):new om(t,e,n,null==r?1:r)}),Ng(Og,{brighter:function(t){return t=null==t?Ig:Math.pow(Ig,t),new om(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Fg:Math.pow(Fg,t),new om(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Qg(am(t>=240?t-240:t+120,i,r),am(t,i,r),am(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));const lm=t=>()=>t;function cm(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):lm(isNaN(t)?e:t)}const um=function t(e){var n=function(t){return 1==(t=+t)?cm:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):lm(isNaN(e)?n:e)}}(e);function r(t,e){var r=n((t=Zg(t)).r,(e=Zg(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=cm(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function hm(t){return function(e){var n,r,i=e.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=Zg(e[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=t(o),a=t(a),s=t(s),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=s(t),r+""}}}hm((function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,s=r<e-1?t[r+2]:2*o-i;return sm((n-r/e)*e,a,i,o,s)}})),hm((function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],a=t[(r+1)%e],s=t[(r+2)%e];return sm((n-r/e)*e,i,o,a,s)}}));var dm=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fm=new RegExp(dm.source,"g");function pm(t,e){var n,r,i,o=dm.lastIndex=fm.lastIndex=0,a=-1,s=[],l=[];for(t+="",e+="";(n=dm.exec(t))&&(r=fm.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:bg(n,r)})),o=fm.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,r=0;r<e;++r)s[(n=l[r]).i]=n.x(t);return s.join("")})}function gm(t,e){var n;return("number"==typeof e?bg:e instanceof Gg?um:(n=Gg(e))?(e=n,um):pm)(t,e)}function mm(t){return function(){this.removeAttribute(t)}}function ym(t){return function(){this.removeAttributeNS(t.space,t.local)}}function vm(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=e(r=a,n)}}function bm(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=e(r=a,n)}}function wm(t,e,n){var r,i,o;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttribute(t))===(s=l+"")?null:a===r&&s===i?o:(i=s,o=e(r=a,l));this.removeAttribute(t)}}function xm(t,e,n){var r,i,o;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttributeNS(t.space,t.local))===(s=l+"")?null:a===r&&s===i?o:(i=s,o=e(r=a,l));this.removeAttributeNS(t.space,t.local)}}function _m(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function km(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Em(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&km(t,i)),n}return i._value=e,i}function Cm(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&_m(t,i)),n}return i._value=e,i}function Sm(t,e){return function(){mg(this,t).delay=+e.apply(this,arguments)}}function Dm(t,e){return e=+e,function(){mg(this,t).delay=e}}function Tm(t,e){return function(){yg(this,t).duration=+e.apply(this,arguments)}}function Am(t,e){return e=+e,function(){yg(this,t).duration=e}}function Mm(t,e){if("function"!=typeof e)throw new Error;return function(){yg(this,t).ease=e}}function Nm(t,e,n){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?mg:yg;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}var Om=jp.prototype.constructor;function Fm(t){return function(){this.style.removeProperty(t)}}function Im(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function Lm(t,e,n){var r,i;function o(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&Im(t,o,n)),r}return o._value=e,o}function Bm(t){return function(e){this.textContent=t.call(this,e)}}function Rm(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&Bm(r)),e}return r._value=t,r}var Pm=0;function zm(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function $m(){return++Pm}var jm=jp.prototype;zm.prototype=function(t){return jp().transition(t)}.prototype={constructor:zm,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Tf(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s,l,c=r[a],u=c.length,h=o[a]=new Array(u),d=0;d<u;++d)(s=c[d])&&(l=t.call(s,s.__data__,d,c))&&("__data__"in s&&(l.__data__=s.__data__),h[d]=l,gg(h[d],e,n,d,h,vg(s,n)));return new zm(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Nf(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var l,c=r[s],u=c.length,h=0;h<u;++h)if(l=c[h]){for(var d,f=t.call(l,l.__data__,h,c),p=vg(l,n),g=0,m=f.length;g<m;++g)(d=f[g])&&gg(d,e,n,g,f,p);o.push(f),a.push(l)}return new zm(o,a,e,n)},selectChild:jm.selectChild,selectChildren:jm.selectChildren,filter:function(t){"function"!=typeof t&&(t=Of(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,l=r[i]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&l.push(o);return new zm(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var l,c=e[s],u=n[s],h=c.length,d=a[s]=new Array(h),f=0;f<h;++f)(l=c[f]||u[f])&&(d[f]=l);for(;s<r;++s)a[s]=e[s];return new zm(a,this._parents,this._name,this._id)},selection:function(){return new Om(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=$m(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],l=s.length,c=0;c<l;++c)if(a=s[c]){var u=vg(a,e);gg(a,t,n,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new zm(r,this._parents,t,n)},call:jm.call,nodes:jm.nodes,node:jm.node,size:jm.size,empty:jm.empty,each:jm.each,on:function(t,e){var n=this._id;return arguments.length<2?vg(this.node(),n).on.on(t):this.each(Nm(n,t,e))},attr:function(t,e){var n=Gf(t),r="transform"===n?Sg:gm;return this.attrTween(t,"function"==typeof e?(n.local?xm:wm)(n,r,Ag(this,"attr."+t,e)):null==e?(n.local?ym:mm)(n):(n.local?bm:vm)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=Gf(t);return this.tween(n,(r.local?Em:Cm)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?Cg:gm;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var o=op(this,t),a=(this.style.removeProperty(t),op(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}(t,r)).on("end.style."+t,Fm(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,i,o;return function(){var a=op(this,t),s=n(this),l=s+"";return null==s&&(this.style.removeProperty(t),l=s=op(this,t)),a===l?null:a===r&&l===i?o:(i=l,o=e(r=a,s))}}(t,r,Ag(this,"style."+t,e))).each(function(t,e){var n,r,i,o,a="style."+e,s="end."+a;return function(){var l=yg(this,t),c=l.on,u=null==l.value[a]?o||(o=Fm(e)):void 0;c===n&&i===u||(r=(n=c).copy()).on(s,i=u),l.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,o=n+"";return function(){var a=op(this,t);return a===o?null:a===r?i:i=e(r=a,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,Lm(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(Ag(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,Rm(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=vg(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?Dg:Tg)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Sm:Dm)(e,t)):vg(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Tm:Am)(e,t)):vg(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(Mm(e,t)):vg(this.node(),e).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,e){return function(){var n=e.apply(this,arguments);if("function"!=typeof n)throw new Error;yg(this,t).ease=n}}(this._id,t))},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(o,a){var s={value:a},l={value:function(){0==--i&&o()}};n.each((function(){var n=yg(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(l)),n.on=e})),0===i&&o()}))},[Symbol.iterator]:jm[Symbol.iterator]};var Um={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Ym(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function qm(t,e,n){this.k=t,this.x=e,this.y=n}jp.prototype.interrupt=function(t){return this.each((function(){!function(t,e){var n,r,i,o=t.__transition,a=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}}(this,t)}))},jp.prototype.transition=function(t){var e,n;t instanceof zm?(e=t._id,t=t._name):(e=$m(),(n=Um).time=og(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],l=s.length,c=0;c<l;++c)(a=s[c])&&gg(a,t,e,c,s,n||Ym(a,e));return new zm(r,this._parents,t,e)},qm.prototype={constructor:qm,scale:function(t){return 1===t?this:new qm(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new qm(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new qm(1,0,0),qm.prototype;var Wm="comm",Hm="rule",Vm="decl",Gm=Math.abs,Xm=String.fromCharCode;function Km(t){return t.trim()}function Jm(t,e,n){return t.replace(e,n)}function Zm(t,e){return t.indexOf(e)}function Qm(t,e){return 0|t.charCodeAt(e)}function ty(t,e,n){return t.slice(e,n)}function ey(t){return t.length}function ny(t){return t.length}function ry(t,e){return e.push(t),t}function iy(t,e){for(var n="",r=ny(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function oy(t,e,n,r){switch(t.type){case"@import":case Vm:return t.return=t.return||t.value;case Wm:return"";case"@keyframes":return t.return=t.value+"{"+iy(t.children,r)+"}";case Hm:t.value=t.props.join(",")}return ey(n=iy(t.children,r))?t.return=t.value+"{"+n+"}":""}Object.assign;var ay=1,sy=1,ly=0,cy=0,uy=0,hy="";function dy(t,e,n,r,i,o,a){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:ay,column:sy,length:a,return:""}}function fy(){return uy=cy<ly?Qm(hy,cy++):0,sy++,10===uy&&(sy=1,ay++),uy}function py(){return Qm(hy,cy)}function gy(){return cy}function my(t,e){return ty(hy,t,e)}function yy(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function vy(t){return Km(my(cy-1,xy(91===t?t+2:40===t?t+1:t)))}function by(t){for(;(uy=py())&&uy<33;)fy();return yy(t)>2||yy(uy)>3?"":" "}function wy(t,e){for(;--e&&fy()&&!(uy<48||uy>102||uy>57&&uy<65||uy>70&&uy<97););return my(t,gy()+(e<6&&32==py()&&32==fy()))}function xy(t){for(;fy();)switch(uy){case t:return cy;case 34:case 39:34!==t&&39!==t&&xy(uy);break;case 40:41===t&&xy(t);break;case 92:fy()}return cy}function _y(t,e){for(;fy()&&t+uy!==57&&(t+uy!==84||47!==py()););return"/*"+my(e,cy-1)+"*"+Xm(47===t?t:fy())}function ky(t){for(;!yy(py());)fy();return my(t,cy)}function Ey(t){return function(t){return hy="",t}(Cy("",null,null,null,[""],t=function(t){return ay=sy=1,ly=ey(hy=t),cy=0,[]}(t),0,[0],t))}function Cy(t,e,n,r,i,o,a,s,l){for(var c=0,u=0,h=a,d=0,f=0,p=0,g=1,m=1,y=1,v=0,b="",w=i,x=o,_=r,k=b;m;)switch(p=v,v=fy()){case 40:if(108!=p&&58==k.charCodeAt(h-1)){-1!=Zm(k+=Jm(vy(v),"&","&\f"),"&\f")&&(y=-1);break}case 34:case 39:case 91:k+=vy(v);break;case 9:case 10:case 13:case 32:k+=by(p);break;case 92:k+=wy(gy()-1,7);continue;case 47:switch(py()){case 42:case 47:ry(Dy(_y(fy(),gy()),e,n),l);break;default:k+="/"}break;case 123*g:s[c++]=ey(k)*y;case 125*g:case 59:case 0:switch(v){case 0:case 125:m=0;case 59+u:f>0&&ey(k)-h&&ry(f>32?Ty(k+";",r,n,h-1):Ty(Jm(k," ","")+";",r,n,h-2),l);break;case 59:k+=";";default:if(ry(_=Sy(k,e,n,c,u,i,s,b,w=[],x=[],h),o),123===v)if(0===u)Cy(k,e,_,_,w,o,h,s,x);else switch(d){case 100:case 109:case 115:Cy(t,_,_,r&&ry(Sy(t,_,_,0,0,i,s,b,i,w=[],h),x),i,x,h,s,r?w:x);break;default:Cy(k,_,_,_,[""],x,0,s,x)}}c=u=f=0,g=y=1,b=k="",h=a;break;case 58:h=1+ey(k),f=p;default:if(g<1)if(123==v)--g;else if(125==v&&0==g++&&125==(uy=cy>0?Qm(hy,--cy):0,sy--,10===uy&&(sy=1,ay--),uy))continue;switch(k+=Xm(v),v*g){case 38:y=u>0?1:(k+="\f",-1);break;case 44:s[c++]=(ey(k)-1)*y,y=1;break;case 64:45===py()&&(k+=vy(fy())),d=py(),u=h=ey(b=k+=ky(gy())),v++;break;case 45:45===p&&2==ey(k)&&(g=0)}}return o}function Sy(t,e,n,r,i,o,a,s,l,c,u){for(var h=i-1,d=0===i?o:[""],f=ny(d),p=0,g=0,m=0;p<r;++p)for(var y=0,v=ty(t,h+1,h=Gm(g=a[p])),b=t;y<f;++y)(b=Km(g>0?d[y]+" "+v:Jm(v,/&\f/g,d[y])))&&(l[m++]=b);return dy(t,e,n,0===i?Hm:s,l,c,u)}function Dy(t,e,n){return dy(t,e,n,Wm,Xm(uy),ty(t,2,-2),0)}function Ty(t,e,n,r){return dy(t,e,n,Vm,ty(t,0,r),ty(t,r+1,-1),r)}var Ay=n(7967),My=n(7856),Ny=n.n(My),Oy=function(t){var e=t.replace(/\\u[\dA-F]{4}/gi,(function(t){return String.fromCharCode(parseInt(t.replace(/\\u/g,""),16))}));return(e=(e=e.replace(/\\x([0-9a-f]{2})/gi,(function(t,e){return String.fromCharCode(parseInt(e,16))}))).replace(/\\[\d\d\d]{3}/gi,(function(t){return String.fromCharCode(parseInt(t.replace(/\\/g,""),8))}))).replace(/\\[\d\d\d]{2}/gi,(function(t){return String.fromCharCode(parseInt(t.replace(/\\/g,""),8))}))},Fy=function(t){for(var e="",n=0;n>=0;){if(!((n=t.indexOf("<script"))>=0)){e+=t,n=-1;break}e+=t.substr(0,n),(n=(t=t.substr(n+1)).indexOf("<\/script>"))>=0&&(n+=9,t=t.substr(n))}var r=Oy(e);return(r=(r=(r=(r=r.replaceAll(/script>/gi,"#")).replaceAll(/javascript:/gi,"#")).replaceAll(/javascript&colon/gi,"#")).replaceAll(/onerror=/gi,"onerror:")).replaceAll(/<iframe/gi,"")},Iy=function(t,e){var n=t,r=!0;if(!e.flowchart||!1!==e.flowchart.htmlLabels&&"false"!==e.flowchart.htmlLabels||(r=!1),r){var i=e.securityLevel;"antiscript"===i||"strict"===i?n=Fy(n):"loose"!==i&&(n=(n=(n=Py(n)).replace(/</g,"&lt;").replace(/>/g,"&gt;")).replace(/=/g,"&equals;"),n=Ry(n))}return n},Ly=function(t,e){return t?e.dompurifyConfig?Ny().sanitize(Iy(t,e),e.dompurifyConfig):Ny().sanitize(Iy(t,e)):t},By=/<br\s*\/?>/gi,Ry=function(t){return t.replace(/#br#/g,"<br/>")},Py=function(t){return t.replace(By,"#br#")},zy=function(t){return"false"!==t&&!1!==t};const $y={getRows:function(t){if(!t)return 1;var e=Py(t);return(e=e.replace(/\\n/g,"#br#")).split("#br#")},sanitizeText:Ly,sanitizeTextOrArray:function(t,e){return"string"==typeof t?Ly(t,e):t.flat().map((function(t){return Ly(t,e)}))},hasBreaks:function(t){return By.test(t)},splitBreaks:function(t){return t.split(By)},lineBreakRegex:By,removeScript:Fy,getUrl:function(t){var e="";return t&&(e=(e=(e=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search).replace(/\(/g,"\\(")).replace(/\)/g,"\\)")),e},evaluate:zy,removeEscapes:Oy},jy={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:t=>t>=255?255:t<0?0:t,g:t=>t>=255?255:t<0?0:t,b:t=>t>=255?255:t<0?0:t,h:t=>t%360,s:t=>t>=100?100:t<0?0:t,l:t=>t>=100?100:t<0?0:t,a:t=>t>=1?1:t<0?0:t},toLinear:t=>{const e=t/255;return t>.03928?Math.pow((e+.055)/1.055,2.4):e/12.92},hue2rgb:(t,e,n)=>(n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t),hsl2rgb:({h:t,s:e,l:n},r)=>{if(!e)return 2.55*n;t/=360,e/=100;const i=(n/=100)<.5?n*(1+e):n+e-n*e,o=2*n-i;switch(r){case"r":return 255*jy.hue2rgb(o,i,t+1/3);case"g":return 255*jy.hue2rgb(o,i,t);case"b":return 255*jy.hue2rgb(o,i,t-1/3)}},rgb2hsl:({r:t,g:e,b:n},r)=>{t/=255,e/=255,n/=255;const i=Math.max(t,e,n),o=Math.min(t,e,n),a=(i+o)/2;if("l"===r)return 100*a;if(i===o)return 0;const s=i-o;if("s"===r)return 100*(a>.5?s/(2-i-o):s/(i+o));switch(i){case t:return 60*((e-n)/s+(e<n?6:0));case e:return 60*((n-t)/s+2);case n:return 60*((t-e)/s+4);default:return-1}}},Uy={clamp:(t,e,n)=>e>n?Math.min(e,Math.max(n,t)):Math.min(n,Math.max(e,t)),round:t=>Math.round(1e10*t)/1e10},Yy={dec2hex:t=>{const e=Math.round(t).toString(16);return e.length>1?e:`0${e}`}},qy={channel:jy,lang:Uy,unit:Yy},Wy={};for(let t=0;t<=255;t++)Wy[t]=qy.unit.dec2hex(t);const Hy=new class{constructor(t,e){this.color=e,this.changed=!1,this.data=t,this.type=new class{constructor(){this.type=0}get(){return this.type}set(t){if(this.type&&this.type!==t)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=t}reset(){this.type=0}is(t){return this.type===t}}}set(t,e){return this.color=e,this.changed=!1,this.data=t,this.type.type=0,this}_ensureHSL(){const t=this.data,{h:e,s:n,l:r}=t;void 0===e&&(t.h=qy.channel.rgb2hsl(t,"h")),void 0===n&&(t.s=qy.channel.rgb2hsl(t,"s")),void 0===r&&(t.l=qy.channel.rgb2hsl(t,"l"))}_ensureRGB(){const t=this.data,{r:e,g:n,b:r}=t;void 0===e&&(t.r=qy.channel.hsl2rgb(t,"r")),void 0===n&&(t.g=qy.channel.hsl2rgb(t,"g")),void 0===r&&(t.b=qy.channel.hsl2rgb(t,"b"))}get r(){const t=this.data,e=t.r;return this.type.is(2)||void 0===e?(this._ensureHSL(),qy.channel.hsl2rgb(t,"r")):e}get g(){const t=this.data,e=t.g;return this.type.is(2)||void 0===e?(this._ensureHSL(),qy.channel.hsl2rgb(t,"g")):e}get b(){const t=this.data,e=t.b;return this.type.is(2)||void 0===e?(this._ensureHSL(),qy.channel.hsl2rgb(t,"b")):e}get h(){const t=this.data,e=t.h;return this.type.is(1)||void 0===e?(this._ensureRGB(),qy.channel.rgb2hsl(t,"h")):e}get s(){const t=this.data,e=t.s;return this.type.is(1)||void 0===e?(this._ensureRGB(),qy.channel.rgb2hsl(t,"s")):e}get l(){const t=this.data,e=t.l;return this.type.is(1)||void 0===e?(this._ensureRGB(),qy.channel.rgb2hsl(t,"l")):e}get a(){return this.data.a}set r(t){this.type.set(1),this.changed=!0,this.data.r=t}set g(t){this.type.set(1),this.changed=!0,this.data.g=t}set b(t){this.type.set(1),this.changed=!0,this.data.b=t}set h(t){this.type.set(2),this.changed=!0,this.data.h=t}set s(t){this.type.set(2),this.changed=!0,this.data.s=t}set l(t){this.type.set(2),this.changed=!0,this.data.l=t}set a(t){this.changed=!0,this.data.a=t}}({r:0,g:0,b:0,a:0},"transparent"),Vy={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:t=>{if(35!==t.charCodeAt(0))return;const e=t.match(Vy.re);if(!e)return;const n=e[1],r=parseInt(n,16),i=n.length,o=i%4==0,a=i>4,s=a?1:17,l=a?8:4,c=o?0:-1,u=a?255:15;return Hy.set({r:(r>>l*(c+3)&u)*s,g:(r>>l*(c+2)&u)*s,b:(r>>l*(c+1)&u)*s,a:o?(r&u)*s/255:1},t)},stringify:t=>{const{r:e,g:n,b:r,a:i}=t;return i<1?`#${Wy[Math.round(e)]}${Wy[Math.round(n)]}${Wy[Math.round(r)]}${Wy[Math.round(255*i)]}`:`#${Wy[Math.round(e)]}${Wy[Math.round(n)]}${Wy[Math.round(r)]}`}},Gy=Vy,Xy={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:t=>{const e=t.match(Xy.hueRe);if(e){const[,t,n]=e;switch(n){case"grad":return qy.channel.clamp.h(.9*parseFloat(t));case"rad":return qy.channel.clamp.h(180*parseFloat(t)/Math.PI);case"turn":return qy.channel.clamp.h(360*parseFloat(t))}}return qy.channel.clamp.h(parseFloat(t))},parse:t=>{const e=t.charCodeAt(0);if(104!==e&&72!==e)return;const n=t.match(Xy.re);if(!n)return;const[,r,i,o,a,s]=n;return Hy.set({h:Xy._hue2deg(r),s:qy.channel.clamp.s(parseFloat(i)),l:qy.channel.clamp.l(parseFloat(o)),a:a?qy.channel.clamp.a(s?parseFloat(a)/100:parseFloat(a)):1},t)},stringify:t=>{const{h:e,s:n,l:r,a:i}=t;return i<1?`hsla(${qy.lang.round(e)}, ${qy.lang.round(n)}%, ${qy.lang.round(r)}%, ${i})`:`hsl(${qy.lang.round(e)}, ${qy.lang.round(n)}%, ${qy.lang.round(r)}%)`}},Ky=Xy,Jy={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:t=>{t=t.toLowerCase();const e=Jy.colors[t];if(e)return Gy.parse(e)},stringify:t=>{const e=Gy.stringify(t);for(const t in Jy.colors)if(Jy.colors[t]===e)return t}},Zy=Jy,Qy={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:t=>{const e=t.charCodeAt(0);if(114!==e&&82!==e)return;const n=t.match(Qy.re);if(!n)return;const[,r,i,o,a,s,l,c,u]=n;return Hy.set({r:qy.channel.clamp.r(i?2.55*parseFloat(r):parseFloat(r)),g:qy.channel.clamp.g(a?2.55*parseFloat(o):parseFloat(o)),b:qy.channel.clamp.b(l?2.55*parseFloat(s):parseFloat(s)),a:c?qy.channel.clamp.a(u?parseFloat(c)/100:parseFloat(c)):1},t)},stringify:t=>{const{r:e,g:n,b:r,a:i}=t;return i<1?`rgba(${qy.lang.round(e)}, ${qy.lang.round(n)}, ${qy.lang.round(r)}, ${qy.lang.round(i)})`:`rgb(${qy.lang.round(e)}, ${qy.lang.round(n)}, ${qy.lang.round(r)})`}},tv=Qy,ev={format:{keyword:Zy,hex:Gy,rgb:tv,rgba:tv,hsl:Ky,hsla:Ky},parse:t=>{if("string"!=typeof t)return t;const e=Gy.parse(t)||tv.parse(t)||Ky.parse(t)||Zy.parse(t);if(e)return e;throw new Error(`Unsupported color format: "${t}"`)},stringify:t=>!t.changed&&t.color?t.color:t.type.is(2)||void 0===t.data.r?Ky.stringify(t):t.a<1||!Number.isInteger(t.r)||!Number.isInteger(t.g)||!Number.isInteger(t.b)?tv.stringify(t):Gy.stringify(t)},nv=ev,rv=(t,e)=>{const n=nv.parse(t);for(const t in e)n[t]=qy.channel.clamp[t](e[t]);return nv.stringify(n)},iv=(t,e)=>{const n=nv.parse(t),r={};for(const t in e)e[t]&&(r[t]=n[t]+e[t]);return rv(t,r)},ov=(t,e,n=0,r=1)=>{if("number"!=typeof t)return rv(t,{a:e});const i=Hy.set({r:qy.channel.clamp.r(t),g:qy.channel.clamp.g(e),b:qy.channel.clamp.b(n),a:qy.channel.clamp.a(r)});return nv.stringify(i)},av=(t,e=100)=>{const n=nv.parse(t);return n.r=255-n.r,n.g=255-n.g,n.b=255-n.b,((t,e,n=50)=>{const{r,g:i,b:o,a}=nv.parse(t),{r:s,g:l,b:c,a:u}=nv.parse(e),h=n/100,d=2*h-1,f=a-u,p=((d*f==-1?d:(d+f)/(1+d*f))+1)/2,g=1-p;return ov(r*p+s*g,i*p+l*g,o*p+c*g,a*h+u*(1-h))})(n,t,e)},sv=(t,e,n)=>{const r=nv.parse(t),i=r[e],o=qy.channel.clamp[e](i+n);return i!==o&&(r[e]=o),nv.stringify(r)},lv=(t,e)=>sv(t,"l",-e),cv=(t,e)=>sv(t,"l",e);var uv=function(t,e){return iv(t,e?{s:-40,l:10}:{s:-40,l:-10})};function hv(t){return hv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hv(t)}var dv=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.background="#f4f4f4",this.darkMode=!1,this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}var e,n;return e=t,n=[{key:"updateColors",value:function(){this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||iv(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||iv(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||uv(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||uv(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||uv(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||uv(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||av(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||av(this.tertiaryColor),this.lineColor=this.lineColor||av(this.background),this.textColor=this.textColor||this.primaryTextColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?lv(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||"grey",this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||lv(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||av(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||cv(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||iv(this.primaryColor,{h:64}),this.fillType3=this.fillType3||iv(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||iv(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||iv(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||iv(this.primaryColor,{h:128}),this.fillType7=this.fillType7||iv(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||iv(this.primaryColor,{l:-10}),this.pie5=this.pie5||iv(this.secondaryColor,{l:-10}),this.pie6=this.pie6||iv(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||iv(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||iv(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||iv(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||iv(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||iv(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||iv(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?lv(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||iv(this.primaryColor,{h:-30}),this.git4=this.git4||iv(this.primaryColor,{h:-60}),this.git5=this.git5||iv(this.primaryColor,{h:-90}),this.git6=this.git6||iv(this.primaryColor,{h:60}),this.git7=this.git7||iv(this.primaryColor,{h:120}),this.darkMode?(this.git0=cv(this.git0,25),this.git1=cv(this.git1,25),this.git2=cv(this.git2,25),this.git3=cv(this.git3,25),this.git4=cv(this.git4,25),this.git5=cv(this.git5,25),this.git6=cv(this.git6,25),this.git7=cv(this.git7,25)):(this.git0=lv(this.git0,25),this.git1=lv(this.git1,25),this.git2=lv(this.git2,25),this.git3=lv(this.git3,25),this.git4=lv(this.git4,25),this.git5=lv(this.git5,25),this.git6=lv(this.git6,25),this.git7=lv(this.git7,25)),this.gitInv0=this.gitInv0||av(this.git0),this.gitInv1=this.gitInv1||av(this.git1),this.gitInv2=this.gitInv2||av(this.git2),this.gitInv3=this.gitInv3||av(this.git3),this.gitInv4=this.gitInv4||av(this.git4),this.gitInv5=this.gitInv5||av(this.git5),this.gitInv6=this.gitInv6||av(this.git6),this.gitInv7=this.gitInv7||av(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor}},{key:"calculate",value:function(t){var e=this;if("object"===hv(t)){var n=Object.keys(t);n.forEach((function(n){e[n]=t[n]})),this.updateColors(),n.forEach((function(n){e[n]=t[n]}))}else this.updateColors()}}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function fv(t){return fv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fv(t)}var pv=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=cv(this.primaryColor,16),this.tertiaryColor=iv(this.primaryColor,{h:-160}),this.primaryBorderColor=av(this.background),this.secondaryBorderColor=uv(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=uv(this.tertiaryColor,this.darkMode),this.primaryTextColor=av(this.primaryColor),this.secondaryTextColor=av(this.secondaryColor),this.tertiaryTextColor=av(this.tertiaryColor),this.lineColor=av(this.background),this.textColor=av(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=cv(av("#323D47"),10),this.lineColor="calculated",this.border1="#81B1DB",this.border2=ov(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=lv("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.taskBorderColor=ov(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=ov(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}var e,n;return e=t,n=[{key:"updateColors",value:function(){this.secondBkg=cv(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=cv(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.mainContrastColor,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=cv(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=iv(this.primaryColor,{h:64}),this.fillType3=iv(this.secondaryColor,{h:64}),this.fillType4=iv(this.primaryColor,{h:-64}),this.fillType5=iv(this.secondaryColor,{h:-64}),this.fillType6=iv(this.primaryColor,{h:128}),this.fillType7=iv(this.secondaryColor,{h:128}),this.pie1=this.pie1||"#0b0000",this.pie2=this.pie2||"#4d1037",this.pie3=this.pie3||"#3f5258",this.pie4=this.pie4||"#4f2f1b",this.pie5=this.pie5||"#6e0a0a",this.pie6=this.pie6||"#3b0048",this.pie7=this.pie7||"#995a01",this.pie8=this.pie8||"#154706",this.pie9=this.pie9||"#161722",this.pie10=this.pie10||"#00296f",this.pie11=this.pie11||"#01629c",this.pie12=this.pie12||"#010029",this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?lv(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=cv(this.secondaryColor,20),this.git1=cv(this.pie2||this.secondaryColor,20),this.git2=cv(this.pie3||this.tertiaryColor,20),this.git3=cv(this.pie4||iv(this.primaryColor,{h:-30}),20),this.git4=cv(this.pie5||iv(this.primaryColor,{h:-60}),20),this.git5=cv(this.pie6||iv(this.primaryColor,{h:-90}),10),this.git6=cv(this.pie7||iv(this.primaryColor,{h:60}),10),this.git7=cv(this.pie8||iv(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||av(this.git0),this.gitInv1=this.gitInv1||av(this.git1),this.gitInv2=this.gitInv2||av(this.git2),this.gitInv3=this.gitInv3||av(this.git3),this.gitInv4=this.gitInv4||av(this.git4),this.gitInv5=this.gitInv5||av(this.git5),this.gitInv6=this.gitInv6||av(this.git6),this.gitInv7=this.gitInv7||av(this.git7),this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor}},{key:"calculate",value:function(t){var e=this;if("object"===fv(t)){var n=Object.keys(t);n.forEach((function(n){e[n]=t[n]})),this.updateColors(),n.forEach((function(n){e[n]=t[n]}))}else this.updateColors()}}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function gv(t){return gv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gv(t)}var mv=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=iv(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=iv(this.primaryColor,{h:-160}),this.primaryBorderColor=uv(this.primaryColor,this.darkMode),this.secondaryBorderColor=uv(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=uv(this.tertiaryColor,this.darkMode),this.primaryTextColor=av(this.primaryColor),this.secondaryTextColor=av(this.secondaryColor),this.tertiaryTextColor=av(this.tertiaryColor),this.lineColor=av(this.background),this.textColor=av(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#e8e8e8",this.textColor="#333",this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.sectionBkgColor=ov(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}var e,n;return e=t,n=[{key:"updateColors",value:function(){this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=cv(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=iv(this.primaryColor,{h:64}),this.fillType3=iv(this.secondaryColor,{h:64}),this.fillType4=iv(this.primaryColor,{h:-64}),this.fillType5=iv(this.secondaryColor,{h:-64}),this.fillType6=iv(this.primaryColor,{h:128}),this.fillType7=iv(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||iv(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||iv(this.primaryColor,{l:-10}),this.pie5=this.pie5||iv(this.secondaryColor,{l:-30}),this.pie6=this.pie6||iv(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||iv(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||iv(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||iv(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||iv(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||iv(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||iv(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||iv(this.primaryColor,{h:-30}),this.git4=this.git4||iv(this.primaryColor,{h:-60}),this.git5=this.git5||iv(this.primaryColor,{h:-90}),this.git6=this.git6||iv(this.primaryColor,{h:60}),this.git7=this.git7||iv(this.primaryColor,{h:120}),this.darkMode?(this.git0=cv(this.git0,25),this.git1=cv(this.git1,25),this.git2=cv(this.git2,25),this.git3=cv(this.git3,25),this.git4=cv(this.git4,25),this.git5=cv(this.git5,25),this.git6=cv(this.git6,25),this.git7=cv(this.git7,25)):(this.git0=lv(this.git0,25),this.git1=lv(this.git1,25),this.git2=lv(this.git2,25),this.git3=lv(this.git3,25),this.git4=lv(this.git4,25),this.git5=lv(this.git5,25),this.git6=lv(this.git6,25),this.git7=lv(this.git7,25)),this.gitInv0=this.gitInv0||lv(av(this.git0),25),this.gitInv1=this.gitInv1||av(this.git1),this.gitInv2=this.gitInv2||av(this.git2),this.gitInv3=this.gitInv3||av(this.git3),this.gitInv4=this.gitInv4||av(this.git4),this.gitInv5=this.gitInv5||av(this.git5),this.gitInv6=this.gitInv6||av(this.git6),this.gitInv7=this.gitInv7||av(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||av(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||av(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor}},{key:"calculate",value:function(t){var e=this;if("object"===gv(t)){var n=Object.keys(t);n.forEach((function(n){e[n]=t[n]})),this.updateColors(),n.forEach((function(n){e[n]=t[n]}))}else this.updateColors()}}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function yv(t){return yv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yv(t)}var vv=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=cv("#cde498",10),this.primaryBorderColor=uv(this.primaryColor,this.darkMode),this.secondaryBorderColor=uv(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=uv(this.tertiaryColor,this.darkMode),this.primaryTextColor=av(this.primaryColor),this.secondaryTextColor=av(this.secondaryColor),this.tertiaryTextColor=av(this.primaryColor),this.lineColor=av(this.background),this.textColor=av(this.background),this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}var e,n;return e=t,n=[{key:"updateColors",value:function(){this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.actorBorder=lv(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=iv(this.primaryColor,{h:64}),this.fillType3=iv(this.secondaryColor,{h:64}),this.fillType4=iv(this.primaryColor,{h:-64}),this.fillType5=iv(this.secondaryColor,{h:-64}),this.fillType6=iv(this.primaryColor,{h:128}),this.fillType7=iv(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||iv(this.primaryColor,{l:-30}),this.pie5=this.pie5||iv(this.secondaryColor,{l:-30}),this.pie6=this.pie6||iv(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||iv(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||iv(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||iv(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||iv(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||iv(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||iv(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||iv(this.primaryColor,{h:-30}),this.git4=this.git4||iv(this.primaryColor,{h:-60}),this.git5=this.git5||iv(this.primaryColor,{h:-90}),this.git6=this.git6||iv(this.primaryColor,{h:60}),this.git7=this.git7||iv(this.primaryColor,{h:120}),this.darkMode?(this.git0=cv(this.git0,25),this.git1=cv(this.git1,25),this.git2=cv(this.git2,25),this.git3=cv(this.git3,25),this.git4=cv(this.git4,25),this.git5=cv(this.git5,25),this.git6=cv(this.git6,25),this.git7=cv(this.git7,25)):(this.git0=lv(this.git0,25),this.git1=lv(this.git1,25),this.git2=lv(this.git2,25),this.git3=lv(this.git3,25),this.git4=lv(this.git4,25),this.git5=lv(this.git5,25),this.git6=lv(this.git6,25),this.git7=lv(this.git7,25)),this.gitInv0=this.gitInv0||av(this.git0),this.gitInv1=this.gitInv1||av(this.git1),this.gitInv2=this.gitInv2||av(this.git2),this.gitInv3=this.gitInv3||av(this.git3),this.gitInv4=this.gitInv4||av(this.git4),this.gitInv5=this.gitInv5||av(this.git5),this.gitInv6=this.gitInv6||av(this.git6),this.gitInv7=this.gitInv7||av(this.git7),this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor}},{key:"calculate",value:function(t){var e=this;if("object"===yv(t)){var n=Object.keys(t);n.forEach((function(n){e[n]=t[n]})),this.updateColors(),n.forEach((function(n){e[n]=t[n]}))}else this.updateColors()}}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function bv(t){return bv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bv(t)}var wv=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=cv(this.contrast,55),this.background="#ffffff",this.tertiaryColor=iv(this.primaryColor,{h:-160}),this.primaryBorderColor=uv(this.primaryColor,this.darkMode),this.secondaryBorderColor=uv(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=uv(this.tertiaryColor,this.darkMode),this.primaryTextColor=av(this.primaryColor),this.secondaryTextColor=av(this.secondaryColor),this.tertiaryTextColor=av(this.tertiaryColor),this.lineColor=av(this.background),this.textColor=av(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}var e,n;return e=t,n=[{key:"updateColors",value:function(){this.secondBkg=cv(this.contrast,55),this.border2=this.contrast,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.actorBorder=cv(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.lineColor,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.sectionBkgColor=cv(this.contrast,30),this.sectionBkgColor2=cv(this.contrast,30),this.taskBorderColor=lv(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=cv(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=lv(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=iv(this.primaryColor,{h:64}),this.fillType3=iv(this.secondaryColor,{h:64}),this.fillType4=iv(this.primaryColor,{h:-64}),this.fillType5=iv(this.secondaryColor,{h:-64}),this.fillType6=iv(this.primaryColor,{h:128}),this.fillType7=iv(this.secondaryColor,{h:128}),this.pie1=this.pie1||"#F4F4F4",this.pie2=this.pie2||"#555",this.pie3=this.pie3||"#BBB",this.pie4=this.pie4||"#777",this.pie5=this.pie5||"#999",this.pie6=this.pie6||"#DDD",this.pie7=this.pie7||"#FFF",this.pie8=this.pie8||"#DDD",this.pie9=this.pie9||"#BBB",this.pie10=this.pie10||"#999",this.pie11=this.pie11||"#777",this.pie12=this.pie12||"#555",this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=lv(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||iv(this.primaryColor,{h:-30}),this.git4=this.pie5||iv(this.primaryColor,{h:-60}),this.git5=this.pie6||iv(this.primaryColor,{h:-90}),this.git6=this.pie7||iv(this.primaryColor,{h:60}),this.git7=this.pie8||iv(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||av(this.git0),this.gitInv1=this.gitInv1||av(this.git1),this.gitInv2=this.gitInv2||av(this.git2),this.gitInv3=this.gitInv3||av(this.git3),this.gitInv4=this.gitInv4||av(this.git4),this.gitInv5=this.gitInv5||av(this.git5),this.gitInv6=this.gitInv6||av(this.git6),this.gitInv7=this.gitInv7||av(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor}},{key:"calculate",value:function(t){var e=this;if("object"===bv(t)){var n=Object.keys(t);n.forEach((function(n){e[n]=t[n]})),this.updateColors(),n.forEach((function(n){e[n]=t[n]}))}else this.updateColors()}}],n&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();const xv={base:{getThemeVariables:function(t){var e=new dv;return e.calculate(t),e}},dark:{getThemeVariables:function(t){var e=new pv;return e.calculate(t),e}},default:{getThemeVariables:function(t){var e=new mv;return e.calculate(t),e}},forest:{getThemeVariables:function(t){var e=new vv;return e.calculate(t),e}},neutral:{getThemeVariables:function(t){var e=new wv;return e.calculate(t),e}}};function _v(t){return function(t){if(Array.isArray(t))return kv(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return kv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?kv(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kv(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ev(t){return Ev="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ev(t)}var Cv={theme:"default",themeVariables:xv.default.getThemeVariables(),themeCSS:void 0,maxTextSize:5e4,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize"],deterministicIds:!1,deterministicIDSeed:void 0,flowchart:{diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,useMaxWidth:!0,defaultRenderer:"dagre-d3"},sequence:{hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,useMaxWidth:!0,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20,messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},noteFont:function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},actorFont:function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}}},gantt:{titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",useMaxWidth:!0,topAxis:!1,useWidth:void 0},journey:{diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,useMaxWidth:!0,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"]},class:{arrowMarkerAbsolute:!1,useMaxWidth:!0,defaultRenderer:"dagre-wrapper"},state:{dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,useMaxWidth:!0,defaultRenderer:"dagre-wrapper"},er:{diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,stroke:"gray",fill:"honeydew",fontSize:12,useMaxWidth:!0},pie:{useWidth:void 0,useMaxWidth:!0},requirement:{useWidth:void 0,useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},gitGraph:{diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0},c4:{useWidth:void 0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,useMaxWidth:!0,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,personFont:function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},external_personFont:function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},systemFont:function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},external_systemFont:function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},system_dbFont:function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},external_system_dbFont:function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},system_queueFont:function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},external_system_queueFont:function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},containerFont:function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},external_containerFont:function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},container_dbFont:function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},external_container_dbFont:function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},container_queueFont:function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},external_container_queueFont:function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},componentFont:function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},external_componentFont:function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},component_dbFont:function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},external_component_dbFont:function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},component_queueFont:function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},external_component_queueFont:function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},boundaryFont:function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"}};Cv.class.arrowMarkerAbsolute=Cv.arrowMarkerAbsolute,Cv.gitGraph.arrowMarkerAbsolute=Cv.arrowMarkerAbsolute;var Sv=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object.keys(e).reduce((function(r,i){return Array.isArray(e[i])?r:"object"===Ev(e[i])&&null!==e[i]?[].concat(_v(r),[n+i],_v(t(e[i],""))):[].concat(_v(r),[n+i])}),[])}(Cv,"");const Dv=Cv;var Tv=void 0;function Av(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Ov(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Mv(t){return Mv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mv(t)}function Nv(t){return function(t){if(Array.isArray(t))return Fv(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Ov(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ov(t,e){if(t){if("string"==typeof t)return Fv(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fv(t,e):void 0}}function Fv(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Iv,Lv={curveBasis:Hc,curveBasisClosed:function(t){return new Vc(t)},curveBasisOpen:function(t){return new Gc(t)},curveLinear:Rc,curveLinearClosed:function(t){return new Xc(t)},curveMonotoneX:function(t){return new tu(t)},curveMonotoneY:function(t){return new eu(t)},curveNatural:function(t){return new ru(t)},curveStep:function(t){return new ou(t,.5)},curveStepAfter:function(t){return new ou(t,1)},curveStepBefore:function(t){return new ou(t,0)}},Bv=/[%]{2}[{]\s*(?:(?:(\w+)\s*:|(\w+))\s*(?:(?:(\w+))|((?:(?![}][%]{2}).|\r?\n)*))?\s*)(?:[}][%]{2})?/gi,Rv=/\s*(?:(?:(\w+)(?=:):|(\w+))\s*(?:(?:(\w+))|((?:(?![}][%]{2}).|\r?\n)*))?\s*)(?:[}][%]{2})?/gi,Pv=/\s*%%.*\n/gm,zv=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{var n=new RegExp("[%]{2}(?![{]".concat(Rv.source,")(?=[}][%]{2}).*\n"),"ig");t=t.trim().replace(n,"").replace(/'/gm,'"'),a.debug("Detecting diagram directive".concat(null!==e?" type:"+e:""," based on the text:").concat(t));for(var r,i=[];null!==(r=Bv.exec(t));)if(r.index===Bv.lastIndex&&Bv.lastIndex++,r&&!e||e&&r[1]&&r[1].match(e)||e&&r[2]&&r[2].match(e)){var o=r[1]?r[1]:r[2],s=r[3]?r[3].trim():r[4]?JSON.parse(r[4].trim()):null;i.push({type:o,args:s})}return 0===i.length&&i.push({type:t,args:null}),1===i.length?i[0]:i}catch(n){return a.error("ERROR: ".concat(n.message," - Unable to parse directive\n      ").concat(null!==e?" type:"+e:""," based on the text:").concat(t)),{type:null,args:null}}},$v=function(t,e){return(t=t.replace(Bv,"").replace(Pv,"\n")).match(/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/)?"c4":t.match(/^\s*sequenceDiagram/)?"sequence":t.match(/^\s*gantt/)?"gantt":t.match(/^\s*classDiagram-v2/)?"classDiagram":t.match(/^\s*classDiagram/)?e&&e.class&&"dagre-wrapper"===e.class.defaultRenderer?"classDiagram":"class":t.match(/^\s*stateDiagram-v2/)?"stateDiagram":t.match(/^\s*stateDiagram/)?e&&e.class&&"dagre-wrapper"===e.state.defaultRenderer?"stateDiagram":"state":t.match(/^\s*gitGraph/)?"gitGraph":t.match(/^\s*flowchart/)?"flowchart-v2":t.match(/^\s*info/)?"info":t.match(/^\s*pie/)?"pie":t.match(/^\s*erDiagram/)?"er":t.match(/^\s*journey/)?"journey":t.match(/^\s*requirement/)||t.match(/^\s*requirementDiagram/)?"requirement":e&&e.flowchart&&"dagre-wrapper"===e.flowchart.defaultRenderer?"flowchart-v2":"flowchart"},jv=function(t,e){var n={};return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=e?e.apply(Tv,i):i[0];if(a in n)return n[a];var s=t.apply(void 0,i);return n[a]=s,s}},Uv=function(t,e){if(!t)return e;var n="curve".concat(t.charAt(0).toUpperCase()+t.slice(1));return Lv[n]||e},Yv=function(t,e){return t&&e?Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)):0},qv=function(t){for(var e="",n="",r=0;r<t.length;r++)void 0!==t[r]&&(t[r].startsWith("color:")||t[r].startsWith("text-align:")?n=n+t[r]+";":e=e+t[r]+";");return{style:e,labelStyle:n}},Wv=0,Hv=function(){return Wv++,"id-"+Math.random().toString(36).substr(2,12)+"-"+Wv},Vv=function(t){return function(t){for(var e="",n="0123456789abcdef",r=n.length,i=0;i<t;i++)e+=n.charAt(Math.floor(Math.random()*r));return e}(t.length)},Gv=function t(e,n,r){var i=Object.assign({depth:2,clobber:!1},r),o=i.depth,a=i.clobber;return Array.isArray(n)&&!Array.isArray(e)?(n.forEach((function(n){return t(e,n,r)})),e):Array.isArray(n)&&Array.isArray(e)?(n.forEach((function(t){-1===e.indexOf(t)&&e.push(t)})),e):void 0===e||o<=0?null!=e&&"object"===Mv(e)&&"object"===Mv(n)?Object.assign(e,n):n:(void 0!==n&&"object"===Mv(e)&&"object"===Mv(n)&&Object.keys(n).forEach((function(r){"object"!==Mv(n[r])||void 0!==e[r]&&"object"!==Mv(e[r])?(a||"object"!==Mv(e[r])&&"object"!==Mv(n[r]))&&(e[r]=n[r]):(void 0===e[r]&&(e[r]=Array.isArray(n[r])?[]:{}),e[r]=t(e[r],n[r],{depth:o-1,clobber:a}))})),e)},Xv=function(t,e){var n=e.text.replace($y.lineBreakRegex," "),r=t.append("text");r.attr("x",e.x),r.attr("y",e.y),r.style("text-anchor",e.anchor),r.style("font-family",e.fontFamily),r.style("font-size",e.fontSize),r.style("font-weight",e.fontWeight),r.attr("fill",e.fill),void 0!==e.class&&r.attr("class",e.class);var i=r.append("tspan");return i.attr("x",e.x+2*e.textMargin),i.attr("fill",e.fill),i.text(n),r},Kv=jv((function(t,e,n){if(!t)return t;if(n=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},n),$y.lineBreakRegex.test(t))return t;var r=t.split(" "),i=[],o="";return r.forEach((function(t,a){var s=Qv("".concat(t," "),n),l=Qv(o,n);if(s>e){var c=Jv(t,e,"-",n),u=c.hyphenatedStrings,h=c.remainingWord;i.push.apply(i,[o].concat(Nv(u))),o=h}else l+s>=e?(i.push(o),o=t):o=[o,t].filter(Boolean).join(" ");a+1===r.length&&i.push(o)})),i.filter((function(t){return""!==t})).join(n.joinWith)}),(function(t,e,n){return"".concat(t,"-").concat(e,"-").concat(n.fontSize,"-").concat(n.fontWeight,"-").concat(n.fontFamily,"-").concat(n.joinWith)})),Jv=jv((function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-",r=arguments.length>3?arguments[3]:void 0;r=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},r);var i=t.split(""),o=[],a="";return i.forEach((function(t,s){var l="".concat(a).concat(t);if(Qv(l,r)>=e){var c=s+1,u=i.length===c,h="".concat(l).concat(n);o.push(u?l:h),a=""}else a=l})),{hyphenatedStrings:o,remainingWord:a}}),(function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-",r=arguments.length>3?arguments[3]:void 0;return"".concat(t,"-").concat(e,"-").concat(n,"-").concat(r.fontSize,"-").concat(r.fontWeight,"-").concat(r.fontFamily)})),Zv=function(t,e){return e=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:15},e),tb(t,e).height},Qv=function(t,e){return e=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial"},e),tb(t,e).width},tb=jv((function(t,e){var n=e=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial"},e),r=n.fontSize,i=n.fontFamily,o=n.fontWeight;if(!t)return{width:0,height:0};var a=["sans-serif",i],s=t.split($y.lineBreakRegex),l=[],c=ic("body");if(!c.remove)return{width:0,height:0,lineHeight:0};for(var u=c.append("svg"),h=0,d=a;h<d.length;h++){var f,p=d[h],g=0,m={width:0,height:0,lineHeight:0},y=Av(s);try{for(y.s();!(f=y.n()).done;){var v=f.value,b={x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0};b.text=v;var w=Xv(u,b).style("font-size",r).style("font-weight",o).style("font-family",p),x=(w._groups||w)[0][0].getBBox();m.width=Math.round(Math.max(m.width,x.width)),g=Math.round(x.height),m.height+=g,m.lineHeight=Math.round(Math.max(m.lineHeight,g))}}catch(t){y.e(t)}finally{y.f()}l.push(m)}return u.remove(),l[isNaN(l[1].height)||isNaN(l[1].width)||isNaN(l[1].lineHeight)||l[0].height>l[1].height&&l[0].width>l[1].width&&l[0].lineHeight>l[1].lineHeight?0:1]}),(function(t,e){return"".concat(t,"-").concat(e.fontSize,"-").concat(e.fontWeight,"-").concat(e.fontFamily)})),eb=function(t,e,n){var r=new Map;return r.set("height",t),n?(r.set("width","100%"),r.set("style","max-width: ".concat(e,"px;"))):r.set("width",e),r},nb=function(t,e,n,r){!function(t,e){var n,r=Av(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;t.attr(i[0],i[1])}}catch(t){r.e(t)}finally{r.f()}}(t,eb(e,n,r))},rb=function(t,e,n,r){var i=e.node().getBBox(),o=i.width,s=i.height,l=t._label.width,c=t._label.height,u=0,h=0;o>l&&(u=(o-l)/2+n,l=o+2*n),s>c&&(h=(s-c)/2+n,c=s+2*n),nb(e,c,l,r);var d="0 0 ".concat(l," ").concat(c);a.debug("Grpah.label",t._label,"swidth",o,"sheight",s,"width",l,"height",c,"tx",u,"ty",h,"vBox",d),e.attr("viewBox",d),e.select("g").attr("transform","translate(".concat(u,", ").concat(h,")"))},ib=function t(e){a.debug("directiveSanitizer called with",e),"object"===Mv(e)&&(e.length?e.forEach((function(e){return t(e)})):Object.keys(e).forEach((function(n){a.debug("Checking key",n),0===n.indexOf("__")&&(a.debug("sanitize deleting __ option",n),delete e[n]),n.indexOf("proto")>=0&&(a.debug("sanitize deleting proto option",n),delete e[n]),n.indexOf("constr")>=0&&(a.debug("sanitize deleting constr option",n),delete e[n]),n.indexOf("themeCSS")>=0&&(a.debug("sanitizing themeCss option"),e[n]=ob(e[n])),Sv.indexOf(n)<0?(a.debug("sanitize deleting option",n),delete e[n]):"object"===Mv(e[n])&&(a.debug("sanitize deleting object",n),t(e[n]))})))},ob=function(t){return(t.match(/\{/g)||[]).length!==(t.match(/\}/g)||[]).length?"{ /* ERROR: Unbalanced CSS */ }":t};const ab={assignWithDepth:Gv,wrapLabel:Kv,calculateTextHeight:Zv,calculateTextWidth:Qv,calculateTextDimensions:tb,calculateSvgSizeAttrs:eb,configureSvgSize:nb,setupGraphViewbox:rb,detectInit:function(t,e){var n=zv(t,/(?:init\b)|(?:initialize\b)/),r={};if(Array.isArray(n)){var i=n.map((function(t){return t.args}));ib(i),r=Gv(r,Nv(i))}else r=n.args;if(r){var o=$v(t,e);["config"].forEach((function(t){void 0!==r[t]&&("flowchart-v2"===o&&(o="flowchart"),r[o]=r[t],delete r[t])}))}return r},detectDirective:zv,detectType:$v,isSubstringInArray:function(t,e){for(var n=0;n<e.length;n++)if(e[n].match(t))return n;return-1},interpolateToCurve:Uv,calcLabelPosition:function(t){return 1===t.length?t[0]:function(t){var e,n=0;t.forEach((function(t){n+=Yv(t,e),e=t}));var r=n/2,i=void 0;return e=void 0,t.forEach((function(t){if(e&&!i){var n=Yv(t,e);if(n<r)r-=n;else{var o=r/n;o<=0&&(i=e),o>=1&&(i={x:t.x,y:t.y}),o>0&&o<1&&(i={x:(1-o)*e.x+o*t.x,y:(1-o)*e.y+o*t.y})}}e=t})),i}(t)},calcCardinalityPosition:function(t,e,n){var r;a.info("our points",e),e[0]!==n&&(e=e.reverse()),e.forEach((function(t){Yv(t,r),r=t}));var i,o=25;r=void 0,e.forEach((function(t){if(r&&!i){var e=Yv(t,r);if(e<o)o-=e;else{var n=o/e;n<=0&&(i=r),n>=1&&(i={x:t.x,y:t.y}),n>0&&n<1&&(i={x:(1-n)*r.x+n*t.x,y:(1-n)*r.y+n*t.y})}}r=t}));var s=t?10:5,l=Math.atan2(e[0].y-i.y,e[0].x-i.x),c={x:0,y:0};return c.x=Math.sin(l)*s+(e[0].x+i.x)/2,c.y=-Math.cos(l)*s+(e[0].y+i.y)/2,c},calcTerminalLabelPosition:function(t,e,n){var r,i=JSON.parse(JSON.stringify(n));a.info("our points",i),"start_left"!==e&&"start_right"!==e&&(i=i.reverse()),i.forEach((function(t){Yv(t,r),r=t}));var o,s=25+t;r=void 0,i.forEach((function(t){if(r&&!o){var e=Yv(t,r);if(e<s)s-=e;else{var n=s/e;n<=0&&(o=r),n>=1&&(o={x:t.x,y:t.y}),n>0&&n<1&&(o={x:(1-n)*r.x+n*t.x,y:(1-n)*r.y+n*t.y})}}r=t}));var l=10+.5*t,c=Math.atan2(i[0].y-o.y,i[0].x-o.x),u={x:0,y:0};return u.x=Math.sin(c)*l+(i[0].x+o.x)/2,u.y=-Math.cos(c)*l+(i[0].y+o.y)/2,"start_left"===e&&(u.x=Math.sin(c+Math.PI)*l+(i[0].x+o.x)/2,u.y=-Math.cos(c+Math.PI)*l+(i[0].y+o.y)/2),"end_right"===e&&(u.x=Math.sin(c-Math.PI)*l+(i[0].x+o.x)/2-5,u.y=-Math.cos(c-Math.PI)*l+(i[0].y+o.y)/2-5),"end_left"===e&&(u.x=Math.sin(c)*l+(i[0].x+o.x)/2-5,u.y=-Math.cos(c)*l+(i[0].y+o.y)/2-5),u},formatUrl:function(t,e){var n=t.trim();if(n)return"loose"!==e.securityLevel?(0,Ay.N)(n):n},getStylesFromArray:qv,generateId:Hv,random:Vv,memoize:jv,runFunc:function(t){for(var e,n=t.split("."),r=n.length-1,i=n[r],o=window,a=0;a<r;a++)if(!(o=o[n[a]]))return;for(var s=arguments.length,l=new Array(s>1?s-1:0),c=1;c<s;c++)l[c-1]=arguments[c];(e=o)[i].apply(e,l)},entityDecode:function(t){return Iv=Iv||document.createElement("div"),t=escape(t).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),Iv.innerHTML=t,unescape(Iv.textContent)},initIdGeneratior:function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.deterministic=e,this.seed=n,this.count=n?n.length:0}var e,n;return e=t,(n=[{key:"next",value:function(){return this.deterministic?this.count++:Date.now()}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}(),directiveSanitizer:ib,sanitizeCss:ob};function sb(t){return sb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sb(t)}var lb,cb,ub=Object.freeze(Dv),hb=Gv({},ub),db=[],fb=Gv({},ub),pb=function(t,e){for(var n=Gv({},t),r={},i=0;i<e.length;i++){var o=e[i];yb(o),r=Gv(r,o)}if(n=Gv(n,r),r.theme&&xv[r.theme]){var a=Gv({},lb),s=Gv(a.themeVariables||{},r.themeVariables);n.themeVariables=xv[n.theme].getThemeVariables(s)}return fb=n,n},gb=function(){return Gv({},hb)},mb=function(){return Gv({},fb)},yb=function t(e){Object.keys(hb.secure).forEach((function(t){void 0!==e[hb.secure[t]]&&(a.debug("Denied attempt to modify a secure key ".concat(hb.secure[t]),e[hb.secure[t]]),delete e[hb.secure[t]])})),Object.keys(e).forEach((function(t){0===t.indexOf("__")&&delete e[t]})),Object.keys(e).forEach((function(n){"string"==typeof e[n]&&(e[n].indexOf("<")>-1||e[n].indexOf(">")>-1||e[n].indexOf("url(data:")>-1)&&delete e[n],"object"===sb(e[n])&&t(e[n])}))},vb=function(t){t.fontFamily&&(t.themeVariables&&t.themeVariables.fontFamily||(t.themeVariables={fontFamily:t.fontFamily})),db.push(t),pb(hb,db)},bb=function(){pb(hb,db=[])},wb="",xb="",_b="",kb=function(t){return Ly(t,mb())},Eb=function(){wb="",_b="",xb=""},Cb=function(t){wb=kb(t).replace(/^\s+/g,"")},Sb=function(){return wb||xb},Db=function(t){_b=kb(t).replace(/\n\s+/g,"\n")},Tb=function(){return _b},Ab=function(t){xb=kb(t)},Mb=function(){return xb},Nb=[],Ob=[""],Fb="global",Ib="",Lb=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],Bb=[],Rb="",Pb=!1,zb=function(t){return null==t?Nb:Nb.filter((function(e){return e.parentBoundary===t}))},$b=function(){return Pb};const jb={addPersonOrSystem:function(t,e,n,r,i,o,a){if(null!==e&&null!==n){var s={},l=Nb.find((function(t){return t.alias===e}));l&&e===l.alias?s=l:(s.alias=e,Nb.push(s)),s.label=null==n?{text:""}:{text:n},s.descr=null==r?{text:""}:{text:r},s.wrap=$b(),s.sprite=i,s.tags=o,s.link=a,s.typeC4Shape={text:t},s.parentBoundary=Fb}},addPersonOrSystemBoundary:function(t,e,n,r,i){if(null!==t&&null!==e){var o={},a=Lb.find((function(e){return e.alias===t}));a&&t===a.alias?o=a:(o.alias=t,Lb.push(o)),o.label=null==e?{text:""}:{text:e},o.type=null==n?{text:"system"}:{text:n},o.tags=r,o.link=i,o.parentBoundary=Fb,o.wrap=$b(),Ib=Fb,Fb=t,Ob.push(Ib)}},addContainer:function(t,e,n,r,i,o,a,s){if(null!==e&&null!==n){var l={},c=Nb.find((function(t){return t.alias===e}));c&&e===c.alias?l=c:(l.alias=e,Nb.push(l)),l.label=null==n?{text:""}:{text:n},l.techn=null==r?{text:""}:{text:r},l.descr=null==i?{text:""}:{text:i},l.sprite=o,l.tags=a,l.link=s,l.wrap=$b(),l.typeC4Shape={text:t},l.parentBoundary=Fb}},addContainerBoundary:function(t,e,n,r,i){if(null!==t&&null!==e){var o={},a=Lb.find((function(e){return e.alias===t}));a&&t===a.alias?o=a:(o.alias=t,Lb.push(o)),o.label=null==e?{text:""}:{text:e},o.type=null==n?{text:"container"}:{text:n},o.tags=r,o.link=i,o.parentBoundary=Fb,o.wrap=$b(),Ib=Fb,Fb=t,Ob.push(Ib)}},addComponent:function(t,e,n,r,i,o,a,s){if(null!==e&&null!==n){var l={},c=Nb.find((function(t){return t.alias===e}));c&&e===c.alias?l=c:(l.alias=e,Nb.push(l)),l.label=null==n?{text:""}:{text:n},l.techn=null==r?{text:""}:{text:r},l.descr=null==i?{text:""}:{text:i},l.sprite=o,l.tags=a,l.link=s,l.wrap=$b(),l.typeC4Shape={text:t},l.parentBoundary=Fb}},addDeploymentNode:function(t,e,n,r,i,o,a,s){if(null!==e&&null!==n){var l={},c=Lb.find((function(t){return t.alias===e}));c&&e===c.alias?l=c:(l.alias=e,Lb.push(l)),l.label=null==n?{text:""}:{text:n},l.type=null==r?{text:"node"}:{text:r},l.descr=null==i?{text:""}:{text:r},l.tags=a,l.link=s,l.nodeType=t,l.parentBoundary=Fb,l.wrap=$b(),Ib=Fb,Fb=e,Ob.push(Ib)}},popBoundaryParseStack:function(){Fb=Ib,Ob.pop(),Ib=Ob.pop(),Ob.push(Ib)},addRel:function(t,e,n,r,i,o,a,s,l){if(null!=t&&null!=e&&null!=n&&null!=r){var c={},u=Bb.find((function(t){return t.from===e&&t.to===n}));u?c=u:Bb.push(c),c.type=t,c.from=e,c.to=n,c.label={text:r},c.descr=null==o?{text:""}:{text:o},c.techn=null==i?{text:""}:{text:i},c.sprite=a,c.tags=s,c.link=l,c.wrap=$b()}},autoWrap:$b,setWrap:function(t){Pb=t},getC4ShapeArray:zb,getC4Shape:function(t){return Nb.find((function(e){return e.alias===t}))},getC4ShapeKeys:function(t){return Object.keys(zb(t))},getBoundarys:function(t){return null==t?Lb:Lb.filter((function(e){return e.parentBoundary===t}))},getCurrentBoundaryParse:function(){return Fb},getParentBoundaryParse:function(){return Ib},getRels:function(){return Bb},getTitle:function(){return Rb},getC4Type:function(){return cb},setAccTitle:Cb,getAccTitle:Sb,getAccDescription:Tb,setAccDescription:Db,parseDirective:function(t,e,n){WS.parseDirective(this,t,e,n)},getConfig:function(){return mb().c4},clear:function(){Nb=[],Lb=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],Ib="",Fb="global",Ob=[""],Bb=[]},LINETYPE:{SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25},ARROWTYPE:{FILLED:0,OPEN:1},PLACEMENT:{LEFTOF:0,RIGHTOF:1,OVER:2},setTitle:function(t){var e=Ly(t,mb());Rb=e},setC4Type:function(t){var e=Ly(t,mb());cb=e}};function Ub(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Yb=function(t,e){var n=t.append("rect");if(n.attr("x",e.x),n.attr("y",e.y),n.attr("fill",e.fill),n.attr("stroke",e.stroke),n.attr("width",e.width),n.attr("height",e.height),n.attr("rx",e.rx),n.attr("ry",e.ry),"undefined"!==e.attrs&&null!==e.attrs)for(var r in e.attrs)n.attr(r,e.attrs[r]);return"undefined"!==e.class&&n.attr("class",e.class),n},qb=function(){function t(t,e,n,i,o,a,s){r(e.append("text").attr("x",n+o/2).attr("y",i+a/2+5).style("text-anchor","middle").text(t),s)}function e(t,e,n,i,o,a,s,l){for(var c=l.fontSize,u=l.fontFamily,h=l.fontWeight,d=t.split($y.lineBreakRegex),f=0;f<d.length;f++){var p=f*c-c*(d.length-1)/2,g=e.append("text").attr("x",n+o/2).attr("y",i).style("text-anchor","middle").attr("dominant-baseline","middle").style("font-size",c).style("font-weight",h).style("font-family",u);g.append("tspan").attr("dy",p).text(d[f]).attr("alignment-baseline","mathematical"),r(g,s)}}function n(t,n,i,o,a,s,l,c){var u=n.append("switch"),h=u.append("foreignObject").attr("x",i).attr("y",o).attr("width",a).attr("height",s).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");h.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(t),e(t,u,i,o,a,0,l,c),r(h,l)}function r(t,e){for(var n in e)e.hasOwnProperty(n)&&t.attr(n,e[n])}return function(r){return"fo"===r.textPlacement?n:"old"===r.textPlacement?t:e}}();const Wb=function(t,e,n){var r=n[e.typeC4Shape.text+"_bg_color"],i=n[e.typeC4Shape.text+"_border_color"],o="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";switch(e.typeC4Shape.text){case"person":o="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";break;case"external_person":o="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAAB6ElEQVR4Xu2YLY+EMBCG9+dWr0aj0Wg0Go1Go0+j8Xdv2uTCvv1gpt0ebHKPuhDaeW4605Z9mJvx4AdXUyTUdd08z+u6flmWZRnHsWkafk9DptAwDPu+f0eAYtu2PEaGWuj5fCIZrBAC2eLBAnRCsEkkxmeaJp7iDJ2QMDdHsLg8SxKFEJaAo8lAXnmuOFIhTMpxxKATebo4UiFknuNo4OniSIXQyRxEA3YsnjGCVEjVXD7yLUAqxBGUyPv/Y4W2beMgGuS7kVQIBycH0fD+oi5pezQETxdHKmQKGk1eQEYldK+jw5GxPfZ9z7Mk0Qnhf1W1m3w//EUn5BDmSZsbR44QQLBEqrBHqOrmSKaQAxdnLArCrxZcM7A7ZKs4ioRq8LFC+NpC3WCBJsvpVw5edm9iEXFuyNfxXAgSwfrFQ1c0iNda8AdejvUgnktOtJQQxmcfFzGglc5WVCj7oDgFqU18boeFSs52CUh8LE8BIVQDT1ABrB0HtgSEYlX5doJnCwv9TXocKCaKbnwhdDKPq4lf3SwU3HLq4V/+WYhHVMa/3b4IlfyikAduCkcBc7mQ3/z/Qq/cTuikhkzB12Ae/mcJC9U+Vo8Ej1gWAtgbeGgFsAMHr50BIWOLCbezvhpBFUdY6EJuJ/QDW0XoMX60zZ0AAAAASUVORK5CYII="}var a=t.append("g");a.attr("class","person-man");var s={x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0};switch(e.typeC4Shape.text){case"person":case"external_person":case"system":case"external_system":case"container":case"external_container":case"component":case"external_component":s.x=e.x,s.y=e.y,s.fill=r,s.width=e.width,s.height=e.height,s.style="stroke:"+i+";stroke-width:0.5;",s.rx=2.5,s.ry=2.5,Yb(a,s);break;case"system_db":case"external_system_db":case"container_db":case"external_container_db":case"component_db":case"external_component_db":a.append("path").attr("fill",r).attr("stroke-width","0.5").attr("stroke",i).attr("d","Mstartx,startyc0,-10 half,-10 half,-10c0,0 half,0 half,10l0,heightc0,10 -half,10 -half,10c0,0 -half,0 -half,-10l0,-height".replaceAll("startx",e.x).replaceAll("starty",e.y).replaceAll("half",e.width/2).replaceAll("height",e.height)),a.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",i).attr("d","Mstartx,startyc0,10 half,10 half,10c0,0 half,0 half,-10".replaceAll("startx",e.x).replaceAll("starty",e.y).replaceAll("half",e.width/2));break;case"system_queue":case"external_system_queue":case"container_queue":case"external_container_queue":case"component_queue":case"external_component_queue":a.append("path").attr("fill",r).attr("stroke-width","0.5").attr("stroke",i).attr("d","Mstartx,startylwidth,0c5,0 5,half 5,halfc0,0 0,half -5,halfl-width,0c-5,0 -5,-half -5,-halfc0,0 0,-half 5,-half".replaceAll("startx",e.x).replaceAll("starty",e.y).replaceAll("width",e.width).replaceAll("half",e.height/2)),a.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",i).attr("d","Mstartx,startyc-5,0 -5,half -5,halfc0,half 5,half 5,half".replaceAll("startx",e.x+e.width).replaceAll("starty",e.y).replaceAll("half",e.height/2))}var l,c,u={fontFamily:(l=n)[(c=e.typeC4Shape.text)+"FontFamily"],fontSize:l[c+"FontSize"],fontWeight:l[c+"FontWeight"]};switch(a.append("text").attr("fill","#FFFFFF").attr("font-family",u.fontFamily).attr("font-size",u.fontSize-2).attr("font-style","italic").attr("lengthAdjust","spacing").attr("textLength",e.typeC4Shape.width).attr("x",e.x+e.width/2-e.typeC4Shape.width/2).attr("y",e.y+e.typeC4Shape.Y).text("<<"+e.typeC4Shape.text+">>"),e.typeC4Shape.text){case"person":case"external_person":!function(t,e,n,r,i,o){var a=t.append("image");a.attr("width",48),a.attr("height",48),a.attr("x",r),a.attr("y",i);var s=o.startsWith("data:image/png;base64")?o:(0,Ay.N)(o);a.attr("xlink:href",s)}(a,0,0,e.x+e.width/2-24,e.y+e.image.Y,o)}var h=n[e.typeC4Shape.text+"Font"]();return h.fontWeight="bold",h.fontSize=h.fontSize+2,qb(n)(e.label.text,a,e.x,e.y+e.label.Y,e.width,e.height,{fill:"#FFFFFF"},h),h=n[e.typeC4Shape.text+"Font"](),e.thchn&&""!==e.thchn.text?qb(n)(e.thchn.text,a,e.x,e.y+e.thchn.Y,e.width,e.height,{fill:"#FFFFFF","font-style":"italic"},h):e.type&&""!==e.type.text&&qb(n)(e.type.text,a,e.x,e.y+e.type.Y,e.width,e.height,{fill:"#FFFFFF","font-style":"italic"},h),e.descr&&""!==e.descr.text&&(h=n.personFont(),qb(n)(e.descr.text,a,e.x,e.y+e.descr.Y,e.width,e.height,{fill:"#FFFFFF"},h)),e.height};Ay.N;var Hb=n(2536),Vb=n.n(Hb);function Gb(t,e,n){if(void 0!==e.insert){var r=t.getAccTitle(),i=t.getAccDescription();e.attr("role","img").attr("aria-labelledby","chart-title-"+n+" chart-desc-"+n),e.insert("desc",":first-child").attr("id","chart-desc-"+n).text(i),e.insert("title",":first-child").attr("id","chart-title-"+n).text(r)}}function Xb(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Kb(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Zb(t,e,n){return e&&Jb(t.prototype,e),n&&Jb(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var Qb=0,tw=0;Hb.parser.yy=jb;var ew={},nw=function(){function t(){Kb(this,t),this.name="",this.data={},this.data.startx=void 0,this.data.stopx=void 0,this.data.starty=void 0,this.data.stopy=void 0,this.data.widthLimit=void 0,this.nextData={},this.nextData.startx=void 0,this.nextData.stopx=void 0,this.nextData.starty=void 0,this.nextData.stopy=void 0,this.nextData.cnt=0,rw(Hb.parser.yy.getConfig())}return Zb(t,[{key:"setData",value:function(t,e,n,r){this.nextData.startx=this.data.startx=t,this.nextData.stopx=this.data.stopx=e,this.nextData.starty=this.data.starty=n,this.nextData.stopy=this.data.stopy=r}},{key:"updateVal",value:function(t,e,n,r){void 0===t[e]?t[e]=n:t[e]=r(n,t[e])}},{key:"insert",value:function(t){this.nextData.cnt=this.nextData.cnt+1;var e=this.nextData.startx===this.nextData.stopx?this.nextData.stopx+t.margin:this.nextData.stopx+2*t.margin,n=e+t.width,r=this.nextData.starty+2*t.margin,i=r+t.height;(e>=this.data.widthLimit||n>=this.data.widthLimit||this.nextData.cnt>ew.c4ShapeInRow)&&(e=this.nextData.startx+t.margin+ew.nextLinePaddingX,r=this.nextData.stopy+2*t.margin,this.nextData.stopx=n=e+t.width,this.nextData.starty=this.nextData.stopy,this.nextData.stopy=i=r+t.height,this.nextData.cnt=1),t.x=e,t.y=r,this.updateVal(this.data,"startx",e,Math.min),this.updateVal(this.data,"starty",r,Math.min),this.updateVal(this.data,"stopx",n,Math.max),this.updateVal(this.data,"stopy",i,Math.max),this.updateVal(this.nextData,"startx",e,Math.min),this.updateVal(this.nextData,"starty",r,Math.min),this.updateVal(this.nextData,"stopx",n,Math.max),this.updateVal(this.nextData,"stopy",i,Math.max)}},{key:"init",value:function(){this.name="",this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,widthLimit:void 0},this.nextData={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,cnt:0},rw(Hb.parser.yy.getConfig())}},{key:"bumpLastMargin",value:function(t){this.data.stopx+=t,this.data.stopy+=t}}]),t}(),rw=function(t){Gv(ew,t),t.fontFamily&&(ew.personFontFamily=ew.systemFontFamily=ew.messageFontFamily=t.fontFamily),t.fontSize&&(ew.personFontSize=ew.systemFontSize=ew.messageFontSize=t.fontSize),t.fontWeight&&(ew.personFontWeight=ew.systemFontWeight=ew.messageFontWeight=t.fontWeight)},iw=function(t,e){return{fontFamily:t[e+"FontFamily"],fontSize:t[e+"FontSize"],fontWeight:t[e+"FontWeight"]}},ow=function(t){return{fontFamily:t.boundaryFontFamily,fontSize:t.boundaryFontSize,fontWeight:t.boundaryFontWeight}};function aw(t,e,n,r,i){if(!e[t].width)if(n)e[t].text=Kv(e[t].text,i,r),e[t].textLines=e[t].text.split($y.lineBreakRegex).length,e[t].width=i,e[t].height=Zv(e[t].text,r);else{var o=e[t].text.split($y.lineBreakRegex);e[t].textLines=o.length;var a=0;e[t].height=0,e[t].width=0;for(var s=0;s<o.length;s++)e[t].width=Math.max(Qv(o[s],r),e[t].width),a=Zv(o[s],r),e[t].height=e[t].height+a}}var sw=function(t,e,n){e.x=n.data.startx,e.y=n.data.starty,e.width=n.data.stopx-n.data.startx,e.height=n.data.stopy-n.data.starty,e.label.y=ew.c4ShapeMargin-35;var r=e.wrap&&ew.wrap,i=ow(ew);i.fontSize=i.fontSize+2,i.fontWeight="bold",aw("label",e,r,i,Qv(e.label.text,i)),function(t,e,n){var r=t.append("g"),i={"stroke-width":1,"stroke-dasharray":"7.0,7.0"};e.nodeType&&(i={"stroke-width":1});var o={x:e.x,y:e.y,fill:"none",stroke:"#444444",width:e.width,height:e.height,rx:2.5,ry:2.5,attrs:i};Yb(r,o);var a=n.boundaryFont();a.fontWeight="bold",a.fontSize=a.fontSize+2,qb(n)(e.label.text,r,e.x,e.y+e.label.Y,e.width,e.height,{fill:"#444444"},a),e.type&&""!==e.type.text&&(a=n.boundaryFont(),qb(n)(e.type.text,r,e.x,e.y+e.type.Y,e.width,e.height,{fill:"#444444"},a)),e.descr&&""!==e.descr.text&&((a=n.boundaryFont()).fontSize=a.fontSize-2,qb(n)(e.descr.text,r,e.x,e.y+e.descr.Y,e.width,e.height,{fill:"#444444"},a))}(t,e,ew)},lw=function(t,e,n,r){for(var i=0,o=0;o<r.length;o++){i=0;var a=n[r[o]],s=iw(ew,a.typeC4Shape.text);switch(s.fontSize=s.fontSize-2,a.typeC4Shape.width=Qv("<<"+a.typeC4Shape.text+">>",s),a.typeC4Shape.height=s.fontSize+2,a.typeC4Shape.Y=ew.c4ShapePadding,i=a.typeC4Shape.Y+a.typeC4Shape.height-4,a.image={width:0,height:0,Y:0},a.typeC4Shape.text){case"person":case"external_person":a.image.width=48,a.image.height=48,a.image.Y=i,i=a.image.Y+a.image.height}a.sprite&&(a.image.width=48,a.image.height=48,a.image.Y=i,i=a.image.Y+a.image.height);var l=a.wrap&&ew.wrap,c=ew.width-2*ew.c4ShapePadding,u=iw(ew,a.typeC4Shape.text);u.fontSize=u.fontSize+2,u.fontWeight="bold",aw("label",a,l,u,c),a.label.Y=i+8,i=a.label.Y+a.label.height,a.type&&""!==a.type.text?(a.type.text="["+a.type.text+"]",aw("type",a,l,iw(ew,a.typeC4Shape.text),c),a.type.Y=i+5,i=a.type.Y+a.type.height):a.techn&&""!==a.techn.text&&(a.techn.text="["+a.techn.text+"]",aw("techn",a,l,iw(ew,a.techn.text),c),a.techn.Y=i+5,i=a.techn.Y+a.techn.height);var h=i,d=a.label.width;a.descr&&""!==a.descr.text&&(aw("descr",a,l,iw(ew,a.typeC4Shape.text),c),a.descr.Y=i+20,i=a.descr.Y+a.descr.height,d=Math.max(a.label.width,a.descr.width),h=i-5*a.descr.textLines),d+=ew.c4ShapePadding,a.width=Math.max(a.width||ew.width,d,ew.width),a.height=Math.max(a.height||ew.height,h,ew.height),a.margin=a.margin||ew.c4ShapeMargin,t.insert(a),Wb(e,a,ew)}t.bumpLastMargin(ew.c4ShapeMargin)},cw=Zb((function t(e,n){Kb(this,t),this.x=e,this.y=n})),uw=function(t,e){var n=t.x,r=t.y,i=e.x,o=e.y,a=n+t.width/2,s=r+t.height/2,l=Math.abs(n-i),c=Math.abs(r-o),u=c/l,h=t.height/t.width,d=null;return r==o&&n<i?d=new cw(n+t.width,s):r==o&&n>i?d=new cw(n,s):n==i&&r<o?d=new cw(a,r+t.height):n==i&&r>o&&(d=new cw(a,r)),n>i&&r<o?d=h>=u?new cw(n,s+u*t.width/2):new cw(a-l/c*t.height/2,r+t.height):n<i&&r<o?d=h>=u?new cw(n+t.width,s+u*t.width/2):new cw(a+l/c*t.height/2,r+t.height):n<i&&r>o?d=h>=u?new cw(n+t.width,s-u*t.width/2):new cw(a+t.height/2*l/c,r):n>i&&r>o&&(d=h>=u?new cw(n,s-t.width/2*u):new cw(a-t.height/2*l/c,r)),d},hw=function(t,e){var n={x:0,y:0};n.x=e.x+e.width/2,n.y=e.y+e.height/2;var r=uw(t,n);return n.x=t.x+t.width/2,n.y=t.y+t.height/2,{startPoint:r,endPoint:uw(e,n)}};function dw(t,e,n,r){var i=new nw;i.data.widthLimit=n.data.widthLimit/Math.min(ew.c4BoundaryInRow,r.length);for(var o=0;o<r.length;o++){var a=r[o],s=0;a.image={width:0,height:0,Y:0},a.sprite&&(a.image.width=48,a.image.height=48,a.image.Y=s,s=a.image.Y+a.image.height);var l=a.wrap&&ew.wrap,c=ow(ew);if(c.fontSize=c.fontSize+2,c.fontWeight="bold",aw("label",a,l,c,i.data.widthLimit),a.label.Y=s+8,s=a.label.Y+a.label.height,a.type&&""!==a.type.text&&(a.type.text="["+a.type.text+"]",aw("type",a,l,ow(ew),i.data.widthLimit),a.type.Y=s+5,s=a.type.Y+a.type.height),a.descr&&""!==a.descr.text){var u=ow(ew);u.fontSize=u.fontSize-2,aw("descr",a,l,u,i.data.widthLimit),a.descr.Y=s+20,s=a.descr.Y+a.descr.height}if(0==o||o%ew.c4BoundaryInRow==0){var h=n.data.startx+ew.diagramMarginX,d=n.data.stopy+ew.diagramMarginY+s;i.setData(h,h,d,d)}else{var f=i.data.stopx!==i.data.startx?i.data.stopx+ew.diagramMarginX:i.data.startx,p=i.data.starty;i.setData(f,f,p,p)}i.name=a.alias;var g=Hb.parser.yy.getC4ShapeArray(a.alias),m=Hb.parser.yy.getC4ShapeKeys(a.alias);m.length>0&&lw(i,t,g,m),e=a.alias;var y=Hb.parser.yy.getBoundarys(e);y.length>0&&dw(t,e,i,y),"global"!==a.alias&&sw(t,a,i),n.data.stopy=Math.max(i.data.stopy+ew.c4ShapeMargin,n.data.stopy),n.data.stopx=Math.max(i.data.stopx+ew.c4ShapeMargin,n.data.stopx),Qb=Math.max(Qb,n.data.stopx),tw=Math.max(tw,n.data.stopy)}}const fw={drawPersonOrSystemArray:lw,drawBoundary:sw,setConf:rw,draw:function(t,e){ew=mb().c4;var n,r=mb().securityLevel;"sandbox"===r&&(n=ic("#i"+e));var i=ic("sandbox"===r?n.nodes()[0].contentDocument.body:"body");"sandbox"===r?n.nodes()[0].contentDocument:document,Hb.parser.yy.clear(),Hb.parser.yy.setWrap(ew.wrap),Hb.parser.parse(t+"\n"),a.debug("C:".concat(JSON.stringify(ew,null,2)));var o="sandbox"===r?i.select('[id="'.concat(e,'"]')):ic('[id="'.concat(e,'"]'));o.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z"),function(t){t.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")}(o),function(t){t.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")}(o);var s=new nw;s.setData(ew.diagramMarginX,ew.diagramMarginX,ew.diagramMarginY,ew.diagramMarginY),s.data.widthLimit=screen.availWidth,Qb=ew.diagramMarginX,tw=ew.diagramMarginY;var l=Hb.parser.yy.getTitle();Hb.parser.yy.getC4Type(),dw(o,"",s,Hb.parser.yy.getBoundarys("")),function(t){t.append("defs").append("marker").attr("id","arrowhead").attr("refX",9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z")}(o),function(t){t.append("defs").append("marker").attr("id","arrowend").attr("refX",1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 10 0 L 0 5 L 10 10 z")}(o),function(t){var e=t.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",16).attr("refY",4);e.append("path").attr("fill","black").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 9,2 V 6 L16,4 Z"),e.append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 0,1 L 6,7 M 6,1 L 0,7")}(o),function(t){t.append("defs").append("marker").attr("id","filled-head").attr("refX",18).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")}(o),function(t,e,n){var r,i,o=0,a=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Xb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xb(t,e):void 0}}(t))){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(e);try{for(a.s();!(r=a.n()).done;){var s=r.value;o+=1;var l=s.wrap&&ew.wrap,c={fontFamily:(i=ew).messageFontFamily,fontSize:i.messageFontSize,fontWeight:i.messageFontWeight};"C4Dynamic"===Hb.parser.yy.getC4Type()&&(s.label.text=o+": "+s.label.text);var u=Qv(s.label.text,c);aw("label",s,l,c,u),s.techn&&""!==s.techn.text&&aw("techn",s,l,c,u=Qv(s.techn.text,c)),s.descr&&""!==s.descr.text&&aw("descr",s,l,c,u=Qv(s.descr.text,c));var h=n(s.from),d=n(s.to),f=hw(h,d);s.startPoint=f.startPoint,s.endPoint=f.endPoint}}catch(t){a.e(t)}finally{a.f()}!function(t,e,n){var r,i=t.append("g"),o=0,a=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Ub(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ub(t,e):void 0}}(t))){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(e);try{for(a.s();!(r=a.n()).done;){var s=r.value;if(0===o){var l=i.append("line");l.attr("x1",s.startPoint.x),l.attr("y1",s.startPoint.y),l.attr("x2",s.endPoint.x),l.attr("y2",s.endPoint.y),l.attr("stroke-width","1"),l.attr("stroke","#444444"),l.style("fill","none"),"rel_b"!==s.type&&l.attr("marker-end","url(#arrowhead)"),"birel"!==s.type&&"rel_b"!==s.type||l.attr("marker-start","url(#arrowend)"),o=-1}else{var c=i.append("path");c.attr("fill","none").attr("stroke-width","1").attr("stroke","#444444").attr("d","Mstartx,starty Qcontrolx,controly stopx,stopy ".replaceAll("startx",s.startPoint.x).replaceAll("starty",s.startPoint.y).replaceAll("controlx",s.startPoint.x+(s.endPoint.x-s.startPoint.x)/2-(s.endPoint.x-s.startPoint.x)/4).replaceAll("controly",s.startPoint.y+(s.endPoint.y-s.startPoint.y)/2).replaceAll("stopx",s.endPoint.x).replaceAll("stopy",s.endPoint.y)),"rel_b"!==s.type&&c.attr("marker-end","url(#arrowhead)"),"birel"!==s.type&&"rel_b"!==s.type||c.attr("marker-start","url(#arrowend)")}var u=n.messageFont();qb(n)(s.label.text,i,Math.min(s.startPoint.x,s.endPoint.x)+Math.abs(s.endPoint.x-s.startPoint.x)/2,Math.min(s.startPoint.y,s.endPoint.y)+Math.abs(s.endPoint.y-s.startPoint.y)/2,s.label.width,s.label.height,{fill:"#444444"},u),s.techn&&""!==s.techn.text&&(u=n.messageFont(),qb(n)("["+s.techn.text+"]",i,Math.min(s.startPoint.x,s.endPoint.x)+Math.abs(s.endPoint.x-s.startPoint.x)/2,Math.min(s.startPoint.y,s.endPoint.y)+Math.abs(s.endPoint.y-s.startPoint.y)/2+n.messageFontSize+5,Math.max(s.label.width,s.techn.width),s.techn.height,{fill:"#444444","font-style":"italic"},u))}}catch(t){a.e(t)}finally{a.f()}}(t,e,ew)}(o,Hb.parser.yy.getRels(),Hb.parser.yy.getC4Shape),s.data.stopx=Qb,s.data.stopy=tw;var c=s.data,u=c.stopy-c.starty+2*ew.diagramMarginY,h=c.stopx-c.startx+2*ew.diagramMarginX;l&&o.append("text").text(l).attr("x",(c.stopx-c.startx)/2-4*ew.diagramMarginX).attr("y",c.starty+ew.diagramMarginY),nb(o,u,h,ew.useMaxWidth);var d=l?60:0;o.attr("viewBox",c.startx-ew.diagramMarginX+" -"+(ew.diagramMarginY+d)+" "+h+" "+(u+d)),Gb(Hb.parser.yy,o,e),a.debug("models:",c)}};function pw(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var gw="classid-",mw=[],yw={},vw=0,bw=[],ww=function(t){return $y.sanitizeText(t,mb())},xw=function(t){var e="",n=t;if(t.indexOf("~")>0){var r=t.split("~");n=r[0],e=$y.sanitizeText(r[1],mb())}return{className:n,type:e}},_w=function(t){var e=xw(t);void 0===yw[e.className]&&(yw[e.className]={id:e.className,type:e.type,cssClasses:[],methods:[],members:[],annotations:[],domId:gw+e.className+"-"+vw},vw++)},kw=function(t){for(var e=Object.keys(yw),n=0;n<e.length;n++)if(yw[e[n]].id===t)return yw[e[n]].domId},Ew=function(t,e){var n=xw(t).className,r=yw[n];if("string"==typeof e){var i=e.trim();i.startsWith("<<")&&i.endsWith(">>")?r.annotations.push(ww(i.substring(2,i.length-2))):i.indexOf(")")>0?r.methods.push(ww(i)):i&&r.members.push(ww(i))}},Cw=function(t,e){t.split(",").forEach((function(t){var n=t;t[0].match(/\d/)&&(n=gw+n),void 0!==yw[n]&&yw[n].cssClasses.push(e)}))},Sw={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3},Dw=function(t){var e=ic(".mermaidTooltip");null===(e._groups||e)[0][0]&&(e=ic("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),ic(t).select("svg").selectAll("g.node").on("mouseover",(function(){var t=ic(this);if(null!==t.attr("title")){var n=this.getBoundingClientRect();e.transition().duration(200).style("opacity",".9"),e.text(t.attr("title")).style("left",window.scrollX+n.left+(n.right-n.left)/2+"px").style("top",window.scrollY+n.top-14+document.body.scrollTop+"px"),t.classed("hover",!0)}})).on("mouseout",(function(){e.transition().duration(500).style("opacity",0),ic(this).classed("hover",!1)}))};bw.push(Dw);var Tw="TB";const Aw={parseDirective:function(t,e,n){WS.parseDirective(this,t,e,n)},setAccTitle:Cb,getAccTitle:Sb,getAccDescription:Tb,setAccDescription:Db,getConfig:function(){return mb().class},addClass:_w,bindFunctions:function(t){bw.forEach((function(e){e(t)}))},clear:function(){mw=[],yw={},(bw=[]).push(Dw),Eb()},getClass:function(t){return yw[t]},getClasses:function(){return yw},addAnnotation:function(t,e){var n=xw(t).className;yw[n].annotations.push(e)},getRelations:function(){return mw},addRelation:function(t){a.debug("Adding relation: "+JSON.stringify(t)),_w(t.id1),_w(t.id2),t.id1=xw(t.id1).className,t.id2=xw(t.id2).className,t.relationTitle1=$y.sanitizeText(t.relationTitle1.trim(),mb()),t.relationTitle2=$y.sanitizeText(t.relationTitle2.trim(),mb()),mw.push(t)},getDirection:function(){return Tw},setDirection:function(t){Tw=t},addMember:Ew,addMembers:function(t,e){Array.isArray(e)&&(e.reverse(),e.forEach((function(e){return Ew(t,e)})))},cleanupLabel:function(t){return":"===t.substring(0,1)?$y.sanitizeText(t.substr(1).trim(),mb()):ww(t.trim())},lineType:{LINE:0,DOTTED_LINE:1},relationType:Sw,setClickEvent:function(t,e,n){t.split(",").forEach((function(t){(function(t,e,n){var r=mb(),i=t,o=kw(i);if("loose"===r.securityLevel&&void 0!==e&&void 0!==yw[i]){var a=[];if("string"==typeof n){a=n.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(var s=0;s<a.length;s++){var l=a[s].trim();'"'===l.charAt(0)&&'"'===l.charAt(l.length-1)&&(l=l.substr(1,l.length-2)),a[s]=l}}0===a.length&&a.push(o),bw.push((function(){var t=document.querySelector('[id="'.concat(o,'"]'));null!==t&&t.addEventListener("click",(function(){var t;ab.runFunc.apply(ab,[e].concat(function(t){if(Array.isArray(t))return pw(t)}(t=a)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return pw(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pw(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))}),!1)}))}})(t,e,n),yw[t].haveCallback=!0})),Cw(t,"clickable")},setCssClass:Cw,setLink:function(t,e,n){var r=mb();t.split(",").forEach((function(t){var i=t;t[0].match(/\d/)&&(i=gw+i),void 0!==yw[i]&&(yw[i].link=ab.formatUrl(e,r),"sandbox"===r.securityLevel?yw[i].linkTarget="_top":yw[i].linkTarget="string"==typeof n?ww(n):"_blank")})),Cw(t,"clickable")},setTooltip:function(t,e){var n=mb();t.split(",").forEach((function(t){void 0!==e&&(yw[t].tooltip=$y.sanitizeText(e,n))}))},lookUpDomId:kw};var Mw=n(681),Nw=n.n(Mw),Ow=n(8282),Fw=n.n(Ow),Iw=n(1362),Lw=n.n(Iw),Bw=0,Rw=function(t){var e=t.match(/^(\+|-|~|#)?(\w+)(~\w+~|\[\])?\s+(\w+) *(\*|\$)?$/),n=t.match(/^([+|\-|~|#])?(\w+) *\( *(.*)\) *(\*|\$)? *(\w*[~|[\]]*\s*\w*~?)$/);return e&&!n?Pw(e):n?zw(n):$w(t)},Pw=function(t){var e="",n="";try{var r=t[1]?t[1].trim():"",i=t[2]?t[2].trim():"",o=t[3]?Uw(t[3].trim()):"",a=t[4]?t[4].trim():"",s=t[5]?t[5].trim():"";n=r+i+o+" "+a,e=Yw(s)}catch(e){n=t}return{displayText:n,cssStyle:e}},zw=function(t){var e="",n="";try{var r=t[1]?t[1].trim():"",i=t[2]?t[2].trim():"",o=t[3]?Uw(t[3].trim()):"",a=t[4]?t[4].trim():"";n=r+i+"("+o+")"+(t[5]?" : "+Uw(t[5]).trim():""),e=Yw(a)}catch(e){n=t}return{displayText:n,cssStyle:e}},$w=function(t){var e="",n="",r="",i=t.indexOf("("),o=t.indexOf(")");if(i>1&&o>i&&o<=t.length){var a="",s="",l=t.substring(0,1);l.match(/\w/)?s=t.substring(0,i).trim():(l.match(/\+|-|~|#/)&&(a=l),s=t.substring(1,i).trim());var c=t.substring(i+1,o),u=t.substring(o+1,1);n=Yw(u),e=a+s+"("+Uw(c.trim())+")",o<"".length&&""!==(r=t.substring(o+2).trim())&&(r=" : "+Uw(r))}else e=Uw(t);return{displayText:e,cssStyle:n}},jw=function(t,e,n,r){var i=Rw(e),o=t.append("tspan").attr("x",r.padding).text(i.displayText);""!==i.cssStyle&&o.attr("style",i.cssStyle),n||o.attr("dy",r.textHeight)},Uw=function t(e){var n=e;return-1!=e.indexOf("~")?t(n=(n=n.replace("~","<")).replace("~",">")):n},Yw=function(t){switch(t){case"*":return"font-style:italic;";case"$":return"text-decoration:underline;";default:return""}};const qw=function(t,e,n){a.info("Rendering class "+e);var r,i=e.id,o={id:i,label:e.id,width:0,height:0},s=t.append("g").attr("id",kw(i)).attr("class","classGroup");r=e.link?s.append("svg:a").attr("xlink:href",e.link).attr("target",e.linkTarget).append("text").attr("y",n.textHeight+n.padding).attr("x",0):s.append("text").attr("y",n.textHeight+n.padding).attr("x",0);var l=!0;e.annotations.forEach((function(t){var e=r.append("tspan").text("«"+t+"»");l||e.attr("dy",n.textHeight),l=!1}));var c=e.id;void 0!==e.type&&""!==e.type&&(c+="<"+e.type+">");var u=r.append("tspan").text(c).attr("class","title");l||u.attr("dy",n.textHeight);var h=r.node().getBBox().height,d=s.append("line").attr("x1",0).attr("y1",n.padding+h+n.dividerMargin/2).attr("y2",n.padding+h+n.dividerMargin/2),f=s.append("text").attr("x",n.padding).attr("y",h+n.dividerMargin+n.textHeight).attr("fill","white").attr("class","classText");l=!0,e.members.forEach((function(t){jw(f,t,l,n),l=!1}));var p=f.node().getBBox(),g=s.append("line").attr("x1",0).attr("y1",n.padding+h+n.dividerMargin+p.height).attr("y2",n.padding+h+n.dividerMargin+p.height),m=s.append("text").attr("x",n.padding).attr("y",h+2*n.dividerMargin+p.height+n.textHeight).attr("fill","white").attr("class","classText");l=!0,e.methods.forEach((function(t){jw(m,t,l,n),l=!1}));var y=s.node().getBBox(),v=" ";e.cssClasses.length>0&&(v+=e.cssClasses.join(" "));var b=s.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",y.width+2*n.padding).attr("height",y.height+n.padding+.5*n.dividerMargin).attr("class",v).node().getBBox().width;return r.node().childNodes.forEach((function(t){t.setAttribute("x",(b-t.getBBox().width)/2)})),e.tooltip&&r.insert("title").text(e.tooltip),d.attr("x2",b),g.attr("x2",b),o.width=b,o.height=y.height+n.padding+.5*n.dividerMargin,o};Iw.parser.yy=Aw;var Ww={},Hw={dividerMargin:10,padding:5,textHeight:10},Vw=function(t){var e=Object.entries(Ww).find((function(e){return e[1].label===t}));if(e)return e[0]};const Gw=function(t){Object.keys(t).forEach((function(e){Hw[e]=t[e]}))};var Xw={extension:function(t,e,n){a.trace("Making markers for ",n),t.append("defs").append("marker").attr("id",e+"-extensionStart").attr("class","marker extension "+e).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),t.append("defs").append("marker").attr("id",e+"-extensionEnd").attr("class","marker extension "+e).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},composition:function(t,e){t.append("defs").append("marker").attr("id",e+"-compositionStart").attr("class","marker composition "+e).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",e+"-compositionEnd").attr("class","marker composition "+e).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},aggregation:function(t,e){t.append("defs").append("marker").attr("id",e+"-aggregationStart").attr("class","marker aggregation "+e).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",e+"-aggregationEnd").attr("class","marker aggregation "+e).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},dependency:function(t,e){t.append("defs").append("marker").attr("id",e+"-dependencyStart").attr("class","marker dependency "+e).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",e+"-dependencyEnd").attr("class","marker dependency "+e).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},point:function(t,e){t.append("marker").attr("id",e+"-pointEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",e+"-pointStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",0).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},circle:function(t,e){t.append("marker").attr("id",e+"-circleEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",e+"-circleStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},cross:function(t,e){t.append("marker").attr("id",e+"-crossEnd").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),t.append("marker").attr("id",e+"-crossStart").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},barb:function(t,e){t.append("defs").append("marker").attr("id",e+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","strokeWidth").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")}};function Kw(t){return Kw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kw(t)}const Jw=function(t,e,n,r){var i,o,s,l,c,u,h=t||"";if("object"===Kw(h)&&(h=h[0]),zy(mb().flowchart.htmlLabels))return h=h.replace(/\\n|\n/g,"<br />"),a.info("vertexText"+h),i={isNode:r,label:h.replace(/fa[lrsb]?:fa-[\w-]+/g,(function(t){return"<i class='".concat(t.replace(":"," "),"'></i>")})),labelStyle:e.replace("fill:","color:")},l=(s=ic(document.createElementNS("http://www.w3.org/2000/svg","foreignObject"))).append("xhtml:div"),c=i.label,u=i.isNode?"nodeLabel":"edgeLabel",l.html('<span class="'+u+'" '+(i.labelStyle?'style="'+i.labelStyle+'"':"")+">"+c+"</span>"),(o=i.labelStyle)&&l.attr("style",o),l.style("display","inline-block"),l.style("white-space","nowrap"),l.attr("xmlns","http://www.w3.org/1999/xhtml"),s.node();var d=document.createElementNS("http://www.w3.org/2000/svg","text");d.setAttribute("style",e.replace("color:","fill:"));var f=[];f="string"==typeof h?h.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(h)?h:[];for(var p=0;p<f.length;p++){var g=document.createElementNS("http://www.w3.org/2000/svg","tspan");g.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),g.setAttribute("dy","1em"),g.setAttribute("x","0"),n?g.setAttribute("class","title-row"):g.setAttribute("class","row"),g.textContent=f[p].trim(),d.appendChild(g)}return d};var Zw=function(t,e,n,r){var i;i=n||"node default";var o=t.insert("g").attr("class",i).attr("id",e.domId||e.id),a=o.insert("g").attr("class","label").attr("style",e.labelStyle),s="string"==typeof e.labelText?e.labelText:e.labelText[0],l=a.node().appendChild(Jw(Ly(jS(s),mb()),e.labelStyle,!1,r)),c=l.getBBox();if(zy(mb().flowchart.htmlLabels)){var u=l.children[0],h=ic(l);c=u.getBoundingClientRect(),h.attr("width",c.width),h.attr("height",c.height)}var d=e.padding/2;return a.attr("transform","translate("+-c.width/2+", "+-c.height/2+")"),{shapeSvg:o,bbox:c,halfPadding:d,label:a}},Qw=function(t,e){var n=e.node().getBBox();t.width=n.width,t.height=n.height};function tx(t,e,n,r){return t.insert("polygon",":first-child").attr("points",r.map((function(t){return t.x+","+t.y})).join(" ")).attr("class","label-container").attr("transform","translate("+-e/2+","+n/2+")")}var ex={},nx={},rx={},ix=function(t,e){return a.trace("In isDecendant",e," ",t," = ",nx[e].indexOf(t)>=0),nx[e].indexOf(t)>=0},ox=function t(e,n,r,i){a.warn("Copying children of ",e,"root",i,"data",n.node(e),i);var o=n.children(e)||[];e!==i&&o.push(e),a.warn("Copying (nodes) clusterId",e,"nodes",o),o.forEach((function(o){if(n.children(o).length>0)t(o,n,r,i);else{var s=n.node(o);a.info("cp ",o," to ",i," with parent ",e),r.setNode(o,s),i!==n.parent(o)&&(a.warn("Setting parent",o,n.parent(o)),r.setParent(o,n.parent(o))),e!==i&&o!==e?(a.debug("Setting parent",o,e),r.setParent(o,e)):(a.info("In copy ",e,"root",i,"data",n.node(e),i),a.debug("Not Setting parent for node=",o,"cluster!==rootId",e!==i,"node!==clusterId",o!==e));var l=n.edges(o);a.debug("Copying Edges",l),l.forEach((function(t){a.info("Edge",t);var o=n.edge(t.v,t.w,t.name);a.info("Edge data",o,i);try{!function(t,e){return a.info("Decendants of ",e," is ",nx[e]),a.info("Edge is ",t),t.v!==e&&t.w!==e&&(nx[e]?(a.info("Here "),nx[e].indexOf(t.v)>=0||!!ix(t.v,e)||!!ix(t.w,e)||nx[e].indexOf(t.w)>=0):(a.debug("Tilt, ",e,",not in decendants"),!1))}(t,i)?a.info("Skipping copy of edge ",t.v,"--\x3e",t.w," rootId: ",i," clusterId:",e):(a.info("Copying as ",t.v,t.w,o,t.name),r.setEdge(t.v,t.w,o,t.name),a.info("newGraph edges ",r.edges(),r.edge(r.edges()[0])))}catch(t){a.error(t)}}))}a.debug("Removing node",o),n.removeNode(o)}))},ax=function t(e,n){for(var r=n.children(e),i=[].concat(r),o=0;o<r.length;o++)rx[r[o]]=e,i=i.concat(t(r[o],n));return i},sx=function t(e,n){a.trace("Searching",e);var r=n.children(e);if(a.trace("Searching children of id ",e,r),r.length<1)return a.trace("This is a valid node",e),e;for(var i=0;i<r.length;i++){var o=t(r[i],n);if(o)return a.trace("Found replacement for",e," => ",o),o}},lx=function(t){return ex[t]&&ex[t].externalConnections&&ex[t]?ex[t].id:t},cx=function(t,e){!t||e>10?a.debug("Opting out, no graph "):(a.debug("Opting in, graph "),t.nodes().forEach((function(e){t.children(e).length>0&&(a.warn("Cluster identified",e," Replacement id in edges: ",sx(e,t)),nx[e]=ax(e,t),ex[e]={id:sx(e,t),clusterData:t.node(e)})})),t.nodes().forEach((function(e){var n=t.children(e),r=t.edges();n.length>0?(a.debug("Cluster identified",e,nx),r.forEach((function(t){t.v!==e&&t.w!==e&&ix(t.v,e)^ix(t.w,e)&&(a.warn("Edge: ",t," leaves cluster ",e),a.warn("Decendants of XXX ",e,": ",nx[e]),ex[e].externalConnections=!0)}))):a.debug("Not a cluster ",e,nx)})),t.edges().forEach((function(e){var n=t.edge(e);a.warn("Edge "+e.v+" -> "+e.w+": "+JSON.stringify(e)),a.warn("Edge "+e.v+" -> "+e.w+": "+JSON.stringify(t.edge(e)));var r=e.v,i=e.w;if(a.warn("Fix XXX",ex,"ids:",e.v,e.w,"Translateing: ",ex[e.v]," --- ",ex[e.w]),ex[e.v]&&ex[e.w]&&ex[e.v]===ex[e.w]){a.warn("Fixing and trixing link to self - removing XXX",e.v,e.w,e.name),a.warn("Fixing and trixing - removing XXX",e.v,e.w,e.name),r=lx(e.v),i=lx(e.w),t.removeEdge(e.v,e.w,e.name);var o=e.w+"---"+e.v;t.setNode(o,{domId:o,id:o,labelStyle:"",labelText:n.label,padding:0,shape:"labelRect",style:""});var s=JSON.parse(JSON.stringify(n)),l=JSON.parse(JSON.stringify(n));s.label="",s.arrowTypeEnd="none",l.label="",s.fromCluster=e.v,l.toCluster=e.v,t.setEdge(r,o,s,e.name+"-cyclic-special"),t.setEdge(o,i,l,e.name+"-cyclic-special")}else(ex[e.v]||ex[e.w])&&(a.warn("Fixing and trixing - removing XXX",e.v,e.w,e.name),r=lx(e.v),i=lx(e.w),t.removeEdge(e.v,e.w,e.name),r!==e.v&&(n.fromCluster=e.v),i!==e.w&&(n.toCluster=e.w),a.warn("Fix Replacing with XXX",r,i,e.name),t.setEdge(r,i,n,e.name))})),a.warn("Adjusted Graph",Fw().json.write(t)),ux(t,0),a.trace(ex))},ux=function t(e,n){if(a.warn("extractor - ",n,Fw().json.write(e),e.children("D")),n>10)a.error("Bailing out");else{for(var r=e.nodes(),i=!1,o=0;o<r.length;o++){var s=r[o],l=e.children(s);i=i||l.length>0}if(i){a.debug("Nodes = ",r,n);for(var c=0;c<r.length;c++){var u=r[c];if(a.debug("Extracting node",u,ex,ex[u]&&!ex[u].externalConnections,!e.parent(u),e.node(u),e.children("D")," Depth ",n),ex[u])if(!ex[u].externalConnections&&e.children(u)&&e.children(u).length>0){a.warn("Cluster without external connections, without a parent and with children",u,n);var h="TB"===e.graph().rankdir?"LR":"TB";ex[u]&&ex[u].clusterData&&ex[u].clusterData.dir&&(h=ex[u].clusterData.dir,a.warn("Fixing dir",ex[u].clusterData.dir,h));var d=new(Fw().Graph)({multigraph:!0,compound:!0}).setGraph({rankdir:h,nodesep:50,ranksep:50,marginx:8,marginy:8}).setDefaultEdgeLabel((function(){return{}}));a.warn("Old graph before copy",Fw().json.write(e)),ox(u,e,d,u),e.setNode(u,{clusterNode:!0,id:u,clusterData:ex[u].clusterData,labelText:ex[u].labelText,graph:d}),a.warn("New graph after copy node: (",u,")",Fw().json.write(d)),a.debug("Old graph after copy",Fw().json.write(e))}else a.warn("Cluster ** ",u," **not meeting the criteria !externalConnections:",!ex[u].externalConnections," no parent: ",!e.parent(u)," children ",e.children(u)&&e.children(u).length>0,e.children("D"),n),a.debug(ex);else a.debug("Not a cluster",u,n)}r=e.nodes(),a.warn("New list of nodes",r);for(var f=0;f<r.length;f++){var p=r[f],g=e.node(p);a.warn(" Now next level",p,g),g.clusterNode&&t(g.graph,n+1)}}else a.debug("Done, no node has children",e.nodes())}},hx=function t(e,n){if(0===n.length)return[];var r=Object.assign(n);return n.forEach((function(n){var i=e.children(n),o=t(e,i);r=r.concat(o)})),r},dx=function(t){return hx(t,t.children())},fx=n(3841);function px(t,e){return t*e>0}const gx=function(t,e,n,r){var i,o,a,s,l,c,u,h,d,f,p,g,m;if(i=e.y-t.y,a=t.x-e.x,l=e.x*t.y-t.x*e.y,d=i*n.x+a*n.y+l,f=i*r.x+a*r.y+l,!(0!==d&&0!==f&&px(d,f)||(o=r.y-n.y,s=n.x-r.x,c=r.x*n.y-n.x*r.y,u=o*t.x+s*t.y+c,h=o*e.x+s*e.y+c,0!==u&&0!==h&&px(u,h)||0==(p=i*s-o*a))))return g=Math.abs(p/2),{x:(m=a*c-s*l)<0?(m-g)/p:(m+g)/p,y:(m=o*l-i*c)<0?(m-g)/p:(m+g)/p}},mx=function(t,e){var n,r,i=t.x,o=t.y,a=e.x-i,s=e.y-o,l=t.width/2,c=t.height/2;return Math.abs(s)*l>Math.abs(a)*c?(s<0&&(c=-c),n=0===s?0:c*a/s,r=c):(a<0&&(l=-l),n=l,r=0===a?0:l*s/a),{x:i+n,y:o+r}},yx=(n.n(fx)(),function(t,e,n){return function(t,e,n,r){var i=t.x,o=t.y,a=i-r.x,s=o-r.y,l=Math.sqrt(e*e*s*s+n*n*a*a),c=Math.abs(e*n*a/l);r.x<i&&(c=-c);var u=Math.abs(e*n*s/l);return r.y<o&&(u=-u),{x:i+c,y:o+u}}(t,e,e,n)}),vx=function(t,e,n){var r=t.x,i=t.y,o=[],a=Number.POSITIVE_INFINITY,s=Number.POSITIVE_INFINITY;"function"==typeof e.forEach?e.forEach((function(t){a=Math.min(a,t.x),s=Math.min(s,t.y)})):(a=Math.min(a,e.x),s=Math.min(s,e.y));for(var l=r-t.width/2-a,c=i-t.height/2-s,u=0;u<e.length;u++){var h=e[u],d=e[u<e.length-1?u+1:0],f=gx(t,n,{x:l+h.x,y:c+h.y},{x:l+d.x,y:c+d.y});f&&o.push(f)}return o.length?(o.length>1&&o.sort((function(t,e){var r=t.x-n.x,i=t.y-n.y,o=Math.sqrt(r*r+i*i),a=e.x-n.x,s=e.y-n.y,l=Math.sqrt(a*a+s*s);return o<l?-1:o===l?0:1})),o[0]):t},bx=mx;function wx(t){return wx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wx(t)}function xx(t,e,n,r){var i=[],o=function(t){i.push(t),i.push(0)},s=function(t){i.push(0),i.push(t)};e.includes("t")?(a.debug("add top border"),o(n)):s(n),e.includes("r")?(a.debug("add right border"),o(r)):s(r),e.includes("b")?(a.debug("add bottom border"),o(n)):s(n),e.includes("l")?(a.debug("add left border"),o(r)):s(r),t.attr("stroke-dasharray",i.join(" "))}var _x=function(t,e,n){var r=t.insert("g").attr("class","node default").attr("id",e.domId||e.id),i=70,o=10;"LR"===n&&(i=10,o=70);var a=r.append("rect").attr("x",-1*i/2).attr("y",-1*o/2).attr("width",i).attr("height",o).attr("class","fork-join");return Qw(e,a),e.height=e.height+e.padding/2,e.width=e.width+e.padding/2,e.intersect=function(t){return bx(e,t)},r},kx={question:function(t,e){var n=Zw(t,e,void 0,!0),r=n.shapeSvg,i=n.bbox,o=i.width+e.padding+(i.height+e.padding),s=[{x:o/2,y:0},{x:o,y:-o/2},{x:o/2,y:-o},{x:0,y:-o/2}];a.info("Question main (Circle)");var l=tx(r,o,o,s);return l.attr("style",e.style),Qw(e,l),e.intersect=function(t){return a.warn("Intersect called"),vx(e,s,t)},r},rect:function(t,e){var n=Zw(t,e,"node "+e.classes,!0),r=n.shapeSvg,i=n.bbox,o=n.halfPadding;a.trace("Classes = ",e.classes);var s=r.insert("rect",":first-child"),l=i.width+e.padding,c=i.height+e.padding;if(s.attr("class","basic label-container").attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("x",-i.width/2-o).attr("y",-i.height/2-o).attr("width",l).attr("height",c),e.props){var u=new Set(Object.keys(e.props));e.props.borders&&(xx(s,e.props.borders,l,c),u.delete("borders")),u.forEach((function(t){a.warn("Unknown node property ".concat(t))}))}return Qw(e,s),e.intersect=function(t){return bx(e,t)},r},labelRect:function(t,e){var n=Zw(t,e,"label",!0),r=n.shapeSvg;n.bbox,n.halfPadding,a.trace("Classes = ",e.classes);var i=r.insert("rect",":first-child");if(i.attr("width",0).attr("height",0),r.attr("class","label edgeLabel"),e.props){var o=new Set(Object.keys(e.props));e.props.borders&&(xx(i,e.props.borders,0,0),o.delete("borders")),o.forEach((function(t){a.warn("Unknown node property ".concat(t))}))}return Qw(e,i),e.intersect=function(t){return bx(e,t)},r},rectWithTitle:function(t,e){var n;n=e.classes?"node "+e.classes:"node default";var r,i=t.insert("g").attr("class",n).attr("id",e.domId||e.id),o=i.insert("rect",":first-child"),s=i.insert("line"),l=i.insert("g").attr("class","label"),c=e.labelText.flat?e.labelText.flat():e.labelText;r="object"===wx(c)?c[0]:c,a.info("Label text abc79",r,c,"object"===wx(c));var u=l.node().appendChild(Jw(r,e.labelStyle,!0,!0)),h={width:0,height:0};if(zy(mb().flowchart.htmlLabels)){var d=u.children[0],f=ic(u);h=d.getBoundingClientRect(),f.attr("width",h.width),f.attr("height",h.height)}a.info("Text 2",c);var p=c.slice(1,c.length),g=u.getBBox(),m=l.node().appendChild(Jw(p.join?p.join("<br/>"):p,e.labelStyle,!0,!0));if(zy(mb().flowchart.htmlLabels)){var y=m.children[0],v=ic(m);h=y.getBoundingClientRect(),v.attr("width",h.width),v.attr("height",h.height)}var b=e.padding/2;return ic(m).attr("transform","translate( "+(h.width>g.width?0:(g.width-h.width)/2)+", "+(g.height+b+5)+")"),ic(u).attr("transform","translate( "+(h.width<g.width?0:-(g.width-h.width)/2)+", 0)"),h=l.node().getBBox(),l.attr("transform","translate("+-h.width/2+", "+(-h.height/2-b+3)+")"),o.attr("class","outer title-state").attr("x",-h.width/2-b).attr("y",-h.height/2-b).attr("width",h.width+e.padding).attr("height",h.height+e.padding),s.attr("class","divider").attr("x1",-h.width/2-b).attr("x2",h.width/2+b).attr("y1",-h.height/2-b+g.height+b).attr("y2",-h.height/2-b+g.height+b),Qw(e,o),e.intersect=function(t){return bx(e,t)},i},choice:function(t,e){var n=t.insert("g").attr("class","node default").attr("id",e.domId||e.id);return n.insert("polygon",":first-child").attr("points",[{x:0,y:14},{x:14,y:0},{x:0,y:-14},{x:-14,y:0}].map((function(t){return t.x+","+t.y})).join(" ")).attr("class","state-start").attr("r",7).attr("width",28).attr("height",28),e.width=28,e.height=28,e.intersect=function(t){return yx(e,14,t)},n},circle:function(t,e){var n=Zw(t,e,void 0,!0),r=n.shapeSvg,i=n.bbox,o=n.halfPadding,s=r.insert("circle",":first-child");return s.attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("r",i.width/2+o).attr("width",i.width+e.padding).attr("height",i.height+e.padding),a.info("Circle main"),Qw(e,s),e.intersect=function(t){return a.info("Circle intersect",e,i.width/2+o,t),yx(e,i.width/2+o,t)},r},doublecircle:function(t,e){var n=Zw(t,e,void 0,!0),r=n.shapeSvg,i=n.bbox,o=n.halfPadding,s=r.insert("g",":first-child"),l=s.insert("circle"),c=s.insert("circle");return l.attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("r",i.width/2+o+5).attr("width",i.width+e.padding+10).attr("height",i.height+e.padding+10),c.attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("r",i.width/2+o).attr("width",i.width+e.padding).attr("height",i.height+e.padding),a.info("DoubleCircle main"),Qw(e,l),e.intersect=function(t){return a.info("DoubleCircle intersect",e,i.width/2+o+5,t),yx(e,i.width/2+o+5,t)},r},stadium:function(t,e){var n=Zw(t,e,void 0,!0),r=n.shapeSvg,i=n.bbox,o=i.height+e.padding,a=i.width+o/4+e.padding,s=r.insert("rect",":first-child").attr("style",e.style).attr("rx",o/2).attr("ry",o/2).attr("x",-a/2).attr("y",-o/2).attr("width",a).attr("height",o);return Qw(e,s),e.intersect=function(t){return bx(e,t)},r},hexagon:function(t,e){var n=Zw(t,e,void 0,!0),r=n.shapeSvg,i=n.bbox,o=i.height+e.padding,a=o/4,s=i.width+2*a+e.padding,l=[{x:a,y:0},{x:s-a,y:0},{x:s,y:-o/2},{x:s-a,y:-o},{x:a,y:-o},{x:0,y:-o/2}],c=tx(r,s,o,l);return c.attr("style",e.style),Qw(e,c),e.intersect=function(t){return vx(e,l,t)},r},rect_left_inv_arrow:function(t,e){var n=Zw(t,e,void 0,!0),r=n.shapeSvg,i=n.bbox,o=i.width+e.padding,a=i.height+e.padding,s=[{x:-a/2,y:0},{x:o,y:0},{x:o,y:-a},{x:-a/2,y:-a},{x:0,y:-a/2}];return tx(r,o,a,s).attr("style",e.style),e.width=o+a,e.height=a,e.intersect=function(t){return vx(e,s,t)},r},lean_right:function(t,e){var n=Zw(t,e,void 0,!0),r=n.shapeSvg,i=n.bbox,o=i.width+e.padding,a=i.height+e.padding,s=[{x:-2*a/6,y:0},{x:o-a/6,y:0},{x:o+2*a/6,y:-a},{x:a/6,y:-a}],l=tx(r,o,a,s);return l.attr("style",e.style),Qw(e,l),e.intersect=function(t){return vx(e,s,t)},r},lean_left:function(t,e){var n=Zw(t,e,void 0,!0),r=n.shapeSvg,i=n.bbox,o=i.width+e.padding,a=i.height+e.padding,s=[{x:2*a/6,y:0},{x:o+a/6,y:0},{x:o-2*a/6,y:-a},{x:-a/6,y:-a}],l=tx(r,o,a,s);return l.attr("style",e.style),Qw(e,l),e.intersect=function(t){return vx(e,s,t)},r},trapezoid:function(t,e){var n=Zw(t,e,void 0,!0),r=n.shapeSvg,i=n.bbox,o=i.width+e.padding,a=i.height+e.padding,s=[{x:-2*a/6,y:0},{x:o+2*a/6,y:0},{x:o-a/6,y:-a},{x:a/6,y:-a}],l=tx(r,o,a,s);return l.attr("style",e.style),Qw(e,l),e.intersect=function(t){return vx(e,s,t)},r},inv_trapezoid:function(t,e){var n=Zw(t,e,void 0,!0),r=n.shapeSvg,i=n.bbox,o=i.width+e.padding,a=i.height+e.padding,s=[{x:a/6,y:0},{x:o-a/6,y:0},{x:o+2*a/6,y:-a},{x:-2*a/6,y:-a}],l=tx(r,o,a,s);return l.attr("style",e.style),Qw(e,l),e.intersect=function(t){return vx(e,s,t)},r},rect_right_inv_arrow:function(t,e){var n=Zw(t,e,void 0,!0),r=n.shapeSvg,i=n.bbox,o=i.width+e.padding,a=i.height+e.padding,s=[{x:0,y:0},{x:o+a/2,y:0},{x:o,y:-a/2},{x:o+a/2,y:-a},{x:0,y:-a}],l=tx(r,o,a,s);return l.attr("style",e.style),Qw(e,l),e.intersect=function(t){return vx(e,s,t)},r},cylinder:function(t,e){var n=Zw(t,e,void 0,!0),r=n.shapeSvg,i=n.bbox,o=i.width+e.padding,a=o/2,s=a/(2.5+o/50),l=i.height+s+e.padding,c="M 0,"+s+" a "+a+","+s+" 0,0,0 "+o+" 0 a "+a+","+s+" 0,0,0 "+-o+" 0 l 0,"+l+" a "+a+","+s+" 0,0,0 "+o+" 0 l 0,"+-l,u=r.attr("label-offset-y",s).insert("path",":first-child").attr("style",e.style).attr("d",c).attr("transform","translate("+-o/2+","+-(l/2+s)+")");return Qw(e,u),e.intersect=function(t){var n=bx(e,t),r=n.x-e.x;if(0!=a&&(Math.abs(r)<e.width/2||Math.abs(r)==e.width/2&&Math.abs(n.y-e.y)>e.height/2-s)){var i=s*s*(1-r*r/(a*a));0!=i&&(i=Math.sqrt(i)),i=s-i,t.y-e.y>0&&(i=-i),n.y+=i}return n},r},start:function(t,e){var n=t.insert("g").attr("class","node default").attr("id",e.domId||e.id),r=n.insert("circle",":first-child");return r.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),Qw(e,r),e.intersect=function(t){return yx(e,7,t)},n},end:function(t,e){var n=t.insert("g").attr("class","node default").attr("id",e.domId||e.id),r=n.insert("circle",":first-child"),i=n.insert("circle",":first-child");return i.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),r.attr("class","state-end").attr("r",5).attr("width",10).attr("height",10),Qw(e,i),e.intersect=function(t){return yx(e,7,t)},n},note:function(t,e){var n=Zw(t,e,"node "+e.classes,!0),r=n.shapeSvg,i=n.bbox,o=n.halfPadding;a.info("Classes = ",e.classes);var s=r.insert("rect",":first-child");return s.attr("rx",e.rx).attr("ry",e.ry).attr("x",-i.width/2-o).attr("y",-i.height/2-o).attr("width",i.width+e.padding).attr("height",i.height+e.padding),Qw(e,s),e.intersect=function(t){return bx(e,t)},r},subroutine:function(t,e){var n=Zw(t,e,void 0,!0),r=n.shapeSvg,i=n.bbox,o=i.width+e.padding,a=i.height+e.padding,s=[{x:0,y:0},{x:o,y:0},{x:o,y:-a},{x:0,y:-a},{x:0,y:0},{x:-8,y:0},{x:o+8,y:0},{x:o+8,y:-a},{x:-8,y:-a},{x:-8,y:0}],l=tx(r,o,a,s);return l.attr("style",e.style),Qw(e,l),e.intersect=function(t){return vx(e,s,t)},r},fork:_x,join:_x,class_box:function(t,e){var n,r=e.padding/2;n=e.classes?"node "+e.classes:"node default";var i=t.insert("g").attr("class",n).attr("id",e.domId||e.id),o=i.insert("rect",":first-child"),a=i.insert("line"),s=i.insert("line"),l=0,c=4,u=i.insert("g").attr("class","label"),h=0,d=e.classData.annotations&&e.classData.annotations[0],f=e.classData.annotations[0]?"«"+e.classData.annotations[0]+"»":"",p=u.node().appendChild(Jw(f,e.labelStyle,!0,!0)),g=p.getBBox();if(zy(mb().flowchart.htmlLabels)){var m=p.children[0],y=ic(p);g=m.getBoundingClientRect(),y.attr("width",g.width),y.attr("height",g.height)}e.classData.annotations[0]&&(c+=g.height+4,l+=g.width);var v=e.classData.id;void 0!==e.classData.type&&""!==e.classData.type&&(mb().flowchart.htmlLabels?v+="&lt;"+e.classData.type+"&gt;":v+="<"+e.classData.type+">");var b=u.node().appendChild(Jw(v,e.labelStyle,!0,!0));ic(b).attr("class","classTitle");var w=b.getBBox();if(zy(mb().flowchart.htmlLabels)){var x=b.children[0],_=ic(b);w=x.getBoundingClientRect(),_.attr("width",w.width),_.attr("height",w.height)}c+=w.height+4,w.width>l&&(l=w.width);var k=[];e.classData.members.forEach((function(t){var n=Rw(t),r=n.displayText;mb().flowchart.htmlLabels&&(r=r.replace(/</g,"&lt;").replace(/>/g,"&gt;"));var i=u.node().appendChild(Jw(r,n.cssStyle?n.cssStyle:e.labelStyle,!0,!0)),o=i.getBBox();if(zy(mb().flowchart.htmlLabels)){var a=i.children[0],s=ic(i);o=a.getBoundingClientRect(),s.attr("width",o.width),s.attr("height",o.height)}o.width>l&&(l=o.width),c+=o.height+4,k.push(i)})),c+=8;var E=[];if(e.classData.methods.forEach((function(t){var n=Rw(t),r=n.displayText;mb().flowchart.htmlLabels&&(r=r.replace(/</g,"&lt;").replace(/>/g,"&gt;"));var i=u.node().appendChild(Jw(r,n.cssStyle?n.cssStyle:e.labelStyle,!0,!0)),o=i.getBBox();if(zy(mb().flowchart.htmlLabels)){var a=i.children[0],s=ic(i);o=a.getBoundingClientRect(),s.attr("width",o.width),s.attr("height",o.height)}o.width>l&&(l=o.width),c+=o.height+4,E.push(i)})),c+=8,d){var C=(l-g.width)/2;ic(p).attr("transform","translate( "+(-1*l/2+C)+", "+-1*c/2+")"),h=g.height+4}var S=(l-w.width)/2;return ic(b).attr("transform","translate( "+(-1*l/2+S)+", "+(-1*c/2+h)+")"),h+=w.height+4,a.attr("class","divider").attr("x1",-l/2-r).attr("x2",l/2+r).attr("y1",-c/2-r+8+h).attr("y2",-c/2-r+8+h),h+=8,k.forEach((function(t){ic(t).attr("transform","translate( "+-l/2+", "+(-1*c/2+h+4)+")"),h+=w.height+4})),h+=8,s.attr("class","divider").attr("x1",-l/2-r).attr("x2",l/2+r).attr("y1",-c/2-r+8+h).attr("y2",-c/2-r+8+h),h+=8,E.forEach((function(t){ic(t).attr("transform","translate( "+-l/2+", "+(-1*c/2+h)+")"),h+=w.height+4})),o.attr("class","outer title-state").attr("x",-l/2-r).attr("y",-c/2-r).attr("width",l+e.padding).attr("height",c+e.padding),Qw(e,o),e.intersect=function(t){return bx(e,t)},i}},Ex={},Cx=function(t){var e=Ex[t.id];a.trace("Transforming node",t.diff,t,"translate("+(t.x-t.width/2-5)+", "+t.width/2+")");var n=t.diff||0;return t.clusterNode?e.attr("transform","translate("+(t.x+n-t.width/2)+", "+(t.y-t.height/2-8)+")"):e.attr("transform","translate("+t.x+", "+t.y+")"),n},Sx={rect:function(t,e){a.trace("Creating subgraph rect for ",e.id,e);var n=t.insert("g").attr("class","cluster"+(e.class?" "+e.class:"")).attr("id",e.id),r=n.insert("rect",":first-child"),i=n.insert("g").attr("class","cluster-label"),o=i.node().appendChild(Jw(e.labelText,e.labelStyle,void 0,!0)),s=o.getBBox();if(zy(mb().flowchart.htmlLabels)){var l=o.children[0],c=ic(o);s=l.getBoundingClientRect(),c.attr("width",s.width),c.attr("height",s.height)}var u=0*e.padding,h=u/2,d=e.width<=s.width+u?s.width+u:e.width;e.width<=s.width+u?e.diff=(s.width-e.width)/2-e.padding/2:e.diff=-e.padding/2,a.trace("Data ",e,JSON.stringify(e)),r.attr("style",e.style).attr("rx",e.rx).attr("ry",e.ry).attr("x",e.x-d/2).attr("y",e.y-e.height/2-h).attr("width",d).attr("height",e.height+u),i.attr("transform","translate("+(e.x-s.width/2)+", "+(e.y-e.height/2+e.padding/3)+")");var f=r.node().getBBox();return e.width=f.width,e.height=f.height,e.intersect=function(t){return mx(e,t)},n},roundedWithTitle:function(t,e){var n=t.insert("g").attr("class",e.classes).attr("id",e.id),r=n.insert("rect",":first-child"),i=n.insert("g").attr("class","cluster-label"),o=n.append("rect"),a=i.node().appendChild(Jw(e.labelText,e.labelStyle,void 0,!0)),s=a.getBBox();if(zy(mb().flowchart.htmlLabels)){var l=a.children[0],c=ic(a);s=l.getBoundingClientRect(),c.attr("width",s.width),c.attr("height",s.height)}s=a.getBBox();var u=0*e.padding,h=u/2,d=e.width<=s.width+e.padding?s.width+e.padding:e.width;e.width<=s.width+e.padding?e.diff=(s.width+0*e.padding-e.width)/2:e.diff=-e.padding/2,r.attr("class","outer").attr("x",e.x-d/2-h).attr("y",e.y-e.height/2-h).attr("width",d+u).attr("height",e.height+u),o.attr("class","inner").attr("x",e.x-d/2-h).attr("y",e.y-e.height/2-h+s.height-1).attr("width",d+u).attr("height",e.height+u-s.height-3),i.attr("transform","translate("+(e.x-s.width/2)+", "+(e.y-e.height/2-e.padding/3+(zy(mb().flowchart.htmlLabels)?5:3))+")");var f=r.node().getBBox();return e.height=f.height,e.intersect=function(t){return mx(e,t)},n},noteGroup:function(t,e){var n=t.insert("g").attr("class","note-cluster").attr("id",e.id),r=n.insert("rect",":first-child"),i=0*e.padding,o=i/2;r.attr("rx",e.rx).attr("ry",e.ry).attr("x",e.x-e.width/2-o).attr("y",e.y-e.height/2-o).attr("width",e.width+i).attr("height",e.height+i).attr("fill","none");var a=r.node().getBBox();return e.width=a.width,e.height=a.height,e.intersect=function(t){return mx(e,t)},n},divider:function(t,e){var n=t.insert("g").attr("class",e.classes).attr("id",e.id),r=n.insert("rect",":first-child"),i=0*e.padding,o=i/2;r.attr("class","divider").attr("x",e.x-e.width/2-o).attr("y",e.y-e.height/2).attr("width",e.width+i).attr("height",e.height+i);var a=r.node().getBBox();return e.width=a.width,e.height=a.height,e.diff=-e.padding/2,e.intersect=function(t){return mx(e,t)},n}},Dx={},Tx={},Ax={};function Mx(t,e){mb().flowchart.htmlLabels&&t&&(t.style.width=9*e.length+"px",t.style.height="12px")}var Nx=function(t,e){a.warn("abc88 cutPathAtIntersect",t,e);var n=[],r=t[0],i=!1;return t.forEach((function(t){if(a.info("abc88 checking point",t,e),function(t,e){var n=t.x,r=t.y,i=Math.abs(e.x-n),o=Math.abs(e.y-r),a=t.width/2,s=t.height/2;return i>=a||o>=s}(e,t)||i)a.warn("abc88 outside",t,r),r=t,i||n.push(t);else{var o=function(t,e,n){a.warn("intersection calc abc89:\n  outsidePoint: ".concat(JSON.stringify(e),"\n  insidePoint : ").concat(JSON.stringify(n),"\n  node        : x:").concat(t.x," y:").concat(t.y," w:").concat(t.width," h:").concat(t.height));var r=t.x,i=t.y,o=Math.abs(r-n.x),s=t.width/2,l=n.x<e.x?s-o:s+o,c=t.height/2,u=Math.abs(e.y-n.y),h=Math.abs(e.x-n.x);if(Math.abs(i-e.y)*s>Math.abs(r-e.x)*c){var d=n.y<e.y?e.y-c-i:i-c-e.y;l=h*d/u;var f={x:n.x<e.x?n.x+l:n.x-h+l,y:n.y<e.y?n.y+u-d:n.y-u+d};return 0===l&&(f.x=e.x,f.y=e.y),0===h&&(f.x=e.x),0===u&&(f.y=e.y),a.warn("abc89 topp/bott calc, Q ".concat(u,", q ").concat(d,", R ").concat(h,", r ").concat(l),f),f}var p=u*(l=n.x<e.x?e.x-s-r:r-s-e.x)/h,g=n.x<e.x?n.x+h-l:n.x-h+l,m=n.y<e.y?n.y+p:n.y-p;return a.warn("sides calc abc89, Q ".concat(u,", q ").concat(p,", R ").concat(h,", r ").concat(l),{_x:g,_y:m}),0===l&&(g=e.x,m=e.y),0===h&&(g=e.x),0===u&&(m=e.y),{x:g,y:m}}(e,r,t);a.warn("abc88 inside",t,r,o),a.warn("abc88 intersection",o);var s=!1;n.forEach((function(t){s=s||t.x===o.x&&t.y===o.y})),n.find((function(t){return t.x===o.x&&t.y===o.y}))?a.warn("abc88 no intersect",o,n):n.push(o),i=!0}})),a.warn("abc88 returning points",n),n},Ox=function t(e,n,r,i){a.info("Graph in recursive render: XXX",Fw().json.write(n),i);var o=n.graph().rankdir;a.trace("Dir in recursive render - dir:",o);var s=e.insert("g").attr("class","root");n.nodes()?a.info("Recursive render XXX",n.nodes()):a.info("No nodes found for",n),n.edges().length>0&&a.trace("Recursive edges",n.edge(n.edges()[0]));var l=s.insert("g").attr("class","clusters"),c=s.insert("g").attr("class","edgePaths"),u=s.insert("g").attr("class","edgeLabels"),h=s.insert("g").attr("class","nodes");n.nodes().forEach((function(e){var s=n.node(e);if(void 0!==i){var l=JSON.parse(JSON.stringify(i.clusterData));a.info("Setting data for cluster XXX (",e,") ",l,i),n.setNode(i.id,l),n.parent(e)||(a.trace("Setting parent",e,i.id),n.setParent(e,i.id,l))}if(a.info("(Insert) Node XXX"+e+": "+JSON.stringify(n.node(e))),s&&s.clusterNode){a.info("Cluster identified",e,s.width,n.node(e));var c=t(h,s.graph,r,n.node(e)),u=c.elem;Qw(s,u),s.diff=c.diff||0,a.info("Node bounds (abc123)",e,s,s.width,s.x,s.y),function(t,e){Ex[e.id]=t}(u,s),a.warn("Recursive render complete ",u,s)}else n.children(e).length>0?(a.info("Cluster - the non recursive path XXX",e,s.id,s,n),a.info(sx(s.id,n)),ex[s.id]={id:sx(s.id,n),node:s}):(a.info("Node - the non recursive path",e,s.id,s),function(t,e,n){var r,i,o;e.link?("sandbox"===mb().securityLevel?o="_top":e.linkTarget&&(o=e.linkTarget||"_blank"),r=t.insert("svg:a").attr("xlink:href",e.link).attr("target",o),i=kx[e.shape](r,e,n)):r=i=kx[e.shape](t,e,n),e.tooltip&&i.attr("title",e.tooltip),e.class&&i.attr("class","node default "+e.class),Ex[e.id]=r,e.haveCallback&&Ex[e.id].attr("class",Ex[e.id].attr("class")+" clickable")}(h,n.node(e),o))})),n.edges().forEach((function(t){var e=n.edge(t.v,t.w,t.name);a.info("Edge "+t.v+" -> "+t.w+": "+JSON.stringify(t)),a.info("Edge "+t.v+" -> "+t.w+": ",t," ",JSON.stringify(n.edge(t))),a.info("Fix",ex,"ids:",t.v,t.w,"Translateing: ",ex[t.v],ex[t.w]),function(t,e){var n=Jw(e.label,e.labelStyle),r=t.insert("g").attr("class","edgeLabel"),i=r.insert("g").attr("class","label");i.node().appendChild(n);var o,a=n.getBBox();if(zy(mb().flowchart.htmlLabels)){var s=n.children[0],l=ic(n);a=s.getBoundingClientRect(),l.attr("width",a.width),l.attr("height",a.height)}if(i.attr("transform","translate("+-a.width/2+", "+-a.height/2+")"),Tx[e.id]=r,e.width=a.width,e.height=a.height,e.startLabelLeft){var c=Jw(e.startLabelLeft,e.labelStyle),u=t.insert("g").attr("class","edgeTerminals"),h=u.insert("g").attr("class","inner");o=h.node().appendChild(c);var d=c.getBBox();h.attr("transform","translate("+-d.width/2+", "+-d.height/2+")"),Ax[e.id]||(Ax[e.id]={}),Ax[e.id].startLeft=u,Mx(o,e.startLabelLeft)}if(e.startLabelRight){var f=Jw(e.startLabelRight,e.labelStyle),p=t.insert("g").attr("class","edgeTerminals"),g=p.insert("g").attr("class","inner");o=p.node().appendChild(f),g.node().appendChild(f);var m=f.getBBox();g.attr("transform","translate("+-m.width/2+", "+-m.height/2+")"),Ax[e.id]||(Ax[e.id]={}),Ax[e.id].startRight=p,Mx(o,e.startLabelRight)}if(e.endLabelLeft){var y=Jw(e.endLabelLeft,e.labelStyle),v=t.insert("g").attr("class","edgeTerminals"),b=v.insert("g").attr("class","inner");o=b.node().appendChild(y);var w=y.getBBox();b.attr("transform","translate("+-w.width/2+", "+-w.height/2+")"),v.node().appendChild(y),Ax[e.id]||(Ax[e.id]={}),Ax[e.id].endLeft=v,Mx(o,e.endLabelLeft)}if(e.endLabelRight){var x=Jw(e.endLabelRight,e.labelStyle),_=t.insert("g").attr("class","edgeTerminals"),k=_.insert("g").attr("class","inner");o=k.node().appendChild(x);var E=x.getBBox();k.attr("transform","translate("+-E.width/2+", "+-E.height/2+")"),_.node().appendChild(x),Ax[e.id]||(Ax[e.id]={}),Ax[e.id].endRight=_,Mx(o,e.endLabelRight)}}(u,e)})),n.edges().forEach((function(t){a.info("Edge "+t.v+" -> "+t.w+": "+JSON.stringify(t))})),a.info("#############################################"),a.info("###                Layout                 ###"),a.info("#############################################"),a.info(n),Nw().layout(n),a.info("Graph after layout:",Fw().json.write(n));var d=0;return dx(n).forEach((function(t){var e=n.node(t);a.info("Position "+t+": "+JSON.stringify(n.node(t))),a.info("Position "+t+": ("+e.x,","+e.y,") width: ",e.width," height: ",e.height),e&&e.clusterNode?Cx(e):n.children(t).length>0?(function(t,e){a.trace("Inserting cluster");var n=e.shape||"rect";Dx[e.id]=Sx[n](t,e)}(l,e),ex[e.id].node=e):Cx(e)})),n.edges().forEach((function(t){var e=n.edge(t);a.info("Edge "+t.v+" -> "+t.w+": "+JSON.stringify(e),e);var i=function(t,e,n,r,i,o){var s=n.points,l=!1,c=o.node(e.v),u=o.node(e.w);a.info("abc88 InsertEdge: ",n),u.intersect&&c.intersect&&((s=s.slice(1,n.points.length-1)).unshift(c.intersect(s[0])),a.info("Last point",s[s.length-1],u,u.intersect(s[s.length-1])),s.push(u.intersect(s[s.length-1]))),n.toCluster&&(a.info("to cluster abc88",r[n.toCluster]),s=Nx(n.points,r[n.toCluster].node),l=!0),n.fromCluster&&(a.info("from cluster abc88",r[n.fromCluster]),s=Nx(s.reverse(),r[n.fromCluster].node).reverse(),l=!0);var h,d=s.filter((function(t){return!Number.isNaN(t.y)}));h=("graph"===i||"flowchart"===i)&&n.curve||Hc;var f,p=$c().x((function(t){return t.x})).y((function(t){return t.y})).curve(h);switch(n.thickness){case"normal":f="edge-thickness-normal";break;case"thick":f="edge-thickness-thick";break;default:f=""}switch(n.pattern){case"solid":f+=" edge-pattern-solid";break;case"dotted":f+=" edge-pattern-dotted";break;case"dashed":f+=" edge-pattern-dashed"}var g=t.append("path").attr("d",p(d)).attr("id",n.id).attr("class"," "+f+(n.classes?" "+n.classes:"")).attr("style",n.style),m="";switch(mb().state.arrowMarkerAbsolute&&(m=(m=(m=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search).replace(/\(/g,"\\(")).replace(/\)/g,"\\)")),a.info("arrowTypeStart",n.arrowTypeStart),a.info("arrowTypeEnd",n.arrowTypeEnd),n.arrowTypeStart){case"arrow_cross":g.attr("marker-start","url("+m+"#"+i+"-crossStart)");break;case"arrow_point":g.attr("marker-start","url("+m+"#"+i+"-pointStart)");break;case"arrow_barb":g.attr("marker-start","url("+m+"#"+i+"-barbStart)");break;case"arrow_circle":g.attr("marker-start","url("+m+"#"+i+"-circleStart)");break;case"aggregation":g.attr("marker-start","url("+m+"#"+i+"-aggregationStart)");break;case"extension":g.attr("marker-start","url("+m+"#"+i+"-extensionStart)");break;case"composition":g.attr("marker-start","url("+m+"#"+i+"-compositionStart)");break;case"dependency":g.attr("marker-start","url("+m+"#"+i+"-dependencyStart)")}switch(n.arrowTypeEnd){case"arrow_cross":g.attr("marker-end","url("+m+"#"+i+"-crossEnd)");break;case"arrow_point":g.attr("marker-end","url("+m+"#"+i+"-pointEnd)");break;case"arrow_barb":g.attr("marker-end","url("+m+"#"+i+"-barbEnd)");break;case"arrow_circle":g.attr("marker-end","url("+m+"#"+i+"-circleEnd)");break;case"aggregation":g.attr("marker-end","url("+m+"#"+i+"-aggregationEnd)");break;case"extension":g.attr("marker-end","url("+m+"#"+i+"-extensionEnd)");break;case"composition":g.attr("marker-end","url("+m+"#"+i+"-compositionEnd)");break;case"dependency":g.attr("marker-end","url("+m+"#"+i+"-dependencyEnd)")}var y={};return l&&(y.updatedPath=s),y.originalPath=n.points,y}(c,t,e,ex,r,n);!function(t,e){a.info("Moving label abc78 ",t.id,t.label,Tx[t.id]);var n=e.updatedPath?e.updatedPath:e.originalPath;if(t.label){var r=Tx[t.id],i=t.x,o=t.y;if(n){var s=ab.calcLabelPosition(n);a.info("Moving label from (",i,",",o,") to (",s.x,",",s.y,") abc78")}r.attr("transform","translate("+i+", "+o+")")}if(t.startLabelLeft){var l=Ax[t.id].startLeft,c=t.x,u=t.y;if(n){var h=ab.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_left",n);c=h.x,u=h.y}l.attr("transform","translate("+c+", "+u+")")}if(t.startLabelRight){var d=Ax[t.id].startRight,f=t.x,p=t.y;if(n){var g=ab.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_right",n);f=g.x,p=g.y}d.attr("transform","translate("+f+", "+p+")")}if(t.endLabelLeft){var m=Ax[t.id].endLeft,y=t.x,v=t.y;if(n){var b=ab.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_left",n);y=b.x,v=b.y}m.attr("transform","translate("+y+", "+v+")")}if(t.endLabelRight){var w=Ax[t.id].endRight,x=t.x,_=t.y;if(n){var k=ab.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_right",n);x=k.x,_=k.y}w.attr("transform","translate("+x+", "+_+")")}}(e,i)})),n.nodes().forEach((function(t){var e=n.node(t);a.info(t,e.type,e.diff),"group"===e.type&&(d=e.diff)})),{elem:s,diff:d}},Fx=function(t,e,n,r,i){(function(t,e,n,r){e.forEach((function(e){Xw[e](t,n,r)}))})(t,n,r,i),Ex={},Tx={},Ax={},Dx={},nx={},rx={},ex={},a.warn("Graph at first:",Fw().json.write(e)),cx(e),a.warn("Graph after:",Fw().json.write(e)),Ox(t,e,r)};Iw.parser.yy=Aw;var Ix={dividerMargin:10,padding:5,textHeight:10};function Lx(t){var e;switch(t){case 0:e="aggregation";break;case 1:e="extension";break;case 2:e="composition";break;case 3:e="dependency";break;default:e="none"}return e}var Bx={},Rx=[],Px=function(t){return void 0===Bx[t]&&(Bx[t]={attributes:[]},a.info("Added new entity :",t)),Bx[t]};const zx={Cardinality:{ZERO_OR_ONE:"ZERO_OR_ONE",ZERO_OR_MORE:"ZERO_OR_MORE",ONE_OR_MORE:"ONE_OR_MORE",ONLY_ONE:"ONLY_ONE"},Identification:{NON_IDENTIFYING:"NON_IDENTIFYING",IDENTIFYING:"IDENTIFYING"},parseDirective:function(t,e,n){WS.parseDirective(this,t,e,n)},getConfig:function(){return mb().er},addEntity:Px,addAttributes:function(t,e){var n,r=Px(t);for(n=e.length-1;n>=0;n--)r.attributes.push(e[n]),a.debug("Added attribute ",e[n].attributeName)},getEntities:function(){return Bx},addRelationship:function(t,e,n,r){var i={entityA:t,roleA:e,entityB:n,relSpec:r};Rx.push(i),a.debug("Added new relationship :",i)},getRelationships:function(){return Rx},clear:function(){Bx={},Rx=[],Eb()},setAccTitle:Cb,getAccTitle:Sb,setAccDescription:Db,getAccDescription:Tb};var $x=n(5890),jx=n.n($x),Ux={ONLY_ONE_START:"ONLY_ONE_START",ONLY_ONE_END:"ONLY_ONE_END",ZERO_OR_ONE_START:"ZERO_OR_ONE_START",ZERO_OR_ONE_END:"ZERO_OR_ONE_END",ONE_OR_MORE_START:"ONE_OR_MORE_START",ONE_OR_MORE_END:"ONE_OR_MORE_END",ZERO_OR_MORE_START:"ZERO_OR_MORE_START",ZERO_OR_MORE_END:"ZERO_OR_MORE_END"};const Yx=Ux;var qx={},Wx=function(t){return(t.entityA+t.roleA+t.entityB).replace(/\s/g,"")},Hx=0;const Vx=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)qx[e[n]]=t[e[n]]};function Gx(t){return Gx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gx(t)}function Xx(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Kx,Jx,Zx="flowchart-",Qx=0,t_=mb(),e_={},n_=[],r_=[],i_=[],o_={},a_={},s_=0,l_=!0,c_=[],u_=function(t){return $y.sanitizeText(t,t_)},h_=function(t){for(var e=Object.keys(e_),n=0;n<e.length;n++)if(e_[e[n]].id===t)return e_[e[n]].domId;return t},d_=function(t,e,n,r){var i={start:t,end:e,type:void 0,text:""};void 0!==(r=n.text)&&(i.text=u_(r.trim()),'"'===i.text[0]&&'"'===i.text[i.text.length-1]&&(i.text=i.text.substring(1,i.text.length-1))),void 0!==n&&(i.type=n.type,i.stroke=n.stroke,i.length=n.length),n_.push(i)},f_=function(t,e){t.split(",").forEach((function(t){var n=t;void 0!==e_[n]&&e_[n].classes.push(e),void 0!==o_[n]&&o_[n].classes.push(e)}))},p_=function(t){var e=ic(".mermaidTooltip");null===(e._groups||e)[0][0]&&(e=ic("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),ic(t).select("svg").selectAll("g.node").on("mouseover",(function(){var t=ic(this);if(null!==t.attr("title")){var n=this.getBoundingClientRect();e.transition().duration(200).style("opacity",".9"),e.text(t.attr("title")).style("left",window.scrollX+n.left+(n.right-n.left)/2+"px").style("top",window.scrollY+n.top-14+document.body.scrollTop+"px"),t.classed("hover",!0)}})).on("mouseout",(function(){e.transition().duration(500).style("opacity",0),ic(this).classed("hover",!1)}))};c_.push(p_);var g_=function(t){for(var e=0;e<i_.length;e++)if(i_[e].id===t)return e;return-1},m_=-1,y_=[],v_=function t(e,n){var r=i_[n].nodes;if(!((m_+=1)>2e3)){if(y_[m_]=n,i_[n].id===e)return{result:!0,count:0};for(var i=0,o=1;i<r.length;){var a=g_(r[i]);if(a>=0){var s=t(e,a);if(s.result)return{result:!0,count:o+s.count};o+=s.count}i+=1}return{result:!1,count:o}}},b_=function(t,e){var n=!1;return t.forEach((function(t){t.nodes.indexOf(e)>=0&&(n=!0)})),n},w_=function(t,e){var n=[];return t.nodes.forEach((function(r,i){b_(e,r)||n.push(t.nodes[i])})),{nodes:n}};const x_={parseDirective:function(t,e,n){WS.parseDirective(this,t,e,n)},defaultConfig:function(){return ub.flowchart},setAccTitle:Cb,getAccTitle:Sb,getAccDescription:Tb,setAccDescription:Db,addVertex:function(t,e,n,r,i,o){var a,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},l=t;void 0!==l&&0!==l.trim().length&&(void 0===e_[l]&&(e_[l]={id:l,domId:Zx+l+"-"+Qx,styles:[],classes:[]}),Qx++,void 0!==e?(t_=mb(),'"'===(a=u_(e.trim()))[0]&&'"'===a[a.length-1]&&(a=a.substring(1,a.length-1)),e_[l].text=a):void 0===e_[l].text&&(e_[l].text=t),void 0!==n&&(e_[l].type=n),null!=r&&r.forEach((function(t){e_[l].styles.push(t)})),null!=i&&i.forEach((function(t){e_[l].classes.push(t)})),void 0!==o&&(e_[l].dir=o),e_[l].props=s)},lookUpDomId:h_,addLink:function(t,e,n,r){var i,o;for(i=0;i<t.length;i++)for(o=0;o<e.length;o++)d_(t[i],e[o],n,r)},updateLinkInterpolate:function(t,e){t.forEach((function(t){"default"===t?n_.defaultInterpolate=e:n_[t].interpolate=e}))},updateLink:function(t,e){t.forEach((function(t){"default"===t?n_.defaultStyle=e:(-1===ab.isSubstringInArray("fill",e)&&e.push("fill:none"),n_[t].style=e)}))},addClass:function(t,e){void 0===r_[t]&&(r_[t]={id:t,styles:[],textStyles:[]}),null!=e&&e.forEach((function(e){if(e.match("color")){var n=e.replace("fill","bgFill").replace("color","fill");r_[t].textStyles.push(n)}r_[t].styles.push(e)}))},setDirection:function(t){(Kx=t).match(/.*</)&&(Kx="RL"),Kx.match(/.*\^/)&&(Kx="BT"),Kx.match(/.*>/)&&(Kx="LR"),Kx.match(/.*v/)&&(Kx="TB")},setClass:f_,setTooltip:function(t,e){t.split(",").forEach((function(t){void 0!==e&&(a_["gen-1"===Jx?h_(t):t]=u_(e))}))},getTooltip:function(t){return a_[t]},setClickEvent:function(t,e,n){t.split(",").forEach((function(t){!function(t,e,n){var r=h_(t);if("loose"===mb().securityLevel&&void 0!==e){var i=[];if("string"==typeof n){i=n.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(var o=0;o<i.length;o++){var a=i[o].trim();'"'===a.charAt(0)&&'"'===a.charAt(a.length-1)&&(a=a.substr(1,a.length-2)),i[o]=a}}0===i.length&&i.push(t),void 0!==e_[t]&&(e_[t].haveCallback=!0,c_.push((function(){var t=document.querySelector('[id="'.concat(r,'"]'));null!==t&&t.addEventListener("click",(function(){var t;ab.runFunc.apply(ab,[e].concat(function(t){if(Array.isArray(t))return Xx(t)}(t=i)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return Xx(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xx(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))}),!1)})))}}(t,e,n)})),f_(t,"clickable")},setLink:function(t,e,n){t.split(",").forEach((function(t){void 0!==e_[t]&&(e_[t].link=ab.formatUrl(e,t_),e_[t].linkTarget=n)})),f_(t,"clickable")},bindFunctions:function(t){c_.forEach((function(e){e(t)}))},getDirection:function(){return Kx.trim()},getVertices:function(){return e_},getEdges:function(){return n_},getClasses:function(){return r_},clear:function(t){e_={},r_={},n_=[],(c_=[]).push(p_),i_=[],o_={},s_=0,a_=[],l_=!0,Jx=t||"gen-1",Eb()},setGen:function(t){Jx=t||"gen-1"},defaultStyle:function(){return"fill:#ffa;stroke: #f66; stroke-width: 3px; stroke-dasharray: 5, 5;fill:#ffa;stroke: #666;"},addSubGraph:function(t,e,n){var r=t.trim(),i=n;t===n&&n.match(/\s/)&&(r=void 0);var o=[],s=function(t){var e,n={boolean:{},number:{},string:{}},r=[],i=t.filter((function(t){var i=Gx(t);return t.stmt&&"dir"===t.stmt?(e=t.value,!1):""!==t.trim()&&(i in n?!n[i].hasOwnProperty(t)&&(n[i][t]=!0):!(r.indexOf(t)>=0)&&r.push(t))}));return{nodeList:i,dir:e}}(o.concat.apply(o,e)),l=s.nodeList,c=s.dir;if(o=l,"gen-1"===Jx){a.warn("LOOKING UP");for(var u=0;u<o.length;u++)o[u]=h_(o[u])}r=r||"subGraph"+s_,i=u_(i=i||""),s_+=1;var h={id:r,nodes:o,title:i.trim(),classes:[],dir:c};return a.info("Adding",h.id,h.nodes,h.dir),h.nodes=w_(h,i_).nodes,i_.push(h),o_[r]=h,r},getDepthFirstPos:function(t){return y_[t]},indexNodes:function(){m_=-1,i_.length>0&&v_("none",i_.length-1)},getSubGraphs:function(){return i_},destructLink:function(t,e){var n,r=function(t){var e=t.trim(),n=e.slice(0,-1),r="arrow_open";switch(e.slice(-1)){case"x":r="arrow_cross","x"===e[0]&&(r="double_"+r,n=n.slice(1));break;case">":r="arrow_point","<"===e[0]&&(r="double_"+r,n=n.slice(1));break;case"o":r="arrow_circle","o"===e[0]&&(r="double_"+r,n=n.slice(1))}var i="normal",o=n.length-1;"="===n[0]&&(i="thick");var a=function(t,e){for(var n=e.length,r=0,i=0;i<n;++i)"."===e[i]&&++r;return r}(0,n);return a&&(i="dotted",o=a),{type:r,stroke:i,length:o}}(t);if(e){if(n=function(t){var e=t.trim(),n="arrow_open";switch(e[0]){case"<":n="arrow_point",e=e.slice(1);break;case"x":n="arrow_cross",e=e.slice(1);break;case"o":n="arrow_circle",e=e.slice(1)}var r="normal";return-1!==e.indexOf("=")&&(r="thick"),-1!==e.indexOf(".")&&(r="dotted"),{type:n,stroke:r}}(e),n.stroke!==r.stroke)return{type:"INVALID",stroke:"INVALID"};if("arrow_open"===n.type)n.type=r.type;else{if(n.type!==r.type)return{type:"INVALID",stroke:"INVALID"};n.type="double_"+n.type}return"double_arrow"===n.type&&(n.type="double_arrow_point"),n.length=r.length,n}return r},lex:{firstGraph:function(){return!!l_&&(l_=!1,!0)}},exists:b_,makeUniq:w_};var __=n(3602),k_=n.n(__),E_=n(4949),C_=n.n(E_),S_=n(8284),D_=n.n(S_);function T_(t,e,n){var r=.9*(e.width+e.height),i=[{x:r/2,y:0},{x:r,y:-r/2},{x:r/2,y:-r},{x:0,y:-r/2}],o=z_(t,r,r,i);return n.intersect=function(t){return C_().intersect.polygon(n,i,t)},o}function A_(t,e,n){var r=e.height,i=r/4,o=e.width+2*i,a=[{x:i,y:0},{x:o-i,y:0},{x:o,y:-r/2},{x:o-i,y:-r},{x:i,y:-r},{x:0,y:-r/2}],s=z_(t,o,r,a);return n.intersect=function(t){return C_().intersect.polygon(n,a,t)},s}function M_(t,e,n){var r=e.width,i=e.height,o=[{x:-i/2,y:0},{x:r,y:0},{x:r,y:-i},{x:-i/2,y:-i},{x:0,y:-i/2}],a=z_(t,r,i,o);return n.intersect=function(t){return C_().intersect.polygon(n,o,t)},a}function N_(t,e,n){var r=e.width,i=e.height,o=[{x:-2*i/6,y:0},{x:r-i/6,y:0},{x:r+2*i/6,y:-i},{x:i/6,y:-i}],a=z_(t,r,i,o);return n.intersect=function(t){return C_().intersect.polygon(n,o,t)},a}function O_(t,e,n){var r=e.width,i=e.height,o=[{x:2*i/6,y:0},{x:r+i/6,y:0},{x:r-2*i/6,y:-i},{x:-i/6,y:-i}],a=z_(t,r,i,o);return n.intersect=function(t){return C_().intersect.polygon(n,o,t)},a}function F_(t,e,n){var r=e.width,i=e.height,o=[{x:-2*i/6,y:0},{x:r+2*i/6,y:0},{x:r-i/6,y:-i},{x:i/6,y:-i}],a=z_(t,r,i,o);return n.intersect=function(t){return C_().intersect.polygon(n,o,t)},a}function I_(t,e,n){var r=e.width,i=e.height,o=[{x:i/6,y:0},{x:r-i/6,y:0},{x:r+2*i/6,y:-i},{x:-2*i/6,y:-i}],a=z_(t,r,i,o);return n.intersect=function(t){return C_().intersect.polygon(n,o,t)},a}function L_(t,e,n){var r=e.width,i=e.height,o=[{x:0,y:0},{x:r+i/2,y:0},{x:r,y:-i/2},{x:r+i/2,y:-i},{x:0,y:-i}],a=z_(t,r,i,o);return n.intersect=function(t){return C_().intersect.polygon(n,o,t)},a}function B_(t,e,n){var r=e.height,i=e.width+r/4,o=t.insert("rect",":first-child").attr("rx",r/2).attr("ry",r/2).attr("x",-i/2).attr("y",-r/2).attr("width",i).attr("height",r);return n.intersect=function(t){return C_().intersect.rect(n,t)},o}function R_(t,e,n){var r=e.width,i=e.height,o=[{x:0,y:0},{x:r,y:0},{x:r,y:-i},{x:0,y:-i},{x:0,y:0},{x:-8,y:0},{x:r+8,y:0},{x:r+8,y:-i},{x:-8,y:-i},{x:-8,y:0}],a=z_(t,r,i,o);return n.intersect=function(t){return C_().intersect.polygon(n,o,t)},a}function P_(t,e,n){var r=e.width,i=r/2,o=i/(2.5+r/50),a=e.height+o,s="M 0,"+o+" a "+i+","+o+" 0,0,0 "+r+" 0 a "+i+","+o+" 0,0,0 "+-r+" 0 l 0,"+a+" a "+i+","+o+" 0,0,0 "+r+" 0 l 0,"+-a,l=t.attr("label-offset-y",o).insert("path",":first-child").attr("d",s).attr("transform","translate("+-r/2+","+-(a/2+o)+")");return n.intersect=function(t){var e=C_().intersect.rect(n,t),r=e.x-n.x;if(0!=i&&(Math.abs(r)<n.width/2||Math.abs(r)==n.width/2&&Math.abs(e.y-n.y)>n.height/2-o)){var a=o*o*(1-r*r/(i*i));0!=a&&(a=Math.sqrt(a)),a=o-a,t.y-n.y>0&&(a=-a),e.y+=a}return e},l}function z_(t,e,n,r){return t.insert("polygon",":first-child").attr("points",r.map((function(t){return t.x+","+t.y})).join(" ")).attr("transform","translate("+-e/2+","+n/2+")")}var $_={};const j_=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)$_[e[n]]=t[e[n]]},U_=function(t,e){a.info("Drawing flowchart"),x_.clear(),x_.setGen("gen-1");var n=k_().parser;n.yy=x_;var r,i=mb().securityLevel;"sandbox"===i&&(r=ic("#i"+e));var o=ic("sandbox"===i?r.nodes()[0].contentDocument.body:"body"),s="sandbox"===i?r.nodes()[0].contentDocument:document;n.parse(t);var l=x_.getDirection();void 0===l&&(l="TD");for(var c,u=mb().flowchart,h=u.nodeSpacing||50,d=u.rankSpacing||50,f=new(Fw().Graph)({multigraph:!0,compound:!0}).setGraph({rankdir:l,nodesep:h,ranksep:d,marginx:8,marginy:8}).setDefaultEdgeLabel((function(){return{}})),p=x_.getSubGraphs(),g=p.length-1;g>=0;g--)c=p[g],x_.addVertex(c.id,c.title,"group",void 0,c.classes);var m=x_.getVertices();a.warn("Get vertices",m);var y=x_.getEdges(),v=0;for(v=p.length-1;v>=0;v--){c=p[v],oc("cluster").append("text");for(var b=0;b<c.nodes.length;b++)a.warn("Setting subgraph",c.nodes[b],x_.lookUpDomId(c.nodes[b]),x_.lookUpDomId(c.id)),f.setParent(x_.lookUpDomId(c.nodes[b]),x_.lookUpDomId(c.id))}(function(t,e,n,r,i){mb().securityLevel;var o=r?r.select('[id="'.concat(n,'"]')):ic('[id="'.concat(n,'"]')),s=i||document;Object.keys(t).forEach((function(n){var r=t[n],i="default";r.classes.length>0&&(i=r.classes.join(" "));var l,c=qv(r.styles),u=void 0!==r.text?r.text:r.id;if(zy(mb().flowchart.htmlLabels)){var h={label:u.replace(/fa[lrsb]?:fa-[\w-]+/g,(function(t){return"<i class='".concat(t.replace(":"," "),"'></i>")}))};(l=D_()(o,h).node()).parentNode.removeChild(l)}else{var d=s.createElementNS("http://www.w3.org/2000/svg","text");d.setAttribute("style",c.labelStyle.replace("color:","fill:"));for(var f=u.split($y.lineBreakRegex),p=0;p<f.length;p++){var g=s.createElementNS("http://www.w3.org/2000/svg","tspan");g.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),g.setAttribute("dy","1em"),g.setAttribute("x","1"),g.textContent=f[p],d.appendChild(g)}l=d}var m=0,y="";switch(r.type){case"round":m=5,y="rect";break;case"square":case"group":default:y="rect";break;case"diamond":y="question";break;case"hexagon":y="hexagon";break;case"odd":case"odd_right":y="rect_left_inv_arrow";break;case"lean_right":y="lean_right";break;case"lean_left":y="lean_left";break;case"trapezoid":y="trapezoid";break;case"inv_trapezoid":y="inv_trapezoid";break;case"circle":y="circle";break;case"ellipse":y="ellipse";break;case"stadium":y="stadium";break;case"subroutine":y="subroutine";break;case"cylinder":y="cylinder"}a.warn("Adding node",r.id,r.domId),e.setNode(x_.lookUpDomId(r.id),{labelType:"svg",labelStyle:c.labelStyle,shape:y,label:l,rx:m,ry:m,class:i,style:c.style,id:x_.lookUpDomId(r.id)})}))})(m,f,e,o,s),function(t,e){var n,r,i=0;if(void 0!==t.defaultStyle){var o=qv(t.defaultStyle);n=o.style,r=o.labelStyle}t.forEach((function(o){i++;var a="L-"+o.start+"-"+o.end,s="LS-"+o.start,l="LE-"+o.end,c={};"arrow_open"===o.type?c.arrowhead="none":c.arrowhead="normal";var u="",h="";if(void 0!==o.style){var d=qv(o.style);u=d.style,h=d.labelStyle}else switch(o.stroke){case"normal":u="fill:none",void 0!==n&&(u=n),void 0!==r&&(h=r);break;case"dotted":u="fill:none;stroke-width:2px;stroke-dasharray:3;";break;case"thick":u=" stroke-width: 3.5px;fill:none"}c.style=u,c.labelStyle=h,void 0!==o.interpolate?c.curve=Uv(o.interpolate,Rc):void 0!==t.defaultInterpolate?c.curve=Uv(t.defaultInterpolate,Rc):c.curve=Uv($_.curve,Rc),void 0===o.text?void 0!==o.style&&(c.arrowheadStyle="fill: #333"):(c.arrowheadStyle="fill: #333",c.labelpos="c",zy(mb().flowchart.htmlLabels)?(c.labelType="html",c.label='<span id="L-'.concat(a,'" class="edgeLabel L-').concat(s,"' L-").concat(l,'" style="').concat(c.labelStyle,'">').concat(o.text.replace(/fa[lrsb]?:fa-[\w-]+/g,(function(t){return"<i class='".concat(t.replace(":"," "),"'></i>")})),"</span>")):(c.labelType="text",c.label=o.text.replace($y.lineBreakRegex,"\n"),void 0===o.style&&(c.style=c.style||"stroke: #333; stroke-width: 1.5px;fill:none"),c.labelStyle=c.labelStyle.replace("color:","fill:"))),c.id=a,c.class=s+" "+l,c.minlen=o.length||1,e.setEdge(x_.lookUpDomId(o.start),x_.lookUpDomId(o.end),c,i)}))}(y,f);var w=new(0,C_().render);(function(t){t.shapes().question=T_,t.shapes().hexagon=A_,t.shapes().stadium=B_,t.shapes().subroutine=R_,t.shapes().cylinder=P_,t.shapes().rect_left_inv_arrow=M_,t.shapes().lean_right=N_,t.shapes().lean_left=O_,t.shapes().trapezoid=F_,t.shapes().inv_trapezoid=I_,t.shapes().rect_right_inv_arrow=L_})(w),w.arrows().none=function(t,e,n,r){var i=t.append("marker").attr("id",e).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 0 0 L 0 0 z");C_().util.applyStyle(i,n[r+"Style"])},w.arrows().normal=function(t,e){t.append("marker").attr("id",e).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowheadPath").style("stroke-width",1).style("stroke-dasharray","1,0")};var x=o.select('[id="'.concat(e,'"]'));x.attr("xmlns:xlink","http://www.w3.org/1999/xlink"),Gb(n.yy,x,e);var _=o.select("#"+e+" g");for(w(_,f),_.selectAll("g.node").attr("title",(function(){return x_.getTooltip(this.id)})),x_.indexNodes("subGraph"+v),v=0;v<p.length;v++)if("undefined"!==(c=p[v]).title){var k=s.querySelectorAll("#"+e+' [id="'+x_.lookUpDomId(c.id)+'"] rect'),E=s.querySelectorAll("#"+e+' [id="'+x_.lookUpDomId(c.id)+'"]'),C=k[0].x.baseVal.value,S=k[0].y.baseVal.value,D=k[0].width.baseVal.value,T=ic(E[0]).select(".label");T.attr("transform","translate(".concat(C+D/2,", ").concat(S+14,")")),T.attr("id",e+"Text");for(var A=0;A<c.classes.length;A++)E[0].classList.add(c.classes[A])}zy(u.htmlLabels);for(var M=s.querySelectorAll('[id="'+e+'"] .edgeLabel .label'),N=0;N<M.length;N++){var O=M[N],F=O.getBBox(),I=s.createElementNS("http://www.w3.org/2000/svg","rect");I.setAttribute("rx",0),I.setAttribute("ry",0),I.setAttribute("width",F.width),I.setAttribute("height",F.height),O.insertBefore(I,O.firstChild)}rb(f,x,u.diagramPadding,u.useMaxWidth),Object.keys(m).forEach((function(t){var n=m[t];if(n.link){var r=o.select("#"+e+' [id="'+x_.lookUpDomId(t)+'"]');if(r){var a=s.createElementNS("http://www.w3.org/2000/svg","a");a.setAttributeNS("http://www.w3.org/2000/svg","class",n.classes.join(" ")),a.setAttributeNS("http://www.w3.org/2000/svg","href",n.link),a.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),"sandbox"===i?a.setAttributeNS("http://www.w3.org/2000/svg","target","_top"):n.linkTarget&&a.setAttributeNS("http://www.w3.org/2000/svg","target",n.linkTarget);var l=r.insert((function(){return a}),":first-child"),c=r.select(".label-container");c&&l.append((function(){return c.node()}));var u=r.select(".label");u&&l.append((function(){return u.node()}))}}}))};var Y_={};const q_=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)Y_[e[n]]=t[e[n]]};function W_(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var H_,V_,G_="",X_="",K_="",J_=[],Z_=[],Q_={},tk=[],ek=[],nk="",rk=["active","done","crit","milestone"],ik=[],ok=!1,ak=!1,sk=0,lk=function(t,e,n,r){return!(r.indexOf(t.format(e.trim()))>=0)&&(t.isoWeekday()>=6&&n.indexOf("weekends")>=0||n.indexOf(t.format("dddd").toLowerCase())>=0||n.indexOf(t.format(e.trim()))>=0)},ck=function(t,e,n,r){if(n.length&&!t.manualEndTime){var o=i()(t.startTime,e,!0);o.add(1,"d");var a=i()(t.endTime,e,!0),s=uk(o,a,e,n,r);t.endTime=a.toDate(),t.renderEndTime=s}},uk=function(t,e,n,r,i){for(var o=!1,a=null;t<=e;)o||(a=e.toDate()),(o=lk(t,n,r,i))&&e.add(1,"d"),t.add(1,"d");return a},hk=function(t,e,n){n=n.trim();var r=/^after\s+([\d\w- ]+)/.exec(n.trim());if(null!==r){var o=null;if(r[1].split(" ").forEach((function(t){var e=vk(t);void 0!==e&&(o?e.endTime>o.endTime&&(o=e):o=e)})),o)return o.endTime;var s=new Date;return s.setHours(0,0,0,0),s}var l=i()(n,e.trim(),!0);return l.isValid()?l.toDate():(a.debug("Invalid date:"+n),a.debug("With date format:"+e.trim()),new Date)},dk=function(t,e){if(null!==t)switch(t[2]){case"s":e.add(t[1],"seconds");break;case"m":e.add(t[1],"minutes");break;case"h":e.add(t[1],"hours");break;case"d":e.add(t[1],"days");break;case"w":e.add(t[1],"weeks")}return e.toDate()},fk=function(t,e,n,r){r=r||!1,n=n.trim();var o=i()(n,e.trim(),!0);return o.isValid()?(r&&o.add(1,"d"),o.toDate()):dk(/^([\d]+)([wdhms])/.exec(n.trim()),i()(t))},pk=0,gk=function(t){return void 0===t?"task"+(pk+=1):t},mk=[],yk={},vk=function(t){var e=yk[t];return mk[e]},bk=function(){for(var t=function(t){var e=mk[t],n="";switch(mk[t].raw.startTime.type){case"prevTaskEnd":var r=vk(e.prevTaskId);e.startTime=r.endTime;break;case"getStartDate":(n=hk(0,G_,mk[t].raw.startTime.startData))&&(mk[t].startTime=n)}return mk[t].startTime&&(mk[t].endTime=fk(mk[t].startTime,G_,mk[t].raw.endTime.data,ok),mk[t].endTime&&(mk[t].processed=!0,mk[t].manualEndTime=i()(mk[t].raw.endTime.data,"YYYY-MM-DD",!0).isValid(),ck(mk[t],G_,Z_,J_))),mk[t].processed},e=!0,n=0;n<mk.length;n++)t(n),e=e&&mk[n].processed;return e},wk=function(t,e){t.split(",").forEach((function(t){var n=vk(t);void 0!==n&&n.classes.push(e)}))},xk=function(t,e){ik.push((function(){var n=document.querySelector('[id="'.concat(t,'"]'));null!==n&&n.addEventListener("click",(function(){e()}))})),ik.push((function(){var n=document.querySelector('[id="'.concat(t,'-text"]'));null!==n&&n.addEventListener("click",(function(){e()}))}))};const _k={parseDirective:function(t,e,n){WS.parseDirective(this,t,e,n)},getConfig:function(){return mb().gantt},clear:function(){tk=[],ek=[],nk="",ik=[],pk=0,H_=void 0,V_=void 0,mk=[],G_="",X_="",K_="",J_=[],Z_=[],ok=!1,ak=!1,sk=0,Q_={},Eb()},setDateFormat:function(t){G_=t},getDateFormat:function(){return G_},enableInclusiveEndDates:function(){ok=!0},endDatesAreInclusive:function(){return ok},enableTopAxis:function(){ak=!0},topAxisEnabled:function(){return ak},setAxisFormat:function(t){X_=t},getAxisFormat:function(){return X_},setTodayMarker:function(t){K_=t},getTodayMarker:function(){return K_},setAccTitle:Cb,getAccTitle:Sb,setDiagramTitle:Ab,getDiagramTitle:Mb,setAccDescription:Db,getAccDescription:Tb,addSection:function(t){nk=t,tk.push(t)},getSections:function(){return tk},getTasks:function(){for(var t=bk(),e=0;!t&&e<10;)t=bk(),e++;return ek=mk},addTask:function(t,e){var n={section:nk,type:nk,processed:!1,manualEndTime:!1,renderEndTime:null,raw:{data:e},task:t,classes:[]},r=function(t,e){var n=(":"===e.substr(0,1)?e.substr(1,e.length):e).split(","),r={};kk(n,r,rk);for(var i=0;i<n.length;i++)n[i]=n[i].trim();switch(n.length){case 1:r.id=gk(),r.startTime={type:"prevTaskEnd",id:t},r.endTime={data:n[0]};break;case 2:r.id=gk(),r.startTime={type:"getStartDate",startData:n[0]},r.endTime={data:n[1]};break;case 3:r.id=gk(n[0]),r.startTime={type:"getStartDate",startData:n[1]},r.endTime={data:n[2]}}return r}(V_,e);n.raw.startTime=r.startTime,n.raw.endTime=r.endTime,n.id=r.id,n.prevTaskId=V_,n.active=r.active,n.done=r.done,n.crit=r.crit,n.milestone=r.milestone,n.order=sk,sk++;var i=mk.push(n);V_=n.id,yk[n.id]=i-1},findTaskById:vk,addTaskOrg:function(t,e){var n={section:nk,type:nk,description:t,task:t,classes:[]},r=function(t,e){var n=(":"===e.substr(0,1)?e.substr(1,e.length):e).split(","),r={};kk(n,r,rk);for(var o=0;o<n.length;o++)n[o]=n[o].trim();var a="";switch(n.length){case 1:r.id=gk(),r.startTime=t.endTime,a=n[0];break;case 2:r.id=gk(),r.startTime=hk(0,G_,n[0]),a=n[1];break;case 3:r.id=gk(n[0]),r.startTime=hk(0,G_,n[1]),a=n[2]}return a&&(r.endTime=fk(r.startTime,G_,a,ok),r.manualEndTime=i()(a,"YYYY-MM-DD",!0).isValid(),ck(r,G_,Z_,J_)),r}(H_,e);n.startTime=r.startTime,n.endTime=r.endTime,n.id=r.id,n.active=r.active,n.done=r.done,n.crit=r.crit,n.milestone=r.milestone,H_=n,ek.push(n)},setIncludes:function(t){J_=t.toLowerCase().split(/[\s,]+/)},getIncludes:function(){return J_},setExcludes:function(t){Z_=t.toLowerCase().split(/[\s,]+/)},getExcludes:function(){return Z_},setClickEvent:function(t,e,n){t.split(",").forEach((function(t){!function(t,e,n){if("loose"===mb().securityLevel&&void 0!==e){var r=[];if("string"==typeof n){r=n.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(var i=0;i<r.length;i++){var o=r[i].trim();'"'===o.charAt(0)&&'"'===o.charAt(o.length-1)&&(o=o.substr(1,o.length-2)),r[i]=o}}0===r.length&&r.push(t),void 0!==vk(t)&&xk(t,(function(){var t;ab.runFunc.apply(ab,[e].concat(function(t){if(Array.isArray(t))return W_(t)}(t=r)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return W_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?W_(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()))}))}}(t,e,n)})),wk(t,"clickable")},setLink:function(t,e){var n=e;"loose"!==mb().securityLevel&&(n=(0,Ay.N)(e)),t.split(",").forEach((function(t){void 0!==vk(t)&&(xk(t,(function(){window.open(n,"_self")})),Q_[t]=n)})),wk(t,"clickable")},getLinks:function(){return Q_},bindFunctions:function(t){ik.forEach((function(e){e(t)}))},durationToDate:dk,isInvalidDate:lk};function kk(t,e,n){for(var r=!0;r;)r=!1,n.forEach((function(n){var i=new RegExp("^\\s*"+n+"\\s*$");t[0].match(i)&&(e[n]=!0,t.shift(1),r=!0)}))}var Ek,Ck=n(9959),Sk=n.n(Ck);Ck.parser.yy=_k;const Dk=function(){a.debug("Something is calling, setConf, remove the call")},Tk=function(t,e){var n=mb().gantt;Ck.parser.yy.clear(),Ck.parser.parse(t);var r,o=mb().securityLevel;"sandbox"===o&&(r=ic("#i"+e));var a=ic("sandbox"===o?r.nodes()[0].contentDocument.body:"body"),s="sandbox"===o?r.nodes()[0].contentDocument:document,u=s.getElementById(e);void 0===(Ek=u.parentElement.offsetWidth)&&(Ek=1200),void 0!==n.useWidth&&(Ek=n.useWidth);var h=Ck.parser.yy.getTasks(),d=h.length*(n.barHeight+n.barGap)+2*n.topPadding;u.setAttribute("viewBox","0 0 "+Ek+" "+d);for(var f=a.select('[id="'.concat(e,'"]')),p=function(){return Xi.apply(Us(ma,ya,Go,Ho,Po,Bo,Io,Oo,Mo,_a).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}().domain([c(h,(function(t){return t.startTime})),l(h,(function(t){return t.endTime}))]).rangeRound([0,Ek-n.leftPadding-n.rightPadding]),g=[],m=0;m<h.length;m++)g.push(h[m].type);var v=g;g=function(t){for(var e={},n=[],r=0,i=t.length;r<i;++r)Object.prototype.hasOwnProperty.call(e,t[r])||(e[t[r]]=!0,n.push(t[r]));return n}(g),h.sort((function(t,e){var n=t.startTime,r=e.startTime,i=0;return n>r?i=1:n<r&&(i=-1),i})),function(t,r,o){var a=n.barHeight,l=a+n.barGap,c=n.topPadding,u=n.leftPadding;ho().domain([0,g.length]).range(["#00B9FA","#F95002"]).interpolate(Pr),function(t,e,r,o,a,s,l,c){var u=s.reduce((function(t,e){var n=e.startTime;return t?Math.min(t,n):n}),0),h=s.reduce((function(t,e){var n=e.endTime;return t?Math.max(t,n):n}),0),d=Ck.parser.yy.getDateFormat();if(u&&h){for(var g=[],m=null,y=i()(u);y.valueOf()<=h;)Ck.parser.yy.isInvalidDate(y,d,l,c)?m?m.end=y.clone():m={start:y.clone(),end:y.clone()}:m&&(g.push(m),m=null),y.add(1,"d");f.append("g").selectAll("rect").data(g).enter().append("rect").attr("id",(function(t){return"exclude-"+t.start.format("YYYY-MM-DD")})).attr("x",(function(t){return p(t.start)+r})).attr("y",n.gridLineStartPadding).attr("width",(function(t){var e=t.end.clone().add(1,"day");return p(e)-p(t.start)})).attr("height",a-e-n.gridLineStartPadding).attr("transform-origin",(function(e,n){return(p(e.start)+r+.5*(p(e.end)-p(e.start))).toString()+"px "+(n*t+.5*a).toString()+"px"})).attr("class","exclude-range")}}(l,c,u,0,o,t,Ck.parser.yy.getExcludes(),Ck.parser.yy.getIncludes()),function(t,e,r,i){var o,a=(o=p,y(3,o)).tickSize(-i+e+n.gridLineStartPadding).tickFormat(zu(Ck.parser.yy.getAxisFormat()||n.axisFormat||"%Y-%m-%d"));if(f.append("g").attr("class","grid").attr("transform","translate("+t+", "+(i-50)+")").call(a).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10).attr("dy","1em"),_k.topAxisEnabled()||n.topAxis){var s=function(t){return y(1,t)}(p).tickSize(-i+e+n.gridLineStartPadding).tickFormat(zu(Ck.parser.yy.getAxisFormat()||n.axisFormat||"%Y-%m-%d"));f.append("g").attr("class","grid").attr("transform","translate("+t+", "+e+")").call(s).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10)}}(u,c,0,o),function(t,r,i,o,a,s,l){f.append("g").selectAll("rect").data(t).enter().append("rect").attr("x",0).attr("y",(function(t,e){return t.order*r+i-2})).attr("width",(function(){return l-n.rightPadding/2})).attr("height",r).attr("class",(function(t){for(var e=0;e<g.length;e++)if(t.type===g[e])return"section section"+e%n.numberSectionStyles;return"section section0"}));var c=f.append("g").selectAll("rect").data(t).enter(),u=_k.getLinks();if(c.append("rect").attr("id",(function(t){return t.id})).attr("rx",3).attr("ry",3).attr("x",(function(t){return t.milestone?p(t.startTime)+o+.5*(p(t.endTime)-p(t.startTime))-.5*a:p(t.startTime)+o})).attr("y",(function(t,e){return t.order*r+i})).attr("width",(function(t){return t.milestone?a:p(t.renderEndTime||t.endTime)-p(t.startTime)})).attr("height",a).attr("transform-origin",(function(t,e){return e=t.order,(p(t.startTime)+o+.5*(p(t.endTime)-p(t.startTime))).toString()+"px "+(e*r+i+.5*a).toString()+"px"})).attr("class",(function(t){var e="";t.classes.length>0&&(e=t.classes.join(" "));for(var r=0,i=0;i<g.length;i++)t.type===g[i]&&(r=i%n.numberSectionStyles);var o="";return t.active?t.crit?o+=" activeCrit":o=" active":t.done?o=t.crit?" doneCrit":" done":t.crit&&(o+=" crit"),0===o.length&&(o=" task"),t.milestone&&(o=" milestone "+o),"task"+(o+=r)+" "+e})),c.append("text").attr("id",(function(t){return t.id+"-text"})).text((function(t){return t.task})).attr("font-size",n.fontSize).attr("x",(function(t){var e=p(t.startTime),r=p(t.renderEndTime||t.endTime);t.milestone&&(e+=.5*(p(t.endTime)-p(t.startTime))-.5*a),t.milestone&&(r=e+a);var i=this.getBBox().width;return i>r-e?r+i+1.5*n.leftPadding>l?e+o-5:r+o+5:(r-e)/2+e+o})).attr("y",(function(t,e){return t.order*r+n.barHeight/2+(n.fontSize/2-2)+i})).attr("text-height",a).attr("class",(function(t){var e=p(t.startTime),r=p(t.endTime);t.milestone&&(r=e+a);var i=this.getBBox().width,o="";t.classes.length>0&&(o=t.classes.join(" "));for(var s=0,c=0;c<g.length;c++)t.type===g[c]&&(s=c%n.numberSectionStyles);var u="";return t.active&&(u=t.crit?"activeCritText"+s:"activeText"+s),t.done?u=t.crit?u+" doneCritText"+s:u+" doneText"+s:t.crit&&(u=u+" critText"+s),t.milestone&&(u+=" milestoneText"),i>r-e?r+i+1.5*n.leftPadding>l?o+" taskTextOutsideLeft taskTextOutside"+s+" "+u:o+" taskTextOutsideRight taskTextOutside"+s+" "+u+" width-"+i:o+" taskText taskText"+s+" "+u+" width-"+i})),"sandbox"===mb().securityLevel){var h;h=ic("#i"+e),ic(h.nodes()[0].contentDocument.body);var d=h.nodes()[0].contentDocument;c.filter((function(t){return void 0!==u[t.id]})).each((function(t){var e=d.querySelector("#"+t.id),n=d.querySelector("#"+t.id+"-text"),r=e.parentNode,i=d.createElement("a");i.setAttribute("xlink:href",u[t.id]),i.setAttribute("target","_top"),r.appendChild(i),i.appendChild(e),i.appendChild(n)}))}}(t,l,c,u,a,0,r),function(t,e){for(var r=[],i=0,o=0;o<g.length;o++)r[o]=[g[o],(a=g[o],l=v,function(t){for(var e=t.length,n={};e;)n[t[--e]]=(n[t[e]]||0)+1;return n}(l)[a]||0)];var a,l;f.append("g").selectAll("text").data(r).enter().append((function(t){var e=t[0].split($y.lineBreakRegex),n=-(e.length-1)/2,r=s.createElementNS("http://www.w3.org/2000/svg","text");r.setAttribute("dy",n+"em");for(var i=0;i<e.length;i++){var o=s.createElementNS("http://www.w3.org/2000/svg","tspan");o.setAttribute("alignment-baseline","central"),o.setAttribute("x","10"),i>0&&o.setAttribute("dy","1em"),o.textContent=e[i],r.appendChild(o)}return r})).attr("x",10).attr("y",(function(n,o){if(!(o>0))return n[1]*t/2+e;for(var a=0;a<o;a++)return i+=r[o-1][1],n[1]*t/2+i*t+e})).attr("font-size",n.sectionFontSize).attr("font-size",n.sectionFontSize).attr("class",(function(t){for(var e=0;e<g.length;e++)if(t[0]===g[e])return"sectionTitle sectionTitle"+e%n.numberSectionStyles;return"sectionTitle"}))}(l,c),function(t,e,r,i){var o=_k.getTodayMarker();if("off"!==o){var a=f.append("g").attr("class","today"),s=new Date,l=a.append("line");l.attr("x1",p(s)+t).attr("x2",p(s)+t).attr("y1",n.titleTopMargin).attr("y2",i-n.titleTopMargin).attr("class","today"),""!==o&&l.attr("style",o.replace(/,/g,";"))}}(u,0,0,o)}(h,Ek,d),nb(f,d,Ek,n.useMaxWidth),f.append("text").text(Ck.parser.yy.getDiagramTitle()).attr("x",Ek/2).attr("y",n.titleTopMargin).attr("class","titleText"),Gb(Ck.parser.yy,f,e)};function Ak(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Mk(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ak(Object(n),!0).forEach((function(e){Nk(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ak(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Nk(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ok=mb().gitGraph.mainBranchName,Fk=mb().gitGraph.mainBranchOrder,Ik={},Lk=null,Bk={};Bk[Ok]={name:Ok,order:Fk};var Rk={};Rk[Ok]=Lk;var Pk=Ok,zk="LR",$k=0;function jk(){return Vv({length:7})}var Uk={},Yk=function(t){if(t=$y.sanitizeText(t,mb()),void 0===Rk[t]){var e=new Error('Trying to checkout branch which is not yet created. (Help try using "branch '+t+'")');throw e.hash={text:"checkout "+t,token:"checkout "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:['"branch '+t+'"']},e}var n=Rk[Pk=t];Lk=Ik[n]};function qk(t,e,n){var r=t.indexOf(e);-1===r?t.push(n):t.splice(r,1,n)}function Wk(t){var e=t.reduce((function(t,e){return t.seq>e.seq?t:e}),t[0]),n="";t.forEach((function(t){n+=t===e?"\t*":"\t|"}));var r,i,o,s=[n,e.id,e.seq];for(var l in Rk)Rk[l]===e.id&&s.push(l);if(a.debug(s.join(" ")),e.parents&&2==e.parents.length){var c=Ik[e.parents[0]];qk(t,e,c),t.push(Ik[e.parents[1]])}else{if(0==e.parents.length)return;var u=Ik[e.parents];qk(t,e,u)}r=t,i=function(t){return t.id},o=Object.create(null),Wk(t=r.reduce((function(t,e){var n=i(e);return o[n]||(o[n]=!0,t.push(e)),t}),[]))}var Hk=function(){var t=Object.keys(Ik).map((function(t){return Ik[t]}));return t.forEach((function(t){a.debug(t.id)})),t.sort((function(t,e){return t.seq-e.seq})),t},Vk={NORMAL:0,REVERSE:1,HIGHLIGHT:2,MERGE:3,CHERRY_PICK:4};const Gk={parseDirective:function(t,e,n){WS.parseDirective(this,t,e,n)},getConfig:function(){return mb().gitGraph},setDirection:function(t){zk=t},setOptions:function(t){a.debug("options str",t),t=(t=t&&t.trim())||"{}";try{Uk=JSON.parse(t)}catch(t){a.error("error while parsing gitGraph options",t.message)}},getOptions:function(){return Uk},commit:function(t,e,n,r){a.debug("Entering commit:",t,e,n,r),e=$y.sanitizeText(e,mb()),t=$y.sanitizeText(t,mb()),r=$y.sanitizeText(r,mb());var i={id:e||$k+"-"+jk(),message:t,seq:$k++,type:n||Vk.NORMAL,tag:r||"",parents:null==Lk?[]:[Lk.id],branch:Pk};Lk=i,Ik[i.id]=i,Rk[Pk]=i.id,a.debug("in pushCommit "+i.id)},branch:function(t,e){if(t=$y.sanitizeText(t,mb()),void 0!==Rk[t]){var n=new Error('Trying to create an existing branch. (Help: Either use a new name if you want create a new branch or try using "checkout '+t+'")');throw n.hash={text:"branch "+t,token:"branch "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:['"checkout '+t+'"']},n}Rk[t]=null!=Lk?Lk.id:null,Bk[t]={name:t,order:e?parseInt(e,10):null},Yk(t),a.debug("in createBranch")},merge:function(t,e){t=$y.sanitizeText(t,mb());var n=Ik[Rk[Pk]],r=Ik[Rk[t]];if(Pk===t){var i=new Error('Incorrect usage of "merge". Cannot merge a branch to itself');throw i.hash={text:"merge "+t,token:"merge "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["branch abc"]},i}if(void 0===n||!n){var o=new Error('Incorrect usage of "merge". Current branch ('+Pk+")has no commits");throw o.hash={text:"merge "+t,token:"merge "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["commit"]},o}if(void 0===Rk[t]){var s=new Error('Incorrect usage of "merge". Branch to be merged ('+t+") does not exist");throw s.hash={text:"merge "+t,token:"merge "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["branch "+t]},s}if(void 0===r||!r){var l=new Error('Incorrect usage of "merge". Branch to be merged ('+t+") has no commits");throw l.hash={text:"merge "+t,token:"merge "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:['"commit"']},l}if(n===r){var c=new Error('Incorrect usage of "merge". Both branches have same head');throw c.hash={text:"merge "+t,token:"merge "+t,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["branch abc"]},c}var u={id:$k+"-"+jk(),message:"merged branch "+t+" into "+Pk,seq:$k++,parents:[null==Lk?null:Lk.id,Rk[t]],branch:Pk,type:Vk.MERGE,tag:e||""};Lk=u,Ik[u.id]=u,Rk[Pk]=u.id,a.debug(Rk),a.debug("in mergeBranch")},cherryPick:function(t,e){if(t=$y.sanitizeText(t,mb()),e=$y.sanitizeText(e,mb()),!t||void 0===Ik[t]){var n=new Error('Incorrect usage of "cherryPick". Source commit id should exist and provided');throw n.hash={text:"cherryPick "+t+" "+e,token:"cherryPick "+t+" "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},n}var r=Ik[t],i=r.branch;if(r.type===Vk.MERGE){var o=new Error('Incorrect usage of "cherryPick". Source commit should not be a merge commit');throw o.hash={text:"cherryPick "+t+" "+e,token:"cherryPick "+t+" "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},o}if(!e||void 0===Ik[e]){if(i===Pk){var s=new Error('Incorrect usage of "cherryPick". Source commit is already on current branch');throw s.hash={text:"cherryPick "+t+" "+e,token:"cherryPick "+t+" "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},s}var l=Ik[Rk[Pk]];if(void 0===l||!l){var c=new Error('Incorrect usage of "cherry-pick". Current branch ('+Pk+")has no commits");throw c.hash={text:"cherryPick "+t+" "+e,token:"cherryPick "+t+" "+e,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},c}var u={id:$k+"-"+jk(),message:"cherry-picked "+r+" into "+Pk,seq:$k++,parents:[null==Lk?null:Lk.id,r.id],branch:Pk,type:Vk.CHERRY_PICK,tag:"cherry-pick:"+r.id};Lk=u,Ik[u.id]=u,Rk[Pk]=u.id,a.debug(Rk),a.debug("in cheeryPick")}},checkout:Yk,prettyPrint:function(){a.debug(Ik),Wk([Hk()[0]])},clear:function(){Ik={},Lk=null;var t=mb().gitGraph.mainBranchName,e=mb().gitGraph.mainBranchOrder;(Rk={})[t]=null,(Bk={})[t]={name:t,order:e},Pk=t,$k=0,Eb()},getBranchesAsObjArray:function(){return Object.values(Bk).map((function(t,e){return null!==t.order?t:Mk(Mk({},t),{},{order:parseFloat("0.".concat(e),10)})})).sort((function(t,e){return t.order-e.order})).map((function(t){return{name:t.name}}))},getBranches:function(){return Rk},getCommits:function(){return Ik},getCommitsArray:Hk,getCurrentBranch:function(){return Pk},getDirection:function(){return zk},getHead:function(){return Lk},setAccTitle:Cb,getAccTitle:Sb,getAccDescription:Tb,setAccDescription:Db,commitType:Vk};var Xk=n(2553),Kk=n.n(Xk),Jk={},Zk={},Qk={},tE=[],eE=0,nE=function(t,e,n){var r=mb().gitGraph,i=t.append("g").attr("class","commit-bullets"),o=t.append("g").attr("class","commit-labels"),a=0;Object.keys(e).sort((function(t,n){return e[t].seq-e[n].seq})).forEach((function(t,s){var l=e[t],c=Zk[l.branch].pos,u=a+10;if(n){var h;switch(l.type){case 0:default:h="commit-normal";break;case 1:h="commit-reverse";break;case 2:h="commit-highlight";break;case 3:h="commit-merge";break;case 4:h="commit-cherry-pick"}if(2===l.type){var d=i.append("rect");d.attr("x",u-10),d.attr("y",c-10),d.attr("height",20),d.attr("width",20),d.attr("class","commit "+l.id+" commit-highlight"+Zk[l.branch].index+" "+h+"-outer"),i.append("rect").attr("x",u-6).attr("y",c-6).attr("height",12).attr("width",12).attr("class","commit "+l.id+" commit"+Zk[l.branch].index+" "+h+"-inner")}else if(4===l.type)i.append("circle").attr("cx",u).attr("cy",c).attr("r",10).attr("class","commit "+l.id+" "+h),i.append("circle").attr("cx",u-3).attr("cy",c+2).attr("r",2.75).attr("fill","#fff").attr("class","commit "+l.id+" "+h),i.append("circle").attr("cx",u+3).attr("cy",c+2).attr("r",2.75).attr("fill","#fff").attr("class","commit "+l.id+" "+h),i.append("line").attr("x1",u+3).attr("y1",c+1).attr("x2",u).attr("y2",c-5).attr("stroke","#fff").attr("class","commit "+l.id+" "+h),i.append("line").attr("x1",u-3).attr("y1",c+1).attr("x2",u).attr("y2",c-5).attr("stroke","#fff").attr("class","commit "+l.id+" "+h);else{var f=i.append("circle");if(f.attr("cx",u),f.attr("cy",c),f.attr("r",3===l.type?9:10),f.attr("class","commit "+l.id+" commit"+Zk[l.branch].index),3===l.type){var p=i.append("circle");p.attr("cx",u),p.attr("cy",c),p.attr("r",6),p.attr("class","commit "+h+" "+l.id+" commit"+Zk[l.branch].index)}1===l.type&&i.append("path").attr("d","M ".concat(u-5,",").concat(c-5,"L").concat(u+5,",").concat(c+5,"M").concat(u-5,",").concat(c+5,"L").concat(u+5,",").concat(c-5)).attr("class","commit "+h+" "+l.id+" commit"+Zk[l.branch].index)}}if(Qk[l.id]={x:a+10,y:c},n){if(4!==l.type&&3!==l.type&&r.showCommitLabel){var g=o.append("g"),m=g.insert("rect").attr("class","commit-label-bkg"),y=g.append("text").attr("x",a).attr("y",c+25).attr("class","commit-label").text(l.id),v=y.node().getBBox();if(m.attr("x",a+10-v.width/2-2).attr("y",c+13.5).attr("width",v.width+4).attr("height",v.height+4),y.attr("x",a+10-v.width/2),r.rotateCommitLabel){var b=-7.5-(v.width+10)/25*9.5,w=10+v.width/25*8.5;g.attr("transform","translate("+b+", "+w+") rotate(-45, "+a+", "+c+")")}}if(l.tag){var x=o.insert("polygon"),_=o.append("circle"),k=o.append("text").attr("y",c-16).attr("class","tag-label").text(l.tag),E=k.node().getBBox();k.attr("x",a+10-E.width/2);var C=E.height/2,S=c-19.2;x.attr("class","tag-label-bkg").attr("points","\n          ".concat(a-E.width/2-2,",").concat(S+2,"\n          ").concat(a-E.width/2-2,",").concat(S-2,"\n          ").concat(a+10-E.width/2-4,",").concat(S-C-2,"\n          ").concat(a+10+E.width/2+4,",").concat(S-C-2,"\n          ").concat(a+10+E.width/2+4,",").concat(S+C+2,"\n          ").concat(a+10-E.width/2-4,",").concat(S+C+2)),_.attr("cx",a-E.width/2+2).attr("cy",S).attr("r",1.5).attr("class","tag-hole")}}(a+=50)>eE&&(eE=a)}))},rE=function t(e,n,r){var i=r||0,o=e+Math.abs(e-n)/2;if(i>5)return o;for(var a=!0,s=0;s<tE.length;s++)Math.abs(tE[s]-o)<10&&(a=!1);return a?(tE.push(o),o):t(e,n-Math.abs(e-n)/5,i)};var iE="",oE=!1;const aE={setMessage:function(t){a.debug("Setting message to: "+t),iE=t},getMessage:function(){return iE},setInfo:function(t){oE=t},getInfo:function(){return oE}};var sE=n(6765),lE=n.n(sE),cE={};const uE=function(t){Object.keys(t).forEach((function(e){cE[e]=t[e]}))};var hE=n(7062),dE=n.n(hE),fE={},pE=!1;const gE={parseDirective:function(t,e,n){WS.parseDirective(this,t,e,n)},getConfig:function(){return mb().pie},addSection:function(t,e){t=$y.sanitizeText(t,mb()),void 0===fE[t]&&(fE[t]=e,a.debug("Added new section :",t))},getSections:function(){return fE},cleanupValue:function(t){return":"===t.substring(0,1)?(t=t.substring(1).trim(),Number(t.trim())):Number(t.trim())},clear:function(){fE={},pE=!1,Eb()},setAccTitle:Cb,getAccTitle:Sb,setDiagramTitle:Ab,getDiagramTitle:Mb,setShowData:function(t){pE=t},getShowData:function(){return pE},getAccDescription:Tb,setAccDescription:Db};var mE,yE=mb();const vE=function(t,e){try{yE=mb();var n=dE().parser;n.yy=gE,a.debug("Rendering info diagram\n"+t);var r,i=mb().securityLevel;"sandbox"===i&&(r=ic("#i"+e));var o=ic("sandbox"===i?r.nodes()[0].contentDocument.body:"body"),s="sandbox"===i?r.nodes()[0].contentDocument:document;n.yy.clear(),n.parse(t),a.debug("Parsed info diagram");var l=s.getElementById(e);void 0===(mE=l.parentElement.offsetWidth)&&(mE=1200),void 0!==yE.useWidth&&(mE=yE.useWidth),void 0!==yE.pie.useWidth&&(mE=yE.pie.useWidth);var c=o.select("#"+e);nb(c,450,mE,yE.pie.useMaxWidth),Gb(n.yy,c,e),l.setAttribute("viewBox","0 0 "+mE+" 450");var u=Math.min(mE,450)/2-40,h=c.append("g").attr("transform","translate("+mE/2+",225)"),d=gE.getSections(),f=0;Object.keys(d).forEach((function(t){f+=d[t]}));var p=yE.themeVariables,g=[p.pie1,p.pie2,p.pie3,p.pie4,p.pie5,p.pie6,p.pie7,p.pie8,p.pie9,p.pie10,p.pie11,p.pie12],m=yo().range(g),y=function(){var t=Uc,e=jc,n=null,r=fc(0),i=fc(Ec),o=fc(0);function a(a){var s,l,c,u,h,d=(a=Lc(a)).length,f=0,p=new Array(d),g=new Array(d),m=+r.apply(this,arguments),y=Math.min(Ec,Math.max(-Ec,i.apply(this,arguments)-m)),v=Math.min(Math.abs(y)/d,o.apply(this,arguments)),b=v*(y<0?-1:1);for(s=0;s<d;++s)(h=g[p[s]=s]=+t(a[s],s,a))>0&&(f+=h);for(null!=e?p.sort((function(t,n){return e(g[t],g[n])})):null!=n&&p.sort((function(t,e){return n(a[t],a[e])})),s=0,c=f?(y-d*b)/f:0;s<d;++s,m=u)l=p[s],u=m+((h=g[l])>0?h*c:0)+b,g[l]={data:a[l],index:s,value:h,startAngle:m,endAngle:u,padAngle:v};return g}return a.value=function(e){return arguments.length?(t="function"==typeof e?e:fc(+e),a):t},a.sortValues=function(t){return arguments.length?(e=t,n=null,a):e},a.sort=function(t){return arguments.length?(n=t,e=null,a):n},a.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:fc(+t),a):r},a.endAngle=function(t){return arguments.length?(i="function"==typeof t?t:fc(+t),a):i},a.padAngle=function(t){return arguments.length?(o="function"==typeof t?t:fc(+t),a):o},a}().value((function(t){return t[1]})),v=y(Object.entries(d)),b=Ic().innerRadius(0).outerRadius(u);h.selectAll("mySlices").data(v).enter().append("path").attr("d",b).attr("fill",(function(t){return m(t.data[0])})).attr("class","pieCircle"),h.selectAll("mySlices").data(v).enter().append("text").text((function(t){return(t.data[1]/f*100).toFixed(0)+"%"})).attr("transform",(function(t){return"translate("+b.centroid(t)+")"})).style("text-anchor","middle").attr("class","slice"),h.append("text").text(n.yy.getDiagramTitle()).attr("x",0).attr("y",-200).attr("class","pieTitleText");var w=h.selectAll(".legend").data(m.domain()).enter().append("g").attr("class","legend").attr("transform",(function(t,e){return"translate(216,"+(22*e-22*m.domain().length/2)+")"}));w.append("rect").attr("width",18).attr("height",18).style("fill",m).style("stroke",m),w.data(v).append("text").attr("x",22).attr("y",14).text((function(t){return n.yy.getShowData()||yE.showData||yE.pie.showData?t.data[0]+" ["+t.data[1]+"]":t.data[0]}))}catch(t){a.error("Error while rendering info diagram"),a.error(t)}};var bE=n(3176),wE=n.n(bE),xE=[],_E={},kE={},EE={},CE={};const SE={RequirementType:{REQUIREMENT:"Requirement",FUNCTIONAL_REQUIREMENT:"Functional Requirement",INTERFACE_REQUIREMENT:"Interface Requirement",PERFORMANCE_REQUIREMENT:"Performance Requirement",PHYSICAL_REQUIREMENT:"Physical Requirement",DESIGN_CONSTRAINT:"Design Constraint"},RiskLevel:{LOW_RISK:"Low",MED_RISK:"Medium",HIGH_RISK:"High"},VerifyType:{VERIFY_ANALYSIS:"Analysis",VERIFY_DEMONSTRATION:"Demonstration",VERIFY_INSPECTION:"Inspection",VERIFY_TEST:"Test"},Relationships:{CONTAINS:"contains",COPIES:"copies",DERIVES:"derives",SATISFIES:"satisfies",VERIFIES:"verifies",REFINES:"refines",TRACES:"traces"},parseDirective:function(t,e,n){WS.parseDirective(this,t,e,n)},getConfig:function(){return mb().req},addRequirement:function(t,e){return void 0===kE[t]&&(kE[t]={name:t,type:e,id:_E.id,text:_E.text,risk:_E.risk,verifyMethod:_E.verifyMethod}),_E={},kE[t]},getRequirements:function(){return kE},setNewReqId:function(t){void 0!==_E&&(_E.id=t)},setNewReqText:function(t){void 0!==_E&&(_E.text=t)},setNewReqRisk:function(t){void 0!==_E&&(_E.risk=t)},setNewReqVerifyMethod:function(t){void 0!==_E&&(_E.verifyMethod=t)},setAccTitle:Cb,getAccTitle:Sb,setAccDescription:Db,getAccDescription:Tb,addElement:function(t){return void 0===CE[t]&&(CE[t]={name:t,type:EE.type,docRef:EE.docRef},a.info("Added new requirement: ",t)),EE={},CE[t]},getElements:function(){return CE},setNewElementType:function(t){void 0!==EE&&(EE.type=t)},setNewElementDocRef:function(t){void 0!==EE&&(EE.docRef=t)},addRelationship:function(t,e,n){xE.push({type:t,src:e,dst:n})},getRelationships:function(){return xE},clear:function(){xE=[],_E={},kE={},EE={},CE={},Eb()}};var DE={CONTAINS:"contains",ARROW:"arrow"};const TE=DE;var AE={},ME=0,NE=function(t,e){return t.insert("rect","#"+e).attr("class","req reqBox").attr("x",0).attr("y",0).attr("width",AE.rect_min_width+"px").attr("height",AE.rect_min_height+"px")},OE=function(t,e,n){var r=AE.rect_min_width/2,i=t.append("text").attr("class","req reqLabel reqTitle").attr("id",e).attr("x",r).attr("y",AE.rect_padding).attr("dominant-baseline","hanging"),o=0;n.forEach((function(t){0==o?i.append("tspan").attr("text-anchor","middle").attr("x",AE.rect_min_width/2).attr("dy",0).text(t):i.append("tspan").attr("text-anchor","middle").attr("x",AE.rect_min_width/2).attr("dy",.75*AE.line_height).text(t),o++}));var a=1.5*AE.rect_padding+o*AE.line_height*.75;return t.append("line").attr("class","req-title-line").attr("x1","0").attr("x2",AE.rect_min_width).attr("y1",a).attr("y2",a),{titleNode:i,y:a}},FE=function(t,e,n,r){var i=t.append("text").attr("class","req reqLabel").attr("id",e).attr("x",AE.rect_padding).attr("y",r).attr("dominant-baseline","hanging"),o=0,a=[];return n.forEach((function(t){for(var e=t.length;e>30&&o<3;){var n=t.substring(0,30);e=(t=t.substring(30,t.length)).length,a[a.length]=n,o++}if(3==o){var r=a[a.length-1];a[a.length-1]=r.substring(0,r.length-4)+"..."}else a[a.length]=t;o=0})),a.forEach((function(t){i.append("tspan").attr("x",AE.rect_padding).attr("dy",AE.line_height).text(t)})),i},IE=function(t){return t.replace(/\s/g,"").replace(/\./g,"_")};const LE=function(t){if(void 0!==t)for(var e=Object.keys(t),n=0;n<e.length;n++)AE[e[n]]=t[e[n]]};var BE=n(6876),RE=n.n(BE),PE=void 0,zE={},$E=[],jE=[],UE=!1,YE=!1,qE=function(t,e,n,r){var i=zE[t];i&&e===i.name&&null==n||(null!=n&&null!=n.text||(n={text:e,wrap:null,type:r}),null!=r&&null!=n.text||(n={text:e,wrap:null,type:r}),zE[t]={name:e,description:n.text,wrap:void 0===n.wrap&&GE()||!!n.wrap,prevActor:PE,links:{},properties:{},actorCnt:null,rectData:null,type:r||"participant"},PE&&zE[PE]&&(zE[PE].nextActor=t),PE=t)},WE=function(t){var e,n=0;for(e=0;e<$E.length;e++)$E[e].type===XE.ACTIVE_START&&$E[e].from.actor===t&&n++,$E[e].type===XE.ACTIVE_END&&$E[e].from.actor===t&&n--;return n},HE=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{text:void 0,wrap:void 0},r=arguments.length>3?arguments[3]:void 0;if(r===XE.ACTIVE_END){var i=WE(t.actor);if(i<1){var o=new Error("Trying to inactivate an inactive participant ("+t.actor+")");throw o.hash={text:"->>-",token:"->>-",line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["'ACTIVE_PARTICIPANT'"]},o}}return $E.push({from:t,to:e,message:n.text,wrap:void 0===n.wrap&&GE()||!!n.wrap,type:r}),!0},VE=function(t){return zE[t]},GE=function(){return YE},XE={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25,AUTONUMBER:26,CRITICAL_START:27,CRITICAL_OPTION:28,CRITICAL_END:29,BREAK_START:30,BREAK_END:31},KE=function(t,e,n){var r={actor:t,placement:e,message:n.text,wrap:void 0===n.wrap&&GE()||!!n.wrap},i=[].concat(t,t);jE.push(r),$E.push({from:i[0],to:i[1],message:n.text,wrap:void 0===n.wrap&&GE()||!!n.wrap,type:XE.NOTE,placement:e})},JE=function(t,e){var n=VE(t);try{var r=Ly(e.text,mb());r=(r=r.replace(/&amp;/g,"&")).replace(/&equals;/g,"="),ZE(n,JSON.parse(r))}catch(t){a.error("error while parsing actor link text",t)}};function ZE(t,e){if(null==t.links)t.links=e;else for(var n in e)t.links[n]=e[n]}var QE=function(t,e){var n=VE(t);try{var r=Ly(e.text,mb());tC(n,JSON.parse(r))}catch(t){a.error("error while parsing actor properties text",t)}};function tC(t,e){if(null==t.properties)t.properties=e;else for(var n in e)t.properties[n]=e[n]}var eC=function(t,e){var n=VE(t),r=document.getElementById(e.text);try{var i=r.innerHTML,o=JSON.parse(i);o.properties&&tC(n,o.properties),o.links&&ZE(n,o.links)}catch(t){a.error("error while parsing actor details text",t)}};const nC={addActor:qE,addMessage:function(t,e,n,r){$E.push({from:t,to:e,message:n.text,wrap:void 0===n.wrap&&GE()||!!n.wrap,answer:r})},addSignal:HE,addLinks:JE,addDetails:eC,addProperties:QE,autoWrap:GE,setWrap:function(t){YE=t},enableSequenceNumbers:function(){UE=!0},disableSequenceNumbers:function(){UE=!1},showSequenceNumbers:function(){return UE},getMessages:function(){return $E},getActors:function(){return zE},getActor:VE,getActorKeys:function(){return Object.keys(zE)},getActorProperty:function(t,e){if(void 0!==t&&void 0!==t.properties)return t.properties[e]},getAccTitle:Sb,getDiagramTitle:Mb,setDiagramTitle:Ab,parseDirective:function(t,e,n){WS.parseDirective(this,t,e,n)},getConfig:function(){return mb().sequence},clear:function(){zE={},$E=[],UE=!1,Eb()},parseMessage:function(t){var e=t.trim(),n={text:e.replace(/^[:]?(?:no)?wrap:/,"").trim(),wrap:null!==e.match(/^[:]?wrap:/)||null===e.match(/^[:]?nowrap:/)&&void 0};return a.debug("parseMessage:",n),n},LINETYPE:XE,ARROWTYPE:{FILLED:0,OPEN:1},PLACEMENT:{LEFTOF:0,RIGHTOF:1,OVER:2},addNote:KE,setAccTitle:Cb,apply:function t(e){if(e instanceof Array)e.forEach((function(e){t(e)}));else switch(e.type){case"sequenceIndex":$E.push({from:void 0,to:void 0,message:{start:e.sequenceIndex,step:e.sequenceIndexStep,visible:e.sequenceVisible},wrap:!1,type:e.signalType});break;case"addParticipant":qE(e.actor,e.actor,e.description,"participant");break;case"addActor":qE(e.actor,e.actor,e.description,"actor");break;case"activeStart":case"activeEnd":HE(e.actor,void 0,void 0,e.signalType);break;case"addNote":KE(e.actor,e.placement,e.text);break;case"addLinks":JE(e.actor,e.text);break;case"addALink":!function(t,e){var n=VE(t);try{var r={},i=Ly(e.text,mb()),o=i.indexOf("@"),s=(i=(i=i.replace(/&amp;/g,"&")).replace(/&equals;/g,"=")).slice(0,o-1).trim(),l=i.slice(o+1).trim();r[s]=l,ZE(n,r)}catch(t){a.error("error while parsing actor link text",t)}}(e.actor,e.text);break;case"addProperties":QE(e.actor,e.text);break;case"addDetails":eC(e.actor,e.text);break;case"addMessage":HE(e.from,e.to,e.msg,e.signalType);break;case"loopStart":HE(void 0,void 0,e.loopText,e.signalType);break;case"loopEnd":case"rectEnd":case"optEnd":case"altEnd":case"parEnd":case"criticalEnd":case"breakEnd":HE(void 0,void 0,void 0,e.signalType);break;case"rectStart":HE(void 0,void 0,e.color,e.signalType);break;case"optStart":HE(void 0,void 0,e.optText,e.signalType);break;case"altStart":case"else":HE(void 0,void 0,e.altText,e.signalType);break;case"setAccTitle":Cb(e.text);break;case"parStart":case"and":HE(void 0,void 0,e.parText,e.signalType);break;case"criticalStart":HE(void 0,void 0,e.criticalText,e.signalType);break;case"option":HE(void 0,void 0,e.optionText,e.signalType);break;case"breakStart":HE(void 0,void 0,e.breakText,e.signalType)}},setAccDescription:Db,getAccDescription:Tb};var rC=[],iC=function(t,e){var n=t.append("rect");return n.attr("x",e.x),n.attr("y",e.y),n.attr("fill",e.fill),n.attr("stroke",e.stroke),n.attr("width",e.width),n.attr("height",e.height),n.attr("rx",e.rx),n.attr("ry",e.ry),void 0!==e.class&&n.attr("class",e.class),n},oC=function(t,e){var n;n=function(){var n=document.querySelectorAll(t);0!==n.length&&(n[0].addEventListener("mouseover",(function(){aC("actor"+e+"_popup")})),n[0].addEventListener("mouseout",(function(){sC("actor"+e+"_popup")})))},rC.push(n)},aC=function(t){var e=document.getElementById(t);null!=e&&(e.style.display="block")},sC=function(t){var e=document.getElementById(t);null!=e&&(e.style.display="none")},lC=function(t,e){var n=0,r=0,i=e.text.split($y.lineBreakRegex),o=[],a=0,s=function(){return e.y};if(void 0!==e.valign&&void 0!==e.textMargin&&e.textMargin>0)switch(e.valign){case"top":case"start":s=function(){return Math.round(e.y+e.textMargin)};break;case"middle":case"center":s=function(){return Math.round(e.y+(n+r+e.textMargin)/2)};break;case"bottom":case"end":s=function(){return Math.round(e.y+(n+r+2*e.textMargin)-e.textMargin)}}if(void 0!==e.anchor&&void 0!==e.textMargin&&void 0!==e.width)switch(e.anchor){case"left":case"start":e.x=Math.round(e.x+e.textMargin),e.anchor="start",e.dominantBaseline="text-after-edge",e.alignmentBaseline="middle";break;case"middle":case"center":e.x=Math.round(e.x+e.width/2),e.anchor="middle",e.dominantBaseline="middle",e.alignmentBaseline="middle";break;case"right":case"end":e.x=Math.round(e.x+e.width-e.textMargin),e.anchor="end",e.dominantBaseline="text-before-edge",e.alignmentBaseline="middle"}for(var l=0;l<i.length;l++){var c=i[l];void 0!==e.textMargin&&0===e.textMargin&&void 0!==e.fontSize&&(a=l*e.fontSize);var u=t.append("text");if(u.attr("x",e.x),u.attr("y",s()),void 0!==e.anchor&&u.attr("text-anchor",e.anchor).attr("dominant-baseline",e.dominantBaseline).attr("alignment-baseline",e.alignmentBaseline),void 0!==e.fontFamily&&u.style("font-family",e.fontFamily),void 0!==e.fontSize&&u.style("font-size",e.fontSize),void 0!==e.fontWeight&&u.style("font-weight",e.fontWeight),void 0!==e.fill&&u.attr("fill",e.fill),void 0!==e.class&&u.attr("class",e.class),void 0!==e.dy?u.attr("dy",e.dy):0!==a&&u.attr("dy",a),e.tspan){var h=u.append("tspan");h.attr("x",e.x),void 0!==e.fill&&h.attr("fill",e.fill),h.text(c)}else u.text(c);void 0!==e.valign&&void 0!==e.textMargin&&e.textMargin>0&&(r+=(u._groups||u)[0][0].getBBox().height,n=r),o.push(u)}return o},cC=-1,uC=function(){function t(t,e,n,i,o,a,s){r(e.append("text").attr("x",n+o/2).attr("y",i+a/2+5).style("text-anchor","middle").text(t),s)}function e(t,e,n,i,o,a,s,l){for(var c=l.actorFontSize,u=l.actorFontFamily,h=l.actorFontWeight,d=t.split($y.lineBreakRegex),f=0;f<d.length;f++){var p=f*c-c*(d.length-1)/2,g=e.append("text").attr("x",n+o/2).attr("y",i).style("text-anchor","middle").style("font-size",c).style("font-weight",h).style("font-family",u);g.append("tspan").attr("x",n+o/2).attr("dy",p).text(d[f]),g.attr("y",i+a/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),r(g,s)}}function n(t,n,i,o,a,s,l,c){var u=n.append("switch"),h=u.append("foreignObject").attr("x",i).attr("y",o).attr("width",a).attr("height",s).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");h.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(t),e(t,u,i,o,a,s,l,c),r(h,l)}function r(t,e){for(var n in e)e.hasOwnProperty(n)&&t.attr(n,e[n])}return function(r){return"fo"===r.textPlacement?n:"old"===r.textPlacement?t:e}}(),hC=function(){function t(t,e,n,i,o,a,s){r(e.append("text").attr("x",n).attr("y",i).style("text-anchor","start").text(t),s)}function e(t,e,n,i,o,a,s,l){for(var c=l.actorFontSize,u=l.actorFontFamily,h=l.actorFontWeight,d=t.split($y.lineBreakRegex),f=0;f<d.length;f++){var p=f*c-c*(d.length-1)/2,g=e.append("text").attr("x",n).attr("y",i).style("text-anchor","start").style("font-size",c).style("font-weight",h).style("font-family",u);g.append("tspan").attr("x",n).attr("dy",p).text(d[f]),g.attr("y",i+a/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),r(g,s)}}function n(t,n,i,o,a,s,l,c){var u=n.append("switch"),h=u.append("foreignObject").attr("x",i).attr("y",o).attr("width",a).attr("height",s).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");h.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(t),e(t,u,i,o,0,s,l,c),r(h,l)}function r(t,e){for(var n in e)e.hasOwnProperty(n)&&t.attr(n,e[n])}return function(r){return"fo"===r.textPlacement?n:"old"===r.textPlacement?t:e}}();const dC=iC,fC=function(t,e,n){switch(e.type){case"actor":return function(t,e,n){var r=e.x+e.width/2;0===e.y&&(cC++,t.append("line").attr("id","actor"+cC).attr("x1",r).attr("y1",80).attr("x2",r).attr("y2",2e3).attr("class","actor-line").attr("stroke-width","0.5px").attr("stroke","#999"));var i=t.append("g");i.attr("class","actor-man");var o={x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0};o.x=e.x,o.y=e.y,o.fill="#eaeaea",o.width=e.width,o.height=e.height,o.class="actor",o.rx=3,o.ry=3,i.append("line").attr("id","actor-man-torso"+cC).attr("x1",r).attr("y1",e.y+25).attr("x2",r).attr("y2",e.y+45),i.append("line").attr("id","actor-man-arms"+cC).attr("x1",r-18).attr("y1",e.y+33).attr("x2",r+18).attr("y2",e.y+33),i.append("line").attr("x1",r-18).attr("y1",e.y+60).attr("x2",r).attr("y2",e.y+45),i.append("line").attr("x1",r).attr("y1",e.y+45).attr("x2",r+16).attr("y2",e.y+60);var a=i.append("circle");a.attr("cx",e.x+e.width/2),a.attr("cy",e.y+10),a.attr("r",15),a.attr("width",e.width),a.attr("height",e.height);var s=i.node().getBBox();return e.height=s.height,uC(n)(e.description,i,o.x,o.y+35,o.width,o.height,{class:"actor"},n),e.height}(t,e,n);case"participant":return function(t,e,n){var r=e.x+e.width/2,i=t.append("g"),o=i;0===e.y&&(cC++,o.append("line").attr("id","actor"+cC).attr("x1",r).attr("y1",5).attr("x2",r).attr("y2",2e3).attr("class","actor-line").attr("stroke-width","0.5px").attr("stroke","#999"),o=i.append("g"),e.actorCnt=cC,null!=e.links&&(o.attr("id","root-"+cC),oC("#root-"+cC,cC)));var a={x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0},s="actor";null!=e.properties&&e.properties.class?s=e.properties.class:a.fill="#eaeaea",a.x=e.x,a.y=e.y,a.width=e.width,a.height=e.height,a.class=s,a.rx=3,a.ry=3;var l=iC(o,a);if(e.rectData=a,null!=e.properties&&e.properties.icon){var c=e.properties.icon.trim();"@"===c.charAt(0)?function(t,e,n,r){var i=t.append("use");i.attr("x",e),i.attr("y",n);var o=(0,Ay.N)(r);i.attr("xlink:href","#"+o)}(o,a.x+a.width-20,a.y+10,c.substr(1)):function(t,e,n,r){var i=t.append("image");i.attr("x",e),i.attr("y",n);var o=(0,Ay.N)(r);i.attr("xlink:href",o)}(o,a.x+a.width-20,a.y+10,c)}uC(n)(e.description,o,a.x,a.y,a.width,a.height,{class:"actor"},n);var u=e.height;if(l.node){var h=l.node().getBBox();e.height=h.height,u=h.height}return u}(t,e,n)}},pC=function(t,e,n,r,i){if(void 0===e.links||null===e.links||0===Object.keys(e.links).length)return{height:0,width:0};var o=e.links,a=e.actorCnt,s=e.rectData,l="none";i&&(l="block !important");var c=t.append("g");c.attr("id","actor"+a+"_popup"),c.attr("class","actorPopupMenu"),c.attr("display",l),oC("#actor"+a+"_popup",a);var u="";void 0!==s.class&&(u=" "+s.class);var h=s.width>n?s.width:n,d=c.append("rect");if(d.attr("class","actorPopupMenuPanel"+u),d.attr("x",s.x),d.attr("y",s.height),d.attr("fill",s.fill),d.attr("stroke",s.stroke),d.attr("width",h),d.attr("height",s.height),d.attr("rx",s.rx),d.attr("ry",s.ry),null!=o){var f=20;for(var p in o){var g=c.append("a"),m=(0,Ay.N)(o[p]);g.attr("xlink:href",m),g.attr("target","_blank"),hC(r)(p,g,s.x+10,s.height+f,h,20,{class:"actor"},r),f+=30}}return d.attr("height",f),{height:s.height+f,width:h}},gC=function(t){return t.append("g")},mC=function(t,e,n,r){var i=r.boxMargin,o=r.boxTextMargin,a=r.labelBoxHeight,s=r.labelBoxWidth,l=r.messageFontFamily,c=r.messageFontSize,u=r.messageFontWeight,h=t.append("g"),d=function(t,e,n,r){return h.append("line").attr("x1",t).attr("y1",e).attr("x2",n).attr("y2",r).attr("class","loopLine")};d(e.startx,e.starty,e.stopx,e.starty),d(e.stopx,e.starty,e.stopx,e.stopy),d(e.startx,e.stopy,e.stopx,e.stopy),d(e.startx,e.starty,e.startx,e.stopy),void 0!==e.sections&&e.sections.forEach((function(t){d(e.startx,t.y,e.stopx,t.y).style("stroke-dasharray","3, 3")}));var f={x:0,y:0,fill:void 0,anchor:void 0,style:"#666",width:void 0,height:void 0,textMargin:0,rx:0,ry:0,tspan:!0,valign:void 0};f.text=n,f.x=e.startx,f.y=e.starty,f.fontFamily=l,f.fontSize=c,f.fontWeight=u,f.anchor="middle",f.valign="middle",f.tspan=!1,f.width=s||50,f.height=a||20,f.textMargin=o,f.class="labelText",function(t,e){var n=t.append("polygon");n.attr("points",function(t,e,n,r,i){return t+","+e+" "+(t+n)+","+e+" "+(t+n)+","+(e+r-7)+" "+(t+n-8.4)+","+(e+r)+" "+t+","+(e+r)}(e.x,e.y,e.width,e.height)),n.attr("class","labelBox"),e.y=e.y+e.height/2,lC(t,e)}(h,f),(f={x:0,y:0,fill:void 0,anchor:void 0,style:"#666",width:void 0,height:void 0,textMargin:0,rx:0,ry:0,tspan:!0,valign:void 0}).text=e.title,f.x=e.startx+s/2+(e.stopx-e.startx)/2,f.y=e.starty+i+o,f.anchor="middle",f.valign="middle",f.textMargin=o,f.class="loopText",f.fontFamily=l,f.fontSize=c,f.fontWeight=u,f.wrap=!0;var p=lC(h,f);return void 0!==e.sectionTitles&&e.sectionTitles.forEach((function(t,n){if(t.message){f.text=t.message,f.x=e.startx+(e.stopx-e.startx)/2,f.y=e.sections[n].y+i+o,f.class="loopText",f.anchor="middle",f.valign="middle",f.tspan=!1,f.fontFamily=l,f.fontSize=c,f.fontWeight=u,f.wrap=e.wrap,p=lC(h,f);var r=Math.round(p.map((function(t){return(t._groups||t)[0][0].getBBox().height})).reduce((function(t,e){return t+e})));e.sections[n].height+=r-(i+o)}})),e.height=Math.round(e.stopy-e.starty),h},yC=function(){return{x:0,y:0,fill:void 0,anchor:void 0,style:"#666",width:void 0,height:void 0,textMargin:0,rx:0,ry:0,tspan:!0,valign:void 0}},vC=function(){return{x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0}};Ay.N,BE.parser.yy=nC;var bC={},wC={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],activations:[],models:{getHeight:function(){return Math.max.apply(null,0===this.actors.length?[0]:this.actors.map((function(t){return t.height||0})))+(0===this.loops.length?0:this.loops.map((function(t){return t.height||0})).reduce((function(t,e){return t+e})))+(0===this.messages.length?0:this.messages.map((function(t){return t.height||0})).reduce((function(t,e){return t+e})))+(0===this.notes.length?0:this.notes.map((function(t){return t.height||0})).reduce((function(t,e){return t+e})))},clear:function(){this.actors=[],this.loops=[],this.messages=[],this.notes=[]},addActor:function(t){this.actors.push(t)},addLoop:function(t){this.loops.push(t)},addMessage:function(t){this.messages.push(t)},addNote:function(t){this.notes.push(t)},lastActor:function(){return this.actors[this.actors.length-1]},lastLoop:function(){return this.loops[this.loops.length-1]},lastMessage:function(){return this.messages[this.messages.length-1]},lastNote:function(){return this.notes[this.notes.length-1]},actors:[],loops:[],messages:[],notes:[]},init:function(){this.sequenceItems=[],this.activations=[],this.models.clear(),this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0,SC(BE.parser.yy.getConfig())},updateVal:function(t,e,n,r){void 0===t[e]?t[e]=n:t[e]=r(n,t[e])},updateBounds:function(t,e,n,r){var i=this,o=0;function a(a){return function(s){o++;var l=i.sequenceItems.length-o+1;i.updateVal(s,"starty",e-l*bC.boxMargin,Math.min),i.updateVal(s,"stopy",r+l*bC.boxMargin,Math.max),i.updateVal(wC.data,"startx",t-l*bC.boxMargin,Math.min),i.updateVal(wC.data,"stopx",n+l*bC.boxMargin,Math.max),"activation"!==a&&(i.updateVal(s,"startx",t-l*bC.boxMargin,Math.min),i.updateVal(s,"stopx",n+l*bC.boxMargin,Math.max),i.updateVal(wC.data,"starty",e-l*bC.boxMargin,Math.min),i.updateVal(wC.data,"stopy",r+l*bC.boxMargin,Math.max))}}this.sequenceItems.forEach(a()),this.activations.forEach(a("activation"))},insert:function(t,e,n,r){var i=Math.min(t,n),o=Math.max(t,n),a=Math.min(e,r),s=Math.max(e,r);this.updateVal(wC.data,"startx",i,Math.min),this.updateVal(wC.data,"starty",a,Math.min),this.updateVal(wC.data,"stopx",o,Math.max),this.updateVal(wC.data,"stopy",s,Math.max),this.updateBounds(i,a,o,s)},newActivation:function(t,e,n){var r=n[t.from.actor],i=DC(t.from.actor).length||0,o=r.x+r.width/2+(i-1)*bC.activationWidth/2;this.activations.push({startx:o,starty:this.verticalPos+2,stopx:o+bC.activationWidth,stopy:void 0,actor:t.from.actor,anchored:gC(e)})},endActivation:function(t){var e=this.activations.map((function(t){return t.actor})).lastIndexOf(t.from.actor);return this.activations.splice(e,1)[0]},createLoop:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{message:void 0,wrap:!1,width:void 0},e=arguments.length>1?arguments[1]:void 0;return{startx:void 0,starty:this.verticalPos,stopx:void 0,stopy:void 0,title:t.message,wrap:t.wrap,width:t.width,height:0,fill:e}},newLoop:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{message:void 0,wrap:!1,width:void 0},e=arguments.length>1?arguments[1]:void 0;this.sequenceItems.push(this.createLoop(t,e))},endLoop:function(){return this.sequenceItems.pop()},addSectionToLoop:function(t){var e=this.sequenceItems.pop();e.sections=e.sections||[],e.sectionTitles=e.sectionTitles||[],e.sections.push({y:wC.getVerticalPos(),height:0}),e.sectionTitles.push(t),this.sequenceItems.push(e)},bumpVerticalPos:function(t){this.verticalPos=this.verticalPos+t,this.data.stopy=this.verticalPos},getVerticalPos:function(){return this.verticalPos},getBounds:function(){return{bounds:this.data,models:this.models}}},xC=function(t){return{fontFamily:t.messageFontFamily,fontSize:t.messageFontSize,fontWeight:t.messageFontWeight}},_C=function(t){return{fontFamily:t.noteFontFamily,fontSize:t.noteFontSize,fontWeight:t.noteFontWeight}},kC=function(t){return{fontFamily:t.actorFontFamily,fontSize:t.actorFontSize,fontWeight:t.actorFontWeight}},EC=function(t,e,n,r,i,o){if(!0===i.hideUnusedParticipants){var a=new Set;o.forEach((function(t){a.add(t.from),a.add(t.to)})),n=n.filter((function(t){return a.has(t)}))}for(var s=0,l=0,c=0,u=0;u<n.length;u++){var h=e[n[u]];h.width=h.width||bC.width,h.height=Math.max(h.height||bC.height,bC.height),h.margin=h.margin||bC.actorMargin,h.x=s+l,h.y=r;var d=fC(t,h,bC);c=Math.max(c,d),wC.insert(h.x,r,h.x+h.width,h.height),s+=h.width,l+=h.margin,wC.models.addActor(h)}wC.bumpVerticalPos(c)},CC=function(t,e,n,r){for(var i=0,o=0,a=0;a<n.length;a++){var s=e[n[a]],l=MC(s),c=pC(t,s,l,bC,bC.forceMenus);c.height>i&&(i=c.height),c.width+s.x>o&&(o=c.width+s.x)}return{maxHeight:i,maxWidth:o}},SC=function(t){Gv(bC,t),t.fontFamily&&(bC.actorFontFamily=bC.noteFontFamily=bC.messageFontFamily=t.fontFamily),t.fontSize&&(bC.actorFontSize=bC.noteFontSize=bC.messageFontSize=t.fontSize),t.fontWeight&&(bC.actorFontWeight=bC.noteFontWeight=bC.messageFontWeight=t.fontWeight)},DC=function(t){return wC.activations.filter((function(e){return e.actor===t}))},TC=function(t,e){var n=e[t],r=DC(t);return[r.reduce((function(t,e){return Math.min(t,e.startx)}),n.x+n.width/2),r.reduce((function(t,e){return Math.max(t,e.stopx)}),n.x+n.width/2)]};function AC(t,e,n,r,i){wC.bumpVerticalPos(n);var o=r;if(e.id&&e.message&&t[e.id]){var s=t[e.id].width,l=xC(bC);e.message=ab.wrapLabel("[".concat(e.message,"]"),s-2*bC.wrapPadding,l),e.width=s,e.wrap=!0;var c=ab.calculateTextDimensions(e.message,l),u=Math.max(c.height,bC.labelBoxHeight);o=r+u,a.debug("".concat(u," - ").concat(e.message))}i(e),wC.bumpVerticalPos(o)}var MC=function(t){var e=0,n=kC(bC);for(var r in t.links){var i=ab.calculateTextDimensions(r,n).width+2*bC.wrapPadding+2*bC.boxMargin;e<i&&(e=i)}return e};const NC={bounds:wC,drawActors:EC,drawActorsPopup:CC,setConf:SC,draw:function(t,e){bC=mb().sequence;var n,r=mb().securityLevel;"sandbox"===r&&(n=ic("#i"+e));var i=ic("sandbox"===r?n.nodes()[0].contentDocument.body:"body");"sandbox"===r?n.nodes()[0].contentDocument:document;BE.parser.yy.clear(),BE.parser.yy.setWrap(bC.wrap),BE.parser.parse(t+"\n"),wC.init(),a.debug("C:".concat(JSON.stringify(bC,null,2)));var o="sandbox"===r?i.select('[id="'.concat(e,'"]')):ic('[id="'.concat(e,'"]')),s=BE.parser.yy.getActors(),l=BE.parser.yy.getActorKeys(),c=BE.parser.yy.getMessages(),u=BE.parser.yy.getDiagramTitle(),h=function(t,e){var n={};return e.forEach((function(e){if(t[e.to]&&t[e.from]){var r=t[e.to];if(e.placement===BE.parser.yy.PLACEMENT.LEFTOF&&!r.prevActor)return;if(e.placement===BE.parser.yy.PLACEMENT.RIGHTOF&&!r.nextActor)return;var i=void 0!==e.placement,o=!i,a=i?_C(bC):xC(bC),s=e.wrap?ab.wrapLabel(e.message,bC.width-2*bC.wrapPadding,a):e.message,l=ab.calculateTextDimensions(s,a).width+2*bC.wrapPadding;o&&e.from===r.nextActor?n[e.to]=Math.max(n[e.to]||0,l):o&&e.from===r.prevActor?n[e.from]=Math.max(n[e.from]||0,l):o&&e.from===e.to?(n[e.from]=Math.max(n[e.from]||0,l/2),n[e.to]=Math.max(n[e.to]||0,l/2)):e.placement===BE.parser.yy.PLACEMENT.RIGHTOF?n[e.from]=Math.max(n[e.from]||0,l):e.placement===BE.parser.yy.PLACEMENT.LEFTOF?n[r.prevActor]=Math.max(n[r.prevActor]||0,l):e.placement===BE.parser.yy.PLACEMENT.OVER&&(r.prevActor&&(n[r.prevActor]=Math.max(n[r.prevActor]||0,l/2)),r.nextActor&&(n[e.from]=Math.max(n[e.from]||0,l/2)))}})),a.debug("maxMessageWidthPerActor:",n),n}(s,c);bC.height=function(t,e){var n=0;for(var r in Object.keys(t).forEach((function(e){var r=t[e];r.wrap&&(r.description=ab.wrapLabel(r.description,bC.width-2*bC.wrapPadding,kC(bC)));var i=ab.calculateTextDimensions(r.description,kC(bC));r.width=r.wrap?bC.width:Math.max(bC.width,i.width+2*bC.wrapPadding),r.height=r.wrap?Math.max(i.height,bC.height):bC.height,n=Math.max(n,r.height)})),e){var i=t[r];if(i){var o=t[i.nextActor];if(o){var a=e[r]+bC.actorMargin-i.width/2-o.width/2;i.margin=Math.max(a,bC.actorMargin)}}}return Math.max(n,bC.height)}(s,h),function(t){t.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")}(o),function(t){t.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")}(o),function(t){t.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")}(o),EC(o,s,l,0,bC,c);var d=function(t,e){var n,r,i,o={},s=[];return t.forEach((function(t){switch(t.id=ab.random({length:10}),t.type){case BE.parser.yy.LINETYPE.LOOP_START:case BE.parser.yy.LINETYPE.ALT_START:case BE.parser.yy.LINETYPE.OPT_START:case BE.parser.yy.LINETYPE.PAR_START:case BE.parser.yy.LINETYPE.CRITICAL_START:case BE.parser.yy.LINETYPE.BREAK_START:s.push({id:t.id,msg:t.message,from:Number.MAX_SAFE_INTEGER,to:Number.MIN_SAFE_INTEGER,width:0});break;case BE.parser.yy.LINETYPE.ALT_ELSE:case BE.parser.yy.LINETYPE.PAR_AND:case BE.parser.yy.LINETYPE.CRITICAL_OPTION:t.message&&(n=s.pop(),o[n.id]=n,o[t.id]=n,s.push(n));break;case BE.parser.yy.LINETYPE.LOOP_END:case BE.parser.yy.LINETYPE.ALT_END:case BE.parser.yy.LINETYPE.OPT_END:case BE.parser.yy.LINETYPE.PAR_END:case BE.parser.yy.LINETYPE.CRITICAL_END:case BE.parser.yy.LINETYPE.BREAK_END:n=s.pop(),o[n.id]=n;break;case BE.parser.yy.LINETYPE.ACTIVE_START:var l=e[t.from?t.from.actor:t.to.actor],c=DC(t.from?t.from.actor:t.to.actor).length,u=l.x+l.width/2+(c-1)*bC.activationWidth/2,h={startx:u,stopx:u+bC.activationWidth,actor:t.from.actor,enabled:!0};wC.activations.push(h);break;case BE.parser.yy.LINETYPE.ACTIVE_END:var d=wC.activations.map((function(t){return t.actor})).lastIndexOf(t.from.actor);delete wC.activations.splice(d,1)[0]}void 0!==t.placement?(r=function(t,e){var n=e[t.from].x,r=e[t.to].x,i=t.wrap&&t.message,o=ab.calculateTextDimensions(i?ab.wrapLabel(t.message,bC.width,_C(bC)):t.message,_C(bC)),s={width:i?bC.width:Math.max(bC.width,o.width+2*bC.noteMargin),height:0,startx:e[t.from].x,stopx:0,starty:0,stopy:0,message:t.message};return t.placement===BE.parser.yy.PLACEMENT.RIGHTOF?(s.width=i?Math.max(bC.width,o.width):Math.max(e[t.from].width/2+e[t.to].width/2,o.width+2*bC.noteMargin),s.startx=n+(e[t.from].width+bC.actorMargin)/2):t.placement===BE.parser.yy.PLACEMENT.LEFTOF?(s.width=i?Math.max(bC.width,o.width+2*bC.noteMargin):Math.max(e[t.from].width/2+e[t.to].width/2,o.width+2*bC.noteMargin),s.startx=n-s.width+(e[t.from].width-bC.actorMargin)/2):t.to===t.from?(o=ab.calculateTextDimensions(i?ab.wrapLabel(t.message,Math.max(bC.width,e[t.from].width),_C(bC)):t.message,_C(bC)),s.width=i?Math.max(bC.width,e[t.from].width):Math.max(e[t.from].width,bC.width,o.width+2*bC.noteMargin),s.startx=n+(e[t.from].width-s.width)/2):(s.width=Math.abs(n+e[t.from].width/2-(r+e[t.to].width/2))+bC.actorMargin,s.startx=n<r?n+e[t.from].width/2-bC.actorMargin/2:r+e[t.to].width/2-bC.actorMargin/2),i&&(s.message=ab.wrapLabel(t.message,s.width-2*bC.wrapPadding,_C(bC))),a.debug("NM:[".concat(s.startx,",").concat(s.stopx,",").concat(s.starty,",").concat(s.stopy,":").concat(s.width,",").concat(s.height,"=").concat(t.message,"]")),s}(t,e),t.noteModel=r,s.forEach((function(t){(n=t).from=Math.min(n.from,r.startx),n.to=Math.max(n.to,r.startx+r.width),n.width=Math.max(n.width,Math.abs(n.from-n.to))-bC.labelBoxWidth}))):(i=function(t,e){var n=!1;if([BE.parser.yy.LINETYPE.SOLID_OPEN,BE.parser.yy.LINETYPE.DOTTED_OPEN,BE.parser.yy.LINETYPE.SOLID,BE.parser.yy.LINETYPE.DOTTED,BE.parser.yy.LINETYPE.SOLID_CROSS,BE.parser.yy.LINETYPE.DOTTED_CROSS,BE.parser.yy.LINETYPE.SOLID_POINT,BE.parser.yy.LINETYPE.DOTTED_POINT].includes(t.type)&&(n=!0),!n)return{};var r=TC(t.from,e),i=TC(t.to,e),o=r[0]<=i[0]?1:0,a=r[0]<i[0]?0:1,s=r.concat(i),l=Math.abs(i[a]-r[o]);t.wrap&&t.message&&(t.message=ab.wrapLabel(t.message,Math.max(l+2*bC.wrapPadding,bC.width),xC(bC)));var c=ab.calculateTextDimensions(t.message,xC(bC));return{width:Math.max(t.wrap?0:c.width+2*bC.wrapPadding,l+2*bC.wrapPadding,bC.width),height:0,startx:r[o],stopx:i[a],starty:0,stopy:0,message:t.message,type:t.type,wrap:t.wrap,fromBounds:Math.min.apply(null,s),toBounds:Math.max.apply(null,s)}}(t,e),t.msgModel=i,i.startx&&i.stopx&&s.length>0&&s.forEach((function(r){if(n=r,i.startx===i.stopx){var o=e[t.from],a=e[t.to];n.from=Math.min(o.x-i.width/2,o.x-o.width/2,n.from),n.to=Math.max(a.x+i.width/2,a.x+o.width/2,n.to),n.width=Math.max(n.width,Math.abs(n.to-n.from))-bC.labelBoxWidth}else n.from=Math.min(i.startx,n.from),n.to=Math.max(i.stopx,n.to),n.width=Math.max(n.width,i.width)-bC.labelBoxWidth})))})),wC.activations=[],a.debug("Loop type widths:",o),o}(c,s);(function(t){t.append("defs").append("marker").attr("id","arrowhead").attr("refX",9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z")})(o),function(t){var e=t.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",16).attr("refY",4);e.append("path").attr("fill","black").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 9,2 V 6 L16,4 Z"),e.append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 0,1 L 6,7 M 6,1 L 0,7")}(o),function(t){t.append("defs").append("marker").attr("id","filled-head").attr("refX",18).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")}(o),function(t){t.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)}(o);var f=1,p=1,g=Array();c.forEach((function(t){var e,n,r;switch(t.type){case BE.parser.yy.LINETYPE.NOTE:n=t.noteModel,function(t,e){wC.bumpVerticalPos(bC.boxMargin),e.height=bC.boxMargin,e.starty=wC.getVerticalPos();var n=vC();n.x=e.startx,n.y=e.starty,n.width=e.width||bC.width,n.class="note";var r=t.append("g"),i=dC(r,n),o=yC();o.x=e.startx,o.y=e.starty,o.width=n.width,o.dy="1em",o.text=e.message,o.class="noteText",o.fontFamily=bC.noteFontFamily,o.fontSize=bC.noteFontSize,o.fontWeight=bC.noteFontWeight,o.anchor=bC.noteAlign,o.textMargin=bC.noteMargin,o.valign=bC.noteAlign;var a=lC(r,o),s=Math.round(a.map((function(t){return(t._groups||t)[0][0].getBBox().height})).reduce((function(t,e){return t+e})));i.attr("height",s+2*bC.noteMargin),e.height+=s+2*bC.noteMargin,wC.bumpVerticalPos(s+2*bC.noteMargin),e.stopy=e.starty+s+2*bC.noteMargin,e.stopx=e.startx+n.width,wC.insert(e.startx,e.starty,e.stopx,e.stopy),wC.models.addNote(e)}(o,n);break;case BE.parser.yy.LINETYPE.ACTIVE_START:wC.newActivation(t,o,s);break;case BE.parser.yy.LINETYPE.ACTIVE_END:!function(t,e){var n=wC.endActivation(t);n.starty+18>e&&(n.starty=e-6,e+=12),function(t,e,n,r,i){var o={x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0},a=e.anchored;o.x=e.startx,o.y=e.starty,o.class="activation"+i%3,o.width=e.stopx-e.startx,o.height=n-e.starty,iC(a,o)}(0,n,e,0,DC(t.from.actor).length),wC.insert(n.startx,e-10,n.stopx,e)}(t,wC.getVerticalPos());break;case BE.parser.yy.LINETYPE.LOOP_START:AC(d,t,bC.boxMargin,bC.boxMargin+bC.boxTextMargin,(function(t){return wC.newLoop(t)}));break;case BE.parser.yy.LINETYPE.LOOP_END:e=wC.endLoop(),mC(o,e,"loop",bC),wC.bumpVerticalPos(e.stopy-wC.getVerticalPos()),wC.models.addLoop(e);break;case BE.parser.yy.LINETYPE.RECT_START:AC(d,t,bC.boxMargin,bC.boxMargin,(function(t){return wC.newLoop(void 0,t.message)}));break;case BE.parser.yy.LINETYPE.RECT_END:e=wC.endLoop(),function(t,e){iC(t,{x:e.startx,y:e.starty,width:e.stopx-e.startx,height:e.stopy-e.starty,fill:e.fill,class:"rect"}).lower()}(o,e),wC.models.addLoop(e),wC.bumpVerticalPos(e.stopy-wC.getVerticalPos());break;case BE.parser.yy.LINETYPE.OPT_START:AC(d,t,bC.boxMargin,bC.boxMargin+bC.boxTextMargin,(function(t){return wC.newLoop(t)}));break;case BE.parser.yy.LINETYPE.OPT_END:e=wC.endLoop(),mC(o,e,"opt",bC),wC.bumpVerticalPos(e.stopy-wC.getVerticalPos()),wC.models.addLoop(e);break;case BE.parser.yy.LINETYPE.ALT_START:AC(d,t,bC.boxMargin,bC.boxMargin+bC.boxTextMargin,(function(t){return wC.newLoop(t)}));break;case BE.parser.yy.LINETYPE.ALT_ELSE:AC(d,t,bC.boxMargin+bC.boxTextMargin,bC.boxMargin,(function(t){return wC.addSectionToLoop(t)}));break;case BE.parser.yy.LINETYPE.ALT_END:e=wC.endLoop(),mC(o,e,"alt",bC),wC.bumpVerticalPos(e.stopy-wC.getVerticalPos()),wC.models.addLoop(e);break;case BE.parser.yy.LINETYPE.PAR_START:AC(d,t,bC.boxMargin,bC.boxMargin+bC.boxTextMargin,(function(t){return wC.newLoop(t)}));break;case BE.parser.yy.LINETYPE.PAR_AND:AC(d,t,bC.boxMargin+bC.boxTextMargin,bC.boxMargin,(function(t){return wC.addSectionToLoop(t)}));break;case BE.parser.yy.LINETYPE.PAR_END:e=wC.endLoop(),mC(o,e,"par",bC),wC.bumpVerticalPos(e.stopy-wC.getVerticalPos()),wC.models.addLoop(e);break;case BE.parser.yy.LINETYPE.AUTONUMBER:f=t.message.start||f,p=t.message.step||p,t.message.visible?BE.parser.yy.enableSequenceNumbers():BE.parser.yy.disableSequenceNumbers();break;case BE.parser.yy.LINETYPE.CRITICAL_START:AC(d,t,bC.boxMargin,bC.boxMargin+bC.boxTextMargin,(function(t){return wC.newLoop(t)}));break;case BE.parser.yy.LINETYPE.CRITICAL_OPTION:AC(d,t,bC.boxMargin+bC.boxTextMargin,bC.boxMargin,(function(t){return wC.addSectionToLoop(t)}));break;case BE.parser.yy.LINETYPE.CRITICAL_END:e=wC.endLoop(),mC(o,e,"critical",bC),wC.bumpVerticalPos(e.stopy-wC.getVerticalPos()),wC.models.addLoop(e);break;case BE.parser.yy.LINETYPE.BREAK_START:AC(d,t,bC.boxMargin,bC.boxMargin+bC.boxTextMargin,(function(t){return wC.newLoop(t)}));break;case BE.parser.yy.LINETYPE.BREAK_END:e=wC.endLoop(),mC(o,e,"break",bC),wC.bumpVerticalPos(e.stopy-wC.getVerticalPos()),wC.models.addLoop(e);break;default:try{(r=t.msgModel).starty=wC.getVerticalPos(),r.sequenceIndex=f,r.sequenceVisible=BE.parser.yy.showSequenceNumbers();var i=function(t,e){wC.bumpVerticalPos(10);var n,r=e.startx,i=e.stopx,o=e.message,a=$y.splitBreaks(o).length,s=ab.calculateTextDimensions(o,xC(bC)),l=s.height/a;e.height+=l,wC.bumpVerticalPos(l);var c=s.height-10,u=s.width;if(r===i){n=wC.getVerticalPos()+c,bC.rightAngles||(c+=bC.boxMargin,n=wC.getVerticalPos()+c),c+=30;var h=Math.max(u/2,bC.width/2);wC.insert(r-h,wC.getVerticalPos()-10+c,i+h,wC.getVerticalPos()+30+c)}else c+=bC.boxMargin,n=wC.getVerticalPos()+c,wC.insert(r,n-10,i,n);return wC.bumpVerticalPos(c),e.height+=c,e.stopy=e.starty+e.height,wC.insert(e.fromBounds,e.starty,e.toBounds,e.stopy),n}(0,r);g.push({messageModel:r,lineStarty:i}),wC.models.addMessage(r)}catch(t){a.error("error while drawing message",t)}}[BE.parser.yy.LINETYPE.SOLID_OPEN,BE.parser.yy.LINETYPE.DOTTED_OPEN,BE.parser.yy.LINETYPE.SOLID,BE.parser.yy.LINETYPE.DOTTED,BE.parser.yy.LINETYPE.SOLID_CROSS,BE.parser.yy.LINETYPE.DOTTED_CROSS,BE.parser.yy.LINETYPE.SOLID_POINT,BE.parser.yy.LINETYPE.DOTTED_POINT].includes(t.type)&&(f+=p)})),g.forEach((function(t){return function(t,e,n){var r=e.startx,i=e.stopx,o=e.starty,a=e.message,s=e.type,l=e.sequenceIndex,c=e.sequenceVisible,u=ab.calculateTextDimensions(a,xC(bC)),h=yC();h.x=r,h.y=o+10,h.width=i-r,h.class="messageText",h.dy="1em",h.text=a,h.fontFamily=bC.messageFontFamily,h.fontSize=bC.messageFontSize,h.fontWeight=bC.messageFontWeight,h.anchor=bC.messageAlign,h.valign=bC.messageAlign,h.textMargin=bC.wrapPadding,h.tspan=!1,lC(t,h);var d,f=u.width;r===i?d=bC.rightAngles?t.append("path").attr("d","M  ".concat(r,",").concat(n," H ").concat(r+Math.max(bC.width/2,f/2)," V ").concat(n+25," H ").concat(r)):t.append("path").attr("d","M "+r+","+n+" C "+(r+60)+","+(n-10)+" "+(r+60)+","+(n+30)+" "+r+","+(n+20)):((d=t.append("line")).attr("x1",r),d.attr("y1",n),d.attr("x2",i),d.attr("y2",n)),s===BE.parser.yy.LINETYPE.DOTTED||s===BE.parser.yy.LINETYPE.DOTTED_CROSS||s===BE.parser.yy.LINETYPE.DOTTED_POINT||s===BE.parser.yy.LINETYPE.DOTTED_OPEN?(d.style("stroke-dasharray","3, 3"),d.attr("class","messageLine1")):d.attr("class","messageLine0");var p="";bC.arrowMarkerAbsolute&&(p=(p=(p=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search).replace(/\(/g,"\\(")).replace(/\)/g,"\\)")),d.attr("stroke-width",2),d.attr("stroke","none"),d.style("fill","none"),s!==BE.parser.yy.LINETYPE.SOLID&&s!==BE.parser.yy.LINETYPE.DOTTED||d.attr("marker-end","url("+p+"#arrowhead)"),s!==BE.parser.yy.LINETYPE.SOLID_POINT&&s!==BE.parser.yy.LINETYPE.DOTTED_POINT||d.attr("marker-end","url("+p+"#filled-head)"),s!==BE.parser.yy.LINETYPE.SOLID_CROSS&&s!==BE.parser.yy.LINETYPE.DOTTED_CROSS||d.attr("marker-end","url("+p+"#crosshead)"),(c||bC.showSequenceNumbers)&&(d.attr("marker-start","url("+p+"#sequencenumber)"),t.append("text").attr("x",r).attr("y",n+4).attr("font-family","sans-serif").attr("font-size","12px").attr("text-anchor","middle").attr("class","sequenceNumber").text(l))}(o,t.messageModel,t.lineStarty)})),bC.mirrorActors&&(wC.bumpVerticalPos(2*bC.boxMargin),EC(o,s,l,wC.getVerticalPos(),bC,c),wC.bumpVerticalPos(bC.boxMargin),function(t,e){t.selectAll&&t.selectAll(".actor-line").attr("class","200").attr("y2",e-55)}(o,wC.getVerticalPos()));var m=CC(o,s,l),y=wC.getBounds().bounds;a.debug("For line height fix Querying: #"+e+" .actor-line"),oc("#"+e+" .actor-line").attr("y2",y.stopy);var v=y.stopy-y.starty;v<m.maxHeight&&(v=m.maxHeight);var b=v+2*bC.diagramMarginY;bC.mirrorActors&&(b=b-bC.boxMargin+bC.bottomMarginAdj);var w=y.stopx-y.startx;w<m.maxWidth&&(w=m.maxWidth);var x=w+2*bC.diagramMarginX;u&&o.append("text").text(u).attr("x",(y.stopx-y.startx)/2-2*bC.diagramMarginX).attr("y",-25),nb(o,b,x,bC.useMaxWidth);var _=u?40:0;o.attr("viewBox",y.startx-bC.diagramMarginX+" -"+(bC.diagramMarginY+_)+" "+x+" "+(b+_)),Gb(BE.parser.yy,o,e),a.debug("models:",wC.models)}};var OC=n(3584),FC=n.n(OC);function IC(t){return IC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},IC(t)}var LC=function(t){return JSON.parse(JSON.stringify(t))},BC=[],RC=function t(e,n,r){if("relation"===n.stmt)t(e,n.state1,!0),t(e,n.state2,!1);else if("state"===n.stmt&&"[*]"===n.id&&(n.id=r?e.id+"_start":e.id+"_end",n.start=r),n.doc){var i=[],o=0,a=[];for(o=0;o<n.doc.length;o++)if("divider"===n.doc[o].type){var s=LC(n.doc[o]);s.doc=LC(a),i.push(s),a=[]}else a.push(n.doc[o]);if(i.length>0&&a.length>0){var l={stmt:"state",id:Hv(),type:"divider",doc:LC(a)};i.push(LC(l)),n.doc=i}n.doc.forEach((function(e){return t(n,e,!0)}))}},PC={root:{relations:[],states:{},documents:{}}},zC=PC.root,$C=0,jC=function(t,e,n,r,i){void 0===zC.states[t]?zC.states[t]={id:t,descriptions:[],type:e,doc:n,note:i}:(zC.states[t].doc||(zC.states[t].doc=n),zC.states[t].type||(zC.states[t].type=e)),r&&(a.info("Adding state ",t,r),"string"==typeof r&&qC(t,r.trim()),"object"===IC(r)&&r.forEach((function(e){return qC(t,e.trim())}))),i&&(zC.states[t].note=i,zC.states[t].note.text=$y.sanitizeText(zC.states[t].note.text,mb()))},UC=function(t){zC=(PC={root:{relations:[],states:{},documents:{}}}).root,zC=PC.root,$C=0,HC=[],t||Eb()},YC=function(t,e,n){var r=t,i=e,o="default",a="default";"[*]"===t&&(r="start"+ ++$C,o="start"),"[*]"===e&&(i="end"+$C,a="end"),jC(r,o),jC(i,a),zC.relations.push({id1:r,id2:i,title:$y.sanitizeText(n,mb())})},qC=function(t,e){var n=zC.states[t],r=e;":"===r[0]&&(r=r.substr(1).trim()),n.descriptions.push($y.sanitizeText(r,mb()))},WC=0,HC=[],VC="TB";const GC={parseDirective:function(t,e,n){WS.parseDirective(this,t,e,n)},getConfig:function(){return mb().state},addState:jC,clear:UC,getState:function(t){return zC.states[t]},getStates:function(){return zC.states},getRelations:function(){return zC.relations},getClasses:function(){return HC},getDirection:function(){return VC},addRelation:YC,getDividerId:function(){return"divider-id-"+ ++WC},setDirection:function(t){VC=t},cleanupLabel:function(t){return":"===t.substring(0,1)?t.substr(2).trim():t.trim()},lineType:{LINE:0,DOTTED_LINE:1},relationType:{AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3},logDocuments:function(){a.info("Documents = ",PC)},getRootDoc:function(){return BC},setRootDoc:function(t){a.info("Setting root doc",t),BC=t},getRootDocV2:function(){return RC({id:"root"},{id:"root",doc:BC},!0),{id:"root",doc:BC}},extract:function(t){var e;e=t.doc?t.doc:t,a.info(e),UC(!0),a.info("Extract",e),e.forEach((function(t){"state"===t.stmt&&jC(t.id,t.type,t.doc,t.description,t.note),"relation"===t.stmt&&YC(t.state1.id,t.state2.id,t.description)}))},trimColon:function(t){return t&&":"===t[0]?t.substr(1).trim():t.trim()},getAccTitle:Sb,setAccTitle:Cb,getAccDescription:Tb,setAccDescription:Db};var XC={};function KC(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var JC,ZC=function(t,e,n){var r,i=mb().state.padding,o=2*mb().state.padding,a=t.node().getBBox(),s=a.width,l=a.x,c=t.append("text").attr("x",0).attr("y",mb().state.titleShift).attr("font-size",mb().state.fontSize).attr("class","state-title").text(e.id),u=c.node().getBBox().width+o,h=Math.max(u,s);h===s&&(h+=o);var d=t.node().getBBox();e.doc,r=l-i,u>s&&(r=(s-h)/2+i),Math.abs(l-d.x)<i&&u>s&&(r=l-(u-s)/2);var f=1-mb().state.textHeight;return t.insert("rect",":first-child").attr("x",r).attr("y",f).attr("class",n?"alt-composit":"composit").attr("width",h).attr("height",d.height+mb().state.textHeight+mb().state.titleShift+1).attr("rx","0"),c.attr("x",r+i),u<=s&&c.attr("x",l+(h-o)/2-u/2+i),t.insert("rect",":first-child").attr("x",r).attr("y",mb().state.titleShift-mb().state.textHeight-mb().state.padding).attr("width",h).attr("height",3*mb().state.textHeight).attr("rx",mb().state.radius),t.insert("rect",":first-child").attr("x",r).attr("y",mb().state.titleShift-mb().state.textHeight-mb().state.padding).attr("width",h).attr("height",d.height+3+2*mb().state.textHeight).attr("rx",mb().state.radius),t},QC=function(t,e){var n=e.id,r={id:n,label:e.id,width:0,height:0},i=t.append("g").attr("id",n).attr("class","stateGroup");"start"===e.type&&function(t){t.append("circle").attr("class","start-state").attr("r",mb().state.sizeUnit).attr("cx",mb().state.padding+mb().state.sizeUnit).attr("cy",mb().state.padding+mb().state.sizeUnit)}(i),"end"===e.type&&function(t){t.append("circle").attr("class","end-state-outer").attr("r",mb().state.sizeUnit+mb().state.miniPadding).attr("cx",mb().state.padding+mb().state.sizeUnit+mb().state.miniPadding).attr("cy",mb().state.padding+mb().state.sizeUnit+mb().state.miniPadding),t.append("circle").attr("class","end-state-inner").attr("r",mb().state.sizeUnit).attr("cx",mb().state.padding+mb().state.sizeUnit+2).attr("cy",mb().state.padding+mb().state.sizeUnit+2)}(i),"fork"!==e.type&&"join"!==e.type||function(t,e){var n=mb().state.forkWidth,r=mb().state.forkHeight;if(e.parentId){var i=n;n=r,r=i}t.append("rect").style("stroke","black").style("fill","black").attr("width",n).attr("height",r).attr("x",mb().state.padding).attr("y",mb().state.padding)}(i,e),"note"===e.type&&function(t,e){e.attr("class","state-note");var n=e.append("rect").attr("x",0).attr("y",mb().state.padding),r=function(t,e,n,r){var i=0,o=r.append("text");o.style("text-anchor","start"),o.attr("class","noteText");var a,s=t.replace(/\r\n/g,"<br/>"),l=(s=s.replace(/\n/g,"<br/>")).split($y.lineBreakRegex),c=1.25*mb().state.noteMargin,u=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return KC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?KC(t,e):void 0}}(t))){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}(l);try{for(u.s();!(a=u.n()).done;){var h=a.value.trim();if(h.length>0){var d=o.append("tspan");d.text(h),0===c&&(c+=d.node().getBBox().height),i+=c,d.attr("x",0+mb().state.noteMargin),d.attr("y",0+i+1.25*mb().state.noteMargin)}}}catch(t){u.e(t)}finally{u.f()}return{textWidth:o.node().getBBox().width,textHeight:i}}(t,0,0,e.append("g")),i=r.textWidth,o=r.textHeight;n.attr("height",o+2*mb().state.noteMargin),n.attr("width",i+2*mb().state.noteMargin)}(e.note.text,i),"divider"===e.type&&function(t){t.append("line").style("stroke","grey").style("stroke-dasharray","3").attr("x1",mb().state.textHeight).attr("class","divider").attr("x2",2*mb().state.textHeight).attr("y1",0).attr("y2",0)}(i),"default"===e.type&&0===e.descriptions.length&&function(t,e){var n=t.append("text").attr("x",2*mb().state.padding).attr("y",mb().state.textHeight+2*mb().state.padding).attr("font-size",mb().state.fontSize).attr("class","state-title").text(e.id).node().getBBox();t.insert("rect",":first-child").attr("x",mb().state.padding).attr("y",mb().state.padding).attr("width",n.width+2*mb().state.padding).attr("height",n.height+2*mb().state.padding).attr("rx",mb().state.radius)}(i,e),"default"===e.type&&e.descriptions.length>0&&function(t,e){var n=t.append("text").attr("x",2*mb().state.padding).attr("y",mb().state.textHeight+1.3*mb().state.padding).attr("font-size",mb().state.fontSize).attr("class","state-title").text(e.descriptions[0]).node().getBBox(),r=n.height,i=t.append("text").attr("x",mb().state.padding).attr("y",r+.4*mb().state.padding+mb().state.dividerMargin+mb().state.textHeight).attr("class","state-description"),o=!0,a=!0;e.descriptions.forEach((function(t){o||(function(t,e,n){var r=t.append("tspan").attr("x",2*mb().state.padding).text(e);n||r.attr("dy",mb().state.textHeight)}(i,t,a),a=!1),o=!1}));var s=t.append("line").attr("x1",mb().state.padding).attr("y1",mb().state.padding+r+mb().state.dividerMargin/2).attr("y2",mb().state.padding+r+mb().state.dividerMargin/2).attr("class","descr-divider"),l=i.node().getBBox(),c=Math.max(l.width,n.width);s.attr("x2",c+3*mb().state.padding),t.insert("rect",":first-child").attr("x",mb().state.padding).attr("y",mb().state.padding).attr("width",c+2*mb().state.padding).attr("height",l.height+r+2*mb().state.padding).attr("rx",mb().state.radius)}(i,e);var o,a=i.node().getBBox();return r.width=a.width+2*mb().state.padding,r.height=a.height+2*mb().state.padding,o=r,XC[n]=o,r},tS=0;OC.parser.yy=GC;var eS={},nS=function t(e,n,r,i,o,s){var l,c=new(Fw().Graph)({compound:!0,multigraph:!0}),u=!0;for(l=0;l<e.length;l++)if("relation"===e[l].stmt){u=!1;break}r?c.setGraph({rankdir:"LR",multigraph:!0,compound:!0,ranker:"tight-tree",ranksep:u?1:JC.edgeLengthFactor,nodeSep:u?1:50,isMultiGraph:!0}):c.setGraph({rankdir:"TB",multigraph:!0,compound:!0,ranksep:u?1:JC.edgeLengthFactor,nodeSep:u?1:50,ranker:"tight-tree",isMultiGraph:!0}),c.setDefaultEdgeLabel((function(){return{}})),GC.extract(e);for(var h=GC.getStates(),d=GC.getRelations(),f=Object.keys(h),p=0;p<f.length;p++){var g=h[f[p]];r&&(g.parentId=r);var m=void 0;if(g.doc){var y=n.append("g").attr("id",g.id).attr("class","stateGroup");m=t(g.doc,y,g.id,!i,o,s);var v=(y=ZC(y,g,i)).node().getBBox();m.width=v.width,m.height=v.height+JC.padding/2,eS[g.id]={y:JC.compositTitleSize}}else m=QC(n,g);if(g.note){var b={descriptions:[],id:g.id+"-note",note:g.note,type:"note"},w=QC(n,b);"left of"===g.note.position?(c.setNode(m.id+"-note",w),c.setNode(m.id,m)):(c.setNode(m.id,m),c.setNode(m.id+"-note",w)),c.setParent(m.id,m.id+"-group"),c.setParent(m.id+"-note",m.id+"-group")}else c.setNode(m.id,m)}a.debug("Count=",c.nodeCount(),c);var x=0;d.forEach((function(t){var e;x++,a.debug("Setting edge",t),c.setEdge(t.id1,t.id2,{relation:t,width:(e=t.title,e?e.length*JC.fontSizeFactor:1),height:JC.labelHeight*$y.getRows(t.title).length,labelpos:"c"},"id"+x)})),Nw().layout(c),a.debug("Graph after layout",c.nodes());var _=n.node();c.nodes().forEach((function(t){void 0!==t&&void 0!==c.node(t)?(a.warn("Node "+t+": "+JSON.stringify(c.node(t))),o.select("#"+_.id+" #"+t).attr("transform","translate("+(c.node(t).x-c.node(t).width/2)+","+(c.node(t).y+(eS[t]?eS[t].y:0)-c.node(t).height/2)+" )"),o.select("#"+_.id+" #"+t).attr("data-x-shift",c.node(t).x-c.node(t).width/2),s.querySelectorAll("#"+_.id+" #"+t+" .divider").forEach((function(t){var e=t.parentElement,n=0,r=0;e&&(e.parentElement&&(n=e.parentElement.getBBox().width),r=parseInt(e.getAttribute("data-x-shift"),10),Number.isNaN(r)&&(r=0)),t.setAttribute("x1",0-r+8),t.setAttribute("x2",n-r-8)}))):a.debug("No Node "+t+": "+JSON.stringify(c.node(t)))}));var k=_.getBBox();c.edges().forEach((function(t){void 0!==t&&void 0!==c.edge(t)&&(a.debug("Edge "+t.v+" -> "+t.w+": "+JSON.stringify(c.edge(t))),function(t,e,n){e.points=e.points.filter((function(t){return!Number.isNaN(t.y)}));var r=e.points,i=$c().x((function(t){return t.x})).y((function(t){return t.y})).curve(Hc),o=t.append("path").attr("d",i(r)).attr("id","edge"+tS).attr("class","transition"),s="";if(mb().state.arrowMarkerAbsolute&&(s=(s=(s=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search).replace(/\(/g,"\\(")).replace(/\)/g,"\\)")),o.attr("marker-end","url("+s+"#"+function(t){switch(t){case GC.relationType.AGGREGATION:return"aggregation";case GC.relationType.EXTENSION:return"extension";case GC.relationType.COMPOSITION:return"composition";case GC.relationType.DEPENDENCY:return"dependency"}}(GC.relationType.DEPENDENCY)+"End)"),void 0!==n.title){for(var l=t.append("g").attr("class","stateLabel"),c=ab.calcLabelPosition(e.points),u=c.x,h=c.y,d=$y.getRows(n.title),f=0,p=[],g=0,m=0,y=0;y<=d.length;y++){var v=l.append("text").attr("text-anchor","middle").text(d[y]).attr("x",u).attr("y",h+f),b=v.node().getBBox();if(g=Math.max(g,b.width),m=Math.min(m,b.x),a.info(b.x,u,h+f),0===f){var w=v.node().getBBox();f=w.height,a.info("Title height",f,h)}p.push(v)}var x=f*d.length;if(d.length>1){var _=(d.length-1)*f*.5;p.forEach((function(t,e){return t.attr("y",h+e*f-_)})),x=f*d.length}var k=l.node().getBBox();l.insert("rect",":first-child").attr("class","box").attr("x",u-g/2-mb().state.padding/2).attr("y",h-x/2-mb().state.padding/2-3.5).attr("width",g+mb().state.padding).attr("height",x+mb().state.padding),a.info(k)}tS++}(n,c.edge(t),c.edge(t).relation))})),k=_.getBBox();var E={id:r||"root",label:r||"root",width:0,height:0};return E.width=k.width+2*JC.padding,E.height=k.height+2*JC.padding,a.debug("Doc rendered",E,c),E};const rS=function(t,e){JC=mb().state;var n,r=mb().securityLevel;"sandbox"===r&&(n=ic("#i"+e));var i=ic("sandbox"===r?n.nodes()[0].contentDocument.body:"body"),o="sandbox"===r?n.nodes()[0].contentDocument:document;OC.parser.yy.clear(),OC.parser.parse(t),a.debug("Rendering diagram "+t);var s=i.select("[id='".concat(e,"']"));s.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z"),new(Fw().Graph)({multigraph:!0,compound:!0,rankdir:"RL"}).setDefaultEdgeLabel((function(){return{}}));var l=GC.getRootDoc();nS(l,s,void 0,!1,i,o);var c=JC.padding,u=s.node().getBBox(),h=u.width+2*c,d=u.height+2*c;nb(s,d,1.75*h,JC.useMaxWidth),s.attr("viewBox","".concat(u.x-JC.padding,"  ").concat(u.y-JC.padding," ")+h+" "+d),Gb(OC.parser.yy,s,e)};var iS={},oS={},aS=function(t,e,n,r){if("root"!==n.id){var i="rect";!0===n.start&&(i="start"),!1===n.start&&(i="end"),"default"!==n.type&&(i=n.type),oS[n.id]||(oS[n.id]={id:n.id,shape:i,description:$y.sanitizeText(n.id,mb()),classes:"statediagram-state"}),n.description&&(Array.isArray(oS[n.id].description)?(oS[n.id].shape="rectWithTitle",oS[n.id].description.push(n.description)):oS[n.id].description.length>0?(oS[n.id].shape="rectWithTitle",oS[n.id].description===n.id?oS[n.id].description=[n.description]:oS[n.id].description=[oS[n.id].description,n.description]):(oS[n.id].shape="rect",oS[n.id].description=n.description),oS[n.id].description=$y.sanitizeTextOrArray(oS[n.id].description,mb())),1===oS[n.id].description.length&&"rectWithTitle"===oS[n.id].shape&&(oS[n.id].shape="rect"),!oS[n.id].type&&n.doc&&(a.info("Setting cluster for ",n.id,cS(n)),oS[n.id].type="group",oS[n.id].dir=cS(n),oS[n.id].shape="divider"===n.type?"divider":"roundedWithTitle",oS[n.id].classes=oS[n.id].classes+" "+(r?"statediagram-cluster statediagram-cluster-alt":"statediagram-cluster"));var o={labelStyle:"",shape:oS[n.id].shape,labelText:oS[n.id].description,classes:oS[n.id].classes,style:"",id:n.id,dir:oS[n.id].dir,domId:"state-"+n.id+"-"+sS,type:oS[n.id].type,padding:15};if(n.note){var s={labelStyle:"",shape:"note",labelText:n.note.text,classes:"statediagram-note",style:"",id:n.id+"----note-"+sS,domId:"state-"+n.id+"----note-"+sS,type:oS[n.id].type,padding:15},l={labelStyle:"",shape:"noteGroup",labelText:n.note.text,classes:oS[n.id].classes,style:"",id:n.id+"----parent",domId:"state-"+n.id+"----parent-"+sS,type:"group",padding:0};sS++,t.setNode(n.id+"----parent",l),t.setNode(s.id,s),t.setNode(n.id,o),t.setParent(n.id,n.id+"----parent"),t.setParent(s.id,n.id+"----parent");var c=n.id,u=s.id;"left of"===n.note.position&&(c=s.id,u=n.id),t.setEdge(c,u,{arrowhead:"none",arrowType:"",style:"fill:none",labelStyle:"",classes:"transition note-edge",arrowheadStyle:"fill: #333",labelpos:"c",labelType:"text",thickness:"normal"})}else t.setNode(n.id,o)}e&&"root"!==e.id&&(a.trace("Setting node ",n.id," to be child of its parent ",e.id),t.setParent(n.id,e.id)),n.doc&&(a.trace("Adding nodes children "),lS(t,n,n.doc,!r))},sS=0,lS=function(t,e,n,r){a.trace("items",n),n.forEach((function(n){if("state"===n.stmt||"default"===n.stmt)aS(t,e,n,r);else if("relation"===n.stmt){aS(t,e,n.state1,r),aS(t,e,n.state2,r);var i={id:"edge"+sS,arrowhead:"normal",arrowTypeEnd:"arrow_barb",style:"fill:none",labelStyle:"",label:$y.sanitizeText(n.description,mb()),arrowheadStyle:"fill: #333",labelpos:"c",labelType:"text",thickness:"normal",classes:"transition"},o=n.state1.id,a=n.state2.id;t.setEdge(o,a,i,sS),sS++}}))},cS=function(t,e){var n=e||"TB";if(t.doc)for(var r=0;r<t.doc.length;r++){var i=t.doc[r];"dir"===i.stmt&&(n=i.value)}return n};const uS=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)iS[e[n]]=t[e[n]]};function hS(t){return function(t){if(Array.isArray(t))return dS(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return dS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dS(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dS(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var fS="",pS=[],gS=[],mS=[],yS=function(){for(var t=!0,e=0;e<mS.length;e++)mS[e].processed,t=t&&mS[e].processed;return t};const vS={parseDirective:function(t,e,n){WS.parseDirective(this,t,e,n)},getConfig:function(){return mb().journey},clear:function(){pS.length=0,gS.length=0,fS="",mS.length=0,Eb()},setDiagramTitle:Ab,getDiagramTitle:Mb,setAccTitle:Cb,getAccTitle:Sb,setAccDescription:Db,getAccDescription:Tb,addSection:function(t){fS=t,pS.push(t)},getSections:function(){return pS},getTasks:function(){for(var t=yS(),e=0;!t&&e<100;)t=yS(),e++;return gS.push.apply(gS,mS),gS},addTask:function(t,e){var n=e.substr(1).split(":"),r=0,i=[];1===n.length?(r=Number(n[0]),i=[]):(r=Number(n[0]),i=n[1].split(","));var o=i.map((function(t){return t.trim()})),a={section:fS,type:fS,people:o,task:t,score:r};mS.push(a)},addTaskOrg:function(t){var e={section:fS,type:fS,description:t,task:t,classes:[]};gS.push(e)},getActors:function(){return t=[],gS.forEach((function(e){e.people&&t.push.apply(t,hS(e.people))})),hS(new Set(t)).sort();var t}};var bS=n(9763),wS=n.n(bS),xS=function(t,e){var n=t.append("rect");return n.attr("x",e.x),n.attr("y",e.y),n.attr("fill",e.fill),n.attr("stroke",e.stroke),n.attr("width",e.width),n.attr("height",e.height),n.attr("rx",e.rx),n.attr("ry",e.ry),void 0!==e.class&&n.attr("class",e.class),n},_S=function(t,e){var n=t.append("circle");return n.attr("cx",e.cx),n.attr("cy",e.cy),n.attr("class","actor-"+e.pos),n.attr("fill",e.fill),n.attr("stroke",e.stroke),n.attr("r",e.r),void 0!==n.class&&n.attr("class",n.class),void 0!==e.title&&n.append("title").text(e.title),n},kS=-1,ES=function(){function t(t,e,n,i,o,a,s,l){r(e.append("text").attr("x",n+o/2).attr("y",i+a/2+5).style("font-color",l).style("text-anchor","middle").text(t),s)}function e(t,e,n,i,o,a,s,l,c){for(var u=l.taskFontSize,h=l.taskFontFamily,d=t.split(/<br\s*\/?>/gi),f=0;f<d.length;f++){var p=f*u-u*(d.length-1)/2,g=e.append("text").attr("x",n+o/2).attr("y",i).attr("fill",c).style("text-anchor","middle").style("font-size",u).style("font-family",h);g.append("tspan").attr("x",n+o/2).attr("dy",p).text(d[f]),g.attr("y",i+a/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),r(g,s)}}function n(t,n,i,o,a,s,l,c){var u=n.append("switch"),h=u.append("foreignObject").attr("x",i).attr("y",o).attr("width",a).attr("height",s).attr("position","fixed").append("xhtml:div").style("display","table").style("height","100%").style("width","100%");h.append("div").attr("class","label").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(t),e(t,u,i,o,a,s,l,c),r(h,l)}function r(t,e){for(var n in e)n in e&&t.attr(n,e[n])}return function(r){return"fo"===r.textPlacement?n:"old"===r.textPlacement?t:e}}();const CS=_S,SS=function(t,e,n){var r=t.append("g"),i={x:0,y:0,width:100,anchor:"start",height:100,rx:0,ry:0};i.x=e.x,i.y=e.y,i.fill=e.fill,i.width=n.width,i.height=n.height,i.class="journey-section section-type-"+e.num,i.rx=3,i.ry=3,xS(r,i),ES(n)(e.text,r,i.x,i.y,i.width,i.height,{class:"journey-section section-type-"+e.num},n,e.colour)},DS=function(t,e,n){var r,i,o,a=e.x+n.width/2,s=t.append("g");kS++,s.append("line").attr("id","task"+kS).attr("x1",a).attr("y1",e.y).attr("x2",a).attr("y2",450).attr("class","task-line").attr("stroke-width","1px").attr("stroke-dasharray","4 2").attr("stroke","#666"),r=s,i={cx:a,cy:300+30*(5-e.score),score:e.score},r.append("circle").attr("cx",i.cx).attr("cy",i.cy).attr("class","face").attr("r",15).attr("stroke-width",2).attr("overflow","visible"),(o=r.append("g")).append("circle").attr("cx",i.cx-5).attr("cy",i.cy-5).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),o.append("circle").attr("cx",i.cx+5).attr("cy",i.cy-5).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),i.score>3?function(t){var e=Ic().startAngle(Math.PI/2).endAngle(Math.PI/2*3).innerRadius(7.5).outerRadius(15/2.2);t.append("path").attr("class","mouth").attr("d",e).attr("transform","translate("+i.cx+","+(i.cy+2)+")")}(o):i.score<3?function(t){var e=Ic().startAngle(3*Math.PI/2).endAngle(Math.PI/2*5).innerRadius(7.5).outerRadius(15/2.2);t.append("path").attr("class","mouth").attr("d",e).attr("transform","translate("+i.cx+","+(i.cy+7)+")")}(o):function(t){t.append("line").attr("class","mouth").attr("stroke",2).attr("x1",i.cx-5).attr("y1",i.cy+7).attr("x2",i.cx+5).attr("y2",i.cy+7).attr("class","mouth").attr("stroke-width","1px").attr("stroke","#666")}(o);var l={x:0,y:0,width:100,anchor:"start",height:100,rx:0,ry:0};l.x=e.x,l.y=e.y,l.fill=e.fill,l.width=n.width,l.height=n.height,l.class="task task-type-"+e.num,l.rx=3,l.ry=3,xS(s,l);var c=e.x+14;e.people.forEach((function(t){var n=e.actors[t].color,r={cx:c,cy:e.y,r:7,fill:n,stroke:"#000",title:t,pos:e.actors[t].position};_S(s,r),c+=10})),ES(n)(e.task,s,l.x,l.y,l.width,l.height,{class:"task"},n,e.colour)};bS.parser.yy=vS;var TS={},AS=mb().journey,MS=mb().journey.leftMargin,NS={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],init:function(){this.sequenceItems=[],this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0},updateVal:function(t,e,n,r){void 0===t[e]?t[e]=n:t[e]=r(n,t[e])},updateBounds:function(t,e,n,r){var i=mb().journey,o=this,a=0;this.sequenceItems.forEach((function(s){a++;var l=o.sequenceItems.length-a+1;o.updateVal(s,"starty",e-l*i.boxMargin,Math.min),o.updateVal(s,"stopy",r+l*i.boxMargin,Math.max),o.updateVal(NS.data,"startx",t-l*i.boxMargin,Math.min),o.updateVal(NS.data,"stopx",n+l*i.boxMargin,Math.max),o.updateVal(s,"startx",t-l*i.boxMargin,Math.min),o.updateVal(s,"stopx",n+l*i.boxMargin,Math.max),o.updateVal(NS.data,"starty",e-l*i.boxMargin,Math.min),o.updateVal(NS.data,"stopy",r+l*i.boxMargin,Math.max)}))},insert:function(t,e,n,r){var i=Math.min(t,n),o=Math.max(t,n),a=Math.min(e,r),s=Math.max(e,r);this.updateVal(NS.data,"startx",i,Math.min),this.updateVal(NS.data,"starty",a,Math.min),this.updateVal(NS.data,"stopx",o,Math.max),this.updateVal(NS.data,"stopy",s,Math.max),this.updateBounds(i,a,o,s)},bumpVerticalPos:function(t){this.verticalPos=this.verticalPos+t,this.data.stopy=this.verticalPos},getVerticalPos:function(){return this.verticalPos},getBounds:function(){return this.data}},OS=AS.sectionFills,FS=AS.sectionColours;const IS=function(t){Object.keys(t).forEach((function(e){AS[e]=t[e]}))};var LS={};const BS=function(t){return"g.classGroup text {\n  fill: ".concat(t.nodeBorder,";\n  fill: ").concat(t.classText,";\n  stroke: none;\n  font-family: ").concat(t.fontFamily,";\n  font-size: 10px;\n\n  .title {\n    font-weight: bolder;\n  }\n\n}\n\n.nodeLabel, .edgeLabel {\n  color: ").concat(t.classText,";\n}\n.edgeLabel .label rect {\n  fill: ").concat(t.mainBkg,";\n}\n.label text {\n  fill: ").concat(t.classText,";\n}\n.edgeLabel .label span {\n  background: ").concat(t.mainBkg,";\n}\n\n.classTitle {\n  font-weight: bolder;\n}\n.node rect,\n  .node circle,\n  .node ellipse,\n  .node polygon,\n  .node path {\n    fill: ").concat(t.mainBkg,";\n    stroke: ").concat(t.nodeBorder,";\n    stroke-width: 1px;\n  }\n\n\n.divider {\n  stroke: ").concat(t.nodeBorder,";\n  stroke: 1;\n}\n\ng.clickable {\n  cursor: pointer;\n}\n\ng.classGroup rect {\n  fill: ").concat(t.mainBkg,";\n  stroke: ").concat(t.nodeBorder,";\n}\n\ng.classGroup line {\n  stroke: ").concat(t.nodeBorder,";\n  stroke-width: 1;\n}\n\n.classLabel .box {\n  stroke: none;\n  stroke-width: 0;\n  fill: ").concat(t.mainBkg,";\n  opacity: 0.5;\n}\n\n.classLabel .label {\n  fill: ").concat(t.nodeBorder,";\n  font-size: 10px;\n}\n\n.relation {\n  stroke: ").concat(t.lineColor,";\n  stroke-width: 1;\n  fill: none;\n}\n\n.dashed-line{\n  stroke-dasharray: 3;\n}\n\n#compositionStart, .composition {\n  fill: ").concat(t.lineColor," !important;\n  stroke: ").concat(t.lineColor," !important;\n  stroke-width: 1;\n}\n\n#compositionEnd, .composition {\n  fill: ").concat(t.lineColor," !important;\n  stroke: ").concat(t.lineColor," !important;\n  stroke-width: 1;\n}\n\n#dependencyStart, .dependency {\n  fill: ").concat(t.lineColor," !important;\n  stroke: ").concat(t.lineColor," !important;\n  stroke-width: 1;\n}\n\n#dependencyStart, .dependency {\n  fill: ").concat(t.lineColor," !important;\n  stroke: ").concat(t.lineColor," !important;\n  stroke-width: 1;\n}\n\n#extensionStart, .extension {\n  fill: ").concat(t.lineColor," !important;\n  stroke: ").concat(t.lineColor," !important;\n  stroke-width: 1;\n}\n\n#extensionEnd, .extension {\n  fill: ").concat(t.lineColor," !important;\n  stroke: ").concat(t.lineColor," !important;\n  stroke-width: 1;\n}\n\n#aggregationStart, .aggregation {\n  fill: ").concat(t.mainBkg," !important;\n  stroke: ").concat(t.lineColor," !important;\n  stroke-width: 1;\n}\n\n#aggregationEnd, .aggregation {\n  fill: ").concat(t.mainBkg," !important;\n  stroke: ").concat(t.lineColor," !important;\n  stroke-width: 1;\n}\n\n.edgeTerminals {\n  font-size: 11px;\n}\n\n")},RS=function(t){return".label {\n    font-family: ".concat(t.fontFamily,";\n    color: ").concat(t.nodeTextColor||t.textColor,";\n  }\n  .cluster-label text {\n    fill: ").concat(t.titleColor,";\n  }\n  .cluster-label span {\n    color: ").concat(t.titleColor,";\n  }\n\n  .label text,span {\n    fill: ").concat(t.nodeTextColor||t.textColor,";\n    color: ").concat(t.nodeTextColor||t.textColor,";\n  }\n\n  .node rect,\n  .node circle,\n  .node ellipse,\n  .node polygon,\n  .node path {\n    fill: ").concat(t.mainBkg,";\n    stroke: ").concat(t.nodeBorder,";\n    stroke-width: 1px;\n  }\n\n  .node .label {\n    text-align: center;\n  }\n  .node.clickable {\n    cursor: pointer;\n  }\n\n  .arrowheadPath {\n    fill: ").concat(t.arrowheadColor,";\n  }\n\n  .edgePath .path {\n    stroke: ").concat(t.lineColor,";\n    stroke-width: 2.0px;\n  }\n\n  .flowchart-link {\n    stroke: ").concat(t.lineColor,";\n    fill: none;\n  }\n\n  .edgeLabel {\n    background-color: ").concat(t.edgeLabelBackground,";\n    rect {\n      opacity: 0.5;\n      background-color: ").concat(t.edgeLabelBackground,";\n      fill: ").concat(t.edgeLabelBackground,";\n    }\n    text-align: center;\n  }\n\n  .cluster rect {\n    fill: ").concat(t.clusterBkg,";\n    stroke: ").concat(t.clusterBorder,";\n    stroke-width: 1px;\n  }\n\n  .cluster text {\n    fill: ").concat(t.titleColor,";\n  }\n\n  .cluster span {\n    color: ").concat(t.titleColor,";\n  }\n  /* .cluster div {\n    color: ").concat(t.titleColor,";\n  } */\n\n  div.mermaidTooltip {\n    position: absolute;\n    text-align: center;\n    max-width: 200px;\n    padding: 2px;\n    font-family: ").concat(t.fontFamily,";\n    font-size: 12px;\n    background: ").concat(t.tertiaryColor,";\n    border: 1px solid ").concat(t.border2,";\n    border-radius: 2px;\n    pointer-events: none;\n    z-index: 100;\n  }\n")},PS=function(t){return"\ndefs #statediagram-barbEnd {\n    fill: ".concat(t.transitionColor,";\n    stroke: ").concat(t.transitionColor,";\n  }\ng.stateGroup text {\n  fill: ").concat(t.nodeBorder,";\n  stroke: none;\n  font-size: 10px;\n}\ng.stateGroup text {\n  fill: ").concat(t.textColor,";\n  stroke: none;\n  font-size: 10px;\n\n}\ng.stateGroup .state-title {\n  font-weight: bolder;\n  fill: ").concat(t.stateLabelColor,";\n}\n\ng.stateGroup rect {\n  fill: ").concat(t.mainBkg,";\n  stroke: ").concat(t.nodeBorder,";\n}\n\ng.stateGroup line {\n  stroke: ").concat(t.lineColor,";\n  stroke-width: 1;\n}\n\n.transition {\n  stroke: ").concat(t.transitionColor,";\n  stroke-width: 1;\n  fill: none;\n}\n\n.stateGroup .composit {\n  fill: ").concat(t.background,";\n  border-bottom: 1px\n}\n\n.stateGroup .alt-composit {\n  fill: #e0e0e0;\n  border-bottom: 1px\n}\n\n.state-note {\n  stroke: ").concat(t.noteBorderColor,";\n  fill: ").concat(t.noteBkgColor,";\n\n  text {\n    fill: ").concat(t.noteTextColor,";\n    stroke: none;\n    font-size: 10px;\n  }\n}\n\n.stateLabel .box {\n  stroke: none;\n  stroke-width: 0;\n  fill: ").concat(t.mainBkg,";\n  opacity: 0.5;\n}\n\n.edgeLabel .label rect {\n  fill: ").concat(t.labelBackgroundColor,";\n  opacity: 0.5;\n}\n.edgeLabel .label text {\n  fill: ").concat(t.transitionLabelColor||t.tertiaryTextColor,";\n}\n.label div .edgeLabel {\n  color: ").concat(t.transitionLabelColor||t.tertiaryTextColor,";\n}\n\n.stateLabel text {\n  fill: ").concat(t.stateLabelColor,";\n  font-size: 10px;\n  font-weight: bold;\n}\n\n.node circle.state-start {\n  fill: ").concat(t.specialStateColor,";\n  stroke: ").concat(t.specialStateColor,";\n}\n\n.node .fork-join {\n  fill: ").concat(t.specialStateColor,";\n  stroke: ").concat(t.specialStateColor,";\n}\n\n.node circle.state-end {\n  fill: ").concat(t.innerEndBackground,";\n  stroke: ").concat(t.background,";\n  stroke-width: 1.5\n}\n.end-state-inner {\n  fill: ").concat(t.compositeBackground||t.background,";\n  // stroke: ").concat(t.background,";\n  stroke-width: 1.5\n}\n\n.node rect {\n  fill: ").concat(t.stateBkg||t.mainBkg,";\n  stroke: ").concat(t.stateBorder||t.nodeBorder,";\n  stroke-width: 1px;\n}\n.node polygon {\n  fill: ").concat(t.mainBkg,";\n  stroke: ").concat(t.stateBorder||t.nodeBorder,";;\n  stroke-width: 1px;\n}\n#statediagram-barbEnd {\n  fill: ").concat(t.lineColor,";\n}\n\n.statediagram-cluster rect {\n  fill: ").concat(t.compositeTitleBackground,";\n  stroke: ").concat(t.stateBorder||t.nodeBorder,";\n  stroke-width: 1px;\n}\n\n.cluster-label, .nodeLabel {\n  color: ").concat(t.stateLabelColor,";\n}\n\n.statediagram-cluster rect.outer {\n  rx: 5px;\n  ry: 5px;\n}\n.statediagram-state .divider {\n  stroke: ").concat(t.stateBorder||t.nodeBorder,";\n}\n\n.statediagram-state .title-state {\n  rx: 5px;\n  ry: 5px;\n}\n.statediagram-cluster.statediagram-cluster .inner {\n  fill: ").concat(t.compositeBackground||t.background,";\n}\n.statediagram-cluster.statediagram-cluster-alt .inner {\n  fill: ").concat(t.altBackground?t.altBackground:"#efefef",";\n}\n\n.statediagram-cluster .inner {\n  rx:0;\n  ry:0;\n}\n\n.statediagram-state rect.basic {\n  rx: 5px;\n  ry: 5px;\n}\n.statediagram-state rect.divider {\n  stroke-dasharray: 10,10;\n  fill: ").concat(t.altBackground?t.altBackground:"#efefef",";\n}\n\n.note-edge {\n  stroke-dasharray: 5;\n}\n\n.statediagram-note rect {\n  fill: ").concat(t.noteBkgColor,";\n  stroke: ").concat(t.noteBorderColor,";\n  stroke-width: 1px;\n  rx: 0;\n  ry: 0;\n}\n.statediagram-note rect {\n  fill: ").concat(t.noteBkgColor,";\n  stroke: ").concat(t.noteBorderColor,";\n  stroke-width: 1px;\n  rx: 0;\n  ry: 0;\n}\n\n.statediagram-note text {\n  fill: ").concat(t.noteTextColor,";\n}\n\n.statediagram-note .nodeLabel {\n  color: ").concat(t.noteTextColor,";\n}\n.statediagram .edgeLabel {\n  color: red; // ").concat(t.noteTextColor,";\n}\n\n#dependencyStart, #dependencyEnd {\n  fill: ").concat(t.lineColor,";\n  stroke: ").concat(t.lineColor,";\n  stroke-width: 1;\n}\n")};var zS={flowchart:RS,"flowchart-v2":RS,sequence:function(t){return".actor {\n    stroke: ".concat(t.actorBorder,";\n    fill: ").concat(t.actorBkg,";\n  }\n\n  text.actor > tspan {\n    fill: ").concat(t.actorTextColor,";\n    stroke: none;\n  }\n\n  .actor-line {\n    stroke: ").concat(t.actorLineColor,";\n  }\n\n  .messageLine0 {\n    stroke-width: 1.5;\n    stroke-dasharray: none;\n    stroke: ").concat(t.signalColor,";\n  }\n\n  .messageLine1 {\n    stroke-width: 1.5;\n    stroke-dasharray: 2, 2;\n    stroke: ").concat(t.signalColor,";\n  }\n\n  #arrowhead path {\n    fill: ").concat(t.signalColor,";\n    stroke: ").concat(t.signalColor,";\n  }\n\n  .sequenceNumber {\n    fill: ").concat(t.sequenceNumberColor,";\n  }\n\n  #sequencenumber {\n    fill: ").concat(t.signalColor,";\n  }\n\n  #crosshead path {\n    fill: ").concat(t.signalColor,";\n    stroke: ").concat(t.signalColor,";\n  }\n\n  .messageText {\n    fill: ").concat(t.signalTextColor,";\n    stroke: ").concat(t.signalTextColor,";\n  }\n\n  .labelBox {\n    stroke: ").concat(t.labelBoxBorderColor,";\n    fill: ").concat(t.labelBoxBkgColor,";\n  }\n\n  .labelText, .labelText > tspan {\n    fill: ").concat(t.labelTextColor,";\n    stroke: none;\n  }\n\n  .loopText, .loopText > tspan {\n    fill: ").concat(t.loopTextColor,";\n    stroke: none;\n  }\n\n  .loopLine {\n    stroke-width: 2px;\n    stroke-dasharray: 2, 2;\n    stroke: ").concat(t.labelBoxBorderColor,";\n    fill: ").concat(t.labelBoxBorderColor,";\n  }\n\n  .note {\n    //stroke: #decc93;\n    stroke: ").concat(t.noteBorderColor,";\n    fill: ").concat(t.noteBkgColor,";\n  }\n\n  .noteText, .noteText > tspan {\n    fill: ").concat(t.noteTextColor,";\n    stroke: none;\n  }\n\n  .activation0 {\n    fill: ").concat(t.activationBkgColor,";\n    stroke: ").concat(t.activationBorderColor,";\n  }\n\n  .activation1 {\n    fill: ").concat(t.activationBkgColor,";\n    stroke: ").concat(t.activationBorderColor,";\n  }\n\n  .activation2 {\n    fill: ").concat(t.activationBkgColor,";\n    stroke: ").concat(t.activationBorderColor,";\n  }\n\n  .actorPopupMenu {\n    position: absolute;\n  }\n\n  .actorPopupMenuPanel {\n    position: absolute;\n    fill: ").concat(t.actorBkg,";\n    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);\n    filter: drop-shadow(3px 5px 2px rgb(0 0 0 / 0.4));\n}\n  .actor-man line {\n    stroke: ").concat(t.actorBorder,";\n    fill: ").concat(t.actorBkg,";\n  }\n  .actor-man circle, line {\n    stroke: ").concat(t.actorBorder,";\n    fill: ").concat(t.actorBkg,";\n    stroke-width: 2px;\n  }\n")},gantt:function(t){return'\n  .mermaid-main-font {\n    font-family: "trebuchet ms", verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n  }\n  .exclude-range {\n    fill: '.concat(t.excludeBkgColor,";\n  }\n\n  .section {\n    stroke: none;\n    opacity: 0.2;\n  }\n\n  .section0 {\n    fill: ").concat(t.sectionBkgColor,";\n  }\n\n  .section2 {\n    fill: ").concat(t.sectionBkgColor2,";\n  }\n\n  .section1,\n  .section3 {\n    fill: ").concat(t.altSectionBkgColor,";\n    opacity: 0.2;\n  }\n\n  .sectionTitle0 {\n    fill: ").concat(t.titleColor,";\n  }\n\n  .sectionTitle1 {\n    fill: ").concat(t.titleColor,";\n  }\n\n  .sectionTitle2 {\n    fill: ").concat(t.titleColor,";\n  }\n\n  .sectionTitle3 {\n    fill: ").concat(t.titleColor,";\n  }\n\n  .sectionTitle {\n    text-anchor: start;\n    // font-size: ").concat(t.ganttFontSize,";\n    // text-height: 14px;\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n\n  }\n\n\n  /* Grid and axis */\n\n  .grid .tick {\n    stroke: ").concat(t.gridColor,";\n    opacity: 0.8;\n    shape-rendering: crispEdges;\n    text {\n      font-family: ").concat(t.fontFamily,";\n      fill: ").concat(t.textColor,";\n    }\n  }\n\n  .grid path {\n    stroke-width: 0;\n  }\n\n\n  /* Today line */\n\n  .today {\n    fill: none;\n    stroke: ").concat(t.todayLineColor,";\n    stroke-width: 2px;\n  }\n\n\n  /* Task styling */\n\n  /* Default task */\n\n  .task {\n    stroke-width: 2;\n  }\n\n  .taskText {\n    text-anchor: middle;\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n  }\n\n  // .taskText:not([font-size]) {\n  //   font-size: ").concat(t.ganttFontSize,";\n  // }\n\n  .taskTextOutsideRight {\n    fill: ").concat(t.taskTextDarkColor,";\n    text-anchor: start;\n    // font-size: ").concat(t.ganttFontSize,";\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n\n  }\n\n  .taskTextOutsideLeft {\n    fill: ").concat(t.taskTextDarkColor,";\n    text-anchor: end;\n    // font-size: ").concat(t.ganttFontSize,";\n  }\n\n  /* Special case clickable */\n  .task.clickable {\n    cursor: pointer;\n  }\n  .taskText.clickable {\n    cursor: pointer;\n    fill: ").concat(t.taskTextClickableColor," !important;\n    font-weight: bold;\n  }\n\n  .taskTextOutsideLeft.clickable {\n    cursor: pointer;\n    fill: ").concat(t.taskTextClickableColor," !important;\n    font-weight: bold;\n  }\n\n  .taskTextOutsideRight.clickable {\n    cursor: pointer;\n    fill: ").concat(t.taskTextClickableColor," !important;\n    font-weight: bold;\n  }\n\n  /* Specific task settings for the sections*/\n\n  .taskText0,\n  .taskText1,\n  .taskText2,\n  .taskText3 {\n    fill: ").concat(t.taskTextColor,";\n  }\n\n  .task0,\n  .task1,\n  .task2,\n  .task3 {\n    fill: ").concat(t.taskBkgColor,";\n    stroke: ").concat(t.taskBorderColor,";\n  }\n\n  .taskTextOutside0,\n  .taskTextOutside2\n  {\n    fill: ").concat(t.taskTextOutsideColor,";\n  }\n\n  .taskTextOutside1,\n  .taskTextOutside3 {\n    fill: ").concat(t.taskTextOutsideColor,";\n  }\n\n\n  /* Active task */\n\n  .active0,\n  .active1,\n  .active2,\n  .active3 {\n    fill: ").concat(t.activeTaskBkgColor,";\n    stroke: ").concat(t.activeTaskBorderColor,";\n  }\n\n  .activeText0,\n  .activeText1,\n  .activeText2,\n  .activeText3 {\n    fill: ").concat(t.taskTextDarkColor," !important;\n  }\n\n\n  /* Completed task */\n\n  .done0,\n  .done1,\n  .done2,\n  .done3 {\n    stroke: ").concat(t.doneTaskBorderColor,";\n    fill: ").concat(t.doneTaskBkgColor,";\n    stroke-width: 2;\n  }\n\n  .doneText0,\n  .doneText1,\n  .doneText2,\n  .doneText3 {\n    fill: ").concat(t.taskTextDarkColor," !important;\n  }\n\n\n  /* Tasks on the critical line */\n\n  .crit0,\n  .crit1,\n  .crit2,\n  .crit3 {\n    stroke: ").concat(t.critBorderColor,";\n    fill: ").concat(t.critBkgColor,";\n    stroke-width: 2;\n  }\n\n  .activeCrit0,\n  .activeCrit1,\n  .activeCrit2,\n  .activeCrit3 {\n    stroke: ").concat(t.critBorderColor,";\n    fill: ").concat(t.activeTaskBkgColor,";\n    stroke-width: 2;\n  }\n\n  .doneCrit0,\n  .doneCrit1,\n  .doneCrit2,\n  .doneCrit3 {\n    stroke: ").concat(t.critBorderColor,";\n    fill: ").concat(t.doneTaskBkgColor,";\n    stroke-width: 2;\n    cursor: pointer;\n    shape-rendering: crispEdges;\n  }\n\n  .milestone {\n    transform: rotate(45deg) scale(0.8,0.8);\n  }\n\n  .milestoneText {\n    font-style: italic;\n  }\n  .doneCritText0,\n  .doneCritText1,\n  .doneCritText2,\n  .doneCritText3 {\n    fill: ").concat(t.taskTextDarkColor," !important;\n  }\n\n  .activeCritText0,\n  .activeCritText1,\n  .activeCritText2,\n  .activeCritText3 {\n    fill: ").concat(t.taskTextDarkColor," !important;\n  }\n\n  .titleText {\n    text-anchor: middle;\n    font-size: 18px;\n    fill: ").concat(t.textColor,"    ;\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n  }\n")},classDiagram:BS,"classDiagram-v2":BS,class:BS,stateDiagram:PS,state:PS,gitGraph:function(t){return"\n  .commit-id,\n  .commit-msg,\n  .branch-label {\n    fill: lightgrey;\n    color: lightgrey;\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n  }\n  ".concat([0,1,2,3,4,5,6,7].map((function(e){return"\n        .branch-label".concat(e," { fill: ").concat(t["gitBranchLabel"+e],"; }\n        .commit").concat(e," { stroke: ").concat(t["git"+e],"; fill: ").concat(t["git"+e],"; }\n        .commit-highlight").concat(e," { stroke: ").concat(t["gitInv"+e],"; fill: ").concat(t["gitInv"+e],"; }\n        .label").concat(e,"  { fill: ").concat(t["git"+e],"; }\n        .arrow").concat(e," { stroke: ").concat(t["git"+e],"; }\n        ")})).join("\n"),"\n\n  .branch {\n    stroke-width: 1;\n    stroke: ").concat(t.lineColor,";\n    stroke-dasharray: 2;\n  }\n  .commit-label { font-size: 10px; fill: ").concat(t.commitLabelColor,";}\n  .commit-label-bkg { font-size: 10px; fill: ").concat(t.commitLabelBackground,"; opacity: 0.5; }\n  .tag-label { font-size: 10px; fill: ").concat(t.tagLabelColor,";}\n  .tag-label-bkg { fill: ").concat(t.tagLabelBackground,"; stroke: ").concat(t.tagLabelBorder,"; }\n  .tag-hole { fill: ").concat(t.textColor,"; }\n\n  .commit-merge {\n    stroke: ").concat(t.primaryColor,";\n    fill: ").concat(t.primaryColor,";\n  }\n  .commit-reverse {\n    stroke: ").concat(t.primaryColor,";\n    fill: ").concat(t.primaryColor,";\n    stroke-width: 3;\n  }\n  .commit-highlight-outer {\n  }\n  .commit-highlight-inner {\n    stroke: ").concat(t.primaryColor,";\n    fill: ").concat(t.primaryColor,";\n  }\n\n  .arrow { stroke-width: 8; stroke-linecap: round; fill: none}\n  }\n")},info:function(){return""},pie:function(t){return"\n  .pieCircle{\n    stroke: ".concat(t.pieStrokeColor,";\n    stroke-width : ").concat(t.pieStrokeWidth,";\n    opacity : ").concat(t.pieOpacity,";\n  }\n  .pieTitleText {\n    text-anchor: middle;\n    font-size: ").concat(t.pieTitleTextSize,";\n    fill: ").concat(t.pieTitleTextColor,";\n    font-family: ").concat(t.fontFamily,";\n  }\n  .slice {\n    font-family: ").concat(t.fontFamily,";\n    fill: ").concat(t.pieSectionTextColor,";\n    font-size:").concat(t.pieSectionTextSize,";\n    // fill: white;\n  }\n  .legend text {\n    fill: ").concat(t.pieLegendTextColor,";\n    font-family: ").concat(t.fontFamily,";\n    font-size: ").concat(t.pieLegendTextSize,";\n  }\n")},er:function(t){return"\n  .entityBox {\n    fill: ".concat(t.mainBkg,";\n    stroke: ").concat(t.nodeBorder,";\n  }\n\n  .attributeBoxOdd {\n    fill: #ffffff;\n    stroke: ").concat(t.nodeBorder,";\n  }\n\n  .attributeBoxEven {\n    fill: #f2f2f2;\n    stroke: ").concat(t.nodeBorder,";\n  }\n\n  .relationshipLabelBox {\n    fill: ").concat(t.tertiaryColor,";\n    opacity: 0.7;\n    background-color: ").concat(t.tertiaryColor,";\n      rect {\n        opacity: 0.5;\n      }\n  }\n\n    .relationshipLine {\n      stroke: ").concat(t.lineColor,";\n    }\n")},journey:function(t){return".label {\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n    color: ".concat(t.textColor,";\n  }\n  .mouth {\n    stroke: #666;\n  }\n\n  line {\n    stroke: ").concat(t.textColor,"\n  }\n\n  .legend {\n    fill: ").concat(t.textColor,";\n  }\n\n  .label text {\n    fill: #333;\n  }\n  .label {\n    color: ").concat(t.textColor,"\n  }\n\n  .face {\n    ").concat(t.faceColor?"fill: ".concat(t.faceColor):"fill: #FFF8DC",";\n    stroke: #999;\n  }\n\n  .node rect,\n  .node circle,\n  .node ellipse,\n  .node polygon,\n  .node path {\n    fill: ").concat(t.mainBkg,";\n    stroke: ").concat(t.nodeBorder,";\n    stroke-width: 1px;\n  }\n\n  .node .label {\n    text-align: center;\n  }\n  .node.clickable {\n    cursor: pointer;\n  }\n\n  .arrowheadPath {\n    fill: ").concat(t.arrowheadColor,";\n  }\n\n  .edgePath .path {\n    stroke: ").concat(t.lineColor,";\n    stroke-width: 1.5px;\n  }\n\n  .flowchart-link {\n    stroke: ").concat(t.lineColor,";\n    fill: none;\n  }\n\n  .edgeLabel {\n    background-color: ").concat(t.edgeLabelBackground,";\n    rect {\n      opacity: 0.5;\n    }\n    text-align: center;\n  }\n\n  .cluster rect {\n  }\n\n  .cluster text {\n    fill: ").concat(t.titleColor,";\n  }\n\n  div.mermaidTooltip {\n    position: absolute;\n    text-align: center;\n    max-width: 200px;\n    padding: 2px;\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n    font-size: 12px;\n    background: ").concat(t.tertiaryColor,";\n    border: 1px solid ").concat(t.border2,";\n    border-radius: 2px;\n    pointer-events: none;\n    z-index: 100;\n  }\n\n  .task-type-0, .section-type-0  {\n    ").concat(t.fillType0?"fill: ".concat(t.fillType0):"",";\n  }\n  .task-type-1, .section-type-1  {\n    ").concat(t.fillType0?"fill: ".concat(t.fillType1):"",";\n  }\n  .task-type-2, .section-type-2  {\n    ").concat(t.fillType0?"fill: ".concat(t.fillType2):"",";\n  }\n  .task-type-3, .section-type-3  {\n    ").concat(t.fillType0?"fill: ".concat(t.fillType3):"",";\n  }\n  .task-type-4, .section-type-4  {\n    ").concat(t.fillType0?"fill: ".concat(t.fillType4):"",";\n  }\n  .task-type-5, .section-type-5  {\n    ").concat(t.fillType0?"fill: ".concat(t.fillType5):"",";\n  }\n  .task-type-6, .section-type-6  {\n    ").concat(t.fillType0?"fill: ".concat(t.fillType6):"",";\n  }\n  .task-type-7, .section-type-7  {\n    ").concat(t.fillType0?"fill: ".concat(t.fillType7):"",";\n  }\n\n  .actor-0 {\n    ").concat(t.actor0?"fill: ".concat(t.actor0):"",";\n  }\n  .actor-1 {\n    ").concat(t.actor1?"fill: ".concat(t.actor1):"",";\n  }\n  .actor-2 {\n    ").concat(t.actor2?"fill: ".concat(t.actor2):"",";\n  }\n  .actor-3 {\n    ").concat(t.actor3?"fill: ".concat(t.actor3):"",";\n  }\n  .actor-4 {\n    ").concat(t.actor4?"fill: ".concat(t.actor4):"",";\n  }\n  .actor-5 {\n    ").concat(t.actor5?"fill: ".concat(t.actor5):"",";\n  }\n\n  }\n")},requirement:function(t){return"\n\n  marker {\n    fill: ".concat(t.relationColor,";\n    stroke: ").concat(t.relationColor,";\n  }\n\n  marker.cross {\n    stroke: ").concat(t.lineColor,";\n  }\n\n  svg {\n    font-family: ").concat(t.fontFamily,";\n    font-size: ").concat(t.fontSize,";\n  }\n\n  .reqBox {\n    fill: ").concat(t.requirementBackground,";\n    fill-opacity: 100%;\n    stroke: ").concat(t.requirementBorderColor,";\n    stroke-width: ").concat(t.requirementBorderSize,";\n  }\n  \n  .reqTitle, .reqLabel{\n    fill:  ").concat(t.requirementTextColor,";\n  }\n  .reqLabelBox {\n    fill: ").concat(t.relationLabelBackground,";\n    fill-opacity: 100%;\n  }\n\n  .req-title-line {\n    stroke: ").concat(t.requirementBorderColor,";\n    stroke-width: ").concat(t.requirementBorderSize,";\n  }\n  .relationshipLine {\n    stroke: ").concat(t.relationColor,";\n    stroke-width: 1;\n  }\n  .relationshipLabel {\n    fill: ").concat(t.relationLabelColor,";\n  }\n\n")},c4:function(t){return".person {\n    stroke: ".concat(t.personBorder,";\n    fill: ").concat(t.personBkg,";\n  }\n")}};function $S(t){return $S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$S(t)}var jS=function(t){return t.replace(/ﬂ°°/g,(function(){return"&#"})).replace(/ﬂ°/g,(function(){return"&"})).replace(/¶ß/g,(function(){return";"}))},US={};function YS(t){var e;j_(t.flowchart),q_(t.flowchart),void 0!==t.sequenceDiagram&&NC.setConf(Gv(t.sequence,t.sequenceDiagram)),NC.setConf(t.sequence),Dk(t.gantt),Gw(t.class),t.state,uS(t.state),uE(t.class),Vx(t.er),IS(t.journey),LE(t.requirement),e=t.class,Object.keys(e).forEach((function(t){LS[t]=e[t]}))}var qS=Object.freeze({render:function(t,e,n,r){bb();var i=e.replace(/\r\n?/g,"\n"),o=ab.detectInit(i);o&&(ib(o),vb(o));var s=mb();a.debug(s),e.length>s.maxTextSize&&(i="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa");var l=ic("body");if(void 0!==r){if("sandbox"===s.securityLevel){var c=ic("body").append("iframe").attr("id","i"+t).attr("style","width: 100%; height: 100%;").attr("sandbox","");(l=ic(c.nodes()[0].contentDocument.body)).node().style.margin=0}if(r.innerHTML="","sandbox"===s.securityLevel){var u=ic(r).append("iframe").attr("id","i"+t).attr("style","width: 100%; height: 100%;").attr("sandbox","");(l=ic(u.nodes()[0].contentDocument.body)).node().style.margin=0}else l=ic(r);l.append("div").attr("id","d"+t).attr("style","font-family: "+s.fontFamily).append("svg").attr("id",t).attr("width","100%").attr("xmlns","http://www.w3.org/2000/svg").append("g")}else{var h,d=document.getElementById(t);if(d&&d.remove(),(h="sandbox"!==s.securityLevel?document.querySelector("#d"+t):document.querySelector("#i"+t))&&h.remove(),"sandbox"===s.securityLevel){var f=ic("body").append("iframe").attr("id","i"+t).attr("style","width: 100%; height: 100%;").attr("sandbox","");(l=ic(f.nodes()[0].contentDocument.body)).node().style.margin=0}else l=ic("body");l.append("div").attr("id","d"+t).append("svg").attr("id",t).attr("width","100%").attr("xmlns","http://www.w3.org/2000/svg").append("g")}i=i.replace(/style.*:\S*#.*;/g,(function(t){return t.substring(0,t.length-1)})).replace(/classDef.*:\S*#.*;/g,(function(t){return t.substring(0,t.length-1)})).replace(/#\w+;/g,(function(t){var e=t.substring(1,t.length-1);return/^\+?\d+$/.test(e)?"ﬂ°°"+e+"¶ß":"ﬂ°"+e+"¶ß"}));var p=l.select("#d"+t).node(),g=ab.detectType(i,s),m=p.firstChild,y=m.firstChild,v="";if(void 0!==s.themeCSS&&(v+="\n".concat(s.themeCSS)),void 0!==s.fontFamily&&(v+="\n:root { --mermaid-font-family: ".concat(s.fontFamily,"}")),void 0!==s.altFontFamily&&(v+="\n:root { --mermaid-alt-font-family: ".concat(s.altFontFamily,"}")),"flowchart"===g||"flowchart-v2"===g||"graph"===g){var b=function(t){a.info("Extracting classes"),x_.clear();try{var e=k_().parser;return e.yy=x_,e.parse(t),x_.getClasses()}catch(t){return}}(i),w=s.htmlLabels||s.flowchart.htmlLabels;for(var x in b)w?(v+="\n.".concat(x," > * { ").concat(b[x].styles.join(" !important; ")," !important; }"),v+="\n.".concat(x," span { ").concat(b[x].styles.join(" !important; ")," !important; }")):(v+="\n.".concat(x," path { ").concat(b[x].styles.join(" !important; ")," !important; }"),v+="\n.".concat(x," rect { ").concat(b[x].styles.join(" !important; ")," !important; }"),v+="\n.".concat(x," polygon { ").concat(b[x].styles.join(" !important; ")," !important; }"),v+="\n.".concat(x," ellipse { ").concat(b[x].styles.join(" !important; ")," !important; }"),v+="\n.".concat(x," circle { ").concat(b[x].styles.join(" !important; ")," !important; }"),b[x].textStyles&&(v+="\n.".concat(x," tspan { ").concat(b[x].textStyles.join(" !important; ")," !important; }")))}var _=function(t,e){return iy(Ey("".concat(t,"{").concat(e,"}")),oy)}("#".concat(t),function(t,e,n){return" {\n    font-family: ".concat(n.fontFamily,";\n    font-size: ").concat(n.fontSize,";\n    fill: ").concat(n.textColor,"\n  }\n\n  /* Classes common for multiple diagrams */\n\n  .error-icon {\n    fill: ").concat(n.errorBkgColor,";\n  }\n  .error-text {\n    fill: ").concat(n.errorTextColor,";\n    stroke: ").concat(n.errorTextColor,";\n  }\n\n  .edge-thickness-normal {\n    stroke-width: 2px;\n  }\n  .edge-thickness-thick {\n    stroke-width: 3.5px\n  }\n  .edge-pattern-solid {\n    stroke-dasharray: 0;\n  }\n\n  .edge-pattern-dashed{\n    stroke-dasharray: 3;\n  }\n  .edge-pattern-dotted {\n    stroke-dasharray: 2;\n  }\n\n  .marker {\n    fill: ").concat(n.lineColor,";\n    stroke: ").concat(n.lineColor,";\n  }\n  .marker.cross {\n    stroke: ").concat(n.lineColor,";\n  }\n\n  svg {\n    font-family: ").concat(n.fontFamily,";\n    font-size: ").concat(n.fontSize,";\n  }\n\n  ").concat(zS[t](n),"\n\n  ").concat(e,"\n")}(g,v,s.themeVariables)),k=document.createElement("style");k.innerHTML="#".concat(t," ")+_,m.insertBefore(k,y);try{switch(g){case"c4":fw.setConf(s.c4),fw.draw(i,t);break;case"gitGraph":!function(t,e,n){Zk={},Qk={},Jk={},eE=0,tE=[];var r=mb(),i=mb().gitGraph,o=Kk().parser;o.yy=Gk,o.yy.clear(),a.debug("in gitgraph renderer",t+"\n","id:",e,n),o.parse(t+"\n"),Gk.getDirection(),Jk=Gk.getCommits();var s=Gk.getBranchesAsObjArray(),l=0;s.forEach((function(t,e){Zk[t.name]={pos:l,index:e},l+=50+(i.rotateCommitLabel?40:0)}));var c=ic('[id="'.concat(e,'"]'));Gb(o.yy,c,e),nE(c,Jk,!1),i.showBranches&&function(t,e){var n=mb().gitGraph,r=t.append("g");e.forEach((function(t,e){var i=e>=8?e-8:e,o=Zk[t.name].pos,a=r.append("line");a.attr("x1",0),a.attr("y1",o),a.attr("x2",eE),a.attr("y2",o),a.attr("class","branch branch"+i),tE.push(o);var s=function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","text"),n=[];n="string"==typeof t?t.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(t)?t:[];for(var r=0;r<n.length;r++){var i=document.createElementNS("http://www.w3.org/2000/svg","tspan");i.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),i.setAttribute("dy","1em"),i.setAttribute("x","0"),i.setAttribute("class","row"),i.textContent=n[r].trim(),e.appendChild(i)}return e}(t.name),l=r.insert("rect"),c=r.insert("g").attr("class","branchLabel").insert("g").attr("class","label branch-label"+i);c.node().appendChild(s);var u=s.getBBox();l.attr("class","branchLabelBkg label"+i).attr("rx",4).attr("ry",4).attr("x",-u.width-4-(!0===n.rotateCommitLabel?30:0)).attr("y",-u.height/2+8).attr("width",u.width+18).attr("height",u.height+4),c.attr("transform","translate("+(-u.width-14-(!0===n.rotateCommitLabel?30:0))+", "+(o-u.height/2-1)+")"),l.attr("transform","translate(-19, "+(o-u.height/2)+")")}))}(c,s),function(t,e){var n=t.append("g").attr("class","commit-arrows");Object.keys(e).forEach((function(t,r){var i=e[t];i.parents&&i.parents.length>0&&i.parents.forEach((function(t){!function(t,e,n,r){var i=mb(),o=Qk[e.id],a=Qk[n.id],s=function(t,e,n){return Qk[e.id],Qk[t.id],Object.keys(n).filter((function(r){return n[r].branch===e.branch&&n[r].seq>t.seq&&n[r].seq<e.seq})).length>0}(e,n,r);i.arrowMarkerAbsolute&&(window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search).replace(/\(/g,"\\(").replace(/\)/g,"\\)");var l,c="",u="",h=0,d=0,f=Zk[n.branch].index;if(s){c="A 10 10, 0, 0, 0,",u="A 10 10, 0, 0, 1,",h=10,d=10,f=Zk[n.branch].index;var p=o.y<a.y?rE(o.y,a.y):rE(a.y,o.y);l=o.y<a.y?"M ".concat(o.x," ").concat(o.y," L ").concat(o.x," ").concat(p-h," ").concat(c," ").concat(o.x+d," ").concat(p," L ").concat(a.x-h," ").concat(p," ").concat(u," ").concat(a.x," ").concat(p+d," L ").concat(a.x," ").concat(a.y):"M ".concat(o.x," ").concat(o.y," L ").concat(o.x," ").concat(p+h," ").concat(u," ").concat(o.x+d," ").concat(p," L ").concat(a.x-h," ").concat(p," ").concat(c," ").concat(a.x," ").concat(p-d," L ").concat(a.x," ").concat(a.y)}else o.y<a.y&&(c="A 20 20, 0, 0, 0,",h=20,d=20,f=Zk[n.branch].index,l="M ".concat(o.x," ").concat(o.y," L ").concat(o.x," ").concat(a.y-h," ").concat(c," ").concat(o.x+d," ").concat(a.y," L ").concat(a.x," ").concat(a.y)),o.y>a.y&&(c="A 20 20, 0, 0, 0,",h=20,d=20,f=Zk[e.branch].index,l="M ".concat(o.x," ").concat(o.y," L ").concat(a.x-h," ").concat(o.y," ").concat(c," ").concat(a.x," ").concat(o.y-d," L ").concat(a.x," ").concat(a.y)),o.y===a.y&&(f=Zk[e.branch].index,l="M ".concat(o.x," ").concat(o.y," L ").concat(o.x," ").concat(a.y-h," ").concat(c," ").concat(o.x+d," ").concat(a.y," L ").concat(a.x," ").concat(a.y));t.append("path").attr("d",l).attr("class","arrow arrow"+f)}(n,e[t],i,e)}))}))}(c,Jk),nE(c,Jk,!0);var u=i.diagramPadding,h=c.node().getBBox(),d=h.width+2*u,f=h.height+2*u;nb(c,f,d,r.useMaxWidth);var p="".concat(h.x-u-(i.showBranches&&!0===i.rotateCommitLabel?30:0)," ").concat(h.y-u," ").concat(d," ").concat(f);c.attr("viewBox",p)}(i,t,!1);break;case"flowchart":s.flowchart.arrowMarkerAbsolute=s.arrowMarkerAbsolute,j_(s.flowchart),U_(i,t);break;case"flowchart-v2":s.flowchart.arrowMarkerAbsolute=s.arrowMarkerAbsolute,q_(s.flowchart),function(t,e){a.info("Drawing flowchart"),x_.clear(),x_.setGen("gen-2");var n=k_().parser;n.yy=x_,n.parse(t);var r=x_.getDirection();void 0===r&&(r="TD");var i,o=mb().flowchart,s=o.nodeSpacing||50,l=o.rankSpacing||50,c=mb().securityLevel;"sandbox"===c&&(i=ic("#i"+e));var u,h=ic("sandbox"===c?i.nodes()[0].contentDocument.body:"body"),d="sandbox"===c?i.nodes()[0].contentDocument:document,f=new(Fw().Graph)({multigraph:!0,compound:!0}).setGraph({rankdir:r,nodesep:s,ranksep:l,marginx:8,marginy:8}).setDefaultEdgeLabel((function(){return{}})),p=x_.getSubGraphs();a.info("Subgraphs - ",p);for(var g=p.length-1;g>=0;g--)u=p[g],a.info("Subgraph - ",u),x_.addVertex(u.id,u.title,"group",void 0,u.classes,u.dir);var m=x_.getVertices(),y=x_.getEdges();a.info(y);var v=0;for(v=p.length-1;v>=0;v--){u=p[v],oc("cluster").append("text");for(var b=0;b<u.nodes.length;b++)a.info("Setting up subgraphs",u.nodes[b],u.id),f.setParent(u.nodes[b],u.id)}(function(t,e,n,r,i){var o=r.select('[id="'.concat(n,'"]'));Object.keys(t).forEach((function(n){var r=t[n],s="default";r.classes.length>0&&(s=r.classes.join(" "));var l,c=qv(r.styles),u=void 0!==r.text?r.text:r.id;if(zy(mb().flowchart.htmlLabels)){var h={label:u.replace(/fa[lrsb]?:fa-[\w-]+/g,(function(t){return"<i class='".concat(t.replace(":"," "),"'></i>")}))};(l=D_()(o,h).node()).parentNode.removeChild(l)}else{var d=i.createElementNS("http://www.w3.org/2000/svg","text");d.setAttribute("style",c.labelStyle.replace("color:","fill:"));for(var f=u.split($y.lineBreakRegex),p=0;p<f.length;p++){var g=i.createElementNS("http://www.w3.org/2000/svg","tspan");g.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),g.setAttribute("dy","1em"),g.setAttribute("x","1"),g.textContent=f[p],d.appendChild(g)}l=d}var m=0,y="";switch(r.type){case"round":m=5,y="rect";break;case"square":case"group":default:y="rect";break;case"diamond":y="question";break;case"hexagon":y="hexagon";break;case"odd":case"odd_right":y="rect_left_inv_arrow";break;case"lean_right":y="lean_right";break;case"lean_left":y="lean_left";break;case"trapezoid":y="trapezoid";break;case"inv_trapezoid":y="inv_trapezoid";break;case"circle":y="circle";break;case"ellipse":y="ellipse";break;case"stadium":y="stadium";break;case"subroutine":y="subroutine";break;case"cylinder":y="cylinder";break;case"doublecircle":y="doublecircle"}e.setNode(r.id,{labelStyle:c.labelStyle,shape:y,labelText:u,rx:m,ry:m,class:s,style:c.style,id:r.id,link:r.link,linkTarget:r.linkTarget,tooltip:x_.getTooltip(r.id)||"",domId:x_.lookUpDomId(r.id),haveCallback:r.haveCallback,width:"group"===r.type?500:void 0,dir:r.dir,type:r.type,props:r.props,padding:mb().flowchart.padding}),a.info("setNode",{labelStyle:c.labelStyle,shape:y,labelText:u,rx:m,ry:m,class:s,style:c.style,id:r.id,domId:x_.lookUpDomId(r.id),width:"group"===r.type?500:void 0,type:r.type,dir:r.dir,props:r.props,padding:mb().flowchart.padding})}))})(m,f,e,h,d),function(t,e){a.info("abc78 edges = ",t);var n,r,i=0,o={};if(void 0!==t.defaultStyle){var s=qv(t.defaultStyle);n=s.style,r=s.labelStyle}t.forEach((function(s){i++;var l="L-"+s.start+"-"+s.end;void 0===o[l]?(o[l]=0,a.info("abc78 new entry",l,o[l])):(o[l]++,a.info("abc78 new entry",l,o[l]));var c=l+"-"+o[l];a.info("abc78 new link id to be used is",l,c,o[l]);var u="LS-"+s.start,h="LE-"+s.end,d={style:"",labelStyle:""};switch(d.minlen=s.length||1,"arrow_open"===s.type?d.arrowhead="none":d.arrowhead="normal",d.arrowTypeStart="arrow_open",d.arrowTypeEnd="arrow_open",s.type){case"double_arrow_cross":d.arrowTypeStart="arrow_cross";case"arrow_cross":d.arrowTypeEnd="arrow_cross";break;case"double_arrow_point":d.arrowTypeStart="arrow_point";case"arrow_point":d.arrowTypeEnd="arrow_point";break;case"double_arrow_circle":d.arrowTypeStart="arrow_circle";case"arrow_circle":d.arrowTypeEnd="arrow_circle"}var f="",p="";switch(s.stroke){case"normal":f="fill:none;",void 0!==n&&(f=n),void 0!==r&&(p=r),d.thickness="normal",d.pattern="solid";break;case"dotted":d.thickness="normal",d.pattern="dotted",d.style="fill:none;stroke-width:2px;stroke-dasharray:3;";break;case"thick":d.thickness="thick",d.pattern="solid",d.style="stroke-width: 3.5px;fill:none;"}if(void 0!==s.style){var g=qv(s.style);f=g.style,p=g.labelStyle}d.style=d.style+=f,d.labelStyle=d.labelStyle+=p,void 0!==s.interpolate?d.curve=Uv(s.interpolate,Rc):void 0!==t.defaultInterpolate?d.curve=Uv(t.defaultInterpolate,Rc):d.curve=Uv(Y_.curve,Rc),void 0===s.text?void 0!==s.style&&(d.arrowheadStyle="fill: #333"):(d.arrowheadStyle="fill: #333",d.labelpos="c"),d.labelType="text",d.label=s.text.replace($y.lineBreakRegex,"\n"),void 0===s.style&&(d.style=d.style||"stroke: #333; stroke-width: 1.5px;fill:none;"),d.labelStyle=d.labelStyle.replace("color:","fill:"),d.id=c,d.classes="flowchart-link "+u+" "+h,e.setEdge(s.start,s.end,d,i)}))}(y,f);var w=h.select('[id="'.concat(e,'"]'));w.attr("xmlns:xlink","http://www.w3.org/1999/xlink"),Gb(n.yy,w,e);var x=h.select("#"+e+" g");if(Fx(x,f,["point","circle","cross"],"flowchart",e),rb(f,w,o.diagramPadding,o.useMaxWidth),x_.indexNodes("subGraph"+v),!o.htmlLabels)for(var _=d.querySelectorAll('[id="'+e+'"] .edgeLabel .label'),k=0;k<_.length;k++){var E=_[k],C=E.getBBox(),S=d.createElementNS("http://www.w3.org/2000/svg","rect");S.setAttribute("rx",0),S.setAttribute("ry",0),S.setAttribute("width",C.width),S.setAttribute("height",C.height),E.insertBefore(S,E.firstChild)}Object.keys(m).forEach((function(t){var n=m[t];if(n.link){var r=ic("#"+e+' [id="'+t+'"]');if(r){var i=d.createElementNS("http://www.w3.org/2000/svg","a");i.setAttributeNS("http://www.w3.org/2000/svg","class",n.classes.join(" ")),i.setAttributeNS("http://www.w3.org/2000/svg","href",n.link),i.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),"sandbox"===c?i.setAttributeNS("http://www.w3.org/2000/svg","target","_top"):n.linkTarget&&i.setAttributeNS("http://www.w3.org/2000/svg","target",n.linkTarget);var o=r.insert((function(){return i}),":first-child"),a=r.select(".label-container");a&&o.append((function(){return a.node()}));var s=r.select(".label");s&&o.append((function(){return s.node()}))}}}))}(i,t);break;case"sequence":s.sequence.arrowMarkerAbsolute=s.arrowMarkerAbsolute,s.sequenceDiagram?NC.setConf(Object.assign(s.sequence,s.sequenceDiagram)):NC.setConf(s.sequence),NC.draw(i,t);break;case"gantt":s.gantt.arrowMarkerAbsolute=s.arrowMarkerAbsolute,Dk(s.gantt),Tk(i,t);break;case"class":s.class.arrowMarkerAbsolute=s.arrowMarkerAbsolute,Gw(s.class),function(t,e){Ww={},Iw.parser.yy.clear(),Iw.parser.parse(t),a.info("Rendering diagram "+t);var n,r=mb().securityLevel;"sandbox"===r&&(n=ic("#i"+e));var i,o=ic("sandbox"===r?n.nodes()[0].contentDocument.body:"body"),s=("sandbox"===r?n.nodes()[0].contentDocument:document,o.select("[id='".concat(e,"']")));s.attr("xmlns:xlink","http://www.w3.org/1999/xlink"),(i=s).append("defs").append("marker").attr("id","extensionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),i.append("defs").append("marker").attr("id","extensionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z"),i.append("defs").append("marker").attr("id","compositionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),i.append("defs").append("marker").attr("id","compositionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),i.append("defs").append("marker").attr("id","aggregationStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),i.append("defs").append("marker").attr("id","aggregationEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),i.append("defs").append("marker").attr("id","dependencyStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),i.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z");var l=new(Fw().Graph)({multigraph:!0});l.setGraph({isMultiGraph:!0}),l.setDefaultEdgeLabel((function(){return{}}));for(var c=Aw.getClasses(),u=Object.keys(c),h=0;h<u.length;h++){var d=c[u[h]],f=qw(s,d,Hw);Ww[f.id]=f,l.setNode(f.id,f),a.info("Org height: "+f.height)}Aw.getRelations().forEach((function(t){a.info("tjoho"+Vw(t.id1)+Vw(t.id2)+JSON.stringify(t)),l.setEdge(Vw(t.id1),Vw(t.id2),{relation:t},t.title||"DEFAULT")})),Nw().layout(l),l.nodes().forEach((function(t){void 0!==t&&void 0!==l.node(t)&&(a.debug("Node "+t+": "+JSON.stringify(l.node(t))),o.select("#"+kw(t)).attr("transform","translate("+(l.node(t).x-l.node(t).width/2)+","+(l.node(t).y-l.node(t).height/2)+" )"))})),l.edges().forEach((function(t){void 0!==t&&void 0!==l.edge(t)&&(a.debug("Edge "+t.v+" -> "+t.w+": "+JSON.stringify(l.edge(t))),function(t,e,n,r){var i=function(t){switch(t){case Sw.AGGREGATION:return"aggregation";case Sw.EXTENSION:return"extension";case Sw.COMPOSITION:return"composition";case Sw.DEPENDENCY:return"dependency"}};e.points=e.points.filter((function(t){return!Number.isNaN(t.y)}));var o,s,l=e.points,c=$c().x((function(t){return t.x})).y((function(t){return t.y})).curve(Hc),u=t.append("path").attr("d",c(l)).attr("id","edge"+Bw).attr("class","relation"),h="";r.arrowMarkerAbsolute&&(h=(h=(h=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search).replace(/\(/g,"\\(")).replace(/\)/g,"\\)")),1==n.relation.lineType&&u.attr("class","relation dashed-line"),"none"!==n.relation.type1&&u.attr("marker-start","url("+h+"#"+i(n.relation.type1)+"Start)"),"none"!==n.relation.type2&&u.attr("marker-end","url("+h+"#"+i(n.relation.type2)+"End)");var d,f,p,g,m=e.points.length,y=ab.calcLabelPosition(e.points);if(o=y.x,s=y.y,m%2!=0&&m>1){var v=ab.calcCardinalityPosition("none"!==n.relation.type1,e.points,e.points[0]),b=ab.calcCardinalityPosition("none"!==n.relation.type2,e.points,e.points[m-1]);a.debug("cardinality_1_point "+JSON.stringify(v)),a.debug("cardinality_2_point "+JSON.stringify(b)),d=v.x,f=v.y,p=b.x,g=b.y}if(void 0!==n.title){var w=t.append("g").attr("class","classLabel"),x=w.append("text").attr("class","label").attr("x",o).attr("y",s).attr("fill","red").attr("text-anchor","middle").text(n.title);window.label=x;var _=x.node().getBBox();w.insert("rect",":first-child").attr("class","box").attr("x",_.x-r.padding/2).attr("y",_.y-r.padding/2).attr("width",_.width+r.padding).attr("height",_.height+r.padding)}a.info("Rendering relation "+JSON.stringify(n)),void 0!==n.relationTitle1&&"none"!==n.relationTitle1&&t.append("g").attr("class","cardinality").append("text").attr("class","type1").attr("x",d).attr("y",f).attr("fill","black").attr("font-size","6").text(n.relationTitle1),void 0!==n.relationTitle2&&"none"!==n.relationTitle2&&t.append("g").attr("class","cardinality").append("text").attr("class","type2").attr("x",p).attr("y",g).attr("fill","black").attr("font-size","6").text(n.relationTitle2),Bw++}(s,l.edge(t),l.edge(t).relation,Hw))}));var p=s.node().getBBox(),g=p.width+40,m=p.height+40;nb(s,m,g,Hw.useMaxWidth);var y="".concat(p.x-20," ").concat(p.y-20," ").concat(g," ").concat(m);a.debug("viewBox ".concat(y)),s.attr("viewBox",y),Gb(Iw.parser.yy,s,e)}(i,t);break;case"classDiagram":s.class.arrowMarkerAbsolute=s.arrowMarkerAbsolute,function(t){Object.keys(t).forEach((function(e){Ix[e]=t[e]}))}(s.class),function(t,e){a.info("Drawing class - ",e),Aw.clear(),Iw.parser.parse(t);var n=mb().flowchart,r=mb().securityLevel;a.info("config:",n);var i,o=n.nodeSpacing||50,s=n.rankSpacing||50,l=new(Fw().Graph)({multigraph:!0,compound:!0}).setGraph({rankdir:Aw.getDirection(),nodesep:o,ranksep:s,marginx:8,marginy:8}).setDefaultEdgeLabel((function(){return{}})),c=Aw.getClasses(),u=Aw.getRelations();a.info(u),function(t,e){var n=Object.keys(t);a.info("keys:",n),a.info(t),n.forEach((function(n){var r=t[n],i="";r.cssClasses.length>0&&(i=i+" "+r.cssClasses.join(" "));var o,s,l={labelStyle:""},c=void 0!==r.text?r.text:r.id;r.type,s="class_box",e.setNode(r.id,{labelStyle:l.labelStyle,shape:s,labelText:(o=c,$y.sanitizeText(o,mb())),classData:r,rx:0,ry:0,class:i,style:l.style,id:r.id,domId:r.domId,haveCallback:r.haveCallback,link:r.link,width:"group"===r.type?500:void 0,type:r.type,padding:mb().flowchart.padding}),a.info("setNode",{labelStyle:l.labelStyle,shape:s,labelText:c,rx:0,ry:0,class:i,style:l.style,id:r.id,width:"group"===r.type?500:void 0,type:r.type,padding:mb().flowchart.padding})}))}(c,l),function(t,e){var n=0;t.forEach((function(r){n++;var i={classes:"relation"};i.pattern=1==r.relation.lineType?"dashed":"solid",i.id="id"+n,"arrow_open"===r.type?i.arrowhead="none":i.arrowhead="normal",a.info(i,r),i.startLabelRight="none"===r.relationTitle1?"":r.relationTitle1,i.endLabelLeft="none"===r.relationTitle2?"":r.relationTitle2,i.arrowTypeStart=Lx(r.relation.type1),i.arrowTypeEnd=Lx(r.relation.type2);var o="",s="";if(void 0!==r.style){var l=qv(r.style);o=l.style,s=l.labelStyle}else o="fill:none";i.style=o,i.labelStyle=s,void 0!==r.interpolate?i.curve=Uv(r.interpolate,Rc):void 0!==t.defaultInterpolate?i.curve=Uv(t.defaultInterpolate,Rc):i.curve=Uv(Ix.curve,Rc),r.text=r.title,void 0===r.text?void 0!==r.style&&(i.arrowheadStyle="fill: #333"):(i.arrowheadStyle="fill: #333",i.labelpos="c",mb().flowchart.htmlLabels?(i.labelType="html",i.label='<span class="edgeLabel">'+r.text+"</span>"):(i.labelType="text",i.label=r.text.replace($y.lineBreakRegex,"\n"),void 0===r.style&&(i.style=i.style||"stroke: #333; stroke-width: 1.5px;fill:none"),i.labelStyle=i.labelStyle.replace("color:","fill:"))),e.setEdge(r.id1,r.id2,i,n)}))}(u,l),"sandbox"===r&&(i=ic("#i"+e));var h=ic("sandbox"===r?i.nodes()[0].contentDocument.body:"body"),d=h.select('[id="'.concat(e,'"]'));d.attr("xmlns:xlink","http://www.w3.org/1999/xlink");var f=h.select("#"+e+" g");if(Fx(f,l,["aggregation","extension","composition","dependency"],"classDiagram",e),rb(l,d,n.diagramPadding,n.useMaxWidth),!n.htmlLabels)for(var p="sandbox"===r?i.nodes()[0].contentDocument:document,g=p.querySelectorAll('[id="'+e+'"] .edgeLabel .label'),m=0;m<g.length;m++){var y=g[m],v=y.getBBox(),b=p.createElementNS("http://www.w3.org/2000/svg","rect");b.setAttribute("rx",0),b.setAttribute("ry",0),b.setAttribute("width",v.width),b.setAttribute("height",v.height),y.insertBefore(b,y.firstChild)}Gb(Iw.parser.yy,d,e)}(i,t);break;case"state":s.class.arrowMarkerAbsolute=s.arrowMarkerAbsolute,s.state,rS(i,t);break;case"stateDiagram":s.class.arrowMarkerAbsolute=s.arrowMarkerAbsolute,uS(s.state),function(t,e){a.info("Drawing state diagram (v2)",e),GC.clear(),oS={};var n=FC().parser;n.yy=GC,n.parse(t);var r=GC.getDirection();void 0===r&&(r="LR");var i=mb().state,o=i.nodeSpacing||50,s=i.rankSpacing||50,l=mb().securityLevel;a.info(GC.getRootDocV2()),GC.extract(GC.getRootDocV2()),a.info(GC.getRootDocV2());var c,u=new(Fw().Graph)({multigraph:!0,compound:!0}).setGraph({rankdir:cS(GC.getRootDocV2()),nodesep:o,ranksep:s,marginx:8,marginy:8}).setDefaultEdgeLabel((function(){return{}}));aS(u,void 0,GC.getRootDocV2(),!0),"sandbox"===l&&(c=ic("#i"+e));var h=ic("sandbox"===l?c.nodes()[0].contentDocument.body:"body"),d=("sandbox"===l?c.nodes()[0].contentDocument:document,h.select('[id="'.concat(e,'"]'))),f=h.select("#"+e+" g");Fx(f,u,["barb"],"statediagram",e);var p=d.node().getBBox(),g=p.width+16,m=p.height+16;d.attr("class","statediagram");var y=d.node().getBBox();nb(d,m,1.75*g,i.useMaxWidth);var v="".concat(y.x-8," ").concat(y.y-8," ").concat(g," ").concat(m);a.debug("viewBox ".concat(v)),d.attr("viewBox",v);for(var b=document.querySelectorAll('[id="'+e+'"] .edgeLabel .label'),w=0;w<b.length;w++){var x=b[w],_=x.getBBox(),k=document.createElementNS("http://www.w3.org/2000/svg","rect");k.setAttribute("rx",0),k.setAttribute("ry",0),k.setAttribute("width",_.width),k.setAttribute("height",_.height),x.insertBefore(k,x.firstChild)}Gb(n.yy,d,e)}(i,t);break;case"info":s.class.arrowMarkerAbsolute=s.arrowMarkerAbsolute,uE(s.class),function(t,e,n){try{var r=lE().parser;r.yy=aE,a.debug("Renering info diagram\n"+t);var i,o=mb().securityLevel;"sandbox"===o&&(i=ic("#i"+e));var s=ic("sandbox"===o?i.nodes()[0].contentDocument.body:"body");"sandbox"===o?i.nodes()[0].contentDocument:document,r.parse(t),a.debug("Parsed info diagram");var l=s.select("#"+e);l.append("g").append("text").attr("x",100).attr("y",40).attr("class","version").attr("font-size","32px").style("text-anchor","middle").text("v 9.1.2"),l.attr("height",100),l.attr("width",400)}catch(t){a.error("Error while rendering info diagram"),a.error(t.message)}}(i,t);break;case"pie":vE(i,t);break;case"er":Vx(s.er),function(t,e){a.info("Drawing ER diagram"),zx.clear();var n=jx().parser;n.yy=zx;var r,i=mb().securityLevel;"sandbox"===i&&(r=ic("#i"+e));var o=ic("sandbox"===i?r.nodes()[0].contentDocument.body:"body");"sandbox"===i?r.nodes()[0].contentDocument:document;try{n.parse(t)}catch(t){a.debug("Parsing failed")}var s,l=o.select("[id='".concat(e,"']"));(function(t,e){var n;t.append("defs").append("marker").attr("id",Ux.ONLY_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M9,0 L9,18 M15,0 L15,18"),t.append("defs").append("marker").attr("id",Ux.ONLY_ONE_END).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M3,0 L3,18 M9,0 L9,18"),(n=t.append("defs").append("marker").attr("id",Ux.ZERO_OR_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto")).append("circle").attr("stroke",e.stroke).attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),n.append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M9,0 L9,18"),(n=t.append("defs").append("marker").attr("id",Ux.ZERO_OR_ONE_END).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto")).append("circle").attr("stroke",e.stroke).attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),n.append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M21,0 L21,18"),t.append("defs").append("marker").attr("id",Ux.ONE_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),t.append("defs").append("marker").attr("id",Ux.ONE_OR_MORE_END).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18"),(n=t.append("defs").append("marker").attr("id",Ux.ZERO_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto")).append("circle").attr("stroke",e.stroke).attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),n.append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18"),(n=t.append("defs").append("marker").attr("id",Ux.ZERO_OR_MORE_END).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto")).append("circle").attr("stroke",e.stroke).attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),n.append("path").attr("stroke",e.stroke).attr("fill","none").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")})(l,qx),s=new(Fw().Graph)({multigraph:!0,directed:!0,compound:!1}).setGraph({rankdir:qx.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel((function(){return{}}));var c=function(t,e,n){var r;return Object.keys(e).forEach((function(i){var o=t.append("g").attr("id",i);r=void 0===r?i:r;var a="entity-"+i,s=o.append("text").attr("class","er entityLabel").attr("id",a).attr("x",0).attr("y",0).attr("dominant-baseline","middle").attr("text-anchor","middle").attr("style","font-family: "+mb().fontFamily+"; font-size: "+qx.fontSize+"px").text(i),l=function(t,e,n){var r=qx.entityPadding/3,i=qx.entityPadding/3,o=.85*qx.fontSize,a=e.node().getBBox(),s=[],l=!1,c=!1,u=0,h=0,d=0,f=0,p=a.height+2*r,g=1;n.forEach((function(t){void 0!==t.attributeKeyType&&(l=!0),void 0!==t.attributeComment&&(c=!0)})),n.forEach((function(n){var i="".concat(e.node().id,"-attr-").concat(g),a=0,m=t.append("text").attr("class","er entityLabel").attr("id","".concat(i,"-type")).attr("x",0).attr("y",0).attr("dominant-baseline","middle").attr("text-anchor","left").attr("style","font-family: "+mb().fontFamily+"; font-size: "+o+"px").text(n.attributeType),y=t.append("text").attr("class","er entityLabel").attr("id","".concat(i,"-name")).attr("x",0).attr("y",0).attr("dominant-baseline","middle").attr("text-anchor","left").attr("style","font-family: "+mb().fontFamily+"; font-size: "+o+"px").text(n.attributeName),v={};v.tn=m,v.nn=y;var b=m.node().getBBox(),w=y.node().getBBox();if(u=Math.max(u,b.width),h=Math.max(h,w.width),a=Math.max(b.height,w.height),l){var x=t.append("text").attr("class","er entityLabel").attr("id","".concat(i,"-key")).attr("x",0).attr("y",0).attr("dominant-baseline","middle").attr("text-anchor","left").attr("style","font-family: "+mb().fontFamily+"; font-size: "+o+"px").text(n.attributeKeyType||"");v.kn=x;var _=x.node().getBBox();d=Math.max(d,_.width),a=Math.max(a,_.height)}if(c){var k=t.append("text").attr("class","er entityLabel").attr("id","".concat(i,"-comment")).attr("x",0).attr("y",0).attr("dominant-baseline","middle").attr("text-anchor","left").attr("style","font-family: "+mb().fontFamily+"; font-size: "+o+"px").text(n.attributeComment||"");v.cn=k;var E=k.node().getBBox();f=Math.max(f,E.width),a=Math.max(a,E.height)}v.height=a,s.push(v),p+=a+2*r,g+=1}));var m=4;l&&(m+=2),c&&(m+=2);var y=u+h+d+f,v={width:Math.max(qx.minEntityWidth,Math.max(a.width+2*qx.entityPadding,y+i*m)),height:n.length>0?p:Math.max(qx.minEntityHeight,a.height+2*qx.entityPadding)};if(n.length>0){var b=Math.max(0,(v.width-y-i*m)/(m/2));e.attr("transform","translate("+v.width/2+","+(r+a.height/2)+")");var w=a.height+2*r,x="attributeBoxOdd";s.forEach((function(e){var n=w+r+e.height/2;e.tn.attr("transform","translate("+i+","+n+")");var o=t.insert("rect","#"+e.tn.node().id).attr("class","er ".concat(x)).attr("fill",qx.fill).attr("fill-opacity","100%").attr("stroke",qx.stroke).attr("x",0).attr("y",w).attr("width",u+2*i+b).attr("height",e.height+2*r),a=parseFloat(o.attr("x"))+parseFloat(o.attr("width"));e.nn.attr("transform","translate("+(a+i)+","+n+")");var s=t.insert("rect","#"+e.nn.node().id).attr("class","er ".concat(x)).attr("fill",qx.fill).attr("fill-opacity","100%").attr("stroke",qx.stroke).attr("x",a).attr("y",w).attr("width",h+2*i+b).attr("height",e.height+2*r),p=parseFloat(s.attr("x"))+parseFloat(s.attr("width"));if(l){e.kn.attr("transform","translate("+(p+i)+","+n+")");var g=t.insert("rect","#"+e.kn.node().id).attr("class","er ".concat(x)).attr("fill",qx.fill).attr("fill-opacity","100%").attr("stroke",qx.stroke).attr("x",p).attr("y",w).attr("width",d+2*i+b).attr("height",e.height+2*r);p=parseFloat(g.attr("x"))+parseFloat(g.attr("width"))}c&&(e.cn.attr("transform","translate("+(p+i)+","+n+")"),t.insert("rect","#"+e.cn.node().id).attr("class","er ".concat(x)).attr("fill",qx.fill).attr("fill-opacity","100%").attr("stroke",qx.stroke).attr("x",p).attr("y",w).attr("width",f+2*i+b).attr("height",e.height+2*r)),w+=e.height+2*r,x="attributeBoxOdd"==x?"attributeBoxEven":"attributeBoxOdd"}))}else v.height=Math.max(qx.minEntityHeight,p),e.attr("transform","translate("+v.width/2+","+v.height/2+")");return v}(o,s,e[i].attributes),c=l.width,u=l.height,h=o.insert("rect","#"+a).attr("class","er entityBox").attr("fill",qx.fill).attr("fill-opacity","100%").attr("stroke",qx.stroke).attr("x",0).attr("y",0).attr("width",c).attr("height",u).node().getBBox();n.setNode(i,{width:h.width,height:h.height,shape:"rect",id:i})})),r}(l,zx.getEntities(),s),u=function(t,e){return t.forEach((function(t){e.setEdge(t.entityA,t.entityB,{relationship:t},Wx(t))})),t}(zx.getRelationships(),s);Nw().layout(s),function(t,e){e.nodes().forEach((function(n){void 0!==n&&void 0!==e.node(n)&&t.select("#"+n).attr("transform","translate("+(e.node(n).x-e.node(n).width/2)+","+(e.node(n).y-e.node(n).height/2)+" )")}))}(l,s),u.forEach((function(t){!function(t,e,n,r){Hx++;var i=n.edge(e.entityA,e.entityB,Wx(e)),o=$c().x((function(t){return t.x})).y((function(t){return t.y})).curve(Hc),a=t.insert("path","#"+r).attr("class","er relationshipLine").attr("d",o(i.points)).attr("stroke",qx.stroke).attr("fill","none");e.relSpec.relType===zx.Identification.NON_IDENTIFYING&&a.attr("stroke-dasharray","8,8");var s="";switch(qx.arrowMarkerAbsolute&&(s=(s=(s=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search).replace(/\(/g,"\\(")).replace(/\)/g,"\\)")),e.relSpec.cardA){case zx.Cardinality.ZERO_OR_ONE:a.attr("marker-end","url("+s+"#"+Yx.ZERO_OR_ONE_END+")");break;case zx.Cardinality.ZERO_OR_MORE:a.attr("marker-end","url("+s+"#"+Yx.ZERO_OR_MORE_END+")");break;case zx.Cardinality.ONE_OR_MORE:a.attr("marker-end","url("+s+"#"+Yx.ONE_OR_MORE_END+")");break;case zx.Cardinality.ONLY_ONE:a.attr("marker-end","url("+s+"#"+Yx.ONLY_ONE_END+")")}switch(e.relSpec.cardB){case zx.Cardinality.ZERO_OR_ONE:a.attr("marker-start","url("+s+"#"+Yx.ZERO_OR_ONE_START+")");break;case zx.Cardinality.ZERO_OR_MORE:a.attr("marker-start","url("+s+"#"+Yx.ZERO_OR_MORE_START+")");break;case zx.Cardinality.ONE_OR_MORE:a.attr("marker-start","url("+s+"#"+Yx.ONE_OR_MORE_START+")");break;case zx.Cardinality.ONLY_ONE:a.attr("marker-start","url("+s+"#"+Yx.ONLY_ONE_START+")")}var l=a.node().getTotalLength(),c=a.node().getPointAtLength(.5*l),u="rel"+Hx,h=t.append("text").attr("class","er relationshipLabel").attr("id",u).attr("x",c.x).attr("y",c.y).attr("text-anchor","middle").attr("dominant-baseline","middle").attr("style","font-family: "+mb().fontFamily+"; font-size: "+qx.fontSize+"px").text(e.roleA).node().getBBox();t.insert("rect","#"+u).attr("class","er relationshipLabelBox").attr("x",c.x-h.width/2).attr("y",c.y-h.height/2).attr("width",h.width).attr("height",h.height).attr("fill","white").attr("fill-opacity","85%")}(l,t,s,c)}));var h=qx.diagramPadding,d=l.node().getBBox(),f=d.width+2*h,p=d.height+2*h;nb(l,p,f,qx.useMaxWidth),l.attr("viewBox","".concat(d.x-h," ").concat(d.y-h," ").concat(f," ").concat(p)),Gb(n.yy,l,e)}(i,t);break;case"journey":IS(s.journey),function(t,e){var n=mb().journey;bS.parser.yy.clear(),bS.parser.parse(t+"\n");var r,i=mb().securityLevel;"sandbox"===i&&(r=ic("#i"+e));var o=ic("sandbox"===i?r.nodes()[0].contentDocument.body:"body");"sandbox"===i?r.nodes()[0].contentDocument:document,NS.init();var a=o.select("#"+e);a.attr("xmlns:xlink","http://www.w3.org/1999/xlink"),a.append("defs").append("marker").attr("id","arrowhead").attr("refX",5).attr("refY",2).attr("markerWidth",6).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M 0,0 V 4 L6,2 Z");var s=bS.parser.yy.getTasks(),l=bS.parser.yy.getDiagramTitle(),c=bS.parser.yy.getActors();for(var u in TS)delete TS[u];var h=0;c.forEach((function(t){TS[t]={color:n.actorColours[h%n.actorColours.length],position:h},h++})),function(t){var e=mb().journey,n=60;Object.keys(TS).forEach((function(r){var i=TS[r].color,o={cx:20,cy:n,r:7,fill:i,stroke:"#000",pos:TS[r].position};CS(t,o);var a={x:40,y:n+7,fill:"#666",text:r,textMargin:5|e.boxTextMargin};(function(t,e){var n=e.text.replace(/<br\s*\/?>/gi," "),r=t.append("text");r.attr("x",e.x),r.attr("y",e.y),r.attr("class","legend"),r.style("text-anchor",e.anchor),void 0!==e.class&&r.attr("class",e.class);var i=r.append("tspan");i.attr("x",e.x+2*e.textMargin),i.text(n)})(t,a),n+=20}))}(a),NS.insert(0,0,MS,50*Object.keys(TS).length),function(t,e,n){for(var r=mb().journey,i="",o=0+(2*r.height+r.diagramMarginY),a=0,s="#CCC",l="black",c=0,u=0;u<e.length;u++){var h=e[u];if(i!==h.section){s=OS[a%OS.length],c=a%OS.length,l=FS[a%FS.length];var d={x:u*r.taskMargin+u*r.width+MS,y:50,text:h.section,fill:s,num:c,colour:l};SS(t,d,r),i=h.section,a++}var f=h.people.reduce((function(t,e){return TS[e]&&(t[e]=TS[e]),t}),{});h.x=u*r.taskMargin+u*r.width+MS,h.y=o,h.width=r.diagramMarginX,h.height=r.diagramMarginY,h.colour=l,h.fill=s,h.num=c,h.actors=f,DS(t,h,r),NS.insert(h.x,h.y,h.x+h.width+r.taskMargin,450)}}(a,s);var d=NS.getBounds();l&&a.append("text").text(l).attr("x",MS).attr("font-size","4ex").attr("font-weight","bold").attr("y",25);var f=d.stopy-d.starty+2*n.diagramMarginY,p=MS+d.stopx+2*n.diagramMarginX;nb(a,f,p,n.useMaxWidth),a.append("line").attr("x1",MS).attr("y1",4*n.height).attr("x2",p-MS-4).attr("y2",4*n.height).attr("stroke-width",4).attr("stroke","black").attr("marker-end","url(#arrowhead)");var g=l?70:0;a.attr("viewBox","".concat(d.startx," -25 ").concat(p," ").concat(f+g)),a.attr("preserveAspectRatio","xMinYMin meet"),a.attr("height",f+g+25),Gb(bS.parser.yy,a,e)}(i,t);break;case"requirement":LE(s.requirement),function(t,e){bE.parser.yy=SE,bE.parser.yy.clear(),bE.parser.parse(t);var n,r=mb().securityLevel;"sandbox"===r&&(n=ic("#i"+e));var i=ic("sandbox"===r?n.nodes()[0].contentDocument.body:"body"),o=("sandbox"===r?n.nodes()[0].contentDocument:document,i.select("[id='".concat(e,"']")));!function(t,e){var n=t.append("defs").append("marker").attr("id",DE.CONTAINS+"_line_ending").attr("refX",0).attr("refY",e.line_height/2).attr("markerWidth",e.line_height).attr("markerHeight",e.line_height).attr("orient","auto").append("g");n.append("circle").attr("cx",e.line_height/2).attr("cy",e.line_height/2).attr("r",e.line_height/2).attr("fill","none"),n.append("line").attr("x1",0).attr("x2",e.line_height).attr("y1",e.line_height/2).attr("y2",e.line_height/2).attr("stroke-width",1),n.append("line").attr("y1",0).attr("y2",e.line_height).attr("x1",e.line_height/2).attr("x2",e.line_height/2).attr("stroke-width",1),t.append("defs").append("marker").attr("id",DE.ARROW+"_line_ending").attr("refX",e.line_height).attr("refY",.5*e.line_height).attr("markerWidth",e.line_height).attr("markerHeight",e.line_height).attr("orient","auto").append("path").attr("d","M0,0\n      L".concat(e.line_height,",").concat(e.line_height/2,"\n      M").concat(e.line_height,",").concat(e.line_height/2,"\n      L0,").concat(e.line_height)).attr("stroke-width",1)}(o,AE);var s=new(Fw().Graph)({multigraph:!1,compound:!1,directed:!0}).setGraph({rankdir:AE.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel((function(){return{}})),l=SE.getRequirements(),c=SE.getElements(),u=SE.getRelationships();!function(t,e,n){Object.keys(t).forEach((function(r){var i=t[r];r=IE(r),a.info("Added new requirement: ",r);var o=n.append("g").attr("id",r),s=NE(o,"req-"+r),l=[],c=OE(o,r+"_title",["<<".concat(i.type,">>"),"".concat(i.name)]);l.push(c.titleNode);var u=FE(o,r+"_body",["Id: ".concat(i.id),"Text: ".concat(i.text),"Risk: ".concat(i.risk),"Verification: ".concat(i.verifyMethod)],c.y);l.push(u);var h=s.node().getBBox();e.setNode(r,{width:h.width,height:h.height,shape:"rect",id:r})}))}(l,s,o),function(t,e,n){Object.keys(t).forEach((function(r){var i=t[r],o=IE(r),a=n.append("g").attr("id",o),s="element-"+o,l=NE(a,s),c=[],u=OE(a,s+"_title",["<<Element>>","".concat(r)]);c.push(u.titleNode);var h=FE(a,s+"_body",["Type: ".concat(i.type||"Not Specified"),"Doc Ref: ".concat(i.docRef||"None")],u.y);c.push(h);var d=l.node().getBBox();e.setNode(o,{width:d.width,height:d.height,shape:"rect",id:o})}))}(c,s,o),function(t,e){t.forEach((function(t){var n=IE(t.src),r=IE(t.dst);e.setEdge(n,r,{relationship:t})}))}(u,s),Nw().layout(s),function(t,e){e.nodes().forEach((function(n){void 0!==n&&void 0!==e.node(n)&&(t.select("#"+n),t.select("#"+n).attr("transform","translate("+(e.node(n).x-e.node(n).width/2)+","+(e.node(n).y-e.node(n).height/2)+" )"))}))}(o,s),u.forEach((function(t){!function(t,e,n,r){var i=n.edge(IE(e.src),IE(e.dst)),o=$c().x((function(t){return t.x})).y((function(t){return t.y})),a=t.insert("path","#"+r).attr("class","er relationshipLine").attr("d",o(i.points)).attr("fill","none");e.type==SE.Relationships.CONTAINS?a.attr("marker-start","url("+$y.getUrl(AE.arrowMarkerAbsolute)+"#"+e.type+"_line_ending)"):(a.attr("stroke-dasharray","10,7"),a.attr("marker-end","url("+$y.getUrl(AE.arrowMarkerAbsolute)+"#"+TE.ARROW+"_line_ending)")),function(t,e,n,r){var i=e.node().getTotalLength(),o=e.node().getPointAtLength(.5*i),a="rel"+ME;ME++;var s=t.append("text").attr("class","req relationshipLabel").attr("id",a).attr("x",o.x).attr("y",o.y).attr("text-anchor","middle").attr("dominant-baseline","middle").text(r).node().getBBox();t.insert("rect","#"+a).attr("class","req reqLabelBox").attr("x",o.x-s.width/2).attr("y",o.y-s.height/2).attr("width",s.width).attr("height",s.height).attr("fill","white").attr("fill-opacity","85%")}(t,a,0,"<<".concat(e.type,">>"))}(o,t,s,e)}));var h=AE.rect_padding,d=o.node().getBBox(),f=d.width+2*h,p=d.height+2*h;nb(o,p,f,AE.useMaxWidth),o.attr("viewBox","".concat(d.x-h," ").concat(d.y-h," ").concat(f," ").concat(p)),Gb(bE.parser.yy,o,e)}(i,t)}}catch(e){throw function(t,e){try{a.debug("Renering svg for syntax error\n");var n=ic("#"+t),r=n.append("g");r.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),r.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),r.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),r.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),r.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),r.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),r.append("text").attr("class","error-text").attr("x",1240).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in graph"),r.append("text").attr("class","error-text").attr("x",1050).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text("mermaid version 9.1.2"),n.attr("height",100),n.attr("width",400),n.attr("viewBox","768 0 512 512")}catch(t){a.error("Error while rendering info diagram"),a.error(t.message)}}(t),e}l.select('[id="'.concat(t,'"]')).selectAll("foreignobject > *").attr("xmlns","http://www.w3.org/1999/xhtml");var E=l.select("#d"+t).node().innerHTML;if(a.debug("cnf.arrowMarkerAbsolute",s.arrowMarkerAbsolute),s.arrowMarkerAbsolute&&"false"!==s.arrowMarkerAbsolute||"sandbox"===s.arrowMarkerAbsolute||(E=E.replace(/marker-end="url\(.*?#/g,'marker-end="url(#',"g")),E=(E=jS(E)).replace(/<br>/g,"<br/>"),"sandbox"===s.securityLevel){var C=l.select("#d"+t+" svg").node(),S="100%";C&&(S=C.viewBox.baseVal.height+"px"),E='<iframe style="width:'.concat("100%",";height:").concat(S,';border:0;margin:0;" src="data:text/html;base64,').concat(btoa('<body style="margin:0">'+E+"</body>"),'" sandbox="allow-top-navigation-by-user-activation allow-popups">\n  The “iframe” tag is not supported by your browser.\n</iframe>')}else"loose"!==s.securityLevel&&(E=Ny().sanitize(E,{ADD_TAGS:["foreignobject"],ADD_ATTR:["dominant-baseline"]}));if(void 0!==n)switch(g){case"flowchart":case"flowchart-v2":n(E,x_.bindFunctions);break;case"gantt":n(E,_k.bindFunctions);break;case"class":case"classDiagram":n(E,Aw.bindFunctions);break;default:n(E)}else a.debug("CB = undefined!");rC.forEach((function(t){t()})),rC=[];var D="sandbox"===s.securityLevel?"#i"+t:"#d"+t,T=ic(D).node();return null!==T&&"function"==typeof T.remove&&ic(D).node().remove(),E},parse:function(t){var e=!1;try{t+="\n";var n=mb(),r=ab.detectInit(t,n);r&&a.info("reinit ",r);var i,o=ab.detectType(t,n);switch(a.debug("Type "+o),o){case"c4":jb.clear(),(i=Vb()).parser.yy=Vb();break;case"gitGraph":Gk.clear(),(i=Kk()).parser.yy=Gk;break;case"flowchart":case"flowchart-v2":x_.clear(),(i=k_()).parser.yy=x_;break;case"sequence":nC.clear(),(i=RE()).parser.yy=nC;break;case"gantt":(i=Sk()).parser.yy=_k;break;case"class":case"classDiagram":(i=Lw()).parser.yy=Aw;break;case"state":case"stateDiagram":(i=FC()).parser.yy=GC;break;case"info":a.debug("info info info"),(i=lE()).parser.yy=aE;break;case"pie":a.debug("pie"),(i=dE()).parser.yy=gE;break;case"er":a.debug("er"),(i=jx()).parser.yy=zx;break;case"journey":a.debug("Journey"),(i=wS()).parser.yy=vS;break;case"requirement":case"requirementDiagram":a.debug("RequirementDiagram"),(i=wE()).parser.yy=SE}i.parser.yy.graphType=o,i.parser.yy.parseError=function(t,e){throw{str:t,hash:e}},i.parse(t)}catch(t){if(e=!0,!XS.parseError)throw t;null!=t.str?XS.parseError(t.str,t.hash):XS.parseError(t)}return!e},parseDirective:function(t,e,n,r){try{if(void 0!==e)switch(e=e.trim(),n){case"open_directive":US={};break;case"type_directive":US.type=e.toLowerCase();break;case"arg_directive":US.args=JSON.parse(e);break;case"close_directive":(function(t,e,n){switch(a.debug("Directive type=".concat(e.type," with args:"),e.args),e.type){case"init":case"initialize":["config"].forEach((function(t){void 0!==e.args[t]&&("flowchart-v2"===n&&(n="flowchart"),e.args[n]=e.args[t],delete e.args[t])})),a.debug("sanitize in handleDirective",e.args),ib(e.args),a.debug("sanitize in handleDirective (done)",e.args),e.args,vb(e.args);break;case"wrap":case"nowrap":t&&t.setWrap&&t.setWrap("wrap"===e.type);break;case"themeCss":a.warn("themeCss encountered");break;default:a.warn("Unhandled directive: source: '%%{".concat(e.type,": ").concat(JSON.stringify(e.args?e.args:{}),"}%%"),e)}})(t,US,r),US=null}}catch(t){a.error("Error while rendering sequenceDiagram directive: ".concat(e," jison context: ").concat(n)),a.error(t.message)}},initialize:function(t){t&&t.fontFamily&&(t.themeVariables&&t.themeVariables.fontFamily||(t.themeVariables={fontFamily:t.fontFamily})),function(t){lb=Gv({},t)}(t),t&&t.theme&&xv[t.theme]?t.themeVariables=xv[t.theme].getThemeVariables(t.themeVariables):t&&(t.themeVariables=xv.default.getThemeVariables(t.themeVariables));var e="object"===$S(t)?function(t){return hb=Gv({},ub),hb=Gv(hb,t),t.theme&&xv[t.theme]&&(hb.themeVariables=xv[t.theme].getThemeVariables(t.themeVariables)),fb=pb(hb,db),hb}(t):gb();YS(e),s(e.logLevel)},reinitialize:function(){},getConfig:mb,setConfig:function(t){return Gv(fb,t),mb()},getSiteConfig:gb,updateSiteConfig:function(t){return hb=Gv(hb,t),pb(hb,db),hb},reset:function(){bb()},globalReset:function(){bb(),YS(mb())},defaultConfig:ub});s(mb().logLevel),bb(mb());const WS=qS;var HS=function(){var t,e,n=WS.getConfig();arguments.length>=2?(void 0!==arguments[0]&&(GS.sequenceConfig=arguments[0]),t=arguments[1]):t=arguments[0],"function"==typeof arguments[arguments.length-1]?(e=arguments[arguments.length-1],a.debug("Callback function found")):void 0!==n.mermaid&&("function"==typeof n.mermaid.callback?(e=n.mermaid.callback,a.debug("Callback function found")):a.debug("No Callback function found")),t=void 0===t?document.querySelectorAll(".mermaid"):"string"==typeof t?document.querySelectorAll(t):t instanceof window.Node?[t]:t,a.debug("Start On Load before: "+GS.startOnLoad),void 0!==GS.startOnLoad&&(a.debug("Start On Load inner: "+GS.startOnLoad),WS.updateSiteConfig({startOnLoad:GS.startOnLoad})),void 0!==GS.ganttConfig&&WS.updateSiteConfig({gantt:GS.ganttConfig});for(var r,i=new ab.initIdGeneratior(n.deterministicIds,n.deterministicIDSeed),o=function(n){var o=t[n];if(o.getAttribute("data-processed"))return"continue";o.setAttribute("data-processed",!0);var s="mermaid-".concat(i.next());r=o.innerHTML,r=ab.entityDecode(r).trim().replace(/<br\s*\/?>/gi,"<br/>");var l=ab.detectInit(r);l&&a.debug("Detected early reinit: ",l),WS.render(s,r,(function(t,n){o.innerHTML=t,void 0!==e&&e(s),n&&n(o)}),o)},s=0;s<t.length;s++)o(s)},VS=function(){GS.startOnLoad?WS.getConfig().startOnLoad&&GS.init():void 0===GS.startOnLoad&&(a.debug("In start, no config"),WS.getConfig().startOnLoad&&GS.init())};"undefined"!=typeof document&&window.addEventListener("load",(function(){VS()}),!1);var GS={startOnLoad:!0,htmlLabels:!0,mermaidAPI:WS,parse:null!=WS?WS.parse:null,render:null!=WS?WS.render:null,init:function(){try{HS.apply(void 0,arguments)}catch(t){a.warn("Syntax Error rendering"),a.warn(t),this.parseError&&this.parseError(t)}},initThrowsErrors:HS,initialize:function(t){void 0!==t.mermaid&&(void 0!==t.mermaid.startOnLoad&&(GS.startOnLoad=t.mermaid.startOnLoad),void 0!==t.mermaid.htmlLabels&&(GS.htmlLabels="false"!==t.mermaid.htmlLabels&&!1!==t.mermaid.htmlLabels)),WS.initialize(t)},contentLoaded:VS,setParseErrorHandler:function(t){GS.parseError=t}};const XS=GS},4949:(t,e,n)=>{t.exports={graphlib:n(6614),dagre:n(1463),intersect:n(8114),render:n(5787),util:n(8355),version:n(5689)}},9144:(t,e,n)=>{var r=n(8355);function i(t,e,n,i){var o=t.append("marker").attr("id",e).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").style("stroke-width",1).style("stroke-dasharray","1,0");r.applyStyle(o,n[i+"Style"]),n[i+"Class"]&&o.attr("class",n[i+"Class"])}t.exports={default:i,normal:i,vee:function(t,e,n,i){var o=t.append("marker").attr("id",e).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 L 4 5 z").style("stroke-width",1).style("stroke-dasharray","1,0");r.applyStyle(o,n[i+"Style"]),n[i+"Class"]&&o.attr("class",n[i+"Class"])},undirected:function(t,e,n,i){var o=t.append("marker").attr("id",e).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 5 L 10 5").style("stroke-width",1).style("stroke-dasharray","1,0");r.applyStyle(o,n[i+"Style"]),n[i+"Class"]&&o.attr("class",n[i+"Class"])}}},5632:(t,e,n)=>{var r=n(8355),i=n(4322),o=n(1322);t.exports=function(t,e){var n,a=e.nodes().filter((function(t){return r.isSubgraph(e,t)})),s=t.selectAll("g.cluster").data(a,(function(t){return t}));return s.selectAll("*").remove(),s.enter().append("g").attr("class","cluster").attr("id",(function(t){return e.node(t).id})).style("opacity",0),s=t.selectAll("g.cluster"),r.applyTransition(s,e).style("opacity",1),s.each((function(t){var n=e.node(t),r=i.select(this);i.select(this).append("rect");var a=r.append("g").attr("class","label");o(a,n,n.clusterLabelPos)})),s.selectAll("rect").each((function(t){var n=e.node(t),o=i.select(this);r.applyStyle(o,n.style)})),n=s.exit?s.exit():s.selectAll(null),r.applyTransition(n,e).style("opacity",0).remove(),s}},6315:(t,e,n)=>{var r=n(1034),i=n(1322),o=n(8355),a=n(4322);t.exports=function(t,e){var n,s=t.selectAll("g.edgeLabel").data(e.edges(),(function(t){return o.edgeToId(t)})).classed("update",!0);return s.exit().remove(),s.enter().append("g").classed("edgeLabel",!0).style("opacity",0),(s=t.selectAll("g.edgeLabel")).each((function(t){var n=a.select(this);n.select(".label").remove();var o=e.edge(t),s=i(n,e.edge(t),0,0).classed("label",!0),l=s.node().getBBox();o.labelId&&s.attr("id",o.labelId),r.has(o,"width")||(o.width=l.width),r.has(o,"height")||(o.height=l.height)})),n=s.exit?s.exit():s.selectAll(null),o.applyTransition(n,e).style("opacity",0).remove(),s}},940:(t,e,n)=>{var r=n(1034),i=n(3042),o=n(8355),a=n(4322);function s(t,e){var n=(a.line||a.svg.line)().x((function(t){return t.x})).y((function(t){return t.y}));return(n.curve||n.interpolate)(t.curve),n(e)}t.exports=function(t,e,n){var l=t.selectAll("g.edgePath").data(e.edges(),(function(t){return o.edgeToId(t)})).classed("update",!0),c=function(t,e){var n=t.enter().append("g").attr("class","edgePath").style("opacity",0);return n.append("path").attr("class","path").attr("d",(function(t){var n=e.edge(t),i=e.node(t.v).elem;return s(n,r.range(n.points.length).map((function(){return e=(t=i).getBBox(),{x:(n=t.ownerSVGElement.getScreenCTM().inverse().multiply(t.getScreenCTM()).translate(e.width/2,e.height/2)).e,y:n.f};var t,e,n})))})),n.append("defs"),n}(l,e);!function(t,e){var n=t.exit();o.applyTransition(n,e).style("opacity",0).remove()}(l,e);var u=void 0!==l.merge?l.merge(c):l;return o.applyTransition(u,e).style("opacity",1),u.each((function(t){var n=a.select(this),r=e.edge(t);r.elem=this,r.id&&n.attr("id",r.id),o.applyClass(n,r.class,(n.classed("update")?"update ":"")+"edgePath")})),u.selectAll("path.path").each((function(t){var n=e.edge(t);n.arrowheadId=r.uniqueId("arrowhead");var l=a.select(this).attr("marker-end",(function(){return"url("+(t=location.href,e=n.arrowheadId,t.split("#")[0]+"#"+e+")");var t,e})).style("fill","none");o.applyTransition(l,e).attr("d",(function(t){return function(t,e){var n=t.edge(e),r=t.node(e.v),o=t.node(e.w),a=n.points.slice(1,n.points.length-1);return a.unshift(i(r,a[0])),a.push(i(o,a[a.length-1])),s(n,a)}(e,t)})),o.applyStyle(l,n.style)})),u.selectAll("defs *").remove(),u.selectAll("defs").each((function(t){var r=e.edge(t);(0,n[r.arrowhead])(a.select(this),r.arrowheadId,r,"arrowhead")})),u}},607:(t,e,n)=>{var r=n(1034),i=n(1322),o=n(8355),a=n(4322);t.exports=function(t,e,n){var s,l=e.nodes().filter((function(t){return!o.isSubgraph(e,t)})),c=t.selectAll("g.node").data(l,(function(t){return t})).classed("update",!0);return c.exit().remove(),c.enter().append("g").attr("class","node").style("opacity",0),(c=t.selectAll("g.node")).each((function(t){var s=e.node(t),l=a.select(this);o.applyClass(l,s.class,(l.classed("update")?"update ":"")+"node"),l.select("g.label").remove();var c=l.append("g").attr("class","label"),u=i(c,s),h=n[s.shape],d=r.pick(u.node().getBBox(),"width","height");s.elem=this,s.id&&l.attr("id",s.id),s.labelId&&c.attr("id",s.labelId),r.has(s,"width")&&(d.width=s.width),r.has(s,"height")&&(d.height=s.height),d.width+=s.paddingLeft+s.paddingRight,d.height+=s.paddingTop+s.paddingBottom,c.attr("transform","translate("+(s.paddingLeft-s.paddingRight)/2+","+(s.paddingTop-s.paddingBottom)/2+")");var f=a.select(this);f.select(".label-container").remove();var p=h(f,d,s).classed("label-container",!0);o.applyStyle(p,s.style);var g=p.node().getBBox();s.width=g.width,s.height=g.height})),s=c.exit?c.exit():c.selectAll(null),o.applyTransition(s,e).style("opacity",0).remove(),c}},4322:(t,e,n)=>{var r;if(!r)try{r=n(7188)}catch(t){}r||(r=window.d3),t.exports=r},1463:(t,e,n)=>{var r;try{r=n(681)}catch(t){}r||(r=window.dagre),t.exports=r},6614:(t,e,n)=>{var r;try{r=n(8282)}catch(t){}r||(r=window.graphlib),t.exports=r},8114:(t,e,n)=>{t.exports={node:n(3042),circle:n(6587),ellipse:n(3260),polygon:n(5337),rect:n(8049)}},6587:(t,e,n)=>{var r=n(3260);t.exports=function(t,e,n){return r(t,e,e,n)}},3260:t=>{t.exports=function(t,e,n,r){var i=t.x,o=t.y,a=i-r.x,s=o-r.y,l=Math.sqrt(e*e*s*s+n*n*a*a),c=Math.abs(e*n*a/l);r.x<i&&(c=-c);var u=Math.abs(e*n*s/l);return r.y<o&&(u=-u),{x:i+c,y:o+u}}},6808:t=>{function e(t,e){return t*e>0}t.exports=function(t,n,r,i){var o,a,s,l,c,u,h,d,f,p,g,m,y;if(o=n.y-t.y,s=t.x-n.x,c=n.x*t.y-t.x*n.y,f=o*r.x+s*r.y+c,p=o*i.x+s*i.y+c,!(0!==f&&0!==p&&e(f,p)||(a=i.y-r.y,l=r.x-i.x,u=i.x*r.y-r.x*i.y,h=a*t.x+l*t.y+u,d=a*n.x+l*n.y+u,0!==h&&0!==d&&e(h,d)||0==(g=o*l-a*s))))return m=Math.abs(g/2),{x:(y=s*u-l*c)<0?(y-m)/g:(y+m)/g,y:(y=a*c-o*u)<0?(y-m)/g:(y+m)/g}}},3042:t=>{t.exports=function(t,e){return t.intersect(e)}},5337:(t,e,n)=>{var r=n(6808);t.exports=function(t,e,n){var i=t.x,o=t.y,a=[],s=Number.POSITIVE_INFINITY,l=Number.POSITIVE_INFINITY;e.forEach((function(t){s=Math.min(s,t.x),l=Math.min(l,t.y)}));for(var c=i-t.width/2-s,u=o-t.height/2-l,h=0;h<e.length;h++){var d=e[h],f=e[h<e.length-1?h+1:0],p=r(t,n,{x:c+d.x,y:u+d.y},{x:c+f.x,y:u+f.y});p&&a.push(p)}return a.length?(a.length>1&&a.sort((function(t,e){var r=t.x-n.x,i=t.y-n.y,o=Math.sqrt(r*r+i*i),a=e.x-n.x,s=e.y-n.y,l=Math.sqrt(a*a+s*s);return o<l?-1:o===l?0:1})),a[0]):t}},8049:t=>{t.exports=function(t,e){var n,r,i=t.x,o=t.y,a=e.x-i,s=e.y-o,l=t.width/2,c=t.height/2;return Math.abs(s)*l>Math.abs(a)*c?(s<0&&(c=-c),n=0===s?0:c*a/s,r=c):(a<0&&(l=-l),n=l,r=0===a?0:l*s/a),{x:i+n,y:o+r}}},8284:(t,e,n)=>{var r=n(8355);t.exports=function(t,e){var n=t.append("foreignObject").attr("width","100000"),i=n.append("xhtml:div");i.attr("xmlns","http://www.w3.org/1999/xhtml");var o=e.label;switch(typeof o){case"function":i.insert(o);break;case"object":i.insert((function(){return o}));break;default:i.html(o)}r.applyStyle(i,e.labelStyle),i.style("display","inline-block"),i.style("white-space","nowrap");var a=i.node().getBoundingClientRect();return n.attr("width",a.width).attr("height",a.height),n}},1322:(t,e,n)=>{var r=n(7318),i=n(8284),o=n(8287);t.exports=function(t,e,n){var a=e.label,s=t.append("g");"svg"===e.labelType?o(s,e):"string"!=typeof a||"html"===e.labelType?i(s,e):r(s,e);var l,c=s.node().getBBox();switch(n){case"top":l=-e.height/2;break;case"bottom":l=e.height/2-c.height;break;default:l=-c.height/2}return s.attr("transform","translate("+-c.width/2+","+l+")"),s}},8287:(t,e,n)=>{var r=n(8355);t.exports=function(t,e){var n=t;return n.node().appendChild(e.label),r.applyStyle(n,e.labelStyle),n}},7318:(t,e,n)=>{var r=n(8355);t.exports=function(t,e){for(var n=t.append("text"),i=function(t){for(var e,n="",r=!1,i=0;i<t.length;++i)e=t[i],r?(n+="n"===e?"\n":e,r=!1):"\\"===e?r=!0:n+=e;return n}(e.label).split("\n"),o=0;o<i.length;o++)n.append("tspan").attr("xml:space","preserve").attr("dy","1em").attr("x","1").text(i[o]);return r.applyStyle(n,e.labelStyle),n}},1034:(t,e,n)=>{var r;try{r={defaults:n(1747),each:n(6073),isFunction:n(3560),isPlainObject:n(8630),pick:n(9722),has:n(8721),range:n(6026),uniqueId:n(3955)}}catch(t){}r||(r=window._),t.exports=r},6381:(t,e,n)=>{var r=n(8355),i=n(4322);t.exports=function(t,e){var n=t.filter((function(){return!i.select(this).classed("update")}));function o(t){var n=e.node(t);return"translate("+n.x+","+n.y+")"}n.attr("transform",o),r.applyTransition(t,e).style("opacity",1).attr("transform",o),r.applyTransition(n.selectAll("rect"),e).attr("width",(function(t){return e.node(t).width})).attr("height",(function(t){return e.node(t).height})).attr("x",(function(t){return-e.node(t).width/2})).attr("y",(function(t){return-e.node(t).height/2}))}},4577:(t,e,n)=>{var r=n(8355),i=n(4322),o=n(1034);t.exports=function(t,e){function n(t){var n=e.edge(t);return o.has(n,"x")?"translate("+n.x+","+n.y+")":""}t.filter((function(){return!i.select(this).classed("update")})).attr("transform",n),r.applyTransition(t,e).style("opacity",1).attr("transform",n)}},4849:(t,e,n)=>{var r=n(8355),i=n(4322);t.exports=function(t,e){function n(t){var n=e.node(t);return"translate("+n.x+","+n.y+")"}t.filter((function(){return!i.select(this).classed("update")})).attr("transform",n),r.applyTransition(t,e).style("opacity",1).attr("transform",n)}},5787:(t,e,n)=>{var r=n(1034),i=n(4322),o=n(1463).layout;t.exports=function(){var t=n(607),e=n(5632),i=n(6315),c=n(940),u=n(4849),h=n(4577),d=n(6381),f=n(4418),p=n(9144),g=function(n,g){!function(t){t.nodes().forEach((function(e){var n=t.node(e);r.has(n,"label")||t.children(e).length||(n.label=e),r.has(n,"paddingX")&&r.defaults(n,{paddingLeft:n.paddingX,paddingRight:n.paddingX}),r.has(n,"paddingY")&&r.defaults(n,{paddingTop:n.paddingY,paddingBottom:n.paddingY}),r.has(n,"padding")&&r.defaults(n,{paddingLeft:n.padding,paddingRight:n.padding,paddingTop:n.padding,paddingBottom:n.padding}),r.defaults(n,a),r.each(["paddingLeft","paddingRight","paddingTop","paddingBottom"],(function(t){n[t]=Number(n[t])})),r.has(n,"width")&&(n._prevWidth=n.width),r.has(n,"height")&&(n._prevHeight=n.height)})),t.edges().forEach((function(e){var n=t.edge(e);r.has(n,"label")||(n.label=""),r.defaults(n,s)}))}(g);var m=l(n,"output"),y=l(m,"clusters"),v=l(m,"edgePaths"),b=i(l(m,"edgeLabels"),g),w=t(l(m,"nodes"),g,f);o(g),u(w,g),h(b,g),c(v,g,p);var x=e(y,g);d(x,g),function(t){r.each(t.nodes(),(function(e){var n=t.node(e);r.has(n,"_prevWidth")?n.width=n._prevWidth:delete n.width,r.has(n,"_prevHeight")?n.height=n._prevHeight:delete n.height,delete n._prevWidth,delete n._prevHeight}))}(g)};return g.createNodes=function(e){return arguments.length?(t=e,g):t},g.createClusters=function(t){return arguments.length?(e=t,g):e},g.createEdgeLabels=function(t){return arguments.length?(i=t,g):i},g.createEdgePaths=function(t){return arguments.length?(c=t,g):c},g.shapes=function(t){return arguments.length?(f=t,g):f},g.arrows=function(t){return arguments.length?(p=t,g):p},g};var a={paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,rx:0,ry:0,shape:"rect"},s={arrowhead:"normal",curve:i.curveLinear};function l(t,e){var n=t.select("g."+e);return n.empty()&&(n=t.append("g").attr("class",e)),n}},4418:(t,e,n)=>{var r=n(8049),i=n(3260),o=n(6587),a=n(5337);t.exports={rect:function(t,e,n){var i=t.insert("rect",":first-child").attr("rx",n.rx).attr("ry",n.ry).attr("x",-e.width/2).attr("y",-e.height/2).attr("width",e.width).attr("height",e.height);return n.intersect=function(t){return r(n,t)},i},ellipse:function(t,e,n){var r=e.width/2,o=e.height/2,a=t.insert("ellipse",":first-child").attr("x",-e.width/2).attr("y",-e.height/2).attr("rx",r).attr("ry",o);return n.intersect=function(t){return i(n,r,o,t)},a},circle:function(t,e,n){var r=Math.max(e.width,e.height)/2,i=t.insert("circle",":first-child").attr("x",-e.width/2).attr("y",-e.height/2).attr("r",r);return n.intersect=function(t){return o(n,r,t)},i},diamond:function(t,e,n){var r=e.width*Math.SQRT2/2,i=e.height*Math.SQRT2/2,o=[{x:0,y:-i},{x:-r,y:0},{x:0,y:i},{x:r,y:0}],s=t.insert("polygon",":first-child").attr("points",o.map((function(t){return t.x+","+t.y})).join(" "));return n.intersect=function(t){return a(n,o,t)},s}}},8355:(t,e,n)=>{var r=n(1034);t.exports={isSubgraph:function(t,e){return!!t.children(e).length},edgeToId:function(t){return o(t.v)+":"+o(t.w)+":"+o(t.name)},applyStyle:function(t,e){e&&t.attr("style",e)},applyClass:function(t,e,n){e&&t.attr("class",e).attr("class",n+" "+t.attr("class"))},applyTransition:function(t,e){var n=e.graph();if(r.isPlainObject(n)){var i=n.transition;if(r.isFunction(i))return i(t)}return t}};var i=/:/g;function o(t){return t?String(t).replace(i,"\\:"):""}},5689:t=>{t.exports="0.6.4"},7188:(t,e,n)=>{n.r(e),n.d(e,{FormatSpecifier:()=>cl,active:()=>Qr,arc:()=>dx,area:()=>vx,areaRadial:()=>Dx,ascending:()=>i,autoType:()=>Ra,axisBottom:()=>it,axisLeft:()=>ot,axisRight:()=>rt,axisTop:()=>nt,bisect:()=>c,bisectLeft:()=>l,bisectRight:()=>s,bisector:()=>o,blob:()=>ys,brush:()=>Ti,brushSelection:()=>Ci,brushX:()=>Si,brushY:()=>Di,buffer:()=>bs,chord:()=>Ri,clientPoint:()=>Nn,cluster:()=>Df,color:()=>Ve,contourDensity:()=>sa,contours:()=>ea,create:()=>zw,creator:()=>ie,cross:()=>d,csv:()=>Es,csvFormat:()=>Ea,csvFormatBody:()=>Ca,csvFormatRow:()=>Da,csvFormatRows:()=>Sa,csvFormatValue:()=>Ta,csvParse:()=>_a,csvParseRows:()=>ka,cubehelix:()=>Wo,curveBasis:()=>s_,curveBasisClosed:()=>c_,curveBasisOpen:()=>h_,curveBundle:()=>f_,curveCardinal:()=>m_,curveCardinalClosed:()=>v_,curveCardinalOpen:()=>w_,curveCatmullRom:()=>k_,curveCatmullRomClosed:()=>C_,curveCatmullRomOpen:()=>D_,curveLinear:()=>px,curveLinearClosed:()=>A_,curveMonotoneX:()=>R_,curveMonotoneY:()=>P_,curveNatural:()=>j_,curveStep:()=>Y_,curveStepAfter:()=>W_,curveStepBefore:()=>q_,customEvent:()=>me,descending:()=>f,deviation:()=>m,dispatch:()=>dt,drag:()=>pa,dragDisable:()=>De,dragEnable:()=>Te,dsv:()=>ks,dsvFormat:()=>wa,easeBack:()=>hs,easeBackIn:()=>cs,easeBackInOut:()=>hs,easeBackOut:()=>us,easeBounce:()=>as,easeBounceIn:()=>os,easeBounceInOut:()=>ss,easeBounceOut:()=>as,easeCircle:()=>rs,easeCircleIn:()=>es,easeCircleInOut:()=>rs,easeCircleOut:()=>ns,easeCubic:()=>Xr,easeCubicIn:()=>Vr,easeCubicInOut:()=>Xr,easeCubicOut:()=>Gr,easeElastic:()=>ps,easeElasticIn:()=>fs,easeElasticInOut:()=>gs,easeElasticOut:()=>ps,easeExp:()=>ts,easeExpIn:()=>Za,easeExpInOut:()=>ts,easeExpOut:()=>Qa,easeLinear:()=>za,easePoly:()=>Wa,easePolyIn:()=>Ya,easePolyInOut:()=>Wa,easePolyOut:()=>qa,easeQuad:()=>Ua,easeQuadIn:()=>$a,easeQuadInOut:()=>Ua,easeQuadOut:()=>ja,easeSin:()=>Ka,easeSinIn:()=>Ga,easeSinInOut:()=>Ka,easeSinOut:()=>Xa,entries:()=>go,event:()=>ue,extent:()=>y,forceCenter:()=>Fs,forceCollide:()=>Hs,forceLink:()=>Xs,forceManyBody:()=>tl,forceRadial:()=>el,forceSimulation:()=>Qs,forceX:()=>nl,forceY:()=>rl,format:()=>pl,formatDefaultLocale:()=>bl,formatLocale:()=>vl,formatPrefix:()=>gl,formatSpecifier:()=>ll,geoAlbers:()=>jd,geoAlbersUsa:()=>Ud,geoArea:()=>gc,geoAzimuthalEqualArea:()=>Hd,geoAzimuthalEqualAreaRaw:()=>Wd,geoAzimuthalEquidistant:()=>Gd,geoAzimuthalEquidistantRaw:()=>Vd,geoBounds:()=>su,geoCentroid:()=>bu,geoCircle:()=>Mu,geoClipAntimeridian:()=>Uu,geoClipCircle:()=>Yu,geoClipExtent:()=>Vu,geoClipRectangle:()=>Hu,geoConicConformal:()=>tf,geoConicConformalRaw:()=>Qd,geoConicEqualArea:()=>$d,geoConicEqualAreaRaw:()=>zd,geoConicEquidistant:()=>of,geoConicEquidistantRaw:()=>rf,geoContains:()=>ph,geoDistance:()=>oh,geoEqualEarth:()=>df,geoEqualEarthRaw:()=>hf,geoEquirectangular:()=>nf,geoEquirectangularRaw:()=>ef,geoGnomonic:()=>pf,geoGnomonicRaw:()=>ff,geoGraticule:()=>yh,geoGraticule10:()=>vh,geoIdentity:()=>gf,geoInterpolate:()=>bh,geoLength:()=>nh,geoMercator:()=>Kd,geoMercatorRaw:()=>Xd,geoNaturalEarth1:()=>yf,geoNaturalEarth1Raw:()=>mf,geoOrthographic:()=>bf,geoOrthographicRaw:()=>vf,geoPath:()=>_d,geoProjection:()=>Bd,geoProjectionMutator:()=>Rd,geoRotation:()=>Du,geoStereographic:()=>xf,geoStereographicRaw:()=>wf,geoStream:()=>nc,geoTransform:()=>kd,geoTransverseMercator:()=>kf,geoTransverseMercatorRaw:()=>_f,gray:()=>Eo,hcl:()=>Fo,hierarchy:()=>Af,histogram:()=>N,hsl:()=>on,html:()=>Ns,image:()=>Ss,interpolate:()=>An,interpolateArray:()=>xn,interpolateBasis:()=>cn,interpolateBasisClosed:()=>un,interpolateBlues:()=>dw,interpolateBrBG:()=>Eb,interpolateBuGn:()=>Ub,interpolateBuPu:()=>qb,interpolateCividis:()=>kw,interpolateCool:()=>Sw,interpolateCubehelix:()=>jp,interpolateCubehelixDefault:()=>Ew,interpolateCubehelixLong:()=>Up,interpolateDate:()=>kn,interpolateDiscrete:()=>Dp,interpolateGnBu:()=>Hb,interpolateGreens:()=>pw,interpolateGreys:()=>mw,interpolateHcl:()=>Pp,interpolateHclLong:()=>zp,interpolateHsl:()=>Ip,interpolateHslLong:()=>Lp,interpolateHue:()=>Tp,interpolateInferno:()=>Rw,interpolateLab:()=>Bp,interpolateMagma:()=>Bw,interpolateNumber:()=>En,interpolateNumberArray:()=>bn,interpolateObject:()=>Cn,interpolateOrRd:()=>Gb,interpolateOranges:()=>_w,interpolatePRGn:()=>Sb,interpolatePiYG:()=>Tb,interpolatePlasma:()=>Pw,interpolatePuBu:()=>Zb,interpolatePuBuGn:()=>Kb,interpolatePuOr:()=>Mb,interpolatePuRd:()=>tw,interpolatePurples:()=>vw,interpolateRainbow:()=>Tw,interpolateRdBu:()=>Ob,interpolateRdGy:()=>Ib,interpolateRdPu:()=>nw,interpolateRdYlBu:()=>Bb,interpolateRdYlGn:()=>Pb,interpolateReds:()=>ww,interpolateRgb:()=>gn,interpolateRgbBasis:()=>yn,interpolateRgbBasisClosed:()=>vn,interpolateRound:()=>Ap,interpolateSinebow:()=>Ow,interpolateSpectral:()=>$b,interpolateString:()=>Tn,interpolateTransformCss:()=>pr,interpolateTransformSvg:()=>gr,interpolateTurbo:()=>Fw,interpolateViridis:()=>Lw,interpolateWarm:()=>Cw,interpolateYlGn:()=>aw,interpolateYlGnBu:()=>iw,interpolateYlOrBr:()=>lw,interpolateYlOrRd:()=>uw,interpolateZoom:()=>Op,interrupt:()=>or,interval:()=>dk,isoFormat:()=>ck,isoParse:()=>hk,json:()=>Ts,keys:()=>fo,lab:()=>Co,lch:()=>Oo,line:()=>yx,lineRadial:()=>Sx,linkHorizontal:()=>Bx,linkRadial:()=>Px,linkVertical:()=>Rx,local:()=>jw,map:()=>no,matcher:()=>yt,max:()=>L,mean:()=>B,median:()=>R,merge:()=>P,min:()=>z,mouse:()=>Fn,namespace:()=>Ct,namespaces:()=>Et,nest:()=>ro,now:()=>qn,pack:()=>tp,packEnclose:()=>Lf,packSiblings:()=>Gf,pairs:()=>u,partition:()=>ap,path:()=>Hi,permute:()=>$,pie:()=>xx,piecewise:()=>Yp,pointRadial:()=>Tx,polygonArea:()=>Wp,polygonCentroid:()=>Hp,polygonContains:()=>Jp,polygonHull:()=>Kp,polygonLength:()=>Zp,precisionFixed:()=>wl,precisionPrefix:()=>xl,precisionRound:()=>_l,quadtree:()=>$s,quantile:()=>O,quantize:()=>qp,radialArea:()=>Dx,radialLine:()=>Sx,randomBates:()=>ig,randomExponential:()=>og,randomIrwinHall:()=>rg,randomLogNormal:()=>ng,randomNormal:()=>eg,randomUniform:()=>tg,range:()=>k,rgb:()=>Je,ribbon:()=>Zi,scaleBand:()=>fg,scaleDiverging:()=>ab,scaleDivergingLog:()=>sb,scaleDivergingPow:()=>cb,scaleDivergingSqrt:()=>ub,scaleDivergingSymlog:()=>lb,scaleIdentity:()=>Ag,scaleImplicit:()=>hg,scaleLinear:()=>Tg,scaleLog:()=>Pg,scaleOrdinal:()=>dg,scalePoint:()=>gg,scalePow:()=>Vg,scaleQuantile:()=>Xg,scaleQuantize:()=>Kg,scaleSequential:()=>Qv,scaleSequentialLog:()=>tb,scaleSequentialPow:()=>nb,scaleSequentialQuantile:()=>ib,scaleSequentialSqrt:()=>rb,scaleSequentialSymlog:()=>eb,scaleSqrt:()=>Gg,scaleSymlog:()=>Ug,scaleThreshold:()=>Jg,scaleTime:()=>$v,scaleUtc:()=>Kv,scan:()=>j,schemeAccent:()=>fb,schemeBlues:()=>hw,schemeBrBG:()=>kb,schemeBuGn:()=>jb,schemeBuPu:()=>Yb,schemeCategory10:()=>db,schemeDark2:()=>pb,schemeGnBu:()=>Wb,schemeGreens:()=>fw,schemeGreys:()=>gw,schemeOrRd:()=>Vb,schemeOranges:()=>xw,schemePRGn:()=>Cb,schemePaired:()=>gb,schemePastel1:()=>mb,schemePastel2:()=>yb,schemePiYG:()=>Db,schemePuBu:()=>Jb,schemePuBuGn:()=>Xb,schemePuOr:()=>Ab,schemePuRd:()=>Qb,schemePurples:()=>yw,schemeRdBu:()=>Nb,schemeRdGy:()=>Fb,schemeRdPu:()=>ew,schemeRdYlBu:()=>Lb,schemeRdYlGn:()=>Rb,schemeReds:()=>bw,schemeSet1:()=>vb,schemeSet2:()=>bb,schemeSet3:()=>wb,schemeSpectral:()=>zb,schemeTableau10:()=>xb,schemeYlGn:()=>ow,schemeYlGnBu:()=>rw,schemeYlOrBr:()=>sw,schemeYlOrRd:()=>cw,select:()=>Ee,selectAll:()=>Yw,selection:()=>ke,selector:()=>pt,selectorAll:()=>mt,set:()=>ho,shuffle:()=>U,stack:()=>X_,stackOffsetDiverging:()=>J_,stackOffsetExpand:()=>K_,stackOffsetNone:()=>H_,stackOffsetSilhouette:()=>Z_,stackOffsetWiggle:()=>Q_,stackOrderAppearance:()=>tk,stackOrderAscending:()=>nk,stackOrderDescending:()=>ik,stackOrderInsideOut:()=>ok,stackOrderNone:()=>V_,stackOrderReverse:()=>ak,stratify:()=>hp,style:()=>Bt,sum:()=>Y,svg:()=>Os,symbol:()=>r_,symbolCircle:()=>zx,symbolCross:()=>$x,symbolDiamond:()=>Yx,symbolSquare:()=>Gx,symbolStar:()=>Vx,symbolTriangle:()=>Kx,symbolWye:()=>e_,symbols:()=>n_,text:()=>xs,thresholdFreedmanDiaconis:()=>F,thresholdScott:()=>I,thresholdSturges:()=>M,tickFormat:()=>Sg,tickIncrement:()=>T,tickStep:()=>A,ticks:()=>D,timeDay:()=>Tm,timeDays:()=>Am,timeFormat:()=>py,timeFormatDefaultLocale:()=>Lv,timeFormatLocale:()=>dy,timeFriday:()=>vm,timeFridays:()=>Cm,timeHour:()=>Nm,timeHours:()=>Om,timeInterval:()=>tm,timeMillisecond:()=>$m,timeMilliseconds:()=>jm,timeMinute:()=>Im,timeMinutes:()=>Lm,timeMonday:()=>pm,timeMondays:()=>xm,timeMonth:()=>om,timeMonths:()=>am,timeParse:()=>gy,timeSaturday:()=>bm,timeSaturdays:()=>Sm,timeSecond:()=>Rm,timeSeconds:()=>Pm,timeSunday:()=>fm,timeSundays:()=>wm,timeThursday:()=>ym,timeThursdays:()=>Em,timeTuesday:()=>gm,timeTuesdays:()=>_m,timeWednesday:()=>mm,timeWednesdays:()=>km,timeWeek:()=>fm,timeWeeks:()=>wm,timeYear:()=>nm,timeYears:()=>rm,timeout:()=>Zn,timer:()=>Vn,timerFlush:()=>Gn,touch:()=>On,touches:()=>qw,transition:()=>qr,transpose:()=>q,tree:()=>vp,treemap:()=>kp,treemapBinary:()=>Ep,treemapDice:()=>op,treemapResquarify:()=>Sp,treemapSlice:()=>bp,treemapSliceDice:()=>Cp,treemapSquarify:()=>_p,tsv:()=>Cs,tsvFormat:()=>Oa,tsvFormatBody:()=>Fa,tsvFormatRow:()=>La,tsvFormatRows:()=>Ia,tsvFormatValue:()=>Ba,tsvParse:()=>Ma,tsvParseRows:()=>Na,utcDay:()=>iy,utcDays:()=>oy,utcFormat:()=>my,utcFriday:()=>Gm,utcFridays:()=>ey,utcHour:()=>Wv,utcHours:()=>Hv,utcMillisecond:()=>$m,utcMilliseconds:()=>jm,utcMinute:()=>Gv,utcMinutes:()=>Xv,utcMonday:()=>qm,utcMondays:()=>Jm,utcMonth:()=>Uv,utcMonths:()=>Yv,utcParse:()=>yy,utcSaturday:()=>Xm,utcSaturdays:()=>ny,utcSecond:()=>Rm,utcSeconds:()=>Pm,utcSunday:()=>Ym,utcSundays:()=>Km,utcThursday:()=>Vm,utcThursdays:()=>ty,utcTuesday:()=>Wm,utcTuesdays:()=>Zm,utcWednesday:()=>Hm,utcWednesdays:()=>Qm,utcWeek:()=>Ym,utcWeeks:()=>Km,utcYear:()=>sy,utcYears:()=>ly,values:()=>po,variance:()=>g,version:()=>r,voronoi:()=>Zk,window:()=>Ot,xml:()=>Ms,zip:()=>H,zoom:()=>dE,zoomIdentity:()=>nE,zoomTransform:()=>rE});var r="5.16.0";function i(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function o(t){var e;return 1===t.length&&(e=t,t=function(t,n){return i(e(t),n)}),{left:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}}var a=o(i),s=a.right,l=a.left;const c=s;function u(t,e){null==e&&(e=h);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return o}function h(t,e){return[t,e]}function d(t,e,n){var r,i,o,a,s=t.length,l=e.length,c=new Array(s*l);for(null==n&&(n=h),r=o=0;r<s;++r)for(a=t[r],i=0;i<l;++i,++o)c[o]=n(a,e[i]);return c}function f(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function p(t){return null===t?NaN:+t}function g(t,e){var n,r,i=t.length,o=0,a=-1,s=0,l=0;if(null==e)for(;++a<i;)isNaN(n=p(t[a]))||(l+=(r=n-s)*(n-(s+=r/++o)));else for(;++a<i;)isNaN(n=p(e(t[a],a,t)))||(l+=(r=n-s)*(n-(s+=r/++o)));if(o>1)return l/(o-1)}function m(t,e){var n=g(t,e);return n?Math.sqrt(n):n}function y(t,e){var n,r,i,o=t.length,a=-1;if(null==e){for(;++a<o;)if(null!=(n=t[a])&&n>=n)for(r=i=n;++a<o;)null!=(n=t[a])&&(r>n&&(r=n),i<n&&(i=n))}else for(;++a<o;)if(null!=(n=e(t[a],a,t))&&n>=n)for(r=i=n;++a<o;)null!=(n=e(t[a],a,t))&&(r>n&&(r=n),i<n&&(i=n));return[r,i]}var v=Array.prototype,b=v.slice,w=v.map;function x(t){return function(){return t}}function _(t){return t}function k(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o}var E=Math.sqrt(50),C=Math.sqrt(10),S=Math.sqrt(2);function D(t,e,n){var r,i,o,a,s=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(a=T(t,e,n))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(i=Math.ceil(e-t+1));++s<i;)o[s]=(t+s)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),o=new Array(i=Math.ceil(t-e+1));++s<i;)o[s]=(t-s)/a;return r&&o.reverse(),o}function T(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=E?10:o>=C?5:o>=S?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=E?10:o>=C?5:o>=S?2:1)}function A(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=E?i*=10:o>=C?i*=5:o>=S&&(i*=2),e<t?-i:i}function M(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}function N(){var t=_,e=y,n=M;function r(r){var i,o,a=r.length,s=new Array(a);for(i=0;i<a;++i)s[i]=t(r[i],i,r);var l=e(s),u=l[0],h=l[1],d=n(s,u,h);Array.isArray(d)||(d=A(u,h,d),d=k(Math.ceil(u/d)*d,h,d));for(var f=d.length;d[0]<=u;)d.shift(),--f;for(;d[f-1]>h;)d.pop(),--f;var p,g=new Array(f+1);for(i=0;i<=f;++i)(p=g[i]=[]).x0=i>0?d[i-1]:u,p.x1=i<f?d[i]:h;for(i=0;i<a;++i)u<=(o=s[i])&&o<=h&&g[c(d,o,0,f)].push(r[i]);return g}return r.value=function(e){return arguments.length?(t="function"==typeof e?e:x(e),r):t},r.domain=function(t){return arguments.length?(e="function"==typeof t?t:x([t[0],t[1]]),r):e},r.thresholds=function(t){return arguments.length?(n="function"==typeof t?t:Array.isArray(t)?x(b.call(t)):x(t),r):n},r}function O(t,e,n){if(null==n&&(n=p),r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t);return a+(+n(t[o+1],o+1,t)-a)*(i-o)}}function F(t,e,n){return t=w.call(t,p).sort(i),Math.ceil((n-e)/(2*(O(t,.75)-O(t,.25))*Math.pow(t.length,-1/3)))}function I(t,e,n){return Math.ceil((n-e)/(3.5*m(t)*Math.pow(t.length,-1/3)))}function L(t,e){var n,r,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n>=n)for(r=n;++o<i;)null!=(n=t[o])&&n>r&&(r=n)}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n>=n)for(r=n;++o<i;)null!=(n=e(t[o],o,t))&&n>r&&(r=n);return r}function B(t,e){var n,r=t.length,i=r,o=-1,a=0;if(null==e)for(;++o<r;)isNaN(n=p(t[o]))?--i:a+=n;else for(;++o<r;)isNaN(n=p(e(t[o],o,t)))?--i:a+=n;if(i)return a/i}function R(t,e){var n,r=t.length,o=-1,a=[];if(null==e)for(;++o<r;)isNaN(n=p(t[o]))||a.push(n);else for(;++o<r;)isNaN(n=p(e(t[o],o,t)))||a.push(n);return O(a.sort(i),.5)}function P(t){for(var e,n,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(n=new Array(a);--i>=0;)for(e=(r=t[i]).length;--e>=0;)n[--a]=r[e];return n}function z(t,e){var n,r,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n>=n)for(r=n;++o<i;)null!=(n=t[o])&&r>n&&(r=n)}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n>=n)for(r=n;++o<i;)null!=(n=e(t[o],o,t))&&r>n&&(r=n);return r}function $(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r}function j(t,e){if(n=t.length){var n,r,o=0,a=0,s=t[a];for(null==e&&(e=i);++o<n;)(e(r=t[o],s)<0||0!==e(s,s))&&(s=r,a=o);return 0===e(s,s)?a:void 0}}function U(t,e,n){for(var r,i,o=(null==n?t.length:n)-(e=null==e?0:+e);o;)i=Math.random()*o--|0,r=t[o+e],t[o+e]=t[i+e],t[i+e]=r;return t}function Y(t,e){var n,r=t.length,i=-1,o=0;if(null==e)for(;++i<r;)(n=+t[i])&&(o+=n);else for(;++i<r;)(n=+e(t[i],i,t))&&(o+=n);return o}function q(t){if(!(i=t.length))return[];for(var e=-1,n=z(t,W),r=new Array(n);++e<n;)for(var i,o=-1,a=r[e]=new Array(i);++o<i;)a[o]=t[o][e];return r}function W(t){return t.length}function H(){return q(arguments)}var V=Array.prototype.slice;function G(t){return t}var X=1e-6;function K(t){return"translate("+(t+.5)+",0)"}function J(t){return"translate(0,"+(t+.5)+")"}function Z(t){return function(e){return+t(e)}}function Q(t){var e=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(e=Math.round(e)),function(n){return+t(n)+e}}function tt(){return!this.__axis}function et(t,e){var n=[],r=null,i=null,o=6,a=6,s=3,l=1===t||4===t?-1:1,c=4===t||2===t?"x":"y",u=1===t||3===t?K:J;function h(h){var d=null==r?e.ticks?e.ticks.apply(e,n):e.domain():r,f=null==i?e.tickFormat?e.tickFormat.apply(e,n):G:i,p=Math.max(o,0)+s,g=e.range(),m=+g[0]+.5,y=+g[g.length-1]+.5,v=(e.bandwidth?Q:Z)(e.copy()),b=h.selection?h.selection():h,w=b.selectAll(".domain").data([null]),x=b.selectAll(".tick").data(d,e).order(),_=x.exit(),k=x.enter().append("g").attr("class","tick"),E=x.select("line"),C=x.select("text");w=w.merge(w.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),x=x.merge(k),E=E.merge(k.append("line").attr("stroke","currentColor").attr(c+"2",l*o)),C=C.merge(k.append("text").attr("fill","currentColor").attr(c,l*p).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),h!==b&&(w=w.transition(h),x=x.transition(h),E=E.transition(h),C=C.transition(h),_=_.transition(h).attr("opacity",X).attr("transform",(function(t){return isFinite(t=v(t))?u(t):this.getAttribute("transform")})),k.attr("opacity",X).attr("transform",(function(t){var e=this.parentNode.__axis;return u(e&&isFinite(e=e(t))?e:v(t))}))),_.remove(),w.attr("d",4===t||2==t?a?"M"+l*a+","+m+"H0.5V"+y+"H"+l*a:"M0.5,"+m+"V"+y:a?"M"+m+","+l*a+"V0.5H"+y+"V"+l*a:"M"+m+",0.5H"+y),x.attr("opacity",1).attr("transform",(function(t){return u(v(t))})),E.attr(c+"2",l*o),C.attr(c,l*p).text(f),b.filter(tt).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),b.each((function(){this.__axis=v}))}return h.scale=function(t){return arguments.length?(e=t,h):e},h.ticks=function(){return n=V.call(arguments),h},h.tickArguments=function(t){return arguments.length?(n=null==t?[]:V.call(t),h):n.slice()},h.tickValues=function(t){return arguments.length?(r=null==t?null:V.call(t),h):r&&r.slice()},h.tickFormat=function(t){return arguments.length?(i=t,h):i},h.tickSize=function(t){return arguments.length?(o=a=+t,h):o},h.tickSizeInner=function(t){return arguments.length?(o=+t,h):o},h.tickSizeOuter=function(t){return arguments.length?(a=+t,h):a},h.tickPadding=function(t){return arguments.length?(s=+t,h):s},h}function nt(t){return et(1,t)}function rt(t){return et(2,t)}function it(t){return et(3,t)}function ot(t){return et(4,t)}var at={value:function(){}};function st(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new lt(r)}function lt(t){this._=t}function ct(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function ut(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function ht(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=at,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}lt.prototype=st.prototype={constructor:lt,on:function(t,e){var n,r=this._,i=ct(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<a;)if(n=(t=i[o]).type)r[n]=ht(r[n],t.name,e);else if(null==e)for(n in r)r[n]=ht(r[n],t.name,null);return this}for(;++o<a;)if((n=(t=i[o]).type)&&(n=ut(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new lt(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};const dt=st;function ft(){}function pt(t){return null==t?ft:function(){return this.querySelector(t)}}function gt(){return[]}function mt(t){return null==t?gt:function(){return this.querySelectorAll(t)}}function yt(t){return function(){return this.matches(t)}}function vt(t){return new Array(t.length)}function bt(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function wt(t,e,n,r,i,o){for(var a,s=0,l=e.length,c=o.length;s<c;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new bt(t,o[s]);for(;s<l;++s)(a=e[s])&&(i[s]=a)}function xt(t,e,n,r,i,o,a){var s,l,c,u={},h=e.length,d=o.length,f=new Array(h);for(s=0;s<h;++s)(l=e[s])&&(f[s]=c="$"+a.call(l,l.__data__,s,e),c in u?i[s]=l:u[c]=l);for(s=0;s<d;++s)(l=u[c="$"+a.call(t,o[s],s,o)])?(r[s]=l,l.__data__=o[s],u[c]=null):n[s]=new bt(t,o[s]);for(s=0;s<h;++s)(l=e[s])&&u[f[s]]===l&&(i[s]=l)}function _t(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}bt.prototype={constructor:bt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var kt="http://www.w3.org/1999/xhtml";const Et={svg:"http://www.w3.org/2000/svg",xhtml:kt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ct(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Et.hasOwnProperty(e)?{space:Et[e],local:t}:t}function St(t){return function(){this.removeAttribute(t)}}function Dt(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Tt(t,e){return function(){this.setAttribute(t,e)}}function At(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Mt(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function Nt(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Ot(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Ft(t){return function(){this.style.removeProperty(t)}}function It(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Lt(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Bt(t,e){return t.style.getPropertyValue(e)||Ot(t).getComputedStyle(t,null).getPropertyValue(e)}function Rt(t){return function(){delete this[t]}}function Pt(t,e){return function(){this[t]=e}}function zt(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function $t(t){return t.trim().split(/^|\s+/)}function jt(t){return t.classList||new Ut(t)}function Ut(t){this._node=t,this._names=$t(t.getAttribute("class")||"")}function Yt(t,e){for(var n=jt(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function qt(t,e){for(var n=jt(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Wt(t){return function(){Yt(this,t)}}function Ht(t){return function(){qt(this,t)}}function Vt(t,e){return function(){(e.apply(this,arguments)?Yt:qt)(this,t)}}function Gt(){this.textContent=""}function Xt(t){return function(){this.textContent=t}}function Kt(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function Jt(){this.innerHTML=""}function Zt(t){return function(){this.innerHTML=t}}function Qt(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function te(){this.nextSibling&&this.parentNode.appendChild(this)}function ee(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function ne(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===kt&&e.documentElement.namespaceURI===kt?e.createElement(t):e.createElementNS(n,t)}}function re(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function ie(t){var e=Ct(t);return(e.local?re:ne)(e)}function oe(){return null}function ae(){var t=this.parentNode;t&&t.removeChild(this)}function se(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function le(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}Ut.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var ce={},ue=null;function he(t,e,n){return t=de(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function de(t,e,n){return function(r){var i=ue;ue=r;try{t.call(this,this.__data__,e,n)}finally{ue=i}}}function fe(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function pe(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function ge(t,e,n){var r=ce.hasOwnProperty(t.type)?he:de;return function(i,o,a){var s,l=this.__on,c=r(e,o,a);if(l)for(var u=0,h=l.length;u<h;++u)if((s=l[u]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=c,s.capture=n),void(s.value=e);this.addEventListener(t.type,c,n),s={type:t.type,name:t.name,value:e,listener:c,capture:n},l?l.push(s):this.__on=[s]}}function me(t,e,n,r){var i=ue;t.sourceEvent=ue,ue=t;try{return e.apply(n,r)}finally{ue=i}}function ye(t,e,n){var r=Ot(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function ve(t,e){return function(){return ye(this,t,e)}}function be(t,e){return function(){return ye(this,t,e.apply(this,arguments))}}"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(ce={mouseenter:"mouseover",mouseleave:"mouseout"}));var we=[null];function xe(t,e){this._groups=t,this._parents=e}function _e(){return new xe([[document.documentElement]],we)}xe.prototype=_e.prototype={constructor:xe,select:function(t){"function"!=typeof t&&(t=pt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=e[i],l=s.length,c=r[i]=new Array(l),u=0;u<l;++u)(o=s[u])&&(a=t.call(o,o.__data__,u,s))&&("__data__"in o&&(a.__data__=o.__data__),c[u]=a);return new xe(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=mt(t));for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,s=e[o],l=s.length,c=0;c<l;++c)(a=s[c])&&(r.push(t.call(a,a.__data__,c,s)),i.push(a));return new xe(r,i)},filter:function(t){"function"!=typeof t&&(t=yt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,l=r[i]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&l.push(o);return new xe(r,this._parents)},data:function(t,e){if(!t)return p=new Array(this.size()),u=-1,this.each((function(t){p[++u]=t})),p;var n,r=e?xt:wt,i=this._parents,o=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var a=o.length,s=new Array(a),l=new Array(a),c=new Array(a),u=0;u<a;++u){var h=i[u],d=o[u],f=d.length,p=t.call(h,h&&h.__data__,u,i),g=p.length,m=l[u]=new Array(g),y=s[u]=new Array(g);r(h,d,m,y,c[u]=new Array(f),p,e);for(var v,b,w=0,x=0;w<g;++w)if(v=m[w]){for(w>=x&&(x=w+1);!(b=y[x])&&++x<g;);v._next=b||null}}return(s=new xe(s,i))._enter=l,s._exit=c,s},enter:function(){return new xe(this._enter||this._groups.map(vt),this._parents)},exit:function(){return new xe(this._exit||this._groups.map(vt),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=e&&(i=e(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var l,c=e[s],u=n[s],h=c.length,d=a[s]=new Array(h),f=0;f<h;++f)(l=c[f]||u[f])&&(d[f]=l);for(;s<r;++s)a[s]=e[s];return new xe(a,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=_t);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],l=s.length,c=i[o]=new Array(l),u=0;u<l;++u)(a=s[u])&&(c[u]=a);c.sort(e)}return new xe(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each((function(){t[++e]=this})),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=Ct(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?Dt:St:"function"==typeof e?n.local?Nt:Mt:n.local?At:Tt)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?Ft:"function"==typeof e?Lt:It)(t,e,null==n?"":n)):Bt(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?Rt:"function"==typeof e?zt:Pt)(t,e)):this.node()[t]},classed:function(t,e){var n=$t(t+"");if(arguments.length<2){for(var r=jt(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?Vt:e?Wt:Ht)(n,e))},text:function(t){return arguments.length?this.each(null==t?Gt:("function"==typeof t?Kt:Xt)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Jt:("function"==typeof t?Qt:Zt)(t)):this.node().innerHTML},raise:function(){return this.each(te)},lower:function(){return this.each(ee)},append:function(t){var e="function"==typeof t?t:ie(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:ie(t),r=null==e?oe:"function"==typeof e?e:pt(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(ae)},clone:function(t){return this.select(t?le:se)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=fe(t+""),a=o.length;if(!(arguments.length<2)){for(s=e?ge:pe,null==n&&(n=!1),r=0;r<a;++r)this.each(s(o[r],e,n));return this}var s=this.node().__on;if(s)for(var l,c=0,u=s.length;c<u;++c)for(r=0,l=s[c];r<a;++r)if((i=o[r]).type===l.type&&i.name===l.name)return l.value},dispatch:function(t,e){return this.each(("function"==typeof e?be:ve)(t,e))}};const ke=_e;function Ee(t){return"string"==typeof t?new xe([[document.querySelector(t)]],[document.documentElement]):new xe([[t]],we)}function Ce(){ue.stopImmediatePropagation()}function Se(){ue.preventDefault(),ue.stopImmediatePropagation()}function De(t){var e=t.document.documentElement,n=Ee(t).on("dragstart.drag",Se,!0);"onselectstart"in e?n.on("selectstart.drag",Se,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Te(t,e){var n=t.document.documentElement,r=Ee(t).on("dragstart.drag",null);e&&(r.on("click.drag",Se,!0),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Ae(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Me(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Ne(){}var Oe=.7,Fe=1/Oe,Ie="\\s*([+-]?\\d+)\\s*",Le="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Be="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Re=/^#([0-9a-f]{3,8})$/,Pe=new RegExp("^rgb\\("+[Ie,Ie,Ie]+"\\)$"),ze=new RegExp("^rgb\\("+[Be,Be,Be]+"\\)$"),$e=new RegExp("^rgba\\("+[Ie,Ie,Ie,Le]+"\\)$"),je=new RegExp("^rgba\\("+[Be,Be,Be,Le]+"\\)$"),Ue=new RegExp("^hsl\\("+[Le,Be,Be]+"\\)$"),Ye=new RegExp("^hsla\\("+[Le,Be,Be,Le]+"\\)$"),qe={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function We(){return this.rgb().formatHex()}function He(){return this.rgb().formatRgb()}function Ve(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Re.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Ge(e):3===n?new Ze(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Xe(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Xe(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Pe.exec(t))?new Ze(e[1],e[2],e[3],1):(e=ze.exec(t))?new Ze(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=$e.exec(t))?Xe(e[1],e[2],e[3],e[4]):(e=je.exec(t))?Xe(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Ue.exec(t))?nn(e[1],e[2]/100,e[3]/100,1):(e=Ye.exec(t))?nn(e[1],e[2]/100,e[3]/100,e[4]):qe.hasOwnProperty(t)?Ge(qe[t]):"transparent"===t?new Ze(NaN,NaN,NaN,0):null}function Ge(t){return new Ze(t>>16&255,t>>8&255,255&t,1)}function Xe(t,e,n,r){return r<=0&&(t=e=n=NaN),new Ze(t,e,n,r)}function Ke(t){return t instanceof Ne||(t=Ve(t)),t?new Ze((t=t.rgb()).r,t.g,t.b,t.opacity):new Ze}function Je(t,e,n,r){return 1===arguments.length?Ke(t):new Ze(t,e,n,null==r?1:r)}function Ze(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Qe(){return"#"+en(this.r)+en(this.g)+en(this.b)}function tn(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function en(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function nn(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new an(t,e,n,r)}function rn(t){if(t instanceof an)return new an(t.h,t.s,t.l,t.opacity);if(t instanceof Ne||(t=Ve(t)),!t)return new an;if(t instanceof an)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new an(a,s,l,t.opacity)}function on(t,e,n,r){return 1===arguments.length?rn(t):new an(t,e,n,null==r?1:r)}function an(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function sn(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function ln(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}function cn(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,s=r<e-1?t[r+2]:2*o-i;return ln((n-r/e)*e,a,i,o,s)}}function un(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],a=t[(r+1)%e],s=t[(r+2)%e];return ln((n-r/e)*e,i,o,a,s)}}function hn(t){return function(){return t}}function dn(t,e){return function(n){return t+n*e}}function fn(t,e){var n=e-t;return n?dn(t,n>180||n<-180?n-360*Math.round(n/360):n):hn(isNaN(t)?e:t)}function pn(t,e){var n=e-t;return n?dn(t,n):hn(isNaN(t)?e:t)}Ae(Ne,Ve,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:We,formatHex:We,formatHsl:function(){return rn(this).formatHsl()},formatRgb:He,toString:He}),Ae(Ze,Je,Me(Ne,{brighter:function(t){return t=null==t?Fe:Math.pow(Fe,t),new Ze(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?Oe:Math.pow(Oe,t),new Ze(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Qe,formatHex:Qe,formatRgb:tn,toString:tn})),Ae(an,on,Me(Ne,{brighter:function(t){return t=null==t?Fe:Math.pow(Fe,t),new an(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Oe:Math.pow(Oe,t),new an(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Ze(sn(t>=240?t-240:t+120,i,r),sn(t,i,r),sn(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));const gn=function t(e){var n=function(t){return 1==(t=+t)?pn:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):hn(isNaN(e)?n:e)}}(e);function r(t,e){var r=n((t=Je(t)).r,(e=Je(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=pn(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function mn(t){return function(e){var n,r,i=e.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=Je(e[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=t(o),a=t(a),s=t(s),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=s(t),r+""}}}var yn=mn(cn),vn=mn(un);function bn(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}}function wn(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function xn(t,e){return(wn(e)?bn:_n)(t,e)}function _n(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=An(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}function kn(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function En(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Cn(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=An(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var Sn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Dn=new RegExp(Sn.source,"g");function Tn(t,e){var n,r,i,o=Sn.lastIndex=Dn.lastIndex=0,a=-1,s=[],l=[];for(t+="",e+="";(n=Sn.exec(t))&&(r=Dn.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:En(n,r)})),o=Dn.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?function(t){return function(e){return t(e)+""}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var n,r=0;r<e;++r)s[(n=l[r]).i]=n.x(t);return s.join("")})}function An(t,e){var n,r=typeof e;return null==e||"boolean"===r?hn(e):("number"===r?En:"string"===r?(n=Ve(e))?(e=n,gn):Tn:e instanceof Ve?gn:e instanceof Date?kn:wn(e)?bn:Array.isArray(e)?_n:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?Cn:En)(t,e)}function Mn(){for(var t,e=ue;t=e.sourceEvent;)e=t;return e}function Nn(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}function On(t,e,n){arguments.length<3&&(n=e,e=Mn().changedTouches);for(var r,i=0,o=e?e.length:0;i<o;++i)if((r=e[i]).identifier===n)return Nn(t,r);return null}function Fn(t){var e=Mn();return e.changedTouches&&(e=e.changedTouches[0]),Nn(t,e)}var In,Ln,Bn=0,Rn=0,Pn=0,zn=0,$n=0,jn=0,Un="object"==typeof performance&&performance.now?performance:Date,Yn="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function qn(){return $n||(Yn(Wn),$n=Un.now()+jn)}function Wn(){$n=0}function Hn(){this._call=this._time=this._next=null}function Vn(t,e,n){var r=new Hn;return r.restart(t,e,n),r}function Gn(){qn(),++Bn;for(var t,e=In;e;)(t=$n-e._time)>=0&&e._call.call(null,t),e=e._next;--Bn}function Xn(){$n=(zn=Un.now())+jn,Bn=Rn=0;try{Gn()}finally{Bn=0,function(){for(var t,e,n=In,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:In=e);Ln=t,Jn(r)}(),$n=0}}function Kn(){var t=Un.now(),e=t-zn;e>1e3&&(jn-=e,zn=t)}function Jn(t){Bn||(Rn&&(Rn=clearTimeout(Rn)),t-$n>24?(t<1/0&&(Rn=setTimeout(Xn,t-Un.now()-jn)),Pn&&(Pn=clearInterval(Pn))):(Pn||(zn=Un.now(),Pn=setInterval(Kn,1e3)),Bn=1,Yn(Xn)))}function Zn(t,e,n){var r=new Hn;return e=null==e?0:+e,r.restart((function(n){r.stop(),t(n+e)}),e,n),r}Hn.prototype=Vn.prototype={constructor:Hn,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?qn():+n)+(null==e?0:+e),this._next||Ln===this||(Ln?Ln._next=this:In=this,Ln=this),this._call=t,this._time=n,Jn()},stop:function(){this._call&&(this._call=null,this._time=1/0,Jn())}};var Qn=dt("start","end","cancel","interrupt"),tr=[];function er(t,e,n,r,i,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function o(l){var c,u,h,d;if(1!==n.state)return s();for(c in i)if((d=i[c]).name===n.name){if(3===d.state)return Zn(o);4===d.state?(d.state=6,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete i[c]):+c<e&&(d.state=6,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete i[c])}if(Zn((function(){3===n.state&&(n.state=4,n.timer.restart(a,n.delay,n.time),a(l))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(h=n.tween.length),c=0,u=-1;c<h;++c)(d=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(r[++u]=d);r.length=u+1}}function a(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(s),n.state=5,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){for(var r in n.state=6,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=Vn((function(t){n.state=1,n.timer.restart(o,n.delay,n.time),n.delay<=t&&o(t-n.delay)}),0,n.time)}(t,n,{name:e,index:r,group:i,on:Qn,tween:tr,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})}function nr(t,e){var n=ir(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function rr(t,e){var n=ir(t,e);if(n.state>3)throw new Error("too late; already running");return n}function ir(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function or(t,e){var n,r,i,o=t.__transition,a=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}}var ar,sr,lr,cr,ur=180/Math.PI,hr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function dr(t,e,n,r,i,o){var a,s,l;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,l/=s),t*r<e*n&&(t=-t,e=-e,l=-l,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*ur,skewX:Math.atan(l)*ur,scaleX:a,scaleY:s}}function fr(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var s=[],l=[];return o=t(o),a=t(a),function(t,r,i,o,a,s){if(t!==i||r!==o){var l=a.push("translate(",null,e,null,n);s.push({i:l-4,x:En(t,i)},{i:l-2,x:En(r,o)})}else(i||o)&&a.push("translate("+i+e+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,l),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:En(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(o.rotate,a.rotate,s,l),function(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:En(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(o.skewX,a.skewX,s,l),function(t,e,n,r,o,a){if(t!==n||e!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:En(t,n)},{i:s-2,x:En(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,l),o=a=null,function(t){for(var e,n=-1,r=l.length;++n<r;)s[(e=l[n]).i]=e.x(t);return s.join("")}}}var pr=fr((function(t){return"none"===t?hr:(ar||(ar=document.createElement("DIV"),sr=document.documentElement,lr=document.defaultView),ar.style.transform=t,t=lr.getComputedStyle(sr.appendChild(ar),null).getPropertyValue("transform"),sr.removeChild(ar),dr(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),gr=fr((function(t){return null==t?hr:(cr||(cr=document.createElementNS("http://www.w3.org/2000/svg","g")),cr.setAttribute("transform",t),(t=cr.transform.baseVal.consolidate())?dr((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):hr)}),", ",")",")");function mr(t,e){var n,r;return function(){var i=rr(this,t),o=i.tween;if(o!==n)for(var a=0,s=(r=n=o).length;a<s;++a)if(r[a].name===e){(r=r.slice()).splice(a,1);break}i.tween=r}}function yr(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=rr(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===e){i[l]=s;break}l===c&&i.push(s)}o.tween=i}}function vr(t,e,n){var r=t._id;return t.each((function(){var t=rr(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return ir(t,r).value[e]}}function br(t,e){var n;return("number"==typeof e?En:e instanceof Ve?gn:(n=Ve(e))?(e=n,gn):Tn)(t,e)}function wr(t){return function(){this.removeAttribute(t)}}function xr(t){return function(){this.removeAttributeNS(t.space,t.local)}}function _r(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=e(r=a,n)}}function kr(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=e(r=a,n)}}function Er(t,e,n){var r,i,o;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttribute(t))===(s=l+"")?null:a===r&&s===i?o:(i=s,o=e(r=a,l));this.removeAttribute(t)}}function Cr(t,e,n){var r,i,o;return function(){var a,s,l=n(this);if(null!=l)return(a=this.getAttributeNS(t.space,t.local))===(s=l+"")?null:a===r&&s===i?o:(i=s,o=e(r=a,l));this.removeAttributeNS(t.space,t.local)}}function Sr(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Dr(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Tr(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&Dr(t,i)),n}return i._value=e,i}function Ar(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&Sr(t,i)),n}return i._value=e,i}function Mr(t,e){return function(){nr(this,t).delay=+e.apply(this,arguments)}}function Nr(t,e){return e=+e,function(){nr(this,t).delay=e}}function Or(t,e){return function(){rr(this,t).duration=+e.apply(this,arguments)}}function Fr(t,e){return e=+e,function(){rr(this,t).duration=e}}function Ir(t,e){if("function"!=typeof e)throw new Error;return function(){rr(this,t).ease=e}}function Lr(t,e,n){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?nr:rr;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}var Br=ke.prototype.constructor;function Rr(t){return function(){this.style.removeProperty(t)}}function Pr(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function zr(t,e,n){var r,i;function o(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&Pr(t,o,n)),r}return o._value=e,o}function $r(t){return function(e){this.textContent=t.call(this,e)}}function jr(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&$r(r)),e}return r._value=t,r}var Ur=0;function Yr(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function qr(t){return ke().transition(t)}function Wr(){return++Ur}var Hr=ke.prototype;function Vr(t){return t*t*t}function Gr(t){return--t*t*t+1}function Xr(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}Yr.prototype=qr.prototype={constructor:Yr,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=pt(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s,l,c=r[a],u=c.length,h=o[a]=new Array(u),d=0;d<u;++d)(s=c[d])&&(l=t.call(s,s.__data__,d,c))&&("__data__"in s&&(l.__data__=s.__data__),h[d]=l,er(h[d],e,n,d,h,ir(s,n)));return new Yr(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=mt(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var l,c=r[s],u=c.length,h=0;h<u;++h)if(l=c[h]){for(var d,f=t.call(l,l.__data__,h,c),p=ir(l,n),g=0,m=f.length;g<m;++g)(d=f[g])&&er(d,e,n,g,f,p);o.push(f),a.push(l)}return new Yr(o,a,e,n)},filter:function(t){"function"!=typeof t&&(t=yt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,l=r[i]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&l.push(o);return new Yr(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var l,c=e[s],u=n[s],h=c.length,d=a[s]=new Array(h),f=0;f<h;++f)(l=c[f]||u[f])&&(d[f]=l);for(;s<r;++s)a[s]=e[s];return new Yr(a,this._parents,this._name,this._id)},selection:function(){return new Br(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=Wr(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],l=s.length,c=0;c<l;++c)if(a=s[c]){var u=ir(a,e);er(a,t,n,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Yr(r,this._parents,t,n)},call:Hr.call,nodes:Hr.nodes,node:Hr.node,size:Hr.size,empty:Hr.empty,each:Hr.each,on:function(t,e){var n=this._id;return arguments.length<2?ir(this.node(),n).on.on(t):this.each(Lr(n,t,e))},attr:function(t,e){var n=Ct(t),r="transform"===n?gr:br;return this.attrTween(t,"function"==typeof e?(n.local?Cr:Er)(n,r,vr(this,"attr."+t,e)):null==e?(n.local?xr:wr)(n):(n.local?kr:_r)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=Ct(t);return this.tween(n,(r.local?Tr:Ar)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?pr:br;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var o=Bt(this,t),a=(this.style.removeProperty(t),Bt(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}(t,r)).on("end.style."+t,Rr(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,i,o;return function(){var a=Bt(this,t),s=n(this),l=s+"";return null==s&&(this.style.removeProperty(t),l=s=Bt(this,t)),a===l?null:a===r&&l===i?o:(i=l,o=e(r=a,s))}}(t,r,vr(this,"style."+t,e))).each(function(t,e){var n,r,i,o,a="style."+e,s="end."+a;return function(){var l=rr(this,t),c=l.on,u=null==l.value[a]?o||(o=Rr(e)):void 0;c===n&&i===u||(r=(n=c).copy()).on(s,i=u),l.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,o=n+"";return function(){var a=Bt(this,t);return a===o?null:a===r?i:i=e(r=a,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,zr(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(vr(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,jr(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=ir(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?mr:yr)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Mr:Nr)(e,t)):ir(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Or:Fr)(e,t)):ir(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(Ir(e,t)):ir(this.node(),e).ease},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(o,a){var s={value:a},l={value:function(){0==--i&&o()}};n.each((function(){var n=rr(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(l)),n.on=e}))}))}};var Kr={time:null,delay:0,duration:250,ease:Xr};function Jr(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return Kr.time=qn(),Kr;return n}ke.prototype.interrupt=function(t){return this.each((function(){or(this,t)}))},ke.prototype.transition=function(t){var e,n;t instanceof Yr?(e=t._id,t=t._name):(e=Wr(),(n=Kr).time=qn(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],l=s.length,c=0;c<l;++c)(a=s[c])&&er(a,t,e,c,s,n||Jr(a,e));return new Yr(r,this._parents,t,e)};var Zr=[null];function Qr(t,e){var n,r,i=t.__transition;if(i)for(r in e=null==e?null:e+"",i)if((n=i[r]).state>1&&n.name===e)return new Yr([[t]],Zr,e,+r);return null}function ti(t){return function(){return t}}function ei(t,e,n){this.target=t,this.type=e,this.selection=n}function ni(){ue.stopImmediatePropagation()}function ri(){ue.preventDefault(),ue.stopImmediatePropagation()}var ii={name:"drag"},oi={name:"space"},ai={name:"handle"},si={name:"center"};function li(t){return[+t[0],+t[1]]}function ci(t){return[li(t[0]),li(t[1])]}function ui(t){return function(e){return On(e,ue.touches,t)}}var hi={name:"x",handles:["w","e"].map(bi),input:function(t,e){return null==t?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},di={name:"y",handles:["n","s"].map(bi),input:function(t,e){return null==t?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},fi={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(bi),input:function(t){return null==t?null:ci(t)},output:function(t){return t}},pi={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},gi={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},mi={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},yi={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},vi={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function bi(t){return{type:t}}function wi(){return!ue.ctrlKey&&!ue.button}function xi(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function _i(){return navigator.maxTouchPoints||"ontouchstart"in this}function ki(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function Ei(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function Ci(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function Si(){return Ai(hi)}function Di(){return Ai(di)}function Ti(){return Ai(fi)}function Ai(t){var e,n=xi,r=wi,i=_i,o=!0,a=dt("start","brush","end"),s=6;function l(e){var n=e.property("__brush",g).selectAll(".overlay").data([bi("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",pi.overlay).merge(n).each((function(){var t=ki(this).extent;Ee(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])})),e.selectAll(".selection").data([bi("selection")]).enter().append("rect").attr("class","selection").attr("cursor",pi.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=e.selectAll(".handle").data(t.handles,(function(t){return t.type}));r.exit().remove(),r.enter().append("rect").attr("class",(function(t){return"handle handle--"+t.type})).attr("cursor",(function(t){return pi[t.type]})),e.each(c).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",d).filter(i).on("touchstart.brush",d).on("touchmove.brush",f).on("touchend.brush touchcancel.brush",p).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function c(){var t=Ee(this),e=ki(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",(function(t){return"e"===t.type[t.type.length-1]?e[1][0]-s/2:e[0][0]-s/2})).attr("y",(function(t){return"s"===t.type[0]?e[1][1]-s/2:e[0][1]-s/2})).attr("width",(function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+s:s})).attr("height",(function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+s:s}))):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function u(t,e,n){var r=t.__brush.emitter;return!r||n&&r.clean?new h(t,e,n):r}function h(t,e,n){this.that=t,this.args=e,this.state=t.__brush,this.active=0,this.clean=n}function d(){if((!e||ue.touches)&&r.apply(this,arguments)){var n,i,a,s,l,h,d,f,p,g,m,y=this,v=ue.target.__data__.type,b="selection"===(o&&ue.metaKey?v="overlay":v)?ii:o&&ue.altKey?si:ai,w=t===di?null:yi[v],x=t===hi?null:vi[v],_=ki(y),k=_.extent,E=_.selection,C=k[0][0],S=k[0][1],D=k[1][0],T=k[1][1],A=0,M=0,N=w&&x&&o&&ue.shiftKey,O=ue.touches?ui(ue.changedTouches[0].identifier):Fn,F=O(y),I=F,L=u(y,arguments,!0).beforestart();"overlay"===v?(E&&(p=!0),_.selection=E=[[n=t===di?C:F[0],a=t===hi?S:F[1]],[l=t===di?D:n,d=t===hi?T:a]]):(n=E[0][0],a=E[0][1],l=E[1][0],d=E[1][1]),i=n,s=a,h=l,f=d;var B=Ee(y).attr("pointer-events","none"),R=B.selectAll(".overlay").attr("cursor",pi[v]);if(ue.touches)L.moved=z,L.ended=j;else{var P=Ee(ue.view).on("mousemove.brush",z,!0).on("mouseup.brush",j,!0);o&&P.on("keydown.brush",U,!0).on("keyup.brush",Y,!0),De(ue.view)}ni(),or(y),c.call(y),L.start()}function z(){var t=O(y);!N||g||m||(Math.abs(t[0]-I[0])>Math.abs(t[1]-I[1])?m=!0:g=!0),I=t,p=!0,ri(),$()}function $(){var t;switch(A=I[0]-F[0],M=I[1]-F[1],b){case oi:case ii:w&&(A=Math.max(C-n,Math.min(D-l,A)),i=n+A,h=l+A),x&&(M=Math.max(S-a,Math.min(T-d,M)),s=a+M,f=d+M);break;case ai:w<0?(A=Math.max(C-n,Math.min(D-n,A)),i=n+A,h=l):w>0&&(A=Math.max(C-l,Math.min(D-l,A)),i=n,h=l+A),x<0?(M=Math.max(S-a,Math.min(T-a,M)),s=a+M,f=d):x>0&&(M=Math.max(S-d,Math.min(T-d,M)),s=a,f=d+M);break;case si:w&&(i=Math.max(C,Math.min(D,n-A*w)),h=Math.max(C,Math.min(D,l+A*w))),x&&(s=Math.max(S,Math.min(T,a-M*x)),f=Math.max(S,Math.min(T,d+M*x)))}h<i&&(w*=-1,t=n,n=l,l=t,t=i,i=h,h=t,v in gi&&R.attr("cursor",pi[v=gi[v]])),f<s&&(x*=-1,t=a,a=d,d=t,t=s,s=f,f=t,v in mi&&R.attr("cursor",pi[v=mi[v]])),_.selection&&(E=_.selection),g&&(i=E[0][0],h=E[1][0]),m&&(s=E[0][1],f=E[1][1]),E[0][0]===i&&E[0][1]===s&&E[1][0]===h&&E[1][1]===f||(_.selection=[[i,s],[h,f]],c.call(y),L.brush())}function j(){if(ni(),ue.touches){if(ue.touches.length)return;e&&clearTimeout(e),e=setTimeout((function(){e=null}),500)}else Te(ue.view,p),P.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);B.attr("pointer-events","all"),R.attr("cursor",pi.overlay),_.selection&&(E=_.selection),Ei(E)&&(_.selection=null,c.call(y)),L.end()}function U(){switch(ue.keyCode){case 16:N=w&&x;break;case 18:b===ai&&(w&&(l=h-A*w,n=i+A*w),x&&(d=f-M*x,a=s+M*x),b=si,$());break;case 32:b!==ai&&b!==si||(w<0?l=h-A:w>0&&(n=i-A),x<0?d=f-M:x>0&&(a=s-M),b=oi,R.attr("cursor",pi.selection),$());break;default:return}ri()}function Y(){switch(ue.keyCode){case 16:N&&(g=m=N=!1,$());break;case 18:b===si&&(w<0?l=h:w>0&&(n=i),x<0?d=f:x>0&&(a=s),b=ai,$());break;case 32:b===oi&&(ue.altKey?(w&&(l=h-A*w,n=i+A*w),x&&(d=f-M*x,a=s+M*x),b=si):(w<0?l=h:w>0&&(n=i),x<0?d=f:x>0&&(a=s),b=ai),R.attr("cursor",pi[v]),$());break;default:return}ri()}}function f(){u(this,arguments).moved()}function p(){u(this,arguments).ended()}function g(){var e=this.__brush||{selection:null};return e.extent=ci(n.apply(this,arguments)),e.dim=t,e}return l.move=function(e,n){e.selection?e.on("start.brush",(function(){u(this,arguments).beforestart().start()})).on("interrupt.brush end.brush",(function(){u(this,arguments).end()})).tween("brush",(function(){var e=this,r=e.__brush,i=u(e,arguments),o=r.selection,a=t.input("function"==typeof n?n.apply(this,arguments):n,r.extent),s=An(o,a);function l(t){r.selection=1===t&&null===a?null:s(t),c.call(e),i.brush()}return null!==o&&null!==a?l:l(1)})):e.each((function(){var e=this,r=arguments,i=e.__brush,o=t.input("function"==typeof n?n.apply(e,r):n,i.extent),a=u(e,r).beforestart();or(e),i.selection=null===o?null:o,c.call(e),a.start().brush().end()}))},l.clear=function(t){l.move(t,null)},h.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting?(this.starting=!1,this.emit("start")):this.emit("brush"),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(e){me(new ei(l,e,t.output(this.state.selection)),a.apply,a,[e,this.that,this.args])}},l.extent=function(t){return arguments.length?(n="function"==typeof t?t:ti(ci(t)),l):n},l.filter=function(t){return arguments.length?(r="function"==typeof t?t:ti(!!t),l):r},l.touchable=function(t){return arguments.length?(i="function"==typeof t?t:ti(!!t),l):i},l.handleSize=function(t){return arguments.length?(s=+t,l):s},l.keyModifiers=function(t){return arguments.length?(o=!!t,l):o},l.on=function(){var t=a.on.apply(a,arguments);return t===a?l:t},l}var Mi=Math.cos,Ni=Math.sin,Oi=Math.PI,Fi=Oi/2,Ii=2*Oi,Li=Math.max;function Bi(t){return function(e,n){return t(e.source.value+e.target.value,n.source.value+n.target.value)}}function Ri(){var t=0,e=null,n=null,r=null;function i(i){var o,a,s,l,c,u,h=i.length,d=[],f=k(h),p=[],g=[],m=g.groups=new Array(h),y=new Array(h*h);for(o=0,c=-1;++c<h;){for(a=0,u=-1;++u<h;)a+=i[c][u];d.push(a),p.push(k(h)),o+=a}for(e&&f.sort((function(t,n){return e(d[t],d[n])})),n&&p.forEach((function(t,e){t.sort((function(t,r){return n(i[e][t],i[e][r])}))})),l=(o=Li(0,Ii-t*h)/o)?t:Ii/h,a=0,c=-1;++c<h;){for(s=a,u=-1;++u<h;){var v=f[c],b=p[v][u],w=i[v][b],x=a,_=a+=w*o;y[b*h+v]={index:v,subindex:b,startAngle:x,endAngle:_,value:w}}m[v]={index:v,startAngle:s,endAngle:a,value:d[v]},a+=l}for(c=-1;++c<h;)for(u=c-1;++u<h;){var E=y[u*h+c],C=y[c*h+u];(E.value||C.value)&&g.push(E.value<C.value?{source:C,target:E}:{source:E,target:C})}return r?g.sort(r):g}return i.padAngle=function(e){return arguments.length?(t=Li(0,e),i):t},i.sortGroups=function(t){return arguments.length?(e=t,i):e},i.sortSubgroups=function(t){return arguments.length?(n=t,i):n},i.sortChords=function(t){return arguments.length?(null==t?r=null:(r=Bi(t))._=t,i):r&&r._},i}var Pi=Array.prototype.slice;function zi(t){return function(){return t}}var $i=Math.PI,ji=2*$i,Ui=1e-6,Yi=ji-Ui;function qi(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Wi(){return new qi}qi.prototype=Wi.prototype={constructor:qi,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,s=n-t,l=r-e,c=o-t,u=a-e,h=c*c+u*u;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(h>Ui)if(Math.abs(u*s-l*c)>Ui&&i){var d=n-o,f=r-a,p=s*s+l*l,g=d*d+f*f,m=Math.sqrt(p),y=Math.sqrt(h),v=i*Math.tan(($i-Math.acos((p+h-g)/(2*m*y)))/2),b=v/y,w=v/m;Math.abs(b-1)>Ui&&(this._+="L"+(t+b*c)+","+(e+b*u)),this._+="A"+i+","+i+",0,0,"+ +(u*d>c*f)+","+(this._x1=t+w*s)+","+(this._y1=e+w*l)}else this._+="L"+(this._x1=t)+","+(this._y1=e)},arc:function(t,e,n,r,i,o){t=+t,e=+e,o=!!o;var a=(n=+n)*Math.cos(r),s=n*Math.sin(r),l=t+a,c=e+s,u=1^o,h=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+l+","+c:(Math.abs(this._x1-l)>Ui||Math.abs(this._y1-c)>Ui)&&(this._+="L"+l+","+c),n&&(h<0&&(h=h%ji+ji),h>Yi?this._+="A"+n+","+n+",0,1,"+u+","+(t-a)+","+(e-s)+"A"+n+","+n+",0,1,"+u+","+(this._x1=l)+","+(this._y1=c):h>Ui&&(this._+="A"+n+","+n+",0,"+ +(h>=$i)+","+u+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};const Hi=Wi;function Vi(t){return t.source}function Gi(t){return t.target}function Xi(t){return t.radius}function Ki(t){return t.startAngle}function Ji(t){return t.endAngle}function Zi(){var t=Vi,e=Gi,n=Xi,r=Ki,i=Ji,o=null;function a(){var a,s=Pi.call(arguments),l=t.apply(this,s),c=e.apply(this,s),u=+n.apply(this,(s[0]=l,s)),h=r.apply(this,s)-Fi,d=i.apply(this,s)-Fi,f=u*Mi(h),p=u*Ni(h),g=+n.apply(this,(s[0]=c,s)),m=r.apply(this,s)-Fi,y=i.apply(this,s)-Fi;if(o||(o=a=Hi()),o.moveTo(f,p),o.arc(0,0,u,h,d),h===m&&d===y||(o.quadraticCurveTo(0,0,g*Mi(m),g*Ni(m)),o.arc(0,0,g,m,y)),o.quadraticCurveTo(0,0,f,p),o.closePath(),a)return o=null,a+""||null}return a.radius=function(t){return arguments.length?(n="function"==typeof t?t:zi(+t),a):n},a.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:zi(+t),a):r},a.endAngle=function(t){return arguments.length?(i="function"==typeof t?t:zi(+t),a):i},a.source=function(e){return arguments.length?(t=e,a):t},a.target=function(t){return arguments.length?(e=t,a):e},a.context=function(t){return arguments.length?(o=null==t?null:t,a):o},a}var Qi="$";function to(){}function eo(t,e){var n=new to;if(t instanceof to)t.each((function(t,e){n.set(e,t)}));else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==e)for(;++i<o;)n.set(i,t[i]);else for(;++i<o;)n.set(e(r=t[i],i,t),r)}else if(t)for(var a in t)n.set(a,t[a]);return n}to.prototype=eo.prototype={constructor:to,has:function(t){return Qi+t in this},get:function(t){return this[Qi+t]},set:function(t,e){return this[Qi+t]=e,this},remove:function(t){var e=Qi+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===Qi&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===Qi&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===Qi&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===Qi&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===Qi&&++t;return t},empty:function(){for(var t in this)if(t[0]===Qi)return!1;return!0},each:function(t){for(var e in this)e[0]===Qi&&t(this[e],e.slice(1),this)}};const no=eo;function ro(){var t,e,n,r=[],i=[];function o(n,i,a,s){if(i>=r.length)return null!=t&&n.sort(t),null!=e?e(n):n;for(var l,c,u,h=-1,d=n.length,f=r[i++],p=no(),g=a();++h<d;)(u=p.get(l=f(c=n[h])+""))?u.push(c):p.set(l,[c]);return p.each((function(t,e){s(g,e,o(t,i,a,s))})),g}function a(t,n){if(++n>r.length)return t;var o,s=i[n-1];return null!=e&&n>=r.length?o=t.entries():(o=[],t.each((function(t,e){o.push({key:e,values:a(t,n)})}))),null!=s?o.sort((function(t,e){return s(t.key,e.key)})):o}return n={object:function(t){return o(t,0,io,oo)},map:function(t){return o(t,0,ao,so)},entries:function(t){return a(o(t,0,ao,so),0)},key:function(t){return r.push(t),n},sortKeys:function(t){return i[r.length-1]=t,n},sortValues:function(e){return t=e,n},rollup:function(t){return e=t,n}}}function io(){return{}}function oo(t,e,n){t[e]=n}function ao(){return no()}function so(t,e,n){t.set(e,n)}function lo(){}var co=no.prototype;function uo(t,e){var n=new lo;if(t instanceof lo)t.each((function(t){n.add(t)}));else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}lo.prototype=uo.prototype={constructor:lo,has:co.has,add:function(t){return this[Qi+(t+="")]=t,this},remove:co.remove,clear:co.clear,values:co.keys,size:co.size,empty:co.empty,each:co.each};const ho=uo;function fo(t){var e=[];for(var n in t)e.push(n);return e}function po(t){var e=[];for(var n in t)e.push(t[n]);return e}function go(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e}var mo=Math.PI/180,yo=180/Math.PI,vo=.96422,bo=.82521,wo=4/29,xo=6/29,_o=3*xo*xo;function ko(t){if(t instanceof So)return new So(t.l,t.a,t.b,t.opacity);if(t instanceof Io)return Lo(t);t instanceof Ze||(t=Ke(t));var e,n,r=Mo(t.r),i=Mo(t.g),o=Mo(t.b),a=Do((.2225045*r+.7168786*i+.0606169*o)/1);return r===i&&i===o?e=n=a:(e=Do((.4360747*r+.3850649*i+.1430804*o)/vo),n=Do((.0139322*r+.0971045*i+.7141733*o)/bo)),new So(116*a-16,500*(e-a),200*(a-n),t.opacity)}function Eo(t,e){return new So(t,0,0,null==e?1:e)}function Co(t,e,n,r){return 1===arguments.length?ko(t):new So(t,e,n,null==r?1:r)}function So(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function Do(t){return t>.008856451679035631?Math.pow(t,1/3):t/_o+wo}function To(t){return t>xo?t*t*t:_o*(t-wo)}function Ao(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Mo(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function No(t){if(t instanceof Io)return new Io(t.h,t.c,t.l,t.opacity);if(t instanceof So||(t=ko(t)),0===t.a&&0===t.b)return new Io(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*yo;return new Io(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Oo(t,e,n,r){return 1===arguments.length?No(t):new Io(n,e,t,null==r?1:r)}function Fo(t,e,n,r){return 1===arguments.length?No(t):new Io(t,e,n,null==r?1:r)}function Io(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function Lo(t){if(isNaN(t.h))return new So(t.l,0,0,t.opacity);var e=t.h*mo;return new So(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}Ae(So,Co,Me(Ne,{brighter:function(t){return new So(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new So(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new Ze(Ao(3.1338561*(e=vo*To(e))-1.6168667*(t=1*To(t))-.4906146*(n=bo*To(n))),Ao(-.9787684*e+1.9161415*t+.033454*n),Ao(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),Ae(Io,Fo,Me(Ne,{brighter:function(t){return new Io(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new Io(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return Lo(this).rgb()}}));var Bo=-.14861,Ro=1.78277,Po=-.29227,zo=-.90649,$o=1.97294,jo=$o*zo,Uo=$o*Ro,Yo=Ro*Po-zo*Bo;function qo(t){if(t instanceof Ho)return new Ho(t.h,t.s,t.l,t.opacity);t instanceof Ze||(t=Ke(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(Yo*r+jo*e-Uo*n)/(Yo+jo-Uo),o=r-i,a=($o*(n-i)-Po*o)/zo,s=Math.sqrt(a*a+o*o)/($o*i*(1-i)),l=s?Math.atan2(a,o)*yo-120:NaN;return new Ho(l<0?l+360:l,s,i,t.opacity)}function Wo(t,e,n,r){return 1===arguments.length?qo(t):new Ho(t,e,n,null==r?1:r)}function Ho(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Ae(Ho,Wo,Me(Ne,{brighter:function(t){return t=null==t?Fe:Math.pow(Fe,t),new Ho(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Oe:Math.pow(Oe,t),new Ho(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*mo,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new Ze(255*(e+n*(Bo*r+Ro*i)),255*(e+n*(Po*r+zo*i)),255*(e+n*($o*r)),this.opacity)}}));var Vo=Array.prototype.slice;function Go(t,e){return t-e}function Xo(t){return function(){return t}}function Ko(t,e){for(var n,r=-1,i=e.length;++r<i;)if(n=Jo(t,e[r]))return n;return 0}function Jo(t,e){for(var n=e[0],r=e[1],i=-1,o=0,a=t.length,s=a-1;o<a;s=o++){var l=t[o],c=l[0],u=l[1],h=t[s],d=h[0],f=h[1];if(Zo(l,h,e))return 0;u>r!=f>r&&n<(d-c)*(r-u)/(f-u)+c&&(i=-i)}return i}function Zo(t,e,n){var r,i,o,a;return function(t,e,n){return(e[0]-t[0])*(n[1]-t[1])==(n[0]-t[0])*(e[1]-t[1])}(t,e,n)&&(i=t[r=+(t[0]===e[0])],o=n[r],a=e[r],i<=o&&o<=a||a<=o&&o<=i)}function Qo(){}var ta=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function ea(){var t=1,e=1,n=M,r=s;function i(t){var e=n(t);if(Array.isArray(e))e=e.slice().sort(Go);else{var r=y(t),i=r[0],a=r[1];e=A(i,a,e),e=k(Math.floor(i/e)*e,Math.floor(a/e)*e,e)}return e.map((function(e){return o(t,e)}))}function o(n,i){var o=[],s=[];return function(n,r,i){var o,s,l,c,u,h,d=new Array,f=new Array;for(o=s=-1,c=n[0]>=r,ta[c<<1].forEach(p);++o<t-1;)l=c,c=n[o+1]>=r,ta[l|c<<1].forEach(p);for(ta[c<<0].forEach(p);++s<e-1;){for(o=-1,c=n[s*t+t]>=r,u=n[s*t]>=r,ta[c<<1|u<<2].forEach(p);++o<t-1;)l=c,c=n[s*t+t+o+1]>=r,h=u,u=n[s*t+o+1]>=r,ta[l|c<<1|u<<2|h<<3].forEach(p);ta[c|u<<3].forEach(p)}for(o=-1,u=n[s*t]>=r,ta[u<<2].forEach(p);++o<t-1;)h=u,u=n[s*t+o+1]>=r,ta[u<<2|h<<3].forEach(p);function p(t){var e,n,r=[t[0][0]+o,t[0][1]+s],l=[t[1][0]+o,t[1][1]+s],c=a(r),u=a(l);(e=f[c])?(n=d[u])?(delete f[e.end],delete d[n.start],e===n?(e.ring.push(l),i(e.ring)):d[e.start]=f[n.end]={start:e.start,end:n.end,ring:e.ring.concat(n.ring)}):(delete f[e.end],e.ring.push(l),f[e.end=u]=e):(e=d[u])?(n=f[c])?(delete d[e.start],delete f[n.end],e===n?(e.ring.push(l),i(e.ring)):d[n.start]=f[e.end]={start:n.start,end:e.end,ring:n.ring.concat(e.ring)}):(delete d[e.start],e.ring.unshift(r),d[e.start=c]=e):d[c]=f[u]={start:c,end:u,ring:[r,l]}}ta[u<<3].forEach(p)}(n,i,(function(t){r(t,n,i),function(t){for(var e=0,n=t.length,r=t[n-1][1]*t[0][0]-t[n-1][0]*t[0][1];++e<n;)r+=t[e-1][1]*t[e][0]-t[e-1][0]*t[e][1];return r}(t)>0?o.push([t]):s.push(t)})),s.forEach((function(t){for(var e,n=0,r=o.length;n<r;++n)if(-1!==Ko((e=o[n])[0],t))return void e.push(t)})),{type:"MultiPolygon",value:i,coordinates:o}}function a(e){return 2*e[0]+e[1]*(t+1)*4}function s(n,r,i){n.forEach((function(n){var o,a=n[0],s=n[1],l=0|a,c=0|s,u=r[c*t+l];a>0&&a<t&&l===a&&(o=r[c*t+l-1],n[0]=a+(i-o)/(u-o)-.5),s>0&&s<e&&c===s&&(o=r[(c-1)*t+l],n[1]=s+(i-o)/(u-o)-.5)}))}return i.contour=o,i.size=function(n){if(!arguments.length)return[t,e];var r=Math.ceil(n[0]),o=Math.ceil(n[1]);if(!(r>0&&o>0))throw new Error("invalid size");return t=r,e=o,i},i.thresholds=function(t){return arguments.length?(n="function"==typeof t?t:Array.isArray(t)?Xo(Vo.call(t)):Xo(t),i):n},i.smooth=function(t){return arguments.length?(r=t?s:Qo,i):r===s},i}function na(t,e,n){for(var r=t.width,i=t.height,o=1+(n<<1),a=0;a<i;++a)for(var s=0,l=0;s<r+n;++s)s<r&&(l+=t.data[s+a*r]),s>=n&&(s>=o&&(l-=t.data[s-o+a*r]),e.data[s-n+a*r]=l/Math.min(s+1,r-1+o-s,o))}function ra(t,e,n){for(var r=t.width,i=t.height,o=1+(n<<1),a=0;a<r;++a)for(var s=0,l=0;s<i+n;++s)s<i&&(l+=t.data[a+s*r]),s>=n&&(s>=o&&(l-=t.data[a+(s-o)*r]),e.data[a+(s-n)*r]=l/Math.min(s+1,i-1+o-s,o))}function ia(t){return t[0]}function oa(t){return t[1]}function aa(){return 1}function sa(){var t=ia,e=oa,n=aa,r=960,i=500,o=20,a=2,s=3*o,l=r+2*s>>a,c=i+2*s>>a,u=Xo(20);function h(r){var i=new Float32Array(l*c),h=new Float32Array(l*c);r.forEach((function(r,o,u){var h=+t(r,o,u)+s>>a,d=+e(r,o,u)+s>>a,f=+n(r,o,u);h>=0&&h<l&&d>=0&&d<c&&(i[h+d*l]+=f)})),na({width:l,height:c,data:i},{width:l,height:c,data:h},o>>a),ra({width:l,height:c,data:h},{width:l,height:c,data:i},o>>a),na({width:l,height:c,data:i},{width:l,height:c,data:h},o>>a),ra({width:l,height:c,data:h},{width:l,height:c,data:i},o>>a),na({width:l,height:c,data:i},{width:l,height:c,data:h},o>>a),ra({width:l,height:c,data:h},{width:l,height:c,data:i},o>>a);var f=u(i);if(!Array.isArray(f)){var p=L(i);f=A(0,p,f),(f=k(0,Math.floor(p/f)*f,f)).shift()}return ea().thresholds(f).size([l,c])(i).map(d)}function d(t){return t.value*=Math.pow(2,-2*a),t.coordinates.forEach(f),t}function f(t){t.forEach(p)}function p(t){t.forEach(g)}function g(t){t[0]=t[0]*Math.pow(2,a)-s,t[1]=t[1]*Math.pow(2,a)-s}function m(){return l=r+2*(s=3*o)>>a,c=i+2*s>>a,h}return h.x=function(e){return arguments.length?(t="function"==typeof e?e:Xo(+e),h):t},h.y=function(t){return arguments.length?(e="function"==typeof t?t:Xo(+t),h):e},h.weight=function(t){return arguments.length?(n="function"==typeof t?t:Xo(+t),h):n},h.size=function(t){if(!arguments.length)return[r,i];var e=Math.ceil(t[0]),n=Math.ceil(t[1]);if(!(e>=0||e>=0))throw new Error("invalid size");return r=e,i=n,m()},h.cellSize=function(t){if(!arguments.length)return 1<<a;if(!((t=+t)>=1))throw new Error("invalid cell size");return a=Math.floor(Math.log(t)/Math.LN2),m()},h.thresholds=function(t){return arguments.length?(u="function"==typeof t?t:Array.isArray(t)?Xo(Vo.call(t)):Xo(t),h):u},h.bandwidth=function(t){if(!arguments.length)return Math.sqrt(o*(o+1));if(!((t=+t)>=0))throw new Error("invalid bandwidth");return o=Math.round((Math.sqrt(4*t*t+1)-1)/2),m()},h}function la(t){return function(){return t}}function ca(t,e,n,r,i,o,a,s,l,c){this.target=t,this.type=e,this.subject=n,this.identifier=r,this.active=i,this.x=o,this.y=a,this.dx=s,this.dy=l,this._=c}function ua(){return!ue.ctrlKey&&!ue.button}function ha(){return this.parentNode}function da(t){return null==t?{x:ue.x,y:ue.y}:t}function fa(){return navigator.maxTouchPoints||"ontouchstart"in this}function pa(){var t,e,n,r,i=ua,o=ha,a=da,s=fa,l={},c=dt("start","drag","end"),u=0,h=0;function d(t){t.on("mousedown.drag",f).filter(s).on("touchstart.drag",m).on("touchmove.drag",y).on("touchend.drag touchcancel.drag",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function f(){if(!r&&i.apply(this,arguments)){var a=b("mouse",o.apply(this,arguments),Fn,this,arguments);a&&(Ee(ue.view).on("mousemove.drag",p,!0).on("mouseup.drag",g,!0),De(ue.view),Ce(),n=!1,t=ue.clientX,e=ue.clientY,a("start"))}}function p(){if(Se(),!n){var r=ue.clientX-t,i=ue.clientY-e;n=r*r+i*i>h}l.mouse("drag")}function g(){Ee(ue.view).on("mousemove.drag mouseup.drag",null),Te(ue.view,n),Se(),l.mouse("end")}function m(){if(i.apply(this,arguments)){var t,e,n=ue.changedTouches,r=o.apply(this,arguments),a=n.length;for(t=0;t<a;++t)(e=b(n[t].identifier,r,On,this,arguments))&&(Ce(),e("start"))}}function y(){var t,e,n=ue.changedTouches,r=n.length;for(t=0;t<r;++t)(e=l[n[t].identifier])&&(Se(),e("drag"))}function v(){var t,e,n=ue.changedTouches,i=n.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),t=0;t<i;++t)(e=l[n[t].identifier])&&(Ce(),e("end"))}function b(t,e,n,r,i){var o,s,h,f=n(e,t),p=c.copy();if(me(new ca(d,"beforestart",o,t,u,f[0],f[1],0,0,p),(function(){return null!=(ue.subject=o=a.apply(r,i))&&(s=o.x-f[0]||0,h=o.y-f[1]||0,!0)})))return function a(c){var g,m=f;switch(c){case"start":l[t]=a,g=u++;break;case"end":delete l[t],--u;case"drag":f=n(e,t),g=u}me(new ca(d,c,o,t,g,f[0]+s,f[1]+h,f[0]-m[0],f[1]-m[1],p),p.apply,p,[c,r,i])}}return d.filter=function(t){return arguments.length?(i="function"==typeof t?t:la(!!t),d):i},d.container=function(t){return arguments.length?(o="function"==typeof t?t:la(t),d):o},d.subject=function(t){return arguments.length?(a="function"==typeof t?t:la(t),d):a},d.touchable=function(t){return arguments.length?(s="function"==typeof t?t:la(!!t),d):s},d.on=function(){var t=c.on.apply(c,arguments);return t===c?d:t},d.clickDistance=function(t){return arguments.length?(h=(t=+t)*t,d):Math.sqrt(h)},d}ca.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var ga={},ma={};function ya(t){return new Function("d","return {"+t.map((function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'})).join(",")+"}")}function va(t){var e=Object.create(null),n=[];return t.forEach((function(t){for(var r in t)r in e||n.push(e[r]=r)})),n}function ba(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function wa(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function r(t,e){var r,i=[],o=t.length,a=0,s=0,l=o<=0,c=!1;function u(){if(l)return ma;if(c)return c=!1,ga;var e,r,i=a;if(34===t.charCodeAt(i)){for(;a++<o&&34!==t.charCodeAt(a)||34===t.charCodeAt(++a););return(e=a)>=o?l=!0:10===(r=t.charCodeAt(a++))?c=!0:13===r&&(c=!0,10===t.charCodeAt(a)&&++a),t.slice(i+1,e-1).replace(/""/g,'"')}for(;a<o;){if(10===(r=t.charCodeAt(e=a++)))c=!0;else if(13===r)c=!0,10===t.charCodeAt(a)&&++a;else if(r!==n)continue;return t.slice(i,e)}return l=!0,t.slice(i,o)}for(10===t.charCodeAt(o-1)&&--o,13===t.charCodeAt(o-1)&&--o;(r=u())!==ma;){for(var h=[];r!==ga&&r!==ma;)h.push(r),r=u();e&&null==(h=e(h,s++))||i.push(h)}return i}function i(e,n){return e.map((function(e){return n.map((function(t){return a(e[t])})).join(t)}))}function o(e){return e.map(a).join(t)}function a(t){return null==t?"":t instanceof Date?function(t){var e=t.getUTCHours(),n=t.getUTCMinutes(),r=t.getUTCSeconds(),i=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":function(t){return t<0?"-"+ba(-t,6):t>9999?"+"+ba(t,6):ba(t,4)}(t.getUTCFullYear())+"-"+ba(t.getUTCMonth()+1,2)+"-"+ba(t.getUTCDate(),2)+(i?"T"+ba(e,2)+":"+ba(n,2)+":"+ba(r,2)+"."+ba(i,3)+"Z":r?"T"+ba(e,2)+":"+ba(n,2)+":"+ba(r,2)+"Z":n||e?"T"+ba(e,2)+":"+ba(n,2)+"Z":"")}(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,i,o=r(t,(function(t,r){if(n)return n(t,r-1);i=t,n=e?function(t,e){var n=ya(t);return function(r,i){return e(n(r),i,t)}}(t,e):ya(t)}));return o.columns=i||[],o},parseRows:r,format:function(e,n){return null==n&&(n=va(e)),[n.map(a).join(t)].concat(i(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=va(t)),i(t,e).join("\n")},formatRows:function(t){return t.map(o).join("\n")},formatRow:o,formatValue:a}}var xa=wa(","),_a=xa.parse,ka=xa.parseRows,Ea=xa.format,Ca=xa.formatBody,Sa=xa.formatRows,Da=xa.formatRow,Ta=xa.formatValue,Aa=wa("\t"),Ma=Aa.parse,Na=Aa.parseRows,Oa=Aa.format,Fa=Aa.formatBody,Ia=Aa.formatRows,La=Aa.formatRow,Ba=Aa.formatValue;function Ra(t){for(var e in t){var n,r,i=t[e].trim();if(i)if("true"===i)i=!0;else if("false"===i)i=!1;else if("NaN"===i)i=NaN;else if(isNaN(n=+i)){if(!(r=i.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;Pa&&r[4]&&!r[7]&&(i=i.replace(/-/g,"/").replace(/T/," ")),i=new Date(i)}else i=n;else i=null;t[e]=i}return t}var Pa=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function za(t){return+t}function $a(t){return t*t}function ja(t){return t*(2-t)}function Ua(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}var Ya=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),qa=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),Wa=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),Ha=Math.PI,Va=Ha/2;function Ga(t){return 1==+t?1:1-Math.cos(t*Va)}function Xa(t){return Math.sin(t*Va)}function Ka(t){return(1-Math.cos(Ha*t))/2}function Ja(t){return 1.0009775171065494*(Math.pow(2,-10*t)-.0009765625)}function Za(t){return Ja(1-+t)}function Qa(t){return 1-Ja(t)}function ts(t){return((t*=2)<=1?Ja(1-t):2-Ja(t-1))/2}function es(t){return 1-Math.sqrt(1-t*t)}function ns(t){return Math.sqrt(1- --t*t)}function rs(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var is=7.5625;function os(t){return 1-as(1-t)}function as(t){return(t=+t)<.36363636363636365?is*t*t:t<.7272727272727273?is*(t-=.5454545454545454)*t+.75:t<.9090909090909091?is*(t-=.8181818181818182)*t+.9375:is*(t-=.9545454545454546)*t+.984375}function ss(t){return((t*=2)<=1?1-as(1-t):as(t-1)+1)/2}var ls=1.70158,cs=function t(e){function n(t){return(t=+t)*t*(e*(t-1)+t)}return e=+e,n.overshoot=t,n}(ls),us=function t(e){function n(t){return--t*t*((t+1)*e+t)+1}return e=+e,n.overshoot=t,n}(ls),hs=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(ls),ds=2*Math.PI,fs=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=ds);function i(t){return e*Ja(- --t)*Math.sin((r-t)/n)}return i.amplitude=function(e){return t(e,n*ds)},i.period=function(n){return t(e,n)},i}(1,.3),ps=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=ds);function i(t){return 1-e*Ja(t=+t)*Math.sin((t+r)/n)}return i.amplitude=function(e){return t(e,n*ds)},i.period=function(n){return t(e,n)},i}(1,.3),gs=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=ds);function i(t){return((t=2*t-1)<0?e*Ja(-t)*Math.sin((r-t)/n):2-e*Ja(t)*Math.sin((r+t)/n))/2}return i.amplitude=function(e){return t(e,n*ds)},i.period=function(n){return t(e,n)},i}(1,.3);function ms(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}function ys(t,e){return fetch(t,e).then(ms)}function vs(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}function bs(t,e){return fetch(t,e).then(vs)}function ws(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function xs(t,e){return fetch(t,e).then(ws)}function _s(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=void 0),xs(e,n).then((function(e){return t(e,r)}))}}function ks(t,e,n,r){3===arguments.length&&"function"==typeof n&&(r=n,n=void 0);var i=wa(t);return xs(e,n).then((function(t){return i.parse(t,r)}))}var Es=_s(_a),Cs=_s(Ma);function Ss(t,e){return new Promise((function(n,r){var i=new Image;for(var o in e)i[o]=e[o];i.onerror=r,i.onload=function(){n(i)},i.src=t}))}function Ds(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(204!==t.status&&205!==t.status)return t.json()}function Ts(t,e){return fetch(t,e).then(Ds)}function As(t){return function(e,n){return xs(e,n).then((function(e){return(new DOMParser).parseFromString(e,t)}))}}const Ms=As("application/xml");var Ns=As("text/html"),Os=As("image/svg+xml");function Fs(t,e){var n;function r(){var r,i,o=n.length,a=0,s=0;for(r=0;r<o;++r)a+=(i=n[r]).x,s+=i.y;for(a=a/o-t,s=s/o-e,r=0;r<o;++r)(i=n[r]).x-=a,i.y-=s}return null==t&&(t=0),null==e&&(e=0),r.initialize=function(t){n=t},r.x=function(e){return arguments.length?(t=+e,r):t},r.y=function(t){return arguments.length?(e=+t,r):e},r}function Is(t){return function(){return t}}function Ls(){return 1e-6*(Math.random()-.5)}function Bs(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o,a,s,l,c,u,h,d,f=t._root,p={data:r},g=t._x0,m=t._y0,y=t._x1,v=t._y1;if(!f)return t._root=p,t;for(;f.length;)if((c=e>=(o=(g+y)/2))?g=o:y=o,(u=n>=(a=(m+v)/2))?m=a:v=a,i=f,!(f=f[h=u<<1|c]))return i[h]=p,t;if(s=+t._x.call(null,f.data),l=+t._y.call(null,f.data),e===s&&n===l)return p.next=f,i?i[h]=p:t._root=p,t;do{i=i?i[h]=new Array(4):t._root=new Array(4),(c=e>=(o=(g+y)/2))?g=o:y=o,(u=n>=(a=(m+v)/2))?m=a:v=a}while((h=u<<1|c)==(d=(l>=a)<<1|s>=o));return i[d]=f,i[h]=p,t}function Rs(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function Ps(t){return t[0]}function zs(t){return t[1]}function $s(t,e,n){var r=new js(null==e?Ps:e,null==n?zs:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function js(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function Us(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var Ys=$s.prototype=js.prototype;function qs(t){return t.x+t.vx}function Ws(t){return t.y+t.vy}function Hs(t){var e,n,r=1,i=1;function o(){for(var t,o,s,l,c,u,h,d=e.length,f=0;f<i;++f)for(o=$s(e,qs,Ws).visitAfter(a),t=0;t<d;++t)s=e[t],u=n[s.index],h=u*u,l=s.x+s.vx,c=s.y+s.vy,o.visit(p);function p(t,e,n,i,o){var a=t.data,d=t.r,f=u+d;if(!a)return e>l+f||i<l-f||n>c+f||o<c-f;if(a.index>s.index){var p=l-a.x-a.vx,g=c-a.y-a.vy,m=p*p+g*g;m<f*f&&(0===p&&(m+=(p=Ls())*p),0===g&&(m+=(g=Ls())*g),m=(f-(m=Math.sqrt(m)))/m*r,s.vx+=(p*=m)*(f=(d*=d)/(h+d)),s.vy+=(g*=m)*f,a.vx-=p*(f=1-f),a.vy-=g*f)}}}function a(t){if(t.data)return t.r=n[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function s(){if(e){var r,i,o=e.length;for(n=new Array(o),r=0;r<o;++r)i=e[r],n[i.index]=+t(i,r,e)}}return"function"!=typeof t&&(t=Is(null==t?1:+t)),o.initialize=function(t){e=t,s()},o.iterations=function(t){return arguments.length?(i=+t,o):i},o.strength=function(t){return arguments.length?(r=+t,o):r},o.radius=function(e){return arguments.length?(t="function"==typeof e?e:Is(+e),s(),o):t},o}function Vs(t){return t.index}function Gs(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}function Xs(t){var e,n,r,i,o,a=Vs,s=function(t){return 1/Math.min(i[t.source.index],i[t.target.index])},l=Is(30),c=1;function u(r){for(var i=0,a=t.length;i<c;++i)for(var s,l,u,h,d,f,p,g=0;g<a;++g)l=(s=t[g]).source,h=(u=s.target).x+u.vx-l.x-l.vx||Ls(),d=u.y+u.vy-l.y-l.vy||Ls(),h*=f=((f=Math.sqrt(h*h+d*d))-n[g])/f*r*e[g],d*=f,u.vx-=h*(p=o[g]),u.vy-=d*p,l.vx+=h*(p=1-p),l.vy+=d*p}function h(){if(r){var s,l,c=r.length,u=t.length,h=no(r,a);for(s=0,i=new Array(c);s<u;++s)(l=t[s]).index=s,"object"!=typeof l.source&&(l.source=Gs(h,l.source)),"object"!=typeof l.target&&(l.target=Gs(h,l.target)),i[l.source.index]=(i[l.source.index]||0)+1,i[l.target.index]=(i[l.target.index]||0)+1;for(s=0,o=new Array(u);s<u;++s)l=t[s],o[s]=i[l.source.index]/(i[l.source.index]+i[l.target.index]);e=new Array(u),d(),n=new Array(u),f()}}function d(){if(r)for(var n=0,i=t.length;n<i;++n)e[n]=+s(t[n],n,t)}function f(){if(r)for(var e=0,i=t.length;e<i;++e)n[e]=+l(t[e],e,t)}return null==t&&(t=[]),u.initialize=function(t){r=t,h()},u.links=function(e){return arguments.length?(t=e,h(),u):t},u.id=function(t){return arguments.length?(a=t,u):a},u.iterations=function(t){return arguments.length?(c=+t,u):c},u.strength=function(t){return arguments.length?(s="function"==typeof t?t:Is(+t),d(),u):s},u.distance=function(t){return arguments.length?(l="function"==typeof t?t:Is(+t),f(),u):l},u}function Ks(t){return t.x}function Js(t){return t.y}Ys.copy=function(){var t,e,n=new js(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=Us(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=Us(e));return n},Ys.add=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return Bs(this.cover(e,n),e,n,t)},Ys.addAll=function(t){var e,n,r,i,o=t.length,a=new Array(o),s=new Array(o),l=1/0,c=1/0,u=-1/0,h=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||(a[n]=r,s[n]=i,r<l&&(l=r),r>u&&(u=r),i<c&&(c=i),i>h&&(h=i));if(l>u||c>h)return this;for(this.cover(l,c).cover(u,h),n=0;n<o;++n)Bs(this,a[n],s[n],t[n]);return this},Ys.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{for(var a,s,l=i-n,c=this._root;n>t||t>=i||r>e||e>=o;)switch(s=(e<r)<<1|t<n,(a=new Array(4))[s]=c,c=a,l*=2,s){case 0:i=n+l,o=r+l;break;case 1:n=i-l,o=r+l;break;case 2:i=n+l,r=o-l;break;case 3:n=i-l,r=o-l}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},Ys.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},Ys.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Ys.find=function(t,e,n){var r,i,o,a,s,l,c,u=this._x0,h=this._y0,d=this._x1,f=this._y1,p=[],g=this._root;for(g&&p.push(new Rs(g,u,h,d,f)),null==n?n=1/0:(u=t-n,h=e-n,d=t+n,f=e+n,n*=n);l=p.pop();)if(!(!(g=l.node)||(i=l.x0)>d||(o=l.y0)>f||(a=l.x1)<u||(s=l.y1)<h))if(g.length){var m=(i+a)/2,y=(o+s)/2;p.push(new Rs(g[3],m,y,a,s),new Rs(g[2],i,y,m,s),new Rs(g[1],m,o,a,y),new Rs(g[0],i,o,m,y)),(c=(e>=y)<<1|t>=m)&&(l=p[p.length-1],p[p.length-1]=p[p.length-1-c],p[p.length-1-c]=l)}else{var v=t-+this._x.call(null,g.data),b=e-+this._y.call(null,g.data),w=v*v+b*b;if(w<n){var x=Math.sqrt(n=w);u=t-x,h=e-x,d=t+x,f=e+x,r=g.data}}return r},Ys.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,r,i,o,a,s,l,c,u,h,d,f=this._root,p=this._x0,g=this._y0,m=this._x1,y=this._y1;if(!f)return this;if(f.length)for(;;){if((c=o>=(s=(p+m)/2))?p=s:m=s,(u=a>=(l=(g+y)/2))?g=l:y=l,e=f,!(f=f[h=u<<1|c]))return this;if(!f.length)break;(e[h+1&3]||e[h+2&3]||e[h+3&3])&&(n=e,d=h)}for(;f.data!==t;)if(r=f,!(f=f.next))return this;return(i=f.next)&&delete f.next,r?(i?r.next=i:delete r.next,this):e?(i?e[h]=i:delete e[h],(f=e[0]||e[1]||e[2]||e[3])&&f===(e[3]||e[2]||e[1]||e[0])&&!f.length&&(n?n[d]=f:this._root=f),this):(this._root=i,this)},Ys.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},Ys.root=function(){return this._root},Ys.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},Ys.visit=function(t){var e,n,r,i,o,a,s=[],l=this._root;for(l&&s.push(new Rs(l,this._x0,this._y0,this._x1,this._y1));e=s.pop();)if(!t(l=e.node,r=e.x0,i=e.y0,o=e.x1,a=e.y1)&&l.length){var c=(r+o)/2,u=(i+a)/2;(n=l[3])&&s.push(new Rs(n,c,u,o,a)),(n=l[2])&&s.push(new Rs(n,r,u,c,a)),(n=l[1])&&s.push(new Rs(n,c,i,o,u)),(n=l[0])&&s.push(new Rs(n,r,i,c,u))}return this},Ys.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new Rs(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var i=e.node;if(i.length){var o,a=e.x0,s=e.y0,l=e.x1,c=e.y1,u=(a+l)/2,h=(s+c)/2;(o=i[0])&&n.push(new Rs(o,a,s,u,h)),(o=i[1])&&n.push(new Rs(o,u,s,l,h)),(o=i[2])&&n.push(new Rs(o,a,h,u,c)),(o=i[3])&&n.push(new Rs(o,u,h,l,c))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},Ys.x=function(t){return arguments.length?(this._x=t,this):this._x},Ys.y=function(t){return arguments.length?(this._y=t,this):this._y};var Zs=Math.PI*(3-Math.sqrt(5));function Qs(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,a=.6,s=no(),l=Vn(u),c=dt("tick","end");function u(){h(),c.call("tick",e),n<r&&(l.stop(),c.call("end",e))}function h(r){var l,c,u=t.length;void 0===r&&(r=1);for(var h=0;h<r;++h)for(n+=(o-n)*i,s.each((function(t){t(n)})),l=0;l<u;++l)null==(c=t[l]).fx?c.x+=c.vx*=a:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=a:(c.y=c.fy,c.vy=0);return e}function d(){for(var e,n=0,r=t.length;n<r;++n){if((e=t[n]).index=n,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var i=10*Math.sqrt(n),o=n*Zs;e.x=i*Math.cos(o),e.y=i*Math.sin(o)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function f(e){return e.initialize&&e.initialize(t),e}return null==t&&(t=[]),d(),e={tick:h,restart:function(){return l.restart(u),e},stop:function(){return l.stop(),e},nodes:function(n){return arguments.length?(t=n,d(),s.each(f),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(r=+t,e):r},alphaDecay:function(t){return arguments.length?(i=+t,e):+i},alphaTarget:function(t){return arguments.length?(o=+t,e):o},velocityDecay:function(t){return arguments.length?(a=1-t,e):1-a},force:function(t,n){return arguments.length>1?(null==n?s.remove(t):s.set(t,f(n)),e):s.get(t)},find:function(e,n,r){var i,o,a,s,l,c=0,u=t.length;for(null==r?r=1/0:r*=r,c=0;c<u;++c)(a=(i=e-(s=t[c]).x)*i+(o=n-s.y)*o)<r&&(l=s,r=a);return l},on:function(t,n){return arguments.length>1?(c.on(t,n),e):c.on(t)}}}function tl(){var t,e,n,r,i=Is(-30),o=1,a=1/0,s=.81;function l(r){var i,o=t.length,a=$s(t,Ks,Js).visitAfter(u);for(n=r,i=0;i<o;++i)e=t[i],a.visit(h)}function c(){if(t){var e,n,o=t.length;for(r=new Array(o),e=0;e<o;++e)n=t[e],r[n.index]=+i(n,e,t)}}function u(t){var e,n,i,o,a,s=0,l=0;if(t.length){for(i=o=a=0;a<4;++a)(e=t[a])&&(n=Math.abs(e.value))&&(s+=e.value,l+=n,i+=n*e.x,o+=n*e.y);t.x=i/l,t.y=o/l}else{(e=t).x=e.data.x,e.y=e.data.y;do{s+=r[e.data.index]}while(e=e.next)}t.value=s}function h(t,i,l,c){if(!t.value)return!0;var u=t.x-e.x,h=t.y-e.y,d=c-i,f=u*u+h*h;if(d*d/s<f)return f<a&&(0===u&&(f+=(u=Ls())*u),0===h&&(f+=(h=Ls())*h),f<o&&(f=Math.sqrt(o*f)),e.vx+=u*t.value*n/f,e.vy+=h*t.value*n/f),!0;if(!(t.length||f>=a)){(t.data!==e||t.next)&&(0===u&&(f+=(u=Ls())*u),0===h&&(f+=(h=Ls())*h),f<o&&(f=Math.sqrt(o*f)));do{t.data!==e&&(d=r[t.data.index]*n/f,e.vx+=u*d,e.vy+=h*d)}while(t=t.next)}}return l.initialize=function(e){t=e,c()},l.strength=function(t){return arguments.length?(i="function"==typeof t?t:Is(+t),c(),l):i},l.distanceMin=function(t){return arguments.length?(o=t*t,l):Math.sqrt(o)},l.distanceMax=function(t){return arguments.length?(a=t*t,l):Math.sqrt(a)},l.theta=function(t){return arguments.length?(s=t*t,l):Math.sqrt(s)},l}function el(t,e,n){var r,i,o,a=Is(.1);function s(t){for(var a=0,s=r.length;a<s;++a){var l=r[a],c=l.x-e||1e-6,u=l.y-n||1e-6,h=Math.sqrt(c*c+u*u),d=(o[a]-h)*i[a]*t/h;l.vx+=c*d,l.vy+=u*d}}function l(){if(r){var e,n=r.length;for(i=new Array(n),o=new Array(n),e=0;e<n;++e)o[e]=+t(r[e],e,r),i[e]=isNaN(o[e])?0:+a(r[e],e,r)}}return"function"!=typeof t&&(t=Is(+t)),null==e&&(e=0),null==n&&(n=0),s.initialize=function(t){r=t,l()},s.strength=function(t){return arguments.length?(a="function"==typeof t?t:Is(+t),l(),s):a},s.radius=function(e){return arguments.length?(t="function"==typeof e?e:Is(+e),l(),s):t},s.x=function(t){return arguments.length?(e=+t,s):e},s.y=function(t){return arguments.length?(n=+t,s):n},s}function nl(t){var e,n,r,i=Is(.1);function o(t){for(var i,o=0,a=e.length;o<a;++o)(i=e[o]).vx+=(r[o]-i.x)*n[o]*t}function a(){if(e){var o,a=e.length;for(n=new Array(a),r=new Array(a),o=0;o<a;++o)n[o]=isNaN(r[o]=+t(e[o],o,e))?0:+i(e[o],o,e)}}return"function"!=typeof t&&(t=Is(null==t?0:+t)),o.initialize=function(t){e=t,a()},o.strength=function(t){return arguments.length?(i="function"==typeof t?t:Is(+t),a(),o):i},o.x=function(e){return arguments.length?(t="function"==typeof e?e:Is(+e),a(),o):t},o}function rl(t){var e,n,r,i=Is(.1);function o(t){for(var i,o=0,a=e.length;o<a;++o)(i=e[o]).vy+=(r[o]-i.y)*n[o]*t}function a(){if(e){var o,a=e.length;for(n=new Array(a),r=new Array(a),o=0;o<a;++o)n[o]=isNaN(r[o]=+t(e[o],o,e))?0:+i(e[o],o,e)}}return"function"!=typeof t&&(t=Is(null==t?0:+t)),o.initialize=function(t){e=t,a()},o.strength=function(t){return arguments.length?(i="function"==typeof t?t:Is(+t),a(),o):i},o.y=function(e){return arguments.length?(t="function"==typeof e?e:Is(+e),a(),o):t},o}function il(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function ol(t){return(t=il(Math.abs(t)))?t[1]:NaN}var al,sl=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ll(t){if(!(e=sl.exec(t)))throw new Error("invalid format: "+t);var e;return new cl({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function cl(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function ul(t,e){var n=il(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}ll.prototype=cl.prototype,cl.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const hl={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return ul(100*t,e)},r:ul,s:function(t,e){var n=il(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(al=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+il(t,Math.max(0,e+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function dl(t){return t}var fl,pl,gl,ml=Array.prototype.map,yl=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function vl(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?dl:(e=ml.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(t.substring(i-=s,i+s)),!((l+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?dl:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(ml.call(t.numerals,String)),l=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"-":t.minus+"",u=void 0===t.nan?"NaN":t.nan+"";function h(t){var e=(t=ll(t)).fill,n=t.align,h=t.sign,d=t.symbol,f=t.zero,p=t.width,g=t.comma,m=t.precision,y=t.trim,v=t.type;"n"===v?(g=!0,v="g"):hl[v]||(void 0===m&&(m=12),y=!0,v="g"),(f||"0"===e&&"="===n)&&(f=!0,e="0",n="=");var b="$"===d?i:"#"===d&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",w="$"===d?o:/[%p]/.test(v)?l:"",x=hl[v],_=/[defgprs%]/.test(v);function k(t){var i,o,l,d=b,k=w;if("c"===v)k=x(t)+k,t="";else{var E=(t=+t)<0||1/t<0;if(t=isNaN(t)?u:x(Math.abs(t),m),y&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),E&&0==+t&&"+"!==h&&(E=!1),d=(E?"("===h?h:c:"-"===h||"("===h?"":h)+d,k=("s"===v?yl[8+al/3]:"")+k+(E&&"("===h?")":""),_)for(i=-1,o=t.length;++i<o;)if(48>(l=t.charCodeAt(i))||l>57){k=(46===l?a+t.slice(i+1):t.slice(i))+k,t=t.slice(0,i);break}}g&&!f&&(t=r(t,1/0));var C=d.length+t.length+k.length,S=C<p?new Array(p-C+1).join(e):"";switch(g&&f&&(t=r(S+t,S.length?p-k.length:1/0),S=""),n){case"<":t=d+t+k+S;break;case"=":t=d+S+t+k;break;case"^":t=S.slice(0,C=S.length>>1)+d+t+k+S.slice(C);break;default:t=S+d+t+k}return s(t)}return m=void 0===m?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),k.toString=function(){return t+""},k}return{format:h,formatPrefix:function(t,e){var n=h(((t=ll(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(ol(e)/3))),i=Math.pow(10,-r),o=yl[8+r/3];return function(t){return n(i*t)+o}}}}function bl(t){return fl=vl(t),pl=fl.format,gl=fl.formatPrefix,fl}function wl(t){return Math.max(0,-ol(Math.abs(t)))}function xl(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(ol(e)/3)))-ol(Math.abs(t)))}function _l(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,ol(e)-ol(t))+1}function kl(){return new El}function El(){this.reset()}bl({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),El.prototype={constructor:El,reset:function(){this.s=this.t=0},add:function(t){Sl(Cl,t,this.t),Sl(this,Cl.s,this.s),this.s?this.t+=Cl.t:this.s=Cl.t},valueOf:function(){return this.s}};var Cl=new El;function Sl(t,e,n){var r=t.s=e+n,i=r-e,o=r-i;t.t=e-o+(n-i)}var Dl=1e-6,Tl=1e-12,Al=Math.PI,Ml=Al/2,Nl=Al/4,Ol=2*Al,Fl=180/Al,Il=Al/180,Ll=Math.abs,Bl=Math.atan,Rl=Math.atan2,Pl=Math.cos,zl=Math.ceil,$l=Math.exp,jl=(Math.floor,Math.log),Ul=Math.pow,Yl=Math.sin,ql=Math.sign||function(t){return t>0?1:t<0?-1:0},Wl=Math.sqrt,Hl=Math.tan;function Vl(t){return t>1?0:t<-1?Al:Math.acos(t)}function Gl(t){return t>1?Ml:t<-1?-Ml:Math.asin(t)}function Xl(t){return(t=Yl(t/2))*t}function Kl(){}function Jl(t,e){t&&Ql.hasOwnProperty(t.type)&&Ql[t.type](t,e)}var Zl={Feature:function(t,e){Jl(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)Jl(n[r].geometry,e)}},Ql={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){tc(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)tc(n[r],e,0)},Polygon:function(t,e){ec(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)ec(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)Jl(n[r],e)}};function tc(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function ec(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)tc(t[n],e,1);e.polygonEnd()}function nc(t,e){t&&Zl.hasOwnProperty(t.type)?Zl[t.type](t,e):Jl(t,e)}var rc,ic,oc,ac,sc,lc=kl(),cc=kl(),uc={point:Kl,lineStart:Kl,lineEnd:Kl,polygonStart:function(){lc.reset(),uc.lineStart=hc,uc.lineEnd=dc},polygonEnd:function(){var t=+lc;cc.add(t<0?Ol+t:t),this.lineStart=this.lineEnd=this.point=Kl},sphere:function(){cc.add(Ol)}};function hc(){uc.point=fc}function dc(){pc(rc,ic)}function fc(t,e){uc.point=pc,rc=t,ic=e,oc=t*=Il,ac=Pl(e=(e*=Il)/2+Nl),sc=Yl(e)}function pc(t,e){var n=(t*=Il)-oc,r=n>=0?1:-1,i=r*n,o=Pl(e=(e*=Il)/2+Nl),a=Yl(e),s=sc*a,l=ac*o+s*Pl(i),c=s*r*Yl(i);lc.add(Rl(c,l)),oc=t,ac=o,sc=a}function gc(t){return cc.reset(),nc(t,uc),2*cc}function mc(t){return[Rl(t[1],t[0]),Gl(t[2])]}function yc(t){var e=t[0],n=t[1],r=Pl(n);return[r*Pl(e),r*Yl(e),Yl(n)]}function vc(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function bc(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function wc(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function xc(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function _c(t){var e=Wl(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var kc,Ec,Cc,Sc,Dc,Tc,Ac,Mc,Nc,Oc,Fc,Ic,Lc,Bc,Rc,Pc,zc,$c,jc,Uc,Yc,qc,Wc,Hc,Vc,Gc,Xc=kl(),Kc={point:Jc,lineStart:Qc,lineEnd:tu,polygonStart:function(){Kc.point=eu,Kc.lineStart=nu,Kc.lineEnd=ru,Xc.reset(),uc.polygonStart()},polygonEnd:function(){uc.polygonEnd(),Kc.point=Jc,Kc.lineStart=Qc,Kc.lineEnd=tu,lc<0?(kc=-(Cc=180),Ec=-(Sc=90)):Xc>Dl?Sc=90:Xc<-1e-6&&(Ec=-90),Oc[0]=kc,Oc[1]=Cc},sphere:function(){kc=-(Cc=180),Ec=-(Sc=90)}};function Jc(t,e){Nc.push(Oc=[kc=t,Cc=t]),e<Ec&&(Ec=e),e>Sc&&(Sc=e)}function Zc(t,e){var n=yc([t*Il,e*Il]);if(Mc){var r=bc(Mc,n),i=bc([r[1],-r[0],0],r);_c(i),i=mc(i);var o,a=t-Dc,s=a>0?1:-1,l=i[0]*Fl*s,c=Ll(a)>180;c^(s*Dc<l&&l<s*t)?(o=i[1]*Fl)>Sc&&(Sc=o):c^(s*Dc<(l=(l+360)%360-180)&&l<s*t)?(o=-i[1]*Fl)<Ec&&(Ec=o):(e<Ec&&(Ec=e),e>Sc&&(Sc=e)),c?t<Dc?iu(kc,t)>iu(kc,Cc)&&(Cc=t):iu(t,Cc)>iu(kc,Cc)&&(kc=t):Cc>=kc?(t<kc&&(kc=t),t>Cc&&(Cc=t)):t>Dc?iu(kc,t)>iu(kc,Cc)&&(Cc=t):iu(t,Cc)>iu(kc,Cc)&&(kc=t)}else Nc.push(Oc=[kc=t,Cc=t]);e<Ec&&(Ec=e),e>Sc&&(Sc=e),Mc=n,Dc=t}function Qc(){Kc.point=Zc}function tu(){Oc[0]=kc,Oc[1]=Cc,Kc.point=Jc,Mc=null}function eu(t,e){if(Mc){var n=t-Dc;Xc.add(Ll(n)>180?n+(n>0?360:-360):n)}else Tc=t,Ac=e;uc.point(t,e),Zc(t,e)}function nu(){uc.lineStart()}function ru(){eu(Tc,Ac),uc.lineEnd(),Ll(Xc)>Dl&&(kc=-(Cc=180)),Oc[0]=kc,Oc[1]=Cc,Mc=null}function iu(t,e){return(e-=t)<0?e+360:e}function ou(t,e){return t[0]-e[0]}function au(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}function su(t){var e,n,r,i,o,a,s;if(Sc=Cc=-(kc=Ec=1/0),Nc=[],nc(t,Kc),n=Nc.length){for(Nc.sort(ou),e=1,o=[r=Nc[0]];e<n;++e)au(r,(i=Nc[e])[0])||au(r,i[1])?(iu(r[0],i[1])>iu(r[0],r[1])&&(r[1]=i[1]),iu(i[0],r[1])>iu(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(a=-1/0,e=0,r=o[n=o.length-1];e<=n;r=i,++e)i=o[e],(s=iu(r[1],i[0]))>a&&(a=s,kc=i[0],Cc=r[1])}return Nc=Oc=null,kc===1/0||Ec===1/0?[[NaN,NaN],[NaN,NaN]]:[[kc,Ec],[Cc,Sc]]}var lu={sphere:Kl,point:cu,lineStart:hu,lineEnd:pu,polygonStart:function(){lu.lineStart=gu,lu.lineEnd=mu},polygonEnd:function(){lu.lineStart=hu,lu.lineEnd=pu}};function cu(t,e){t*=Il;var n=Pl(e*=Il);uu(n*Pl(t),n*Yl(t),Yl(e))}function uu(t,e,n){++Fc,Lc+=(t-Lc)/Fc,Bc+=(e-Bc)/Fc,Rc+=(n-Rc)/Fc}function hu(){lu.point=du}function du(t,e){t*=Il;var n=Pl(e*=Il);Hc=n*Pl(t),Vc=n*Yl(t),Gc=Yl(e),lu.point=fu,uu(Hc,Vc,Gc)}function fu(t,e){t*=Il;var n=Pl(e*=Il),r=n*Pl(t),i=n*Yl(t),o=Yl(e),a=Rl(Wl((a=Vc*o-Gc*i)*a+(a=Gc*r-Hc*o)*a+(a=Hc*i-Vc*r)*a),Hc*r+Vc*i+Gc*o);Ic+=a,Pc+=a*(Hc+(Hc=r)),zc+=a*(Vc+(Vc=i)),$c+=a*(Gc+(Gc=o)),uu(Hc,Vc,Gc)}function pu(){lu.point=cu}function gu(){lu.point=yu}function mu(){vu(qc,Wc),lu.point=cu}function yu(t,e){qc=t,Wc=e,t*=Il,e*=Il,lu.point=vu;var n=Pl(e);Hc=n*Pl(t),Vc=n*Yl(t),Gc=Yl(e),uu(Hc,Vc,Gc)}function vu(t,e){t*=Il;var n=Pl(e*=Il),r=n*Pl(t),i=n*Yl(t),o=Yl(e),a=Vc*o-Gc*i,s=Gc*r-Hc*o,l=Hc*i-Vc*r,c=Wl(a*a+s*s+l*l),u=Gl(c),h=c&&-u/c;jc+=h*a,Uc+=h*s,Yc+=h*l,Ic+=u,Pc+=u*(Hc+(Hc=r)),zc+=u*(Vc+(Vc=i)),$c+=u*(Gc+(Gc=o)),uu(Hc,Vc,Gc)}function bu(t){Fc=Ic=Lc=Bc=Rc=Pc=zc=$c=jc=Uc=Yc=0,nc(t,lu);var e=jc,n=Uc,r=Yc,i=e*e+n*n+r*r;return i<Tl&&(e=Pc,n=zc,r=$c,Ic<Dl&&(e=Lc,n=Bc,r=Rc),(i=e*e+n*n+r*r)<Tl)?[NaN,NaN]:[Rl(n,e)*Fl,Gl(r/Wl(i))*Fl]}function wu(t){return function(){return t}}function xu(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n}function _u(t,e){return[Ll(t)>Al?t+Math.round(-t/Ol)*Ol:t,e]}function ku(t,e,n){return(t%=Ol)?e||n?xu(Cu(t),Su(e,n)):Cu(t):e||n?Su(e,n):_u}function Eu(t){return function(e,n){return[(e+=t)>Al?e-Ol:e<-Al?e+Ol:e,n]}}function Cu(t){var e=Eu(t);return e.invert=Eu(-t),e}function Su(t,e){var n=Pl(t),r=Yl(t),i=Pl(e),o=Yl(e);function a(t,e){var a=Pl(e),s=Pl(t)*a,l=Yl(t)*a,c=Yl(e),u=c*n+s*r;return[Rl(l*i-u*o,s*n-c*r),Gl(u*i+l*o)]}return a.invert=function(t,e){var a=Pl(e),s=Pl(t)*a,l=Yl(t)*a,c=Yl(e),u=c*i-l*o;return[Rl(l*i+c*o,s*n+u*r),Gl(u*n-s*r)]},a}function Du(t){function e(e){return(e=t(e[0]*Il,e[1]*Il))[0]*=Fl,e[1]*=Fl,e}return t=ku(t[0]*Il,t[1]*Il,t.length>2?t[2]*Il:0),e.invert=function(e){return(e=t.invert(e[0]*Il,e[1]*Il))[0]*=Fl,e[1]*=Fl,e},e}function Tu(t,e,n,r,i,o){if(n){var a=Pl(e),s=Yl(e),l=r*n;null==i?(i=e+r*Ol,o=e-l/2):(i=Au(a,i),o=Au(a,o),(r>0?i<o:i>o)&&(i+=r*Ol));for(var c,u=i;r>0?u>o:u<o;u-=l)c=mc([a,-s*Pl(u),-s*Yl(u)]),t.point(c[0],c[1])}}function Au(t,e){(e=yc(e))[0]-=t,_c(e);var n=Vl(-e[1]);return((-e[2]<0?-n:n)+Ol-Dl)%Ol}function Mu(){var t,e,n=wu([0,0]),r=wu(90),i=wu(6),o={point:function(n,r){t.push(n=e(n,r)),n[0]*=Fl,n[1]*=Fl}};function a(){var a=n.apply(this,arguments),s=r.apply(this,arguments)*Il,l=i.apply(this,arguments)*Il;return t=[],e=ku(-a[0]*Il,-a[1]*Il,0).invert,Tu(o,s,l,1),a={type:"Polygon",coordinates:[t]},t=e=null,a}return a.center=function(t){return arguments.length?(n="function"==typeof t?t:wu([+t[0],+t[1]]),a):n},a.radius=function(t){return arguments.length?(r="function"==typeof t?t:wu(+t),a):r},a.precision=function(t){return arguments.length?(i="function"==typeof t?t:wu(+t),a):i},a}function Nu(){var t,e=[];return{point:function(e,n,r){t.push([e,n,r])},lineStart:function(){e.push(t=[])},lineEnd:Kl,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function Ou(t,e){return Ll(t[0]-e[0])<Dl&&Ll(t[1]-e[1])<Dl}function Fu(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Iu(t,e,n,r,i){var o,a,s=[],l=[];if(t.forEach((function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],a=t[e];if(Ou(r,a)){if(!r[2]&&!a[2]){for(i.lineStart(),o=0;o<e;++o)i.point((r=t[o])[0],r[1]);return void i.lineEnd()}a[0]+=2e-6}s.push(n=new Fu(r,t,null,!0)),l.push(n.o=new Fu(r,null,n,!1)),s.push(n=new Fu(a,t,null,!1)),l.push(n.o=new Fu(a,null,n,!0))}})),s.length){for(l.sort(e),Lu(s),Lu(l),o=0,a=l.length;o<a;++o)l[o].e=n=!n;for(var c,u,h=s[0];;){for(var d=h,f=!0;d.v;)if((d=d.n)===h)return;c=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(f)for(o=0,a=c.length;o<a;++o)i.point((u=c[o])[0],u[1]);else r(d.x,d.n.x,1,i);d=d.n}else{if(f)for(c=d.p.z,o=c.length-1;o>=0;--o)i.point((u=c[o])[0],u[1]);else r(d.x,d.p.x,-1,i);d=d.p}c=(d=d.o).z,f=!f}while(!d.v);i.lineEnd()}}}function Lu(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}_u.invert=_u;var Bu=kl();function Ru(t){return Ll(t[0])<=Al?t[0]:ql(t[0])*((Ll(t[0])+Al)%Ol-Al)}function Pu(t,e){var n=Ru(e),r=e[1],i=Yl(r),o=[Yl(n),-Pl(n),0],a=0,s=0;Bu.reset(),1===i?r=Ml+Dl:-1===i&&(r=-Ml-Dl);for(var l=0,c=t.length;l<c;++l)if(h=(u=t[l]).length)for(var u,h,d=u[h-1],f=Ru(d),p=d[1]/2+Nl,g=Yl(p),m=Pl(p),y=0;y<h;++y,f=b,g=x,m=_,d=v){var v=u[y],b=Ru(v),w=v[1]/2+Nl,x=Yl(w),_=Pl(w),k=b-f,E=k>=0?1:-1,C=E*k,S=C>Al,D=g*x;if(Bu.add(Rl(D*E*Yl(C),m*_+D*Pl(C))),a+=S?k+E*Ol:k,S^f>=n^b>=n){var T=bc(yc(d),yc(v));_c(T);var A=bc(o,T);_c(A);var M=(S^k>=0?-1:1)*Gl(A[2]);(r>M||r===M&&(T[0]||T[1]))&&(s+=S^k>=0?1:-1)}}return(a<-1e-6||a<Dl&&Bu<-1e-6)^1&s}function zu(t,e,n,r){return function(i){var o,a,s,l=e(i),c=Nu(),u=e(c),h=!1,d={point:f,lineStart:g,lineEnd:m,polygonStart:function(){d.point=y,d.lineStart=v,d.lineEnd=b,a=[],o=[]},polygonEnd:function(){d.point=f,d.lineStart=g,d.lineEnd=m,a=P(a);var t=Pu(o,r);a.length?(h||(i.polygonStart(),h=!0),Iu(a,ju,t,n,i)):t&&(h||(i.polygonStart(),h=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),h&&(i.polygonEnd(),h=!1),a=o=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function f(e,n){t(e,n)&&i.point(e,n)}function p(t,e){l.point(t,e)}function g(){d.point=p,l.lineStart()}function m(){d.point=f,l.lineEnd()}function y(t,e){s.push([t,e]),u.point(t,e)}function v(){u.lineStart(),s=[]}function b(){y(s[0][0],s[0][1]),u.lineEnd();var t,e,n,r,l=u.clean(),d=c.result(),f=d.length;if(s.pop(),o.push(s),s=null,f)if(1&l){if((e=(n=d[0]).length-1)>0){for(h||(i.polygonStart(),h=!0),i.lineStart(),t=0;t<e;++t)i.point((r=n[t])[0],r[1]);i.lineEnd()}}else f>1&&2&l&&d.push(d.pop().concat(d.shift())),a.push(d.filter($u))}return d}}function $u(t){return t.length>1}function ju(t,e){return((t=t.x)[0]<0?t[1]-Ml-Dl:Ml-t[1])-((e=e.x)[0]<0?e[1]-Ml-Dl:Ml-e[1])}const Uu=zu((function(){return!0}),(function(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var s=o>0?Al:-Al,l=Ll(o-n);Ll(l-Al)<Dl?(t.point(n,r=(r+a)/2>0?Ml:-Ml),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(o,r),e=0):i!==s&&l>=Al&&(Ll(n-i)<Dl&&(n-=i*Dl),Ll(o-s)<Dl&&(o-=s*Dl),r=function(t,e,n,r){var i,o,a=Yl(t-n);return Ll(a)>Dl?Bl((Yl(e)*(o=Pl(r))*Yl(n)-Yl(r)*(i=Pl(e))*Yl(t))/(i*o*a)):(e+r)/2}(n,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),e=0),t.point(n=o,r=a),i=s},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}),(function(t,e,n,r){var i;if(null==t)i=n*Ml,r.point(-Al,i),r.point(0,i),r.point(Al,i),r.point(Al,0),r.point(Al,-i),r.point(0,-i),r.point(-Al,-i),r.point(-Al,0),r.point(-Al,i);else if(Ll(t[0]-e[0])>Dl){var o=t[0]<e[0]?Al:-Al;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}),[-Al,-Ml]);function Yu(t){var e=Pl(t),n=6*Il,r=e>0,i=Ll(e)>Dl;function o(t,n){return Pl(t)*Pl(n)>e}function a(t,n,r){var i=[1,0,0],o=bc(yc(t),yc(n)),a=vc(o,o),s=o[0],l=a-s*s;if(!l)return!r&&t;var c=e*a/l,u=-e*s/l,h=bc(i,o),d=xc(i,c);wc(d,xc(o,u));var f=h,p=vc(d,f),g=vc(f,f),m=p*p-g*(vc(d,d)-1);if(!(m<0)){var y=Wl(m),v=xc(f,(-p-y)/g);if(wc(v,d),v=mc(v),!r)return v;var b,w=t[0],x=n[0],_=t[1],k=n[1];x<w&&(b=w,w=x,x=b);var E=x-w,C=Ll(E-Al)<Dl;if(!C&&k<_&&(b=_,_=k,k=b),C||E<Dl?C?_+k>0^v[1]<(Ll(v[0]-w)<Dl?_:k):_<=v[1]&&v[1]<=k:E>Al^(w<=v[0]&&v[0]<=x)){var S=xc(f,(-p+y)/g);return wc(S,d),[v,mc(S)]}}}function s(e,n){var i=r?t:Al-t,o=0;return e<-i?o|=1:e>i&&(o|=2),n<-i?o|=4:n>i&&(o|=8),o}return zu(o,(function(t){var e,n,l,c,u;return{lineStart:function(){c=l=!1,u=1},point:function(h,d){var f,p=[h,d],g=o(h,d),m=r?g?0:s(h,d):g?s(h+(h<0?Al:-Al),d):0;if(!e&&(c=l=g)&&t.lineStart(),g!==l&&(!(f=a(e,p))||Ou(e,f)||Ou(p,f))&&(p[2]=1),g!==l)u=0,g?(t.lineStart(),f=a(p,e),t.point(f[0],f[1])):(f=a(e,p),t.point(f[0],f[1],2),t.lineEnd()),e=f;else if(i&&e&&r^g){var y;m&n||!(y=a(p,e,!0))||(u=0,r?(t.lineStart(),t.point(y[0][0],y[0][1]),t.point(y[1][0],y[1][1]),t.lineEnd()):(t.point(y[1][0],y[1][1]),t.lineEnd(),t.lineStart(),t.point(y[0][0],y[0][1],3)))}!g||e&&Ou(e,p)||t.point(p[0],p[1]),e=p,l=g,n=m},lineEnd:function(){l&&t.lineEnd(),e=null},clean:function(){return u|(c&&l)<<1}}}),(function(e,r,i,o){Tu(o,t,n,i,e,r)}),r?[0,-t]:[-Al,t-Al])}var qu=1e9,Wu=-qu;function Hu(t,e,n,r){function i(i,o){return t<=i&&i<=n&&e<=o&&o<=r}function o(i,o,s,c){var u=0,h=0;if(null==i||(u=a(i,s))!==(h=a(o,s))||l(i,o)<0^s>0)do{c.point(0===u||3===u?t:n,u>1?r:e)}while((u=(u+s+4)%4)!==h);else c.point(o[0],o[1])}function a(r,i){return Ll(r[0]-t)<Dl?i>0?0:3:Ll(r[0]-n)<Dl?i>0?2:1:Ll(r[1]-e)<Dl?i>0?1:0:i>0?3:2}function s(t,e){return l(t.x,e.x)}function l(t,e){var n=a(t,1),r=a(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(a){var l,c,u,h,d,f,p,g,m,y,v,b=a,w=Nu(),x={point:_,lineStart:function(){x.point=k,c&&c.push(u=[]),y=!0,m=!1,p=g=NaN},lineEnd:function(){l&&(k(h,d),f&&m&&w.rejoin(),l.push(w.result())),x.point=_,m&&b.lineEnd()},polygonStart:function(){b=w,l=[],c=[],v=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,i=c.length;n<i;++n)for(var o,a,s=c[n],l=1,u=s.length,h=s[0],d=h[0],f=h[1];l<u;++l)o=d,a=f,d=(h=s[l])[0],f=h[1],a<=r?f>r&&(d-o)*(r-a)>(f-a)*(t-o)&&++e:f<=r&&(d-o)*(r-a)<(f-a)*(t-o)&&--e;return e}(),n=v&&e,i=(l=P(l)).length;(n||i)&&(a.polygonStart(),n&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),i&&Iu(l,s,e,o,a),a.polygonEnd()),b=a,l=c=u=null}};function _(t,e){i(t,e)&&b.point(t,e)}function k(o,a){var s=i(o,a);if(c&&u.push([o,a]),y)h=o,d=a,f=s,y=!1,s&&(b.lineStart(),b.point(o,a));else if(s&&m)b.point(o,a);else{var l=[p=Math.max(Wu,Math.min(qu,p)),g=Math.max(Wu,Math.min(qu,g))],w=[o=Math.max(Wu,Math.min(qu,o)),a=Math.max(Wu,Math.min(qu,a))];!function(t,e,n,r,i,o){var a,s=t[0],l=t[1],c=0,u=1,h=e[0]-s,d=e[1]-l;if(a=n-s,h||!(a>0)){if(a/=h,h<0){if(a<c)return;a<u&&(u=a)}else if(h>0){if(a>u)return;a>c&&(c=a)}if(a=i-s,h||!(a<0)){if(a/=h,h<0){if(a>u)return;a>c&&(c=a)}else if(h>0){if(a<c)return;a<u&&(u=a)}if(a=r-l,d||!(a>0)){if(a/=d,d<0){if(a<c)return;a<u&&(u=a)}else if(d>0){if(a>u)return;a>c&&(c=a)}if(a=o-l,d||!(a<0)){if(a/=d,d<0){if(a>u)return;a>c&&(c=a)}else if(d>0){if(a<c)return;a<u&&(u=a)}return c>0&&(t[0]=s+c*h,t[1]=l+c*d),u<1&&(e[0]=s+u*h,e[1]=l+u*d),!0}}}}}(l,w,t,e,n,r)?s&&(b.lineStart(),b.point(o,a),v=!1):(m||(b.lineStart(),b.point(l[0],l[1])),b.point(w[0],w[1]),s||b.lineEnd(),v=!1)}p=o,g=a,m=s}return x}}function Vu(){var t,e,n,r=0,i=0,o=960,a=500;return n={stream:function(n){return t&&e===n?t:t=Hu(r,i,o,a)(e=n)},extent:function(s){return arguments.length?(r=+s[0][0],i=+s[0][1],o=+s[1][0],a=+s[1][1],t=e=null,n):[[r,i],[o,a]]}}}var Gu,Xu,Ku,Ju=kl(),Zu={sphere:Kl,point:Kl,lineStart:function(){Zu.point=th,Zu.lineEnd=Qu},lineEnd:Kl,polygonStart:Kl,polygonEnd:Kl};function Qu(){Zu.point=Zu.lineEnd=Kl}function th(t,e){Gu=t*=Il,Xu=Yl(e*=Il),Ku=Pl(e),Zu.point=eh}function eh(t,e){t*=Il;var n=Yl(e*=Il),r=Pl(e),i=Ll(t-Gu),o=Pl(i),a=r*Yl(i),s=Ku*n-Xu*r*o,l=Xu*n+Ku*r*o;Ju.add(Rl(Wl(a*a+s*s),l)),Gu=t,Xu=n,Ku=r}function nh(t){return Ju.reset(),nc(t,Zu),+Ju}var rh=[null,null],ih={type:"LineString",coordinates:rh};function oh(t,e){return rh[0]=t,rh[1]=e,nh(ih)}var ah={Feature:function(t,e){return lh(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)if(lh(n[r].geometry,e))return!0;return!1}},sh={Sphere:function(){return!0},Point:function(t,e){return ch(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(ch(n[r],e))return!0;return!1},LineString:function(t,e){return uh(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(uh(n[r],e))return!0;return!1},Polygon:function(t,e){return hh(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(hh(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)if(lh(n[r],e))return!0;return!1}};function lh(t,e){return!(!t||!sh.hasOwnProperty(t.type))&&sh[t.type](t,e)}function ch(t,e){return 0===oh(t,e)}function uh(t,e){for(var n,r,i,o=0,a=t.length;o<a;o++){if(0===(r=oh(t[o],e)))return!0;if(o>0&&(i=oh(t[o],t[o-1]))>0&&n<=i&&r<=i&&(n+r-i)*(1-Math.pow((n-r)/i,2))<Tl*i)return!0;n=r}return!1}function hh(t,e){return!!Pu(t.map(dh),fh(e))}function dh(t){return(t=t.map(fh)).pop(),t}function fh(t){return[t[0]*Il,t[1]*Il]}function ph(t,e){return(t&&ah.hasOwnProperty(t.type)?ah[t.type]:lh)(t,e)}function gh(t,e,n){var r=k(t,e-Dl,n).concat(e);return function(t){return r.map((function(e){return[t,e]}))}}function mh(t,e,n){var r=k(t,e-Dl,n).concat(e);return function(t){return r.map((function(e){return[e,t]}))}}function yh(){var t,e,n,r,i,o,a,s,l,c,u,h,d=10,f=d,p=90,g=360,m=2.5;function y(){return{type:"MultiLineString",coordinates:v()}}function v(){return k(zl(r/p)*p,n,p).map(u).concat(k(zl(s/g)*g,a,g).map(h)).concat(k(zl(e/d)*d,t,d).filter((function(t){return Ll(t%p)>Dl})).map(l)).concat(k(zl(o/f)*f,i,f).filter((function(t){return Ll(t%g)>Dl})).map(c))}return y.lines=function(){return v().map((function(t){return{type:"LineString",coordinates:t}}))},y.outline=function(){return{type:"Polygon",coordinates:[u(r).concat(h(a).slice(1),u(n).reverse().slice(1),h(s).reverse().slice(1))]}},y.extent=function(t){return arguments.length?y.extentMajor(t).extentMinor(t):y.extentMinor()},y.extentMajor=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],s=+t[0][1],a=+t[1][1],r>n&&(t=r,r=n,n=t),s>a&&(t=s,s=a,a=t),y.precision(m)):[[r,s],[n,a]]},y.extentMinor=function(n){return arguments.length?(e=+n[0][0],t=+n[1][0],o=+n[0][1],i=+n[1][1],e>t&&(n=e,e=t,t=n),o>i&&(n=o,o=i,i=n),y.precision(m)):[[e,o],[t,i]]},y.step=function(t){return arguments.length?y.stepMajor(t).stepMinor(t):y.stepMinor()},y.stepMajor=function(t){return arguments.length?(p=+t[0],g=+t[1],y):[p,g]},y.stepMinor=function(t){return arguments.length?(d=+t[0],f=+t[1],y):[d,f]},y.precision=function(d){return arguments.length?(m=+d,l=gh(o,i,90),c=mh(e,t,m),u=gh(s,a,90),h=mh(r,n,m),y):m},y.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function vh(){return yh()()}function bh(t,e){var n=t[0]*Il,r=t[1]*Il,i=e[0]*Il,o=e[1]*Il,a=Pl(r),s=Yl(r),l=Pl(o),c=Yl(o),u=a*Pl(n),h=a*Yl(n),d=l*Pl(i),f=l*Yl(i),p=2*Gl(Wl(Xl(o-r)+a*l*Xl(i-n))),g=Yl(p),m=p?function(t){var e=Yl(t*=p)/g,n=Yl(p-t)/g,r=n*u+e*d,i=n*h+e*f,o=n*s+e*c;return[Rl(i,r)*Fl,Rl(o,Wl(r*r+i*i))*Fl]}:function(){return[n*Fl,r*Fl]};return m.distance=p,m}function wh(t){return t}var xh,_h,kh,Eh,Ch=kl(),Sh=kl(),Dh={point:Kl,lineStart:Kl,lineEnd:Kl,polygonStart:function(){Dh.lineStart=Th,Dh.lineEnd=Nh},polygonEnd:function(){Dh.lineStart=Dh.lineEnd=Dh.point=Kl,Ch.add(Ll(Sh)),Sh.reset()},result:function(){var t=Ch/2;return Ch.reset(),t}};function Th(){Dh.point=Ah}function Ah(t,e){Dh.point=Mh,xh=kh=t,_h=Eh=e}function Mh(t,e){Sh.add(Eh*t-kh*e),kh=t,Eh=e}function Nh(){Mh(xh,_h)}const Oh=Dh;var Fh=1/0,Ih=Fh,Lh=-Fh,Bh=Lh,Rh={point:function(t,e){t<Fh&&(Fh=t),t>Lh&&(Lh=t),e<Ih&&(Ih=e),e>Bh&&(Bh=e)},lineStart:Kl,lineEnd:Kl,polygonStart:Kl,polygonEnd:Kl,result:function(){var t=[[Fh,Ih],[Lh,Bh]];return Lh=Bh=-(Ih=Fh=1/0),t}};const Ph=Rh;var zh,$h,jh,Uh,Yh=0,qh=0,Wh=0,Hh=0,Vh=0,Gh=0,Xh=0,Kh=0,Jh=0,Zh={point:Qh,lineStart:td,lineEnd:rd,polygonStart:function(){Zh.lineStart=id,Zh.lineEnd=od},polygonEnd:function(){Zh.point=Qh,Zh.lineStart=td,Zh.lineEnd=rd},result:function(){var t=Jh?[Xh/Jh,Kh/Jh]:Gh?[Hh/Gh,Vh/Gh]:Wh?[Yh/Wh,qh/Wh]:[NaN,NaN];return Yh=qh=Wh=Hh=Vh=Gh=Xh=Kh=Jh=0,t}};function Qh(t,e){Yh+=t,qh+=e,++Wh}function td(){Zh.point=ed}function ed(t,e){Zh.point=nd,Qh(jh=t,Uh=e)}function nd(t,e){var n=t-jh,r=e-Uh,i=Wl(n*n+r*r);Hh+=i*(jh+t)/2,Vh+=i*(Uh+e)/2,Gh+=i,Qh(jh=t,Uh=e)}function rd(){Zh.point=Qh}function id(){Zh.point=ad}function od(){sd(zh,$h)}function ad(t,e){Zh.point=sd,Qh(zh=jh=t,$h=Uh=e)}function sd(t,e){var n=t-jh,r=e-Uh,i=Wl(n*n+r*r);Hh+=i*(jh+t)/2,Vh+=i*(Uh+e)/2,Gh+=i,Xh+=(i=Uh*t-jh*e)*(jh+t),Kh+=i*(Uh+e),Jh+=3*i,Qh(jh=t,Uh=e)}const ld=Zh;function cd(t){this._context=t}cd.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Ol)}},result:Kl};var ud,hd,dd,fd,pd,gd=kl(),md={point:Kl,lineStart:function(){md.point=yd},lineEnd:function(){ud&&vd(hd,dd),md.point=Kl},polygonStart:function(){ud=!0},polygonEnd:function(){ud=null},result:function(){var t=+gd;return gd.reset(),t}};function yd(t,e){md.point=vd,hd=fd=t,dd=pd=e}function vd(t,e){fd-=t,pd-=e,gd.add(Wl(fd*fd+pd*pd)),fd=t,pd=e}const bd=md;function wd(){this._string=[]}function xd(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function _d(t,e){var n,r,i=4.5;function o(t){return t&&("function"==typeof i&&r.pointRadius(+i.apply(this,arguments)),nc(t,n(r))),r.result()}return o.area=function(t){return nc(t,n(Oh)),Oh.result()},o.measure=function(t){return nc(t,n(bd)),bd.result()},o.bounds=function(t){return nc(t,n(Ph)),Ph.result()},o.centroid=function(t){return nc(t,n(ld)),ld.result()},o.projection=function(e){return arguments.length?(n=null==e?(t=null,wh):(t=e).stream,o):t},o.context=function(t){return arguments.length?(r=null==t?(e=null,new wd):new cd(e=t),"function"!=typeof i&&r.pointRadius(i),o):e},o.pointRadius=function(t){return arguments.length?(i="function"==typeof t?t:(r.pointRadius(+t),+t),o):i},o.projection(t).context(e)}function kd(t){return{stream:Ed(t)}}function Ed(t){return function(e){var n=new Cd;for(var r in t)n[r]=t[r];return n.stream=e,n}}function Cd(){}function Sd(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),nc(n,t.stream(Ph)),e(Ph.result()),null!=r&&t.clipExtent(r),t}function Dd(t,e,n){return Sd(t,(function(n){var r=e[1][0]-e[0][0],i=e[1][1]-e[0][1],o=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),a=+e[0][0]+(r-o*(n[1][0]+n[0][0]))/2,s=+e[0][1]+(i-o*(n[1][1]+n[0][1]))/2;t.scale(150*o).translate([a,s])}),n)}function Td(t,e,n){return Dd(t,[[0,0],e],n)}function Ad(t,e,n){return Sd(t,(function(n){var r=+e,i=r/(n[1][0]-n[0][0]),o=(r-i*(n[1][0]+n[0][0]))/2,a=-i*n[0][1];t.scale(150*i).translate([o,a])}),n)}function Md(t,e,n){return Sd(t,(function(n){var r=+e,i=r/(n[1][1]-n[0][1]),o=-i*n[0][0],a=(r-i*(n[1][1]+n[0][1]))/2;t.scale(150*i).translate([o,a])}),n)}wd.prototype={_radius:4.5,_circle:xd(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=xd(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}},Cd.prototype={constructor:Cd,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Nd=Pl(30*Il);function Od(t,e){return+e?function(t,e){function n(r,i,o,a,s,l,c,u,h,d,f,p,g,m){var y=c-r,v=u-i,b=y*y+v*v;if(b>4*e&&g--){var w=a+d,x=s+f,_=l+p,k=Wl(w*w+x*x+_*_),E=Gl(_/=k),C=Ll(Ll(_)-1)<Dl||Ll(o-h)<Dl?(o+h)/2:Rl(x,w),S=t(C,E),D=S[0],T=S[1],A=D-r,M=T-i,N=v*A-y*M;(N*N/b>e||Ll((y*A+v*M)/b-.5)>.3||a*d+s*f+l*p<Nd)&&(n(r,i,o,a,s,l,D,T,C,w/=k,x/=k,_,g,m),m.point(D,T),n(D,T,C,w,x,_,c,u,h,d,f,p,g,m))}}return function(e){var r,i,o,a,s,l,c,u,h,d,f,p,g={point:m,lineStart:y,lineEnd:b,polygonStart:function(){e.polygonStart(),g.lineStart=w},polygonEnd:function(){e.polygonEnd(),g.lineStart=y}};function m(n,r){n=t(n,r),e.point(n[0],n[1])}function y(){u=NaN,g.point=v,e.lineStart()}function v(r,i){var o=yc([r,i]),a=t(r,i);n(u,h,c,d,f,p,u=a[0],h=a[1],c=r,d=o[0],f=o[1],p=o[2],16,e),e.point(u,h)}function b(){g.point=m,e.lineEnd()}function w(){y(),g.point=x,g.lineEnd=_}function x(t,e){v(r=t,e),i=u,o=h,a=d,s=f,l=p,g.point=v}function _(){n(u,h,c,d,f,p,i,o,r,a,s,l,16,e),g.lineEnd=b,b()}return g}}(t,e):function(t){return Ed({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)}var Fd=Ed({point:function(t,e){this.stream.point(t*Il,e*Il)}});function Id(t,e,n,r,i){function o(o,a){return[e+t*(o*=r),n-t*(a*=i)]}return o.invert=function(o,a){return[(o-e)/t*r,(n-a)/t*i]},o}function Ld(t,e,n,r,i,o){var a=Pl(o),s=Yl(o),l=a*t,c=s*t,u=a/t,h=s/t,d=(s*n-a*e)/t,f=(s*e+a*n)/t;function p(t,o){return[l*(t*=r)-c*(o*=i)+e,n-c*t-l*o]}return p.invert=function(t,e){return[r*(u*t-h*e+d),i*(f-h*t-u*e)]},p}function Bd(t){return Rd((function(){return t}))()}function Rd(t){var e,n,r,i,o,a,s,l,c,u,h=150,d=480,f=250,p=0,g=0,m=0,y=0,v=0,b=0,w=1,x=1,_=null,k=Uu,E=null,C=wh,S=.5;function D(t){return l(t[0]*Il,t[1]*Il)}function T(t){return(t=l.invert(t[0],t[1]))&&[t[0]*Fl,t[1]*Fl]}function A(){var t=Ld(h,0,0,w,x,b).apply(null,e(p,g)),r=(b?Ld:Id)(h,d-t[0],f-t[1],w,x,b);return n=ku(m,y,v),s=xu(e,r),l=xu(n,s),a=Od(s,S),M()}function M(){return c=u=null,D}return D.stream=function(t){return c&&u===t?c:c=Fd(function(t){return Ed({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}(n)(k(a(C(u=t)))))},D.preclip=function(t){return arguments.length?(k=t,_=void 0,M()):k},D.postclip=function(t){return arguments.length?(C=t,E=r=i=o=null,M()):C},D.clipAngle=function(t){return arguments.length?(k=+t?Yu(_=t*Il):(_=null,Uu),M()):_*Fl},D.clipExtent=function(t){return arguments.length?(C=null==t?(E=r=i=o=null,wh):Hu(E=+t[0][0],r=+t[0][1],i=+t[1][0],o=+t[1][1]),M()):null==E?null:[[E,r],[i,o]]},D.scale=function(t){return arguments.length?(h=+t,A()):h},D.translate=function(t){return arguments.length?(d=+t[0],f=+t[1],A()):[d,f]},D.center=function(t){return arguments.length?(p=t[0]%360*Il,g=t[1]%360*Il,A()):[p*Fl,g*Fl]},D.rotate=function(t){return arguments.length?(m=t[0]%360*Il,y=t[1]%360*Il,v=t.length>2?t[2]%360*Il:0,A()):[m*Fl,y*Fl,v*Fl]},D.angle=function(t){return arguments.length?(b=t%360*Il,A()):b*Fl},D.reflectX=function(t){return arguments.length?(w=t?-1:1,A()):w<0},D.reflectY=function(t){return arguments.length?(x=t?-1:1,A()):x<0},D.precision=function(t){return arguments.length?(a=Od(s,S=t*t),M()):Wl(S)},D.fitExtent=function(t,e){return Dd(D,t,e)},D.fitSize=function(t,e){return Td(D,t,e)},D.fitWidth=function(t,e){return Ad(D,t,e)},D.fitHeight=function(t,e){return Md(D,t,e)},function(){return e=t.apply(this,arguments),D.invert=e.invert&&T,A()}}function Pd(t){var e=0,n=Al/3,r=Rd(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*Il,n=t[1]*Il):[e*Fl,n*Fl]},i}function zd(t,e){var n=Yl(t),r=(n+Yl(e))/2;if(Ll(r)<Dl)return function(t){var e=Pl(t);function n(t,n){return[t*e,Yl(n)/e]}return n.invert=function(t,n){return[t/e,Gl(n*e)]},n}(t);var i=1+n*(2*r-n),o=Wl(i)/r;function a(t,e){var n=Wl(i-2*r*Yl(e))/r;return[n*Yl(t*=r),o-n*Pl(t)]}return a.invert=function(t,e){var n=o-e,a=Rl(t,Ll(n))*ql(n);return n*r<0&&(a-=Al*ql(t)*ql(n)),[a/r,Gl((i-(t*t+n*n)*r*r)/(2*r))]},a}function $d(){return Pd(zd).scale(155.424).center([0,33.6442])}function jd(){return $d().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Ud(){var t,e,n,r,i,o,a=jd(),s=$d().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=$d().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(t,e){o=[t,e]}};function u(t){var e=t[0],a=t[1];return o=null,n.point(e,a),o||(r.point(e,a),o)||(i.point(e,a),o)}function h(){return t=e=null,u}return u.invert=function(t){var e=a.scale(),n=a.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?s:i>=.166&&i<.234&&r>=-.214&&r<-.115?l:a).invert(t)},u.stream=function(n){return t&&e===n?t:(r=[a.stream(e=n),s.stream(n),l.stream(n)],i=r.length,t={point:function(t,e){for(var n=-1;++n<i;)r[n].point(t,e)},sphere:function(){for(var t=-1;++t<i;)r[t].sphere()},lineStart:function(){for(var t=-1;++t<i;)r[t].lineStart()},lineEnd:function(){for(var t=-1;++t<i;)r[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<i;)r[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<i;)r[t].polygonEnd()}});var r,i},u.precision=function(t){return arguments.length?(a.precision(t),s.precision(t),l.precision(t),h()):a.precision()},u.scale=function(t){return arguments.length?(a.scale(t),s.scale(.35*t),l.scale(t),u.translate(a.translate())):a.scale()},u.translate=function(t){if(!arguments.length)return a.translate();var e=a.scale(),o=+t[0],u=+t[1];return n=a.translate(t).clipExtent([[o-.455*e,u-.238*e],[o+.455*e,u+.238*e]]).stream(c),r=s.translate([o-.307*e,u+.201*e]).clipExtent([[o-.425*e+Dl,u+.12*e+Dl],[o-.214*e-Dl,u+.234*e-Dl]]).stream(c),i=l.translate([o-.205*e,u+.212*e]).clipExtent([[o-.214*e+Dl,u+.166*e+Dl],[o-.115*e-Dl,u+.234*e-Dl]]).stream(c),h()},u.fitExtent=function(t,e){return Dd(u,t,e)},u.fitSize=function(t,e){return Td(u,t,e)},u.fitWidth=function(t,e){return Ad(u,t,e)},u.fitHeight=function(t,e){return Md(u,t,e)},u.scale(1070)}function Yd(t){return function(e,n){var r=Pl(e),i=Pl(n),o=t(r*i);return[o*i*Yl(e),o*Yl(n)]}}function qd(t){return function(e,n){var r=Wl(e*e+n*n),i=t(r),o=Yl(i),a=Pl(i);return[Rl(e*o,r*a),Gl(r&&n*o/r)]}}var Wd=Yd((function(t){return Wl(2/(1+t))}));function Hd(){return Bd(Wd).scale(124.75).clipAngle(179.999)}Wd.invert=qd((function(t){return 2*Gl(t/2)}));var Vd=Yd((function(t){return(t=Vl(t))&&t/Yl(t)}));function Gd(){return Bd(Vd).scale(79.4188).clipAngle(179.999)}function Xd(t,e){return[t,jl(Hl((Ml+e)/2))]}function Kd(){return Jd(Xd).scale(961/Ol)}function Jd(t){var e,n,r,i=Bd(t),o=i.center,a=i.scale,s=i.translate,l=i.clipExtent,c=null;function u(){var o=Al*a(),s=i(Du(i.rotate()).invert([0,0]));return l(null==c?[[s[0]-o,s[1]-o],[s[0]+o,s[1]+o]]:t===Xd?[[Math.max(s[0]-o,c),e],[Math.min(s[0]+o,n),r]]:[[c,Math.max(s[1]-o,e)],[n,Math.min(s[1]+o,r)]])}return i.scale=function(t){return arguments.length?(a(t),u()):a()},i.translate=function(t){return arguments.length?(s(t),u()):s()},i.center=function(t){return arguments.length?(o(t),u()):o()},i.clipExtent=function(t){return arguments.length?(null==t?c=e=n=r=null:(c=+t[0][0],e=+t[0][1],n=+t[1][0],r=+t[1][1]),u()):null==c?null:[[c,e],[n,r]]},u()}function Zd(t){return Hl((Ml+t)/2)}function Qd(t,e){var n=Pl(t),r=t===e?Yl(t):jl(n/Pl(e))/jl(Zd(e)/Zd(t)),i=n*Ul(Zd(t),r)/r;if(!r)return Xd;function o(t,e){i>0?e<-Ml+Dl&&(e=-Ml+Dl):e>Ml-Dl&&(e=Ml-Dl);var n=i/Ul(Zd(e),r);return[n*Yl(r*t),i-n*Pl(r*t)]}return o.invert=function(t,e){var n=i-e,o=ql(r)*Wl(t*t+n*n),a=Rl(t,Ll(n))*ql(n);return n*r<0&&(a-=Al*ql(t)*ql(n)),[a/r,2*Bl(Ul(i/o,1/r))-Ml]},o}function tf(){return Pd(Qd).scale(109.5).parallels([30,30])}function ef(t,e){return[t,e]}function nf(){return Bd(ef).scale(152.63)}function rf(t,e){var n=Pl(t),r=t===e?Yl(t):(n-Pl(e))/(e-t),i=n/r+t;if(Ll(r)<Dl)return ef;function o(t,e){var n=i-e,o=r*t;return[n*Yl(o),i-n*Pl(o)]}return o.invert=function(t,e){var n=i-e,o=Rl(t,Ll(n))*ql(n);return n*r<0&&(o-=Al*ql(t)*ql(n)),[o/r,i-ql(r)*Wl(t*t+n*n)]},o}function of(){return Pd(rf).scale(131.154).center([0,13.9389])}Vd.invert=qd((function(t){return t})),Xd.invert=function(t,e){return[t,2*Bl($l(e))-Ml]},ef.invert=ef;var af=1.340264,sf=-.081106,lf=893e-6,cf=.003796,uf=Wl(3)/2;function hf(t,e){var n=Gl(uf*Yl(e)),r=n*n,i=r*r*r;return[t*Pl(n)/(uf*(af+3*sf*r+i*(7*lf+9*cf*r))),n*(af+sf*r+i*(lf+cf*r))]}function df(){return Bd(hf).scale(177.158)}function ff(t,e){var n=Pl(e),r=Pl(t)*n;return[n*Yl(t)/r,Yl(e)/r]}function pf(){return Bd(ff).scale(144.049).clipAngle(60)}function gf(){var t,e,n,r,i,o,a,s=1,l=0,c=0,u=1,h=1,d=0,f=null,p=1,g=1,m=Ed({point:function(t,e){var n=b([t,e]);this.stream.point(n[0],n[1])}}),y=wh;function v(){return p=s*u,g=s*h,o=a=null,b}function b(n){var r=n[0]*p,i=n[1]*g;if(d){var o=i*t-r*e;r=r*t+i*e,i=o}return[r+l,i+c]}return b.invert=function(n){var r=n[0]-l,i=n[1]-c;if(d){var o=i*t+r*e;r=r*t-i*e,i=o}return[r/p,i/g]},b.stream=function(t){return o&&a===t?o:o=m(y(a=t))},b.postclip=function(t){return arguments.length?(y=t,f=n=r=i=null,v()):y},b.clipExtent=function(t){return arguments.length?(y=null==t?(f=n=r=i=null,wh):Hu(f=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),v()):null==f?null:[[f,n],[r,i]]},b.scale=function(t){return arguments.length?(s=+t,v()):s},b.translate=function(t){return arguments.length?(l=+t[0],c=+t[1],v()):[l,c]},b.angle=function(n){return arguments.length?(e=Yl(d=n%360*Il),t=Pl(d),v()):d*Fl},b.reflectX=function(t){return arguments.length?(u=t?-1:1,v()):u<0},b.reflectY=function(t){return arguments.length?(h=t?-1:1,v()):h<0},b.fitExtent=function(t,e){return Dd(b,t,e)},b.fitSize=function(t,e){return Td(b,t,e)},b.fitWidth=function(t,e){return Ad(b,t,e)},b.fitHeight=function(t,e){return Md(b,t,e)},b}function mf(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),e*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}function yf(){return Bd(mf).scale(175.295)}function vf(t,e){return[Pl(e)*Yl(t),Yl(e)]}function bf(){return Bd(vf).scale(249.5).clipAngle(90.000001)}function wf(t,e){var n=Pl(e),r=1+Pl(t)*n;return[n*Yl(t)/r,Yl(e)/r]}function xf(){return Bd(wf).scale(250).clipAngle(142)}function _f(t,e){return[jl(Hl((Ml+e)/2)),-t]}function kf(){var t=Jd(_f),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)}function Ef(t,e){return t.parent===e.parent?1:2}function Cf(t,e){return t+e.x}function Sf(t,e){return Math.max(t,e.y)}function Df(){var t=Ef,e=1,n=1,r=!1;function i(i){var o,a=0;i.eachAfter((function(e){var n=e.children;n?(e.x=function(t){return t.reduce(Cf,0)/t.length}(n),e.y=function(t){return 1+t.reduce(Sf,0)}(n)):(e.x=o?a+=t(e,o):0,e.y=0,o=e)}));var s=function(t){for(var e;e=t.children;)t=e[0];return t}(i),l=function(t){for(var e;e=t.children;)t=e[e.length-1];return t}(i),c=s.x-t(s,l)/2,u=l.x+t(l,s)/2;return i.eachAfter(r?function(t){t.x=(t.x-i.x)*e,t.y=(i.y-t.y)*n}:function(t){t.x=(t.x-c)/(u-c)*e,t.y=(1-(i.y?t.y/i.y:1))*n})}return i.separation=function(e){return arguments.length?(t=e,i):t},i.size=function(t){return arguments.length?(r=!1,e=+t[0],n=+t[1],i):r?null:[e,n]},i.nodeSize=function(t){return arguments.length?(r=!0,e=+t[0],n=+t[1],i):r?[e,n]:null},i}function Tf(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;--r>=0;)e+=n[r].value;else e=1;t.value=e}function Af(t,e){var n,r,i,o,a,s=new Ff(t),l=+t.value&&(s.value=t.value),c=[s];for(null==e&&(e=Mf);n=c.pop();)if(l&&(n.value=+n.data.value),(i=e(n.data))&&(a=i.length))for(n.children=new Array(a),o=a-1;o>=0;--o)c.push(r=n.children[o]=new Ff(i[o])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(Of)}function Mf(t){return t.children}function Nf(t){t.data=t.data.data}function Of(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function Ff(t){this.data=t,this.depth=this.height=0,this.parent=null}hf.invert=function(t,e){for(var n,r=e,i=r*r,o=i*i*i,a=0;a<12&&(o=(i=(r-=n=(r*(af+sf*i+o*(lf+cf*i))-e)/(af+3*sf*i+o*(7*lf+9*cf*i)))*r)*i*i,!(Ll(n)<Tl));++a);return[uf*t*(af+3*sf*i+o*(7*lf+9*cf*i))/Pl(r),Gl(Yl(r)/uf)]},ff.invert=qd(Bl),mf.invert=function(t,e){var n,r=e,i=25;do{var o=r*r,a=o*o;r-=n=(r*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-e)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(Ll(n)>Dl&&--i>0);return[t/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]},vf.invert=qd(Gl),wf.invert=qd((function(t){return 2*Bl(t)})),_f.invert=function(t,e){return[-e,2*Bl($l(t))-Ml]},Ff.prototype=Af.prototype={constructor:Ff,count:function(){return this.eachAfter(Tf)},each:function(t){var e,n,r,i,o=this,a=[o];do{for(e=a.reverse(),a=[];o=e.pop();)if(t(o),n=o.children)for(r=0,i=n.length;r<i;++r)a.push(n[r])}while(a.length);return this},eachAfter:function(t){for(var e,n,r,i=this,o=[i],a=[];i=o.pop();)if(a.push(i),e=i.children)for(n=0,r=e.length;n<r;++n)o.push(e[n]);for(;i=a.pop();)t(i);return this},eachBefore:function(t){for(var e,n,r=this,i=[r];r=i.pop();)if(t(r),e=r.children)for(n=e.length-1;n>=0;--n)i.push(e[n]);return this},sum:function(t){return this.eachAfter((function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n}))},sort:function(t){return this.eachBefore((function(e){e.children&&e.children.sort(t)}))},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){var t=[];return this.each((function(e){t.push(e)})),t},leaves:function(){var t=[];return this.eachBefore((function(e){e.children||t.push(e)})),t},links:function(){var t=this,e=[];return t.each((function(n){n!==t&&e.push({source:n.parent,target:n})})),e},copy:function(){return Af(this).eachBefore(Nf)}};var If=Array.prototype.slice;function Lf(t){for(var e,n,r=0,i=(t=function(t){for(var e,n,r=t.length;r;)n=Math.random()*r--|0,e=t[r],t[r]=t[n],t[n]=e;return t}(If.call(t))).length,o=[];r<i;)e=t[r],n&&Pf(n,e)?++r:(n=$f(o=Bf(o,e)),r=0);return n}function Bf(t,e){var n,r;if(zf(e,t))return[e];for(n=0;n<t.length;++n)if(Rf(e,t[n])&&zf(jf(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(Rf(jf(t[n],t[r]),e)&&Rf(jf(t[n],e),t[r])&&Rf(jf(t[r],e),t[n])&&zf(Uf(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function Rf(t,e){var n=t.r-e.r,r=e.x-t.x,i=e.y-t.y;return n<0||n*n<r*r+i*i}function Pf(t,e){var n=t.r-e.r+1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function zf(t,e){for(var n=0;n<e.length;++n)if(!Pf(t,e[n]))return!1;return!0}function $f(t){switch(t.length){case 1:return function(t){return{x:t.x,y:t.y,r:t.r}}(t[0]);case 2:return jf(t[0],t[1]);case 3:return Uf(t[0],t[1],t[2])}}function jf(t,e){var n=t.x,r=t.y,i=t.r,o=e.x,a=e.y,s=e.r,l=o-n,c=a-r,u=s-i,h=Math.sqrt(l*l+c*c);return{x:(n+o+l/h*u)/2,y:(r+a+c/h*u)/2,r:(h+i+s)/2}}function Uf(t,e,n){var r=t.x,i=t.y,o=t.r,a=e.x,s=e.y,l=e.r,c=n.x,u=n.y,h=n.r,d=r-a,f=r-c,p=i-s,g=i-u,m=l-o,y=h-o,v=r*r+i*i-o*o,b=v-a*a-s*s+l*l,w=v-c*c-u*u+h*h,x=f*p-d*g,_=(p*w-g*b)/(2*x)-r,k=(g*m-p*y)/x,E=(f*b-d*w)/(2*x)-i,C=(d*y-f*m)/x,S=k*k+C*C-1,D=2*(o+_*k+E*C),T=_*_+E*E-o*o,A=-(S?(D+Math.sqrt(D*D-4*S*T))/(2*S):T/D);return{x:r+_+k*A,y:i+E+C*A,r:A}}function Yf(t,e,n){var r,i,o,a,s=t.x-e.x,l=t.y-e.y,c=s*s+l*l;c?(i=e.r+n.r,i*=i,a=t.r+n.r,i>(a*=a)?(r=(c+a-i)/(2*c),o=Math.sqrt(Math.max(0,a/c-r*r)),n.x=t.x-r*s-o*l,n.y=t.y-r*l+o*s):(r=(c+i-a)/(2*c),o=Math.sqrt(Math.max(0,i/c-r*r)),n.x=e.x+r*s-o*l,n.y=e.y+r*l+o*s)):(n.x=e.x+n.r,n.y=e.y)}function qf(t,e){var n=t.r+e.r-1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function Wf(t){var e=t._,n=t.next._,r=e.r+n.r,i=(e.x*n.r+n.x*e.r)/r,o=(e.y*n.r+n.y*e.r)/r;return i*i+o*o}function Hf(t){this._=t,this.next=null,this.previous=null}function Vf(t){if(!(i=t.length))return 0;var e,n,r,i,o,a,s,l,c,u,h;if((e=t[0]).x=0,e.y=0,!(i>1))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(i>2))return e.r+n.r;Yf(n,e,r=t[2]),e=new Hf(e),n=new Hf(n),r=new Hf(r),e.next=r.previous=n,n.next=e.previous=r,r.next=n.previous=e;t:for(s=3;s<i;++s){Yf(e._,n._,r=t[s]),r=new Hf(r),l=n.next,c=e.previous,u=n._.r,h=e._.r;do{if(u<=h){if(qf(l._,r._)){n=l,e.next=n,n.previous=e,--s;continue t}u+=l._.r,l=l.next}else{if(qf(c._,r._)){(e=c).next=n,n.previous=e,--s;continue t}h+=c._.r,c=c.previous}}while(l!==c.next);for(r.previous=e,r.next=n,e.next=n.previous=n=r,o=Wf(e);(r=r.next)!==n;)(a=Wf(r))<o&&(e=r,o=a);n=e.next}for(e=[n._],r=n;(r=r.next)!==n;)e.push(r._);for(r=Lf(e),s=0;s<i;++s)(e=t[s]).x-=r.x,e.y-=r.y;return r.r}function Gf(t){return Vf(t),t}function Xf(t){return null==t?null:Kf(t)}function Kf(t){if("function"!=typeof t)throw new Error;return t}function Jf(){return 0}function Zf(t){return function(){return t}}function Qf(t){return Math.sqrt(t.value)}function tp(){var t=null,e=1,n=1,r=Jf;function i(i){return i.x=e/2,i.y=n/2,t?i.eachBefore(ep(t)).eachAfter(np(r,.5)).eachBefore(rp(1)):i.eachBefore(ep(Qf)).eachAfter(np(Jf,1)).eachAfter(np(r,i.r/Math.min(e,n))).eachBefore(rp(Math.min(e,n)/(2*i.r))),i}return i.radius=function(e){return arguments.length?(t=Xf(e),i):t},i.size=function(t){return arguments.length?(e=+t[0],n=+t[1],i):[e,n]},i.padding=function(t){return arguments.length?(r="function"==typeof t?t:Zf(+t),i):r},i}function ep(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function np(t,e){return function(n){if(r=n.children){var r,i,o,a=r.length,s=t(n)*e||0;if(s)for(i=0;i<a;++i)r[i].r+=s;if(o=Vf(r),s)for(i=0;i<a;++i)r[i].r-=s;n.r=o+s}}}function rp(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}function ip(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function op(t,e,n,r,i){for(var o,a=t.children,s=-1,l=a.length,c=t.value&&(r-e)/t.value;++s<l;)(o=a[s]).y0=n,o.y1=i,o.x0=e,o.x1=e+=o.value*c}function ap(){var t=1,e=1,n=0,r=!1;function i(i){var o=i.height+1;return i.x0=i.y0=n,i.x1=t,i.y1=e/o,i.eachBefore(function(t,e){return function(r){r.children&&op(r,r.x0,t*(r.depth+1)/e,r.x1,t*(r.depth+2)/e);var i=r.x0,o=r.y0,a=r.x1-n,s=r.y1-n;a<i&&(i=a=(i+a)/2),s<o&&(o=s=(o+s)/2),r.x0=i,r.y0=o,r.x1=a,r.y1=s}}(e,o)),r&&i.eachBefore(ip),i}return i.round=function(t){return arguments.length?(r=!!t,i):r},i.size=function(n){return arguments.length?(t=+n[0],e=+n[1],i):[t,e]},i.padding=function(t){return arguments.length?(n=+t,i):n},i}var sp={depth:-1},lp={};function cp(t){return t.id}function up(t){return t.parentId}function hp(){var t=cp,e=up;function n(n){var r,i,o,a,s,l,c,u=n.length,h=new Array(u),d={};for(i=0;i<u;++i)r=n[i],s=h[i]=new Ff(r),null!=(l=t(r,i,n))&&(l+="")&&(d[c="$"+(s.id=l)]=c in d?lp:s);for(i=0;i<u;++i)if(s=h[i],null!=(l=e(n[i],i,n))&&(l+="")){if(!(a=d["$"+l]))throw new Error("missing: "+l);if(a===lp)throw new Error("ambiguous: "+l);a.children?a.children.push(s):a.children=[s],s.parent=a}else{if(o)throw new Error("multiple roots");o=s}if(!o)throw new Error("no root");if(o.parent=sp,o.eachBefore((function(t){t.depth=t.parent.depth+1,--u})).eachBefore(Of),o.parent=null,u>0)throw new Error("cycle");return o}return n.id=function(e){return arguments.length?(t=Kf(e),n):t},n.parentId=function(t){return arguments.length?(e=Kf(t),n):e},n}function dp(t,e){return t.parent===e.parent?1:2}function fp(t){var e=t.children;return e?e[0]:t.t}function pp(t){var e=t.children;return e?e[e.length-1]:t.t}function gp(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function mp(t,e,n){return t.a.parent===e.parent?t.a:n}function yp(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function vp(){var t=dp,e=1,n=1,r=null;function i(i){var l=function(t){for(var e,n,r,i,o,a=new yp(t,0),s=[a];e=s.pop();)if(r=e._.children)for(e.children=new Array(o=r.length),i=o-1;i>=0;--i)s.push(n=e.children[i]=new yp(r[i],i)),n.parent=e;return(a.parent=new yp(null,0)).children=[a],a}(i);if(l.eachAfter(o),l.parent.m=-l.z,l.eachBefore(a),r)i.eachBefore(s);else{var c=i,u=i,h=i;i.eachBefore((function(t){t.x<c.x&&(c=t),t.x>u.x&&(u=t),t.depth>h.depth&&(h=t)}));var d=c===u?1:t(c,u)/2,f=d-c.x,p=e/(u.x+d+f),g=n/(h.depth||1);i.eachBefore((function(t){t.x=(t.x+f)*p,t.y=t.depth*g}))}return i}function o(e){var n=e.children,r=e.parent.children,i=e.i?r[e.i-1]:null;if(n){!function(t){for(var e,n=0,r=0,i=t.children,o=i.length;--o>=0;)(e=i[o]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}(e);var o=(n[0].z+n[n.length-1].z)/2;i?(e.z=i.z+t(e._,i._),e.m=e.z-o):e.z=o}else i&&(e.z=i.z+t(e._,i._));e.parent.A=function(e,n,r){if(n){for(var i,o=e,a=e,s=n,l=o.parent.children[0],c=o.m,u=a.m,h=s.m,d=l.m;s=pp(s),o=fp(o),s&&o;)l=fp(l),(a=pp(a)).a=e,(i=s.z+h-o.z-c+t(s._,o._))>0&&(gp(mp(s,e,r),e,i),c+=i,u+=i),h+=s.m,c+=o.m,d+=l.m,u+=a.m;s&&!pp(a)&&(a.t=s,a.m+=h-u),o&&!fp(l)&&(l.t=o,l.m+=c-d,r=e)}return r}(e,i,e.parent.A||r[0])}function a(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function s(t){t.x*=e,t.y=t.depth*n}return i.separation=function(e){return arguments.length?(t=e,i):t},i.size=function(t){return arguments.length?(r=!1,e=+t[0],n=+t[1],i):r?null:[e,n]},i.nodeSize=function(t){return arguments.length?(r=!0,e=+t[0],n=+t[1],i):r?[e,n]:null},i}function bp(t,e,n,r,i){for(var o,a=t.children,s=-1,l=a.length,c=t.value&&(i-n)/t.value;++s<l;)(o=a[s]).x0=e,o.x1=r,o.y0=n,o.y1=n+=o.value*c}yp.prototype=Object.create(Ff.prototype);var wp=(1+Math.sqrt(5))/2;function xp(t,e,n,r,i,o){for(var a,s,l,c,u,h,d,f,p,g,m,y=[],v=e.children,b=0,w=0,x=v.length,_=e.value;b<x;){l=i-n,c=o-r;do{u=v[w++].value}while(!u&&w<x);for(h=d=u,m=u*u*(g=Math.max(c/l,l/c)/(_*t)),p=Math.max(d/m,m/h);w<x;++w){if(u+=s=v[w].value,s<h&&(h=s),s>d&&(d=s),m=u*u*g,(f=Math.max(d/m,m/h))>p){u-=s;break}p=f}y.push(a={value:u,dice:l<c,children:v.slice(b,w)}),a.dice?op(a,n,r,i,_?r+=c*u/_:o):bp(a,n,r,_?n+=l*u/_:i,o),_-=u,b=w}return y}const _p=function t(e){function n(t,n,r,i,o){xp(e,t,n,r,i,o)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(wp);function kp(){var t=_p,e=!1,n=1,r=1,i=[0],o=Jf,a=Jf,s=Jf,l=Jf,c=Jf;function u(t){return t.x0=t.y0=0,t.x1=n,t.y1=r,t.eachBefore(h),i=[0],e&&t.eachBefore(ip),t}function h(e){var n=i[e.depth],r=e.x0+n,u=e.y0+n,h=e.x1-n,d=e.y1-n;h<r&&(r=h=(r+h)/2),d<u&&(u=d=(u+d)/2),e.x0=r,e.y0=u,e.x1=h,e.y1=d,e.children&&(n=i[e.depth+1]=o(e)/2,r+=c(e)-n,u+=a(e)-n,(h-=s(e)-n)<r&&(r=h=(r+h)/2),(d-=l(e)-n)<u&&(u=d=(u+d)/2),t(e,r,u,h,d))}return u.round=function(t){return arguments.length?(e=!!t,u):e},u.size=function(t){return arguments.length?(n=+t[0],r=+t[1],u):[n,r]},u.tile=function(e){return arguments.length?(t=Kf(e),u):t},u.padding=function(t){return arguments.length?u.paddingInner(t).paddingOuter(t):u.paddingInner()},u.paddingInner=function(t){return arguments.length?(o="function"==typeof t?t:Zf(+t),u):o},u.paddingOuter=function(t){return arguments.length?u.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):u.paddingTop()},u.paddingTop=function(t){return arguments.length?(a="function"==typeof t?t:Zf(+t),u):a},u.paddingRight=function(t){return arguments.length?(s="function"==typeof t?t:Zf(+t),u):s},u.paddingBottom=function(t){return arguments.length?(l="function"==typeof t?t:Zf(+t),u):l},u.paddingLeft=function(t){return arguments.length?(c="function"==typeof t?t:Zf(+t),u):c},u}function Ep(t,e,n,r,i){var o,a,s=t.children,l=s.length,c=new Array(l+1);for(c[0]=a=o=0;o<l;++o)c[o+1]=a+=s[o].value;!function t(e,n,r,i,o,a,l){if(e>=n-1){var u=s[e];return u.x0=i,u.y0=o,u.x1=a,void(u.y1=l)}for(var h=c[e],d=r/2+h,f=e+1,p=n-1;f<p;){var g=f+p>>>1;c[g]<d?f=g+1:p=g}d-c[f-1]<c[f]-d&&e+1<f&&--f;var m=c[f]-h,y=r-m;if(a-i>l-o){var v=(i*y+a*m)/r;t(e,f,m,i,o,v,l),t(f,n,y,v,o,a,l)}else{var b=(o*y+l*m)/r;t(e,f,m,i,o,a,b),t(f,n,y,i,b,a,l)}}(0,l,t.value,e,n,r,i)}function Cp(t,e,n,r,i){(1&t.depth?bp:op)(t,e,n,r,i)}const Sp=function t(e){function n(t,n,r,i,o){if((a=t._squarify)&&a.ratio===e)for(var a,s,l,c,u,h=-1,d=a.length,f=t.value;++h<d;){for(l=(s=a[h]).children,c=s.value=0,u=l.length;c<u;++c)s.value+=l[c].value;s.dice?op(s,n,r,i,r+=(o-r)*s.value/f):bp(s,n,r,n+=(i-n)*s.value/f,o),f-=s.value}else t._squarify=a=xp(e,t,n,r,i,o),a.ratio=e}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(wp);function Dp(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}function Tp(t,e){var n=fn(+t,+e);return function(t){var e=n(t);return e-360*Math.floor(e/360)}}function Ap(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Mp=Math.SQRT2;function Np(t){return((t=Math.exp(t))+1/t)/2}function Op(t,e){var n,r,i=t[0],o=t[1],a=t[2],s=e[0],l=e[1],c=e[2],u=s-i,h=l-o,d=u*u+h*h;if(d<1e-12)r=Math.log(c/a)/Mp,n=function(t){return[i+t*u,o+t*h,a*Math.exp(Mp*t*r)]};else{var f=Math.sqrt(d),p=(c*c-a*a+4*d)/(2*a*2*f),g=(c*c-a*a-4*d)/(2*c*2*f),m=Math.log(Math.sqrt(p*p+1)-p),y=Math.log(Math.sqrt(g*g+1)-g);r=(y-m)/Mp,n=function(t){var e,n=t*r,s=Np(m),l=a/(2*f)*(s*(e=Mp*n+m,((e=Math.exp(2*e))-1)/(e+1))-function(t){return((t=Math.exp(t))-1/t)/2}(m));return[i+l*u,o+l*h,a*s/Np(Mp*n+m)]}}return n.duration=1e3*r,n}function Fp(t){return function(e,n){var r=t((e=on(e)).h,(n=on(n)).h),i=pn(e.s,n.s),o=pn(e.l,n.l),a=pn(e.opacity,n.opacity);return function(t){return e.h=r(t),e.s=i(t),e.l=o(t),e.opacity=a(t),e+""}}}const Ip=Fp(fn);var Lp=Fp(pn);function Bp(t,e){var n=pn((t=Co(t)).l,(e=Co(e)).l),r=pn(t.a,e.a),i=pn(t.b,e.b),o=pn(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=r(e),t.b=i(e),t.opacity=o(e),t+""}}function Rp(t){return function(e,n){var r=t((e=Fo(e)).h,(n=Fo(n)).h),i=pn(e.c,n.c),o=pn(e.l,n.l),a=pn(e.opacity,n.opacity);return function(t){return e.h=r(t),e.c=i(t),e.l=o(t),e.opacity=a(t),e+""}}}const Pp=Rp(fn);var zp=Rp(pn);function $p(t){return function e(n){function r(e,r){var i=t((e=Wo(e)).h,(r=Wo(r)).h),o=pn(e.s,r.s),a=pn(e.l,r.l),s=pn(e.opacity,r.opacity);return function(t){return e.h=i(t),e.s=o(t),e.l=a(Math.pow(t,n)),e.opacity=s(t),e+""}}return n=+n,r.gamma=e,r}(1)}const jp=$p(fn);var Up=$p(pn);function Yp(t,e){for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(t){var e=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return o[e](t-e)}}function qp(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}function Wp(t){for(var e,n=-1,r=t.length,i=t[r-1],o=0;++n<r;)e=i,i=t[n],o+=e[1]*i[0]-e[0]*i[1];return o/2}function Hp(t){for(var e,n,r=-1,i=t.length,o=0,a=0,s=t[i-1],l=0;++r<i;)e=s,s=t[r],l+=n=e[0]*s[1]-s[0]*e[1],o+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return[o/(l*=3),a/l]}function Vp(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function Gp(t,e){return t[0]-e[0]||t[1]-e[1]}function Xp(t){for(var e=t.length,n=[0,1],r=2,i=2;i<e;++i){for(;r>1&&Vp(t[n[r-2]],t[n[r-1]],t[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function Kp(t){if((n=t.length)<3)return null;var e,n,r=new Array(n),i=new Array(n);for(e=0;e<n;++e)r[e]=[+t[e][0],+t[e][1],e];for(r.sort(Gp),e=0;e<n;++e)i[e]=[r[e][0],-r[e][1]];var o=Xp(r),a=Xp(i),s=a[0]===o[0],l=a[a.length-1]===o[o.length-1],c=[];for(e=o.length-1;e>=0;--e)c.push(t[r[o[e]][2]]);for(e=+s;e<a.length-l;++e)c.push(t[r[a[e]][2]]);return c}function Jp(t,e){for(var n,r,i=t.length,o=t[i-1],a=e[0],s=e[1],l=o[0],c=o[1],u=!1,h=0;h<i;++h)n=(o=t[h])[0],(r=o[1])>s!=c>s&&a<(l-n)*(s-r)/(c-r)+n&&(u=!u),l=n,c=r;return u}function Zp(t){for(var e,n,r=-1,i=t.length,o=t[i-1],a=o[0],s=o[1],l=0;++r<i;)e=a,n=s,e-=a=(o=t[r])[0],n-=s=o[1],l+=Math.sqrt(e*e+n*n);return l}function Qp(){return Math.random()}const tg=function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,1===arguments.length?(n=t,t=0):n-=t,function(){return e()*n+t}}return n.source=t,n}(Qp),eg=function t(e){function n(t,n){var r,i;return t=null==t?0:+t,n=null==n?1:+n,function(){var o;if(null!=r)o=r,r=null;else do{r=2*e()-1,o=2*e()-1,i=r*r+o*o}while(!i||i>1);return t+n*o*Math.sqrt(-2*Math.log(i)/i)}}return n.source=t,n}(Qp),ng=function t(e){function n(){var t=eg.source(e).apply(this,arguments);return function(){return Math.exp(t())}}return n.source=t,n}(Qp),rg=function t(e){function n(t){return function(){for(var n=0,r=0;r<t;++r)n+=e();return n}}return n.source=t,n}(Qp),ig=function t(e){function n(t){var n=rg.source(e)(t);return function(){return n()/t}}return n.source=t,n}(Qp),og=function t(e){function n(t){return function(){return-Math.log(1-e())/t}}return n.source=t,n}(Qp);function ag(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function sg(t,e){switch(arguments.length){case 0:break;case 1:this.interpolator(t);break;default:this.interpolator(e).domain(t)}return this}var lg=Array.prototype,cg=lg.map,ug=lg.slice,hg={name:"implicit"};function dg(){var t=no(),e=[],n=[],r=hg;function i(i){var o=i+"",a=t.get(o);if(!a){if(r!==hg)return r;t.set(o,a=e.push(i))}return n[(a-1)%n.length]}return i.domain=function(n){if(!arguments.length)return e.slice();e=[],t=no();for(var r,o,a=-1,s=n.length;++a<s;)t.has(o=(r=n[a])+"")||t.set(o,e.push(r));return i},i.range=function(t){return arguments.length?(n=ug.call(t),i):n.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return dg(e,n).unknown(r)},ag.apply(i,arguments),i}function fg(){var t,e,n=dg().unknown(void 0),r=n.domain,i=n.range,o=[0,1],a=!1,s=0,l=0,c=.5;function u(){var n=r().length,u=o[1]<o[0],h=o[u-0],d=o[1-u];t=(d-h)/Math.max(1,n-s+2*l),a&&(t=Math.floor(t)),h+=(d-h-t*(n-s))*c,e=t*(1-s),a&&(h=Math.round(h),e=Math.round(e));var f=k(n).map((function(e){return h+t*e}));return i(u?f.reverse():f)}return delete n.unknown,n.domain=function(t){return arguments.length?(r(t),u()):r()},n.range=function(t){return arguments.length?(o=[+t[0],+t[1]],u()):o.slice()},n.rangeRound=function(t){return o=[+t[0],+t[1]],a=!0,u()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(a=!!t,u()):a},n.padding=function(t){return arguments.length?(s=Math.min(1,l=+t),u()):s},n.paddingInner=function(t){return arguments.length?(s=Math.min(1,t),u()):s},n.paddingOuter=function(t){return arguments.length?(l=+t,u()):l},n.align=function(t){return arguments.length?(c=Math.max(0,Math.min(1,t)),u()):c},n.copy=function(){return fg(r(),o).round(a).paddingInner(s).paddingOuter(l).align(c)},ag.apply(u(),arguments)}function pg(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return pg(e())},t}function gg(){return pg(fg.apply(null,arguments).paddingInner(1))}function mg(t){return+t}var yg=[0,1];function vg(t){return t}function bg(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function wg(t){var e,n=t[0],r=t[t.length-1];return n>r&&(e=n,n=r,r=e),function(t){return Math.max(n,Math.min(r,t))}}function xg(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=bg(i,r),o=n(a,o)):(r=bg(r,i),o=n(o,a)),function(t){return o(r(t))}}function _g(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=bg(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(e){var n=c(t,e,1,r)-1;return o[n](i[n](e))}}function kg(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Eg(){var t,e,n,r,i,o,a=yg,s=yg,l=An,c=vg;function u(){return r=Math.min(a.length,s.length)>2?_g:xg,i=o=null,h}function h(e){return isNaN(e=+e)?n:(i||(i=r(a.map(t),s,l)))(t(c(e)))}return h.invert=function(n){return c(e((o||(o=r(s,a.map(t),En)))(n)))},h.domain=function(t){return arguments.length?(a=cg.call(t,mg),c===vg||(c=wg(a)),u()):a.slice()},h.range=function(t){return arguments.length?(s=ug.call(t),u()):s.slice()},h.rangeRound=function(t){return s=ug.call(t),l=Ap,u()},h.clamp=function(t){return arguments.length?(c=t?wg(a):vg,h):c!==vg},h.interpolate=function(t){return arguments.length?(l=t,u()):l},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,r){return t=n,e=r,u()}}function Cg(t,e){return Eg()(t,e)}function Sg(t,e,n,r){var i,o=A(t,e,n);switch((r=ll(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=xl(o,a))||(r.precision=i),gl(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=_l(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=wl(o))||(r.precision=i-2*("%"===r.type))}return pl(r)}function Dg(t){var e=t.domain;return t.ticks=function(t){var n=e();return D(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return Sg(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i=e(),o=0,a=i.length-1,s=i[o],l=i[a];return l<s&&(r=s,s=l,l=r,r=o,o=a,a=r),(r=T(s,l,n))>0?r=T(s=Math.floor(s/r)*r,l=Math.ceil(l/r)*r,n):r<0&&(r=T(s=Math.ceil(s*r)/r,l=Math.floor(l*r)/r,n)),r>0?(i[o]=Math.floor(s/r)*r,i[a]=Math.ceil(l/r)*r,e(i)):r<0&&(i[o]=Math.ceil(s*r)/r,i[a]=Math.floor(l*r)/r,e(i)),t},t}function Tg(){var t=Cg(vg,vg);return t.copy=function(){return kg(t,Tg())},ag.apply(t,arguments),Dg(t)}function Ag(t){var e;function n(t){return isNaN(t=+t)?e:t}return n.invert=n,n.domain=n.range=function(e){return arguments.length?(t=cg.call(e,mg),n):t.slice()},n.unknown=function(t){return arguments.length?(e=t,n):e},n.copy=function(){return Ag(t).unknown(e)},t=arguments.length?cg.call(t,mg):[0,1],Dg(n)}function Mg(t,e){var n,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}function Ng(t){return Math.log(t)}function Og(t){return Math.exp(t)}function Fg(t){return-Math.log(-t)}function Ig(t){return-Math.exp(-t)}function Lg(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Bg(t){return function(e){return-t(-e)}}function Rg(t){var e,n,r=t(Ng,Og),i=r.domain,o=10;function a(){return e=function(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}(o),n=function(t){return 10===t?Lg:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}(o),i()[0]<0?(e=Bg(e),n=Bg(n),t(Fg,Ig)):t(Ng,Og),r}return r.base=function(t){return arguments.length?(o=+t,a()):o},r.domain=function(t){return arguments.length?(i(t),a()):i()},r.ticks=function(t){var r,a=i(),s=a[0],l=a[a.length-1];(r=l<s)&&(d=s,s=l,l=d);var c,u,h,d=e(s),f=e(l),p=null==t?10:+t,g=[];if(!(o%1)&&f-d<p){if(d=Math.round(d)-1,f=Math.round(f)+1,s>0){for(;d<f;++d)for(u=1,c=n(d);u<o;++u)if(!((h=c*u)<s)){if(h>l)break;g.push(h)}}else for(;d<f;++d)for(u=o-1,c=n(d);u>=1;--u)if(!((h=c*u)<s)){if(h>l)break;g.push(h)}}else g=D(d,f,Math.min(f-d,p)).map(n);return r?g.reverse():g},r.tickFormat=function(t,i){if(null==i&&(i=10===o?".0e":","),"function"!=typeof i&&(i=pl(i)),t===1/0)return i;null==t&&(t=10);var a=Math.max(1,o*t/r.ticks().length);return function(t){var r=t/n(Math.round(e(t)));return r*o<o-.5&&(r*=o),r<=a?i(t):""}},r.nice=function(){return i(Mg(i(),{floor:function(t){return n(Math.floor(e(t)))},ceil:function(t){return n(Math.ceil(e(t)))}}))},r}function Pg(){var t=Rg(Eg()).domain([1,10]);return t.copy=function(){return kg(t,Pg()).base(t.base())},ag.apply(t,arguments),t}function zg(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function $g(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function jg(t){var e=1,n=t(zg(e),$g(e));return n.constant=function(n){return arguments.length?t(zg(e=+n),$g(e)):e},Dg(n)}function Ug(){var t=jg(Eg());return t.copy=function(){return kg(t,Ug()).constant(t.constant())},ag.apply(t,arguments)}function Yg(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function qg(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Wg(t){return t<0?-t*t:t*t}function Hg(t){var e=t(vg,vg),n=1;function r(){return 1===n?t(vg,vg):.5===n?t(qg,Wg):t(Yg(n),Yg(1/n))}return e.exponent=function(t){return arguments.length?(n=+t,r()):n},Dg(e)}function Vg(){var t=Hg(Eg());return t.copy=function(){return kg(t,Vg()).exponent(t.exponent())},ag.apply(t,arguments),t}function Gg(){return Vg.apply(null,arguments).exponent(.5)}function Xg(){var t,e=[],n=[],r=[];function o(){var t=0,i=Math.max(1,n.length);for(r=new Array(i-1);++t<i;)r[t-1]=O(e,t/i);return a}function a(e){return isNaN(e=+e)?t:n[c(r,e)]}return a.invertExtent=function(t){var i=n.indexOf(t);return i<0?[NaN,NaN]:[i>0?r[i-1]:e[0],i<r.length?r[i]:e[e.length-1]]},a.domain=function(t){if(!arguments.length)return e.slice();e=[];for(var n,r=0,a=t.length;r<a;++r)null==(n=t[r])||isNaN(n=+n)||e.push(n);return e.sort(i),o()},a.range=function(t){return arguments.length?(n=ug.call(t),o()):n.slice()},a.unknown=function(e){return arguments.length?(t=e,a):t},a.quantiles=function(){return r.slice()},a.copy=function(){return Xg().domain(e).range(n).unknown(t)},ag.apply(a,arguments)}function Kg(){var t,e=0,n=1,r=1,i=[.5],o=[0,1];function a(e){return e<=e?o[c(i,e,0,r)]:t}function s(){var t=-1;for(i=new Array(r);++t<r;)i[t]=((t+1)*n-(t-r)*e)/(r+1);return a}return a.domain=function(t){return arguments.length?(e=+t[0],n=+t[1],s()):[e,n]},a.range=function(t){return arguments.length?(r=(o=ug.call(t)).length-1,s()):o.slice()},a.invertExtent=function(t){var a=o.indexOf(t);return a<0?[NaN,NaN]:a<1?[e,i[0]]:a>=r?[i[r-1],n]:[i[a-1],i[a]]},a.unknown=function(e){return arguments.length?(t=e,a):a},a.thresholds=function(){return i.slice()},a.copy=function(){return Kg().domain([e,n]).range(o).unknown(t)},ag.apply(Dg(a),arguments)}function Jg(){var t,e=[.5],n=[0,1],r=1;function i(i){return i<=i?n[c(e,i,0,r)]:t}return i.domain=function(t){return arguments.length?(e=ug.call(t),r=Math.min(e.length,n.length-1),i):e.slice()},i.range=function(t){return arguments.length?(n=ug.call(t),r=Math.min(e.length,n.length-1),i):n.slice()},i.invertExtent=function(t){var r=n.indexOf(t);return[e[r-1],e[r]]},i.unknown=function(e){return arguments.length?(t=e,i):t},i.copy=function(){return Jg().domain(e).range(n).unknown(t)},ag.apply(i,arguments)}var Zg=new Date,Qg=new Date;function tm(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=function(e){return t(e=new Date(+e)),e},i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,o){var a,s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return s;do{s.push(a=new Date(+n)),e(n,o),t(n)}while(a<n&&n<r);return s},i.filter=function(n){return tm((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}))},n&&(i.count=function(e,r){return Zg.setTime(+e),Qg.setTime(+r),t(Zg),t(Qg),Math.floor(n(Zg,Qg))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t==0}:function(e){return i.count(0,e)%t==0}):i:null}),i}var em=tm((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));em.every=function(t){return isFinite(t=Math.floor(t))&&t>0?tm((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};const nm=em;var rm=em.range,im=tm((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()}));const om=im;var am=im.range,sm=1e3,lm=6e4,cm=36e5,um=864e5,hm=6048e5;function dm(t){return tm((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*lm)/hm}))}var fm=dm(0),pm=dm(1),gm=dm(2),mm=dm(3),ym=dm(4),vm=dm(5),bm=dm(6),wm=fm.range,xm=pm.range,_m=gm.range,km=mm.range,Em=ym.range,Cm=vm.range,Sm=bm.range,Dm=tm((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*lm)/um}),(function(t){return t.getDate()-1}));const Tm=Dm;var Am=Dm.range,Mm=tm((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*sm-t.getMinutes()*lm)}),(function(t,e){t.setTime(+t+e*cm)}),(function(t,e){return(e-t)/cm}),(function(t){return t.getHours()}));const Nm=Mm;var Om=Mm.range,Fm=tm((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*sm)}),(function(t,e){t.setTime(+t+e*lm)}),(function(t,e){return(e-t)/lm}),(function(t){return t.getMinutes()}));const Im=Fm;var Lm=Fm.range,Bm=tm((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+e*sm)}),(function(t,e){return(e-t)/sm}),(function(t){return t.getUTCSeconds()}));const Rm=Bm;var Pm=Bm.range,zm=tm((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));zm.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?tm((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):zm:null};const $m=zm;var jm=zm.range;function Um(t){return tm((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/hm}))}var Ym=Um(0),qm=Um(1),Wm=Um(2),Hm=Um(3),Vm=Um(4),Gm=Um(5),Xm=Um(6),Km=Ym.range,Jm=qm.range,Zm=Wm.range,Qm=Hm.range,ty=Vm.range,ey=Gm.range,ny=Xm.range,ry=tm((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/um}),(function(t){return t.getUTCDate()-1}));const iy=ry;var oy=ry.range,ay=tm((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));ay.every=function(t){return isFinite(t=Math.floor(t))&&t>0?tm((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};const sy=ay;var ly=ay.range;function cy(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function uy(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function hy(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function dy(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,c=Ey(i),u=Cy(i),h=Ey(o),d=Cy(o),f=Ey(a),p=Cy(a),g=Ey(s),m=Cy(s),y=Ey(l),v=Cy(l),b={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:Hy,e:Hy,f:Jy,g:lv,G:uv,H:Vy,I:Gy,j:Xy,L:Ky,m:Zy,M:Qy,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:Fv,s:Iv,S:tv,u:ev,U:nv,V:iv,w:ov,W:av,x:null,X:null,y:sv,Y:cv,Z:hv,"%":Ov},w={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return l[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:dv,e:dv,f:yv,g:Tv,G:Mv,H:fv,I:pv,j:gv,L:mv,m:vv,M:bv,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:Fv,s:Iv,S:wv,u:xv,U:_v,V:Ev,w:Cv,W:Sv,x:null,X:null,y:Dv,Y:Av,Z:Nv,"%":Ov},x={a:function(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=p[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=h.exec(e.slice(n));return r?(t.w=d[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=y.exec(e.slice(n));return r?(t.m=v[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=g.exec(e.slice(n));return r?(t.m=m[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,n,r){return E(t,e,n,r)},d:By,e:By,f:Uy,g:Oy,G:Ny,H:Py,I:Py,j:Ry,L:jy,m:Ly,M:zy,p:function(t,e,n){var r=c.exec(e.slice(n));return r?(t.p=u[r[0].toLowerCase()],n+r[0].length):-1},q:Iy,Q:qy,s:Wy,S:$y,u:Dy,U:Ty,V:Ay,w:Sy,W:My,x:function(t,e,r){return E(t,n,e,r)},X:function(t,e,n){return E(t,r,e,n)},y:Oy,Y:Ny,Z:Fy,"%":Yy};function _(t,e){return function(n){var r,i,o,a=[],s=-1,l=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===t.charCodeAt(s)&&(a.push(t.slice(l,s)),null!=(i=vy[r=t.charAt(++s)])?r=t.charAt(++s):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),l=s+1);return a.push(t.slice(l,s)),a.join("")}}function k(t,e){return function(n){var r,i,o=hy(1900,void 0,1);if(E(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(e&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=uy(hy(o.y,0,1))).getUTCDay(),r=i>4||0===i?qm.ceil(r):qm(r),r=iy.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=cy(hy(o.y,0,1))).getDay(),r=i>4||0===i?pm.ceil(r):pm(r),r=Tm.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?uy(hy(o.y,0,1)).getUTCDay():cy(hy(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,uy(o)):cy(o)}}function E(t,e,n,r){for(var i,o,a=0,s=e.length,l=n.length;a<s;){if(r>=l)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=x[i in vy?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=_(n,b),b.X=_(r,b),b.c=_(e,b),w.x=_(n,w),w.X=_(r,w),w.c=_(e,w),{format:function(t){var e=_(t+="",b);return e.toString=function(){return t},e},parse:function(t){var e=k(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=_(t+="",w);return e.toString=function(){return t},e},utcParse:function(t){var e=k(t+="",!0);return e.toString=function(){return t},e}}}var fy,py,gy,my,yy,vy={"-":"",_:" ",0:"0"},by=/^\s*\d+/,wy=/^%/,xy=/[\\^$*+?|[\]().{}]/g;function _y(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function ky(t){return t.replace(xy,"\\$&")}function Ey(t){return new RegExp("^(?:"+t.map(ky).join("|")+")","i")}function Cy(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function Sy(t,e,n){var r=by.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Dy(t,e,n){var r=by.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Ty(t,e,n){var r=by.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Ay(t,e,n){var r=by.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function My(t,e,n){var r=by.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Ny(t,e,n){var r=by.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Oy(t,e,n){var r=by.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Fy(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Iy(t,e,n){var r=by.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function Ly(t,e,n){var r=by.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function By(t,e,n){var r=by.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Ry(t,e,n){var r=by.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Py(t,e,n){var r=by.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function zy(t,e,n){var r=by.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function $y(t,e,n){var r=by.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function jy(t,e,n){var r=by.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Uy(t,e,n){var r=by.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Yy(t,e,n){var r=wy.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function qy(t,e,n){var r=by.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Wy(t,e,n){var r=by.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Hy(t,e){return _y(t.getDate(),e,2)}function Vy(t,e){return _y(t.getHours(),e,2)}function Gy(t,e){return _y(t.getHours()%12||12,e,2)}function Xy(t,e){return _y(1+Tm.count(nm(t),t),e,3)}function Ky(t,e){return _y(t.getMilliseconds(),e,3)}function Jy(t,e){return Ky(t,e)+"000"}function Zy(t,e){return _y(t.getMonth()+1,e,2)}function Qy(t,e){return _y(t.getMinutes(),e,2)}function tv(t,e){return _y(t.getSeconds(),e,2)}function ev(t){var e=t.getDay();return 0===e?7:e}function nv(t,e){return _y(fm.count(nm(t)-1,t),e,2)}function rv(t){var e=t.getDay();return e>=4||0===e?ym(t):ym.ceil(t)}function iv(t,e){return t=rv(t),_y(ym.count(nm(t),t)+(4===nm(t).getDay()),e,2)}function ov(t){return t.getDay()}function av(t,e){return _y(pm.count(nm(t)-1,t),e,2)}function sv(t,e){return _y(t.getFullYear()%100,e,2)}function lv(t,e){return _y((t=rv(t)).getFullYear()%100,e,2)}function cv(t,e){return _y(t.getFullYear()%1e4,e,4)}function uv(t,e){var n=t.getDay();return _y((t=n>=4||0===n?ym(t):ym.ceil(t)).getFullYear()%1e4,e,4)}function hv(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+_y(e/60|0,"0",2)+_y(e%60,"0",2)}function dv(t,e){return _y(t.getUTCDate(),e,2)}function fv(t,e){return _y(t.getUTCHours(),e,2)}function pv(t,e){return _y(t.getUTCHours()%12||12,e,2)}function gv(t,e){return _y(1+iy.count(sy(t),t),e,3)}function mv(t,e){return _y(t.getUTCMilliseconds(),e,3)}function yv(t,e){return mv(t,e)+"000"}function vv(t,e){return _y(t.getUTCMonth()+1,e,2)}function bv(t,e){return _y(t.getUTCMinutes(),e,2)}function wv(t,e){return _y(t.getUTCSeconds(),e,2)}function xv(t){var e=t.getUTCDay();return 0===e?7:e}function _v(t,e){return _y(Ym.count(sy(t)-1,t),e,2)}function kv(t){var e=t.getUTCDay();return e>=4||0===e?Vm(t):Vm.ceil(t)}function Ev(t,e){return t=kv(t),_y(Vm.count(sy(t),t)+(4===sy(t).getUTCDay()),e,2)}function Cv(t){return t.getUTCDay()}function Sv(t,e){return _y(qm.count(sy(t)-1,t),e,2)}function Dv(t,e){return _y(t.getUTCFullYear()%100,e,2)}function Tv(t,e){return _y((t=kv(t)).getUTCFullYear()%100,e,2)}function Av(t,e){return _y(t.getUTCFullYear()%1e4,e,4)}function Mv(t,e){var n=t.getUTCDay();return _y((t=n>=4||0===n?Vm(t):Vm.ceil(t)).getUTCFullYear()%1e4,e,4)}function Nv(){return"+0000"}function Ov(){return"%"}function Fv(t){return+t}function Iv(t){return Math.floor(+t/1e3)}function Lv(t){return fy=dy(t),py=fy.format,gy=fy.parse,my=fy.utcFormat,yy=fy.utcParse,fy}Lv({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Bv=31536e6;function Rv(t){return new Date(t)}function Pv(t){return t instanceof Date?+t:+new Date(+t)}function zv(t,e,n,r,i,a,s,l,c){var u=Cg(vg,vg),h=u.invert,d=u.domain,f=c(".%L"),p=c(":%S"),g=c("%I:%M"),m=c("%I %p"),y=c("%a %d"),v=c("%b %d"),b=c("%B"),w=c("%Y"),x=[[s,1,1e3],[s,5,5e3],[s,15,15e3],[s,30,3e4],[a,1,6e4],[a,5,3e5],[a,15,9e5],[a,30,18e5],[i,1,36e5],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,864e5],[r,2,1728e5],[n,1,6048e5],[e,1,2592e6],[e,3,7776e6],[t,1,Bv]];function _(o){return(s(o)<o?f:a(o)<o?p:i(o)<o?g:r(o)<o?m:e(o)<o?n(o)<o?y:v:t(o)<o?b:w)(o)}function k(e,n,r,i){if(null==e&&(e=10),"number"==typeof e){var a=Math.abs(r-n)/e,s=o((function(t){return t[2]})).right(x,a);s===x.length?(i=A(n/Bv,r/Bv,e),e=t):s?(i=(s=x[a/x[s-1][2]<x[s][2]/a?s-1:s])[1],e=s[0]):(i=Math.max(A(n,r,e),1),e=l)}return null==i?e:e.every(i)}return u.invert=function(t){return new Date(h(t))},u.domain=function(t){return arguments.length?d(cg.call(t,Pv)):d().map(Rv)},u.ticks=function(t,e){var n,r=d(),i=r[0],o=r[r.length-1],a=o<i;return a&&(n=i,i=o,o=n),n=(n=k(t,i,o,e))?n.range(i,o+1):[],a?n.reverse():n},u.tickFormat=function(t,e){return null==e?_:c(e)},u.nice=function(t,e){var n=d();return(t=k(t,n[0],n[n.length-1],e))?d(Mg(n,t)):u},u.copy=function(){return kg(u,zv(t,e,n,r,i,a,s,l,c))},u}function $v(){return ag.apply(zv(nm,om,fm,Tm,Nm,Im,Rm,$m,py).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}var jv=tm((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()}));const Uv=jv;var Yv=jv.range,qv=tm((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+e*cm)}),(function(t,e){return(e-t)/cm}),(function(t){return t.getUTCHours()}));const Wv=qv;var Hv=qv.range,Vv=tm((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+e*lm)}),(function(t,e){return(e-t)/lm}),(function(t){return t.getUTCMinutes()}));const Gv=Vv;var Xv=Vv.range;function Kv(){return ag.apply(zv(sy,Uv,Ym,iy,Wv,Gv,Rm,$m,my).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Jv(){var t,e,n,r,i,o=0,a=1,s=vg,l=!1;function c(e){return isNaN(e=+e)?i:s(0===n?.5:(e=(r(e)-t)*n,l?Math.max(0,Math.min(1,e)):e))}return c.domain=function(i){return arguments.length?(t=r(o=+i[0]),e=r(a=+i[1]),n=t===e?0:1/(e-t),c):[o,a]},c.clamp=function(t){return arguments.length?(l=!!t,c):l},c.interpolator=function(t){return arguments.length?(s=t,c):s},c.unknown=function(t){return arguments.length?(i=t,c):i},function(i){return r=i,t=i(o),e=i(a),n=t===e?0:1/(e-t),c}}function Zv(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Qv(){var t=Dg(Jv()(vg));return t.copy=function(){return Zv(t,Qv())},sg.apply(t,arguments)}function tb(){var t=Rg(Jv()).domain([1,10]);return t.copy=function(){return Zv(t,tb()).base(t.base())},sg.apply(t,arguments)}function eb(){var t=jg(Jv());return t.copy=function(){return Zv(t,eb()).constant(t.constant())},sg.apply(t,arguments)}function nb(){var t=Hg(Jv());return t.copy=function(){return Zv(t,nb()).exponent(t.exponent())},sg.apply(t,arguments)}function rb(){return nb.apply(null,arguments).exponent(.5)}function ib(){var t=[],e=vg;function n(n){if(!isNaN(n=+n))return e((c(t,n)-1)/(t.length-1))}return n.domain=function(e){if(!arguments.length)return t.slice();t=[];for(var r,o=0,a=e.length;o<a;++o)null==(r=e[o])||isNaN(r=+r)||t.push(r);return t.sort(i),n},n.interpolator=function(t){return arguments.length?(e=t,n):e},n.copy=function(){return ib(e).domain(t)},sg.apply(n,arguments)}function ob(){var t,e,n,r,i,o,a,s=0,l=.5,c=1,u=vg,h=!1;function d(t){return isNaN(t=+t)?a:(t=.5+((t=+o(t))-e)*(t<e?r:i),u(h?Math.max(0,Math.min(1,t)):t))}return d.domain=function(a){return arguments.length?(t=o(s=+a[0]),e=o(l=+a[1]),n=o(c=+a[2]),r=t===e?0:.5/(e-t),i=e===n?0:.5/(n-e),d):[s,l,c]},d.clamp=function(t){return arguments.length?(h=!!t,d):h},d.interpolator=function(t){return arguments.length?(u=t,d):u},d.unknown=function(t){return arguments.length?(a=t,d):a},function(a){return o=a,t=a(s),e=a(l),n=a(c),r=t===e?0:.5/(e-t),i=e===n?0:.5/(n-e),d}}function ab(){var t=Dg(ob()(vg));return t.copy=function(){return Zv(t,ab())},sg.apply(t,arguments)}function sb(){var t=Rg(ob()).domain([.1,1,10]);return t.copy=function(){return Zv(t,sb()).base(t.base())},sg.apply(t,arguments)}function lb(){var t=jg(ob());return t.copy=function(){return Zv(t,lb()).constant(t.constant())},sg.apply(t,arguments)}function cb(){var t=Hg(ob());return t.copy=function(){return Zv(t,cb()).exponent(t.exponent())},sg.apply(t,arguments)}function ub(){return cb.apply(null,arguments).exponent(.5)}function hb(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(6*r,6*++r);return n}const db=hb("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),fb=hb("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),pb=hb("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),gb=hb("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),mb=hb("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),yb=hb("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),vb=hb("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),bb=hb("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),wb=hb("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),xb=hb("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function _b(t){return yn(t[t.length-1])}var kb=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(hb);const Eb=_b(kb);var Cb=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(hb);const Sb=_b(Cb);var Db=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(hb);const Tb=_b(Db);var Ab=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(hb);const Mb=_b(Ab);var Nb=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(hb);const Ob=_b(Nb);var Fb=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(hb);const Ib=_b(Fb);var Lb=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(hb);const Bb=_b(Lb);var Rb=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(hb);const Pb=_b(Rb);var zb=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(hb);const $b=_b(zb);var jb=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(hb);const Ub=_b(jb);var Yb=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(hb);const qb=_b(Yb);var Wb=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(hb);const Hb=_b(Wb);var Vb=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(hb);const Gb=_b(Vb);var Xb=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(hb);const Kb=_b(Xb);var Jb=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(hb);const Zb=_b(Jb);var Qb=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(hb);const tw=_b(Qb);var ew=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(hb);const nw=_b(ew);var rw=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(hb);const iw=_b(rw);var ow=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(hb);const aw=_b(ow);var sw=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(hb);const lw=_b(sw);var cw=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(hb);const uw=_b(cw);var hw=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(hb);const dw=_b(hw);var fw=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(hb);const pw=_b(fw);var gw=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(hb);const mw=_b(gw);var yw=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(hb);const vw=_b(yw);var bw=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(hb);const ww=_b(bw);var xw=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(hb);const _w=_b(xw);function kw(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-2710.57*t)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-67.37*t)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-2475.67*t)))))))+")"}const Ew=Up(Wo(300,.5,0),Wo(-240,.5,1));var Cw=Up(Wo(-100,.75,.35),Wo(80,1.5,.8)),Sw=Up(Wo(260,.75,.35),Wo(80,1.5,.8)),Dw=Wo();function Tw(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return Dw.h=360*t-100,Dw.s=1.5-1.5*e,Dw.l=.8-.9*e,Dw+""}var Aw=Je(),Mw=Math.PI/3,Nw=2*Math.PI/3;function Ow(t){var e;return t=(.5-t)*Math.PI,Aw.r=255*(e=Math.sin(t))*e,Aw.g=255*(e=Math.sin(t+Mw))*e,Aw.b=255*(e=Math.sin(t+Nw))*e,Aw+""}function Fw(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-14825.05*t)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+707.56*t)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-6838.66*t)))))))+")"}function Iw(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}const Lw=Iw(hb("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var Bw=Iw(hb("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Rw=Iw(hb("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Pw=Iw(hb("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function zw(t){return Ee(ie(t).call(document.documentElement))}var $w=0;function jw(){return new Uw}function Uw(){this._="@"+(++$w).toString(36)}function Yw(t){return"string"==typeof t?new xe([document.querySelectorAll(t)],[document.documentElement]):new xe([null==t?[]:t],we)}function qw(t,e){null==e&&(e=Mn().touches);for(var n=0,r=e?e.length:0,i=new Array(r);n<r;++n)i[n]=Nn(t,e[n]);return i}function Ww(t){return function(){return t}}Uw.prototype=jw.prototype={constructor:Uw,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var Hw=Math.abs,Vw=Math.atan2,Gw=Math.cos,Xw=Math.max,Kw=Math.min,Jw=Math.sin,Zw=Math.sqrt,Qw=1e-12,tx=Math.PI,ex=tx/2,nx=2*tx;function rx(t){return t>1?0:t<-1?tx:Math.acos(t)}function ix(t){return t>=1?ex:t<=-1?-ex:Math.asin(t)}function ox(t){return t.innerRadius}function ax(t){return t.outerRadius}function sx(t){return t.startAngle}function lx(t){return t.endAngle}function cx(t){return t&&t.padAngle}function ux(t,e,n,r,i,o,a,s){var l=n-t,c=r-e,u=a-i,h=s-o,d=h*l-u*c;if(!(d*d<Qw))return[t+(d=(u*(e-o)-h*(t-i))/d)*l,e+d*c]}function hx(t,e,n,r,i,o,a){var s=t-n,l=e-r,c=(a?o:-o)/Zw(s*s+l*l),u=c*l,h=-c*s,d=t+u,f=e+h,p=n+u,g=r+h,m=(d+p)/2,y=(f+g)/2,v=p-d,b=g-f,w=v*v+b*b,x=i-o,_=d*g-p*f,k=(b<0?-1:1)*Zw(Xw(0,x*x*w-_*_)),E=(_*b-v*k)/w,C=(-_*v-b*k)/w,S=(_*b+v*k)/w,D=(-_*v+b*k)/w,T=E-m,A=C-y,M=S-m,N=D-y;return T*T+A*A>M*M+N*N&&(E=S,C=D),{cx:E,cy:C,x01:-u,y01:-h,x11:E*(i/x-1),y11:C*(i/x-1)}}function dx(){var t=ox,e=ax,n=Ww(0),r=null,i=sx,o=lx,a=cx,s=null;function l(){var l,c,u=+t.apply(this,arguments),h=+e.apply(this,arguments),d=i.apply(this,arguments)-ex,f=o.apply(this,arguments)-ex,p=Hw(f-d),g=f>d;if(s||(s=l=Hi()),h<u&&(c=h,h=u,u=c),h>Qw)if(p>nx-Qw)s.moveTo(h*Gw(d),h*Jw(d)),s.arc(0,0,h,d,f,!g),u>Qw&&(s.moveTo(u*Gw(f),u*Jw(f)),s.arc(0,0,u,f,d,g));else{var m,y,v=d,b=f,w=d,x=f,_=p,k=p,E=a.apply(this,arguments)/2,C=E>Qw&&(r?+r.apply(this,arguments):Zw(u*u+h*h)),S=Kw(Hw(h-u)/2,+n.apply(this,arguments)),D=S,T=S;if(C>Qw){var A=ix(C/u*Jw(E)),M=ix(C/h*Jw(E));(_-=2*A)>Qw?(w+=A*=g?1:-1,x-=A):(_=0,w=x=(d+f)/2),(k-=2*M)>Qw?(v+=M*=g?1:-1,b-=M):(k=0,v=b=(d+f)/2)}var N=h*Gw(v),O=h*Jw(v),F=u*Gw(x),I=u*Jw(x);if(S>Qw){var L,B=h*Gw(b),R=h*Jw(b),P=u*Gw(w),z=u*Jw(w);if(p<tx&&(L=ux(N,O,P,z,B,R,F,I))){var $=N-L[0],j=O-L[1],U=B-L[0],Y=R-L[1],q=1/Jw(rx(($*U+j*Y)/(Zw($*$+j*j)*Zw(U*U+Y*Y)))/2),W=Zw(L[0]*L[0]+L[1]*L[1]);D=Kw(S,(u-W)/(q-1)),T=Kw(S,(h-W)/(q+1))}}k>Qw?T>Qw?(m=hx(P,z,N,O,h,T,g),y=hx(B,R,F,I,h,T,g),s.moveTo(m.cx+m.x01,m.cy+m.y01),T<S?s.arc(m.cx,m.cy,T,Vw(m.y01,m.x01),Vw(y.y01,y.x01),!g):(s.arc(m.cx,m.cy,T,Vw(m.y01,m.x01),Vw(m.y11,m.x11),!g),s.arc(0,0,h,Vw(m.cy+m.y11,m.cx+m.x11),Vw(y.cy+y.y11,y.cx+y.x11),!g),s.arc(y.cx,y.cy,T,Vw(y.y11,y.x11),Vw(y.y01,y.x01),!g))):(s.moveTo(N,O),s.arc(0,0,h,v,b,!g)):s.moveTo(N,O),u>Qw&&_>Qw?D>Qw?(m=hx(F,I,B,R,u,-D,g),y=hx(N,O,P,z,u,-D,g),s.lineTo(m.cx+m.x01,m.cy+m.y01),D<S?s.arc(m.cx,m.cy,D,Vw(m.y01,m.x01),Vw(y.y01,y.x01),!g):(s.arc(m.cx,m.cy,D,Vw(m.y01,m.x01),Vw(m.y11,m.x11),!g),s.arc(0,0,u,Vw(m.cy+m.y11,m.cx+m.x11),Vw(y.cy+y.y11,y.cx+y.x11),g),s.arc(y.cx,y.cy,D,Vw(y.y11,y.x11),Vw(y.y01,y.x01),!g))):s.arc(0,0,u,x,w,g):s.lineTo(F,I)}else s.moveTo(0,0);if(s.closePath(),l)return s=null,l+""||null}return l.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-tx/2;return[Gw(r)*n,Jw(r)*n]},l.innerRadius=function(e){return arguments.length?(t="function"==typeof e?e:Ww(+e),l):t},l.outerRadius=function(t){return arguments.length?(e="function"==typeof t?t:Ww(+t),l):e},l.cornerRadius=function(t){return arguments.length?(n="function"==typeof t?t:Ww(+t),l):n},l.padRadius=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:Ww(+t),l):r},l.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:Ww(+t),l):i},l.endAngle=function(t){return arguments.length?(o="function"==typeof t?t:Ww(+t),l):o},l.padAngle=function(t){return arguments.length?(a="function"==typeof t?t:Ww(+t),l):a},l.context=function(t){return arguments.length?(s=null==t?null:t,l):s},l}function fx(t){this._context=t}function px(t){return new fx(t)}function gx(t){return t[0]}function mx(t){return t[1]}function yx(){var t=gx,e=mx,n=Ww(!0),r=null,i=px,o=null;function a(a){var s,l,c,u=a.length,h=!1;for(null==r&&(o=i(c=Hi())),s=0;s<=u;++s)!(s<u&&n(l=a[s],s,a))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(l,s,a),+e(l,s,a));if(c)return o=null,c+""||null}return a.x=function(e){return arguments.length?(t="function"==typeof e?e:Ww(+e),a):t},a.y=function(t){return arguments.length?(e="function"==typeof t?t:Ww(+t),a):e},a.defined=function(t){return arguments.length?(n="function"==typeof t?t:Ww(!!t),a):n},a.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),a):i},a.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),a):r},a}function vx(){var t=gx,e=null,n=Ww(0),r=mx,i=Ww(!0),o=null,a=px,s=null;function l(l){var c,u,h,d,f,p=l.length,g=!1,m=new Array(p),y=new Array(p);for(null==o&&(s=a(f=Hi())),c=0;c<=p;++c){if(!(c<p&&i(d=l[c],c,l))===g)if(g=!g)u=c,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=c-1;h>=u;--h)s.point(m[h],y[h]);s.lineEnd(),s.areaEnd()}g&&(m[c]=+t(d,c,l),y[c]=+n(d,c,l),s.point(e?+e(d,c,l):m[c],r?+r(d,c,l):y[c]))}if(f)return s=null,f+""||null}function c(){return yx().defined(i).curve(a).context(o)}return l.x=function(n){return arguments.length?(t="function"==typeof n?n:Ww(+n),e=null,l):t},l.x0=function(e){return arguments.length?(t="function"==typeof e?e:Ww(+e),l):t},l.x1=function(t){return arguments.length?(e=null==t?null:"function"==typeof t?t:Ww(+t),l):e},l.y=function(t){return arguments.length?(n="function"==typeof t?t:Ww(+t),r=null,l):n},l.y0=function(t){return arguments.length?(n="function"==typeof t?t:Ww(+t),l):n},l.y1=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:Ww(+t),l):r},l.lineX0=l.lineY0=function(){return c().x(t).y(n)},l.lineY1=function(){return c().x(t).y(r)},l.lineX1=function(){return c().x(e).y(n)},l.defined=function(t){return arguments.length?(i="function"==typeof t?t:Ww(!!t),l):i},l.curve=function(t){return arguments.length?(a=t,null!=o&&(s=a(o)),l):a},l.context=function(t){return arguments.length?(null==t?o=s=null:s=a(o=t),l):o},l}function bx(t,e){return e<t?-1:e>t?1:e>=t?0:NaN}function wx(t){return t}function xx(){var t=wx,e=bx,n=null,r=Ww(0),i=Ww(nx),o=Ww(0);function a(a){var s,l,c,u,h,d=a.length,f=0,p=new Array(d),g=new Array(d),m=+r.apply(this,arguments),y=Math.min(nx,Math.max(-nx,i.apply(this,arguments)-m)),v=Math.min(Math.abs(y)/d,o.apply(this,arguments)),b=v*(y<0?-1:1);for(s=0;s<d;++s)(h=g[p[s]=s]=+t(a[s],s,a))>0&&(f+=h);for(null!=e?p.sort((function(t,n){return e(g[t],g[n])})):null!=n&&p.sort((function(t,e){return n(a[t],a[e])})),s=0,c=f?(y-d*b)/f:0;s<d;++s,m=u)l=p[s],u=m+((h=g[l])>0?h*c:0)+b,g[l]={data:a[l],index:s,value:h,startAngle:m,endAngle:u,padAngle:v};return g}return a.value=function(e){return arguments.length?(t="function"==typeof e?e:Ww(+e),a):t},a.sortValues=function(t){return arguments.length?(e=t,n=null,a):e},a.sort=function(t){return arguments.length?(n=t,e=null,a):n},a.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:Ww(+t),a):r},a.endAngle=function(t){return arguments.length?(i="function"==typeof t?t:Ww(+t),a):i},a.padAngle=function(t){return arguments.length?(o="function"==typeof t?t:Ww(+t),a):o},a}fx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var _x=Ex(px);function kx(t){this._curve=t}function Ex(t){function e(e){return new kx(t(e))}return e._curve=t,e}function Cx(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(Ex(t)):e()._curve},t}function Sx(){return Cx(yx().curve(_x))}function Dx(){var t=vx().curve(_x),e=t.curve,n=t.lineX0,r=t.lineX1,i=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return Cx(n())},delete t.lineX0,t.lineEndAngle=function(){return Cx(r())},delete t.lineX1,t.lineInnerRadius=function(){return Cx(i())},delete t.lineY0,t.lineOuterRadius=function(){return Cx(o())},delete t.lineY1,t.curve=function(t){return arguments.length?e(Ex(t)):e()._curve},t}function Tx(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}kx.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};var Ax=Array.prototype.slice;function Mx(t){return t.source}function Nx(t){return t.target}function Ox(t){var e=Mx,n=Nx,r=gx,i=mx,o=null;function a(){var a,s=Ax.call(arguments),l=e.apply(this,s),c=n.apply(this,s);if(o||(o=a=Hi()),t(o,+r.apply(this,(s[0]=l,s)),+i.apply(this,s),+r.apply(this,(s[0]=c,s)),+i.apply(this,s)),a)return o=null,a+""||null}return a.source=function(t){return arguments.length?(e=t,a):e},a.target=function(t){return arguments.length?(n=t,a):n},a.x=function(t){return arguments.length?(r="function"==typeof t?t:Ww(+t),a):r},a.y=function(t){return arguments.length?(i="function"==typeof t?t:Ww(+t),a):i},a.context=function(t){return arguments.length?(o=null==t?null:t,a):o},a}function Fx(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e=(e+r)/2,n,e,i,r,i)}function Ix(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e,n=(n+i)/2,r,n,r,i)}function Lx(t,e,n,r,i){var o=Tx(e,n),a=Tx(e,n=(n+i)/2),s=Tx(r,n),l=Tx(r,i);t.moveTo(o[0],o[1]),t.bezierCurveTo(a[0],a[1],s[0],s[1],l[0],l[1])}function Bx(){return Ox(Fx)}function Rx(){return Ox(Ix)}function Px(){var t=Ox(Lx);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}const zx={draw:function(t,e){var n=Math.sqrt(e/tx);t.moveTo(n,0),t.arc(0,0,n,0,nx)}},$x={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}};var jx=Math.sqrt(1/3),Ux=2*jx;const Yx={draw:function(t,e){var n=Math.sqrt(e/Ux),r=n*jx;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}};var qx=Math.sin(tx/10)/Math.sin(7*tx/10),Wx=Math.sin(nx/10)*qx,Hx=-Math.cos(nx/10)*qx;const Vx={draw:function(t,e){var n=Math.sqrt(.8908130915292852*e),r=Wx*n,i=Hx*n;t.moveTo(0,-n),t.lineTo(r,i);for(var o=1;o<5;++o){var a=nx*o/5,s=Math.cos(a),l=Math.sin(a);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},Gx={draw:function(t,e){var n=Math.sqrt(e),r=-n/2;t.rect(r,r,n,n)}};var Xx=Math.sqrt(3);const Kx={draw:function(t,e){var n=-Math.sqrt(e/(3*Xx));t.moveTo(0,2*n),t.lineTo(-Xx*n,-n),t.lineTo(Xx*n,-n),t.closePath()}};var Jx=-.5,Zx=Math.sqrt(3)/2,Qx=1/Math.sqrt(12),t_=3*(Qx/2+1);const e_={draw:function(t,e){var n=Math.sqrt(e/t_),r=n/2,i=n*Qx,o=r,a=n*Qx+n,s=-o,l=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,l),t.lineTo(Jx*r-Zx*i,Zx*r+Jx*i),t.lineTo(Jx*o-Zx*a,Zx*o+Jx*a),t.lineTo(Jx*s-Zx*l,Zx*s+Jx*l),t.lineTo(Jx*r+Zx*i,Jx*i-Zx*r),t.lineTo(Jx*o+Zx*a,Jx*a-Zx*o),t.lineTo(Jx*s+Zx*l,Jx*l-Zx*s),t.closePath()}};var n_=[zx,$x,Yx,Gx,Vx,Kx,e_];function r_(){var t=Ww(zx),e=Ww(64),n=null;function r(){var r;if(n||(n=r=Hi()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),r)return n=null,r+""||null}return r.type=function(e){return arguments.length?(t="function"==typeof e?e:Ww(e),r):t},r.size=function(t){return arguments.length?(e="function"==typeof t?t:Ww(+t),r):e},r.context=function(t){return arguments.length?(n=null==t?null:t,r):n},r}function i_(){}function o_(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function a_(t){this._context=t}function s_(t){return new a_(t)}function l_(t){this._context=t}function c_(t){return new l_(t)}function u_(t){this._context=t}function h_(t){return new u_(t)}function d_(t,e){this._basis=new a_(t),this._beta=e}a_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:o_(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:o_(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},l_.prototype={areaStart:i_,areaEnd:i_,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:o_(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},u_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:o_(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},d_.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r,i=t[0],o=e[0],a=t[n]-i,s=e[n]-o,l=-1;++l<=n;)r=l/n,this._basis.point(this._beta*t[l]+(1-this._beta)*(i+r*a),this._beta*e[l]+(1-this._beta)*(o+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const f_=function t(e){function n(t){return 1===e?new a_(t):new d_(t,e)}return n.beta=function(e){return t(+e)},n}(.85);function p_(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function g_(t,e){this._context=t,this._k=(1-e)/6}g_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:p_(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:p_(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const m_=function t(e){function n(t){return new g_(t,e)}return n.tension=function(e){return t(+e)},n}(0);function y_(t,e){this._context=t,this._k=(1-e)/6}y_.prototype={areaStart:i_,areaEnd:i_,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:p_(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const v_=function t(e){function n(t){return new y_(t,e)}return n.tension=function(e){return t(+e)},n}(0);function b_(t,e){this._context=t,this._k=(1-e)/6}b_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:p_(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const w_=function t(e){function n(t){return new b_(t,e)}return n.tension=function(e){return t(+e)},n}(0);function x_(t,e,n){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>Qw){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,l=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/l,i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/l}if(t._l23_a>Qw){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,u=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*c+t._x1*t._l23_2a-e*t._l12_2a)/u,a=(a*c+t._y1*t._l23_2a-n*t._l12_2a)/u}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function __(t,e){this._context=t,this._alpha=e}__.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:x_(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const k_=function t(e){function n(t){return e?new __(t,e):new g_(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function E_(t,e){this._context=t,this._alpha=e}E_.prototype={areaStart:i_,areaEnd:i_,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:x_(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const C_=function t(e){function n(t){return e?new E_(t,e):new y_(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function S_(t,e){this._context=t,this._alpha=e}S_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:x_(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const D_=function t(e){function n(t){return e?new S_(t,e):new b_(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function T_(t){this._context=t}function A_(t){return new T_(t)}function M_(t){return t<0?-1:1}function N_(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(M_(o)+M_(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function O_(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function F_(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function I_(t){this._context=t}function L_(t){this._context=new B_(t)}function B_(t){this._context=t}function R_(t){return new I_(t)}function P_(t){return new L_(t)}function z_(t){this._context=t}function $_(t){var e,n,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/o[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function j_(t){return new z_(t)}function U_(t,e){this._context=t,this._t=e}function Y_(t){return new U_(t,.5)}function q_(t){return new U_(t,0)}function W_(t){return new U_(t,1)}function H_(t,e){if((i=t.length)>1)for(var n,r,i,o=1,a=t[e[0]],s=a.length;o<i;++o)for(r=a,a=t[e[o]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function V_(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function G_(t,e){return t[e]}function X_(){var t=Ww([]),e=V_,n=H_,r=G_;function i(i){var o,a,s=t.apply(this,arguments),l=i.length,c=s.length,u=new Array(c);for(o=0;o<c;++o){for(var h,d=s[o],f=u[o]=new Array(l),p=0;p<l;++p)f[p]=h=[0,+r(i[p],d,p,i)],h.data=i[p];f.key=d}for(o=0,a=e(u);o<c;++o)u[a[o]].index=o;return n(u,a),u}return i.keys=function(e){return arguments.length?(t="function"==typeof e?e:Ww(Ax.call(e)),i):t},i.value=function(t){return arguments.length?(r="function"==typeof t?t:Ww(+t),i):r},i.order=function(t){return arguments.length?(e=null==t?V_:"function"==typeof t?t:Ww(Ax.call(t)),i):e},i.offset=function(t){return arguments.length?(n=null==t?H_:t,i):n},i}function K_(t,e){if((r=t.length)>0){for(var n,r,i,o=0,a=t[0].length;o<a;++o){for(i=n=0;n<r;++n)i+=t[n][o][1]||0;if(i)for(n=0;n<r;++n)t[n][o][1]/=i}H_(t,e)}}function J_(t,e){if((s=t.length)>0)for(var n,r,i,o,a,s,l=0,c=t[e[0]].length;l<c;++l)for(o=a=0,n=0;n<s;++n)(i=(r=t[e[n]][l])[1]-r[0])>0?(r[0]=o,r[1]=o+=i):i<0?(r[1]=a,r[0]=a+=i):(r[0]=0,r[1]=i)}function Z_(t,e){if((n=t.length)>0){for(var n,r=0,i=t[e[0]],o=i.length;r<o;++r){for(var a=0,s=0;a<n;++a)s+=t[a][r][1]||0;i[r][1]+=i[r][0]=-s/2}H_(t,e)}}function Q_(t,e){if((i=t.length)>0&&(r=(n=t[e[0]]).length)>0){for(var n,r,i,o=0,a=1;a<r;++a){for(var s=0,l=0,c=0;s<i;++s){for(var u=t[e[s]],h=u[a][1]||0,d=(h-(u[a-1][1]||0))/2,f=0;f<s;++f){var p=t[e[f]];d+=(p[a][1]||0)-(p[a-1][1]||0)}l+=h,c+=d*h}n[a-1][1]+=n[a-1][0]=o,l&&(o-=c/l)}n[a-1][1]+=n[a-1][0]=o,H_(t,e)}}function tk(t){var e=t.map(ek);return V_(t).sort((function(t,n){return e[t]-e[n]}))}function ek(t){for(var e,n=-1,r=0,i=t.length,o=-1/0;++n<i;)(e=+t[n][1])>o&&(o=e,r=n);return r}function nk(t){var e=t.map(rk);return V_(t).sort((function(t,n){return e[t]-e[n]}))}function rk(t){for(var e,n=0,r=-1,i=t.length;++r<i;)(e=+t[r][1])&&(n+=e);return n}function ik(t){return nk(t).reverse()}function ok(t){var e,n,r=t.length,i=t.map(rk),o=tk(t),a=0,s=0,l=[],c=[];for(e=0;e<r;++e)n=o[e],a<s?(a+=i[n],l.push(n)):(s+=i[n],c.push(n));return c.reverse().concat(l)}function ak(t){return V_(t).reverse()}T_.prototype={areaStart:i_,areaEnd:i_,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}},I_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:F_(this,this._t0,O_(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,F_(this,O_(this,n=N_(this,t,e)),n);break;default:F_(this,this._t0,n=N_(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(L_.prototype=Object.create(I_.prototype)).point=function(t,e){I_.prototype.point.call(this,e,t)},B_.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}},z_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=$_(t),i=$_(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}},U_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};var sk="%Y-%m-%dT%H:%M:%S.%LZ",lk=Date.prototype.toISOString?function(t){return t.toISOString()}:my(sk);const ck=lk;var uk=+new Date("2000-01-01T00:00:00.000Z")?function(t){var e=new Date(t);return isNaN(e)?null:e}:yy(sk);const hk=uk;function dk(t,e,n){var r=new Hn,i=e;return null==e?(r.restart(t,e,n),r):(e=+e,n=null==n?qn():+n,r.restart((function o(a){a+=i,r.restart(o,i+=e,n),t(a)}),e,n),r)}function fk(t){return function(){return t}}function pk(t){return t[0]}function gk(t){return t[1]}function mk(){this._=null}function yk(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function vk(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function bk(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function wk(t){for(;t.L;)t=t.L;return t}mk.prototype={constructor:mk,insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=wk(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(vk(this,n),n=(t=n).U),n.C=!1,r.C=!0,bk(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(bk(this,n),n=(t=n).U),n.C=!1,r.C=!0,vk(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,o=t.L,a=t.R;if(n=o?a?wk(a):o:a,i?i.L===t?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=t.C,n.L=o,o.U=n,n!==a?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=a,a.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,vk(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,bk(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,vk(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,bk(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,vk(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,bk(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};const xk=mk;function _k(t,e,n,r){var i=[null,null],o=Hk.push(i)-1;return i.left=t,i.right=e,n&&Ek(i,t,e,n),r&&Ek(i,e,t,r),qk[t.index].halfedges.push(o),qk[e.index].halfedges.push(o),i}function kk(t,e,n){var r=[e,n];return r.left=t,r}function Ek(t,e,n,r){t[0]||t[1]?t.left===n?t[1]=r:t[0]=r:(t[0]=r,t.left=e,t.right=n)}function Ck(t,e,n,r,i){var o,a=t[0],s=t[1],l=a[0],c=a[1],u=0,h=1,d=s[0]-l,f=s[1]-c;if(o=e-l,d||!(o>0)){if(o/=d,d<0){if(o<u)return;o<h&&(h=o)}else if(d>0){if(o>h)return;o>u&&(u=o)}if(o=r-l,d||!(o<0)){if(o/=d,d<0){if(o>h)return;o>u&&(u=o)}else if(d>0){if(o<u)return;o<h&&(h=o)}if(o=n-c,f||!(o>0)){if(o/=f,f<0){if(o<u)return;o<h&&(h=o)}else if(f>0){if(o>h)return;o>u&&(u=o)}if(o=i-c,f||!(o<0)){if(o/=f,f<0){if(o>h)return;o>u&&(u=o)}else if(f>0){if(o<u)return;o<h&&(h=o)}return!(u>0||h<1)||(u>0&&(t[0]=[l+u*d,c+u*f]),h<1&&(t[1]=[l+h*d,c+h*f]),!0)}}}}}function Sk(t,e,n,r,i){var o=t[1];if(o)return!0;var a,s,l=t[0],c=t.left,u=t.right,h=c[0],d=c[1],f=u[0],p=u[1],g=(h+f)/2,m=(d+p)/2;if(p===d){if(g<e||g>=r)return;if(h>f){if(l){if(l[1]>=i)return}else l=[g,n];o=[g,i]}else{if(l){if(l[1]<n)return}else l=[g,i];o=[g,n]}}else if(s=m-(a=(h-f)/(p-d))*g,a<-1||a>1)if(h>f){if(l){if(l[1]>=i)return}else l=[(n-s)/a,n];o=[(i-s)/a,i]}else{if(l){if(l[1]<n)return}else l=[(i-s)/a,i];o=[(n-s)/a,n]}else if(d<p){if(l){if(l[0]>=r)return}else l=[e,a*e+s];o=[r,a*r+s]}else{if(l){if(l[0]<e)return}else l=[r,a*r+s];o=[e,a*e+s]}return t[0]=l,t[1]=o,!0}function Dk(t,e){var n=t.site,r=e.left,i=e.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=e[1],i=e[0]):(r=e[0],i=e[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function Tk(t,e){return e[+(e.left!==t.site)]}function Ak(t,e){return e[+(e.left===t.site)]}var Mk,Nk=[];function Ok(){yk(this),this.x=this.y=this.arc=this.site=this.cy=null}function Fk(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var a=i[0],s=i[1],l=r[0]-a,c=r[1]-s,u=o[0]-a,h=o[1]-s,d=2*(l*h-c*u);if(!(d>=-Gk)){var f=l*l+c*c,p=u*u+h*h,g=(h*f-c*p)/d,m=(l*p-u*f)/d,y=Nk.pop()||new Ok;y.arc=t,y.site=i,y.x=g+a,y.y=(y.cy=m+s)+Math.sqrt(g*g+m*m),t.circle=y;for(var v=null,b=Wk._;b;)if(y.y<b.y||y.y===b.y&&y.x<=b.x){if(!b.L){v=b.P;break}b=b.L}else{if(!b.R){v=b;break}b=b.R}Wk.insert(v,y),v||(Mk=y)}}}}function Ik(t){var e=t.circle;e&&(e.P||(Mk=e.N),Wk.remove(e),Nk.push(e),yk(e),t.circle=null)}var Lk=[];function Bk(){yk(this),this.edge=this.site=this.circle=null}function Rk(t){var e=Lk.pop()||new Bk;return e.site=t,e}function Pk(t){Ik(t),Yk.remove(t),Lk.push(t),yk(t)}function zk(t){var e=t.circle,n=e.x,r=e.cy,i=[n,r],o=t.P,a=t.N,s=[t];Pk(t);for(var l=o;l.circle&&Math.abs(n-l.circle.x)<Vk&&Math.abs(r-l.circle.cy)<Vk;)o=l.P,s.unshift(l),Pk(l),l=o;s.unshift(l),Ik(l);for(var c=a;c.circle&&Math.abs(n-c.circle.x)<Vk&&Math.abs(r-c.circle.cy)<Vk;)a=c.N,s.push(c),Pk(c),c=a;s.push(c),Ik(c);var u,h=s.length;for(u=1;u<h;++u)c=s[u],l=s[u-1],Ek(c.edge,l.site,c.site,i);l=s[0],(c=s[h-1]).edge=_k(l.site,c.site,null,i),Fk(l),Fk(c)}function $k(t){for(var e,n,r,i,o=t[0],a=t[1],s=Yk._;s;)if((r=jk(s,a)-o)>Vk)s=s.L;else{if(!((i=o-Uk(s,a))>Vk)){r>-Vk?(e=s.P,n=s):i>-Vk?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}!function(t){qk[t.index]={site:t,halfedges:[]}}(t);var l=Rk(t);if(Yk.insert(e,l),e||n){if(e===n)return Ik(e),n=Rk(e.site),Yk.insert(l,n),l.edge=n.edge=_k(e.site,l.site),Fk(e),void Fk(n);if(n){Ik(e),Ik(n);var c=e.site,u=c[0],h=c[1],d=t[0]-u,f=t[1]-h,p=n.site,g=p[0]-u,m=p[1]-h,y=2*(d*m-f*g),v=d*d+f*f,b=g*g+m*m,w=[(m*v-f*b)/y+u,(d*b-g*v)/y+h];Ek(n.edge,c,p,w),l.edge=_k(c,t,null,w),n.edge=_k(t,p,null,w),Fk(e),Fk(n)}else l.edge=_k(e.site,l.site)}}function jk(t,e){var n=t.site,r=n[0],i=n[1],o=i-e;if(!o)return r;var a=t.P;if(!a)return-1/0;var s=(n=a.site)[0],l=n[1],c=l-e;if(!c)return s;var u=s-r,h=1/o-1/c,d=u/c;return h?(-d+Math.sqrt(d*d-2*h*(u*u/(-2*c)-l+c/2+i-o/2)))/h+r:(r+s)/2}function Uk(t,e){var n=t.N;if(n)return jk(n,e);var r=t.site;return r[1]===e?r[0]:1/0}var Yk,qk,Wk,Hk,Vk=1e-6,Gk=1e-12;function Xk(t,e,n){return(t[0]-n[0])*(e[1]-t[1])-(t[0]-e[0])*(n[1]-t[1])}function Kk(t,e){return e[1]-t[1]||e[0]-t[0]}function Jk(t,e){var n,r,i,o=t.sort(Kk).pop();for(Hk=[],qk=new Array(t.length),Yk=new xk,Wk=new xk;;)if(i=Mk,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===n&&o[1]===r||($k(o),n=o[0],r=o[1]),o=t.pop();else{if(!i)break;zk(i.arc)}if(function(){for(var t,e,n,r,i=0,o=qk.length;i<o;++i)if((t=qk[i])&&(r=(e=t.halfedges).length)){var a=new Array(r),s=new Array(r);for(n=0;n<r;++n)a[n]=n,s[n]=Dk(t,Hk[e[n]]);for(a.sort((function(t,e){return s[e]-s[t]})),n=0;n<r;++n)s[n]=e[a[n]];for(n=0;n<r;++n)e[n]=s[n]}}(),e){var a=+e[0][0],s=+e[0][1],l=+e[1][0],c=+e[1][1];!function(t,e,n,r){for(var i,o=Hk.length;o--;)Sk(i=Hk[o],t,e,n,r)&&Ck(i,t,e,n,r)&&(Math.abs(i[0][0]-i[1][0])>Vk||Math.abs(i[0][1]-i[1][1])>Vk)||delete Hk[o]}(a,s,l,c),function(t,e,n,r){var i,o,a,s,l,c,u,h,d,f,p,g,m=qk.length,y=!0;for(i=0;i<m;++i)if(o=qk[i]){for(a=o.site,s=(l=o.halfedges).length;s--;)Hk[l[s]]||l.splice(s,1);for(s=0,c=l.length;s<c;)p=(f=Ak(o,Hk[l[s]]))[0],g=f[1],h=(u=Tk(o,Hk[l[++s%c]]))[0],d=u[1],(Math.abs(p-h)>Vk||Math.abs(g-d)>Vk)&&(l.splice(s,0,Hk.push(kk(a,f,Math.abs(p-t)<Vk&&r-g>Vk?[t,Math.abs(h-t)<Vk?d:r]:Math.abs(g-r)<Vk&&n-p>Vk?[Math.abs(d-r)<Vk?h:n,r]:Math.abs(p-n)<Vk&&g-e>Vk?[n,Math.abs(h-n)<Vk?d:e]:Math.abs(g-e)<Vk&&p-t>Vk?[Math.abs(d-e)<Vk?h:t,e]:null))-1),++c);c&&(y=!1)}if(y){var v,b,w,x=1/0;for(i=0,y=null;i<m;++i)(o=qk[i])&&(w=(v=(a=o.site)[0]-t)*v+(b=a[1]-e)*b)<x&&(x=w,y=o);if(y){var _=[t,e],k=[t,r],E=[n,r],C=[n,e];y.halfedges.push(Hk.push(kk(a=y.site,_,k))-1,Hk.push(kk(a,k,E))-1,Hk.push(kk(a,E,C))-1,Hk.push(kk(a,C,_))-1)}}for(i=0;i<m;++i)(o=qk[i])&&(o.halfedges.length||delete qk[i])}(a,s,l,c)}this.edges=Hk,this.cells=qk,Yk=Wk=Hk=qk=null}function Zk(){var t=pk,e=gk,n=null;function r(r){return new Jk(r.map((function(n,i){var o=[Math.round(t(n,i,r)/Vk)*Vk,Math.round(e(n,i,r)/Vk)*Vk];return o.index=i,o.data=n,o})),n)}return r.polygons=function(t){return r(t).polygons()},r.links=function(t){return r(t).links()},r.triangles=function(t){return r(t).triangles()},r.x=function(e){return arguments.length?(t="function"==typeof e?e:fk(+e),r):t},r.y=function(t){return arguments.length?(e="function"==typeof t?t:fk(+t),r):e},r.extent=function(t){return arguments.length?(n=null==t?null:[[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]],r):n&&[[n[0][0],n[0][1]],[n[1][0],n[1][1]]]},r.size=function(t){return arguments.length?(n=null==t?null:[[0,0],[+t[0],+t[1]]],r):n&&[n[1][0]-n[0][0],n[1][1]-n[0][1]]},r}function Qk(t){return function(){return t}}function tE(t,e,n){this.target=t,this.type=e,this.transform=n}function eE(t,e,n){this.k=t,this.x=e,this.y=n}Jk.prototype={constructor:Jk,polygons:function(){var t=this.edges;return this.cells.map((function(e){var n=e.halfedges.map((function(n){return Tk(e,t[n])}));return n.data=e.site.data,n}))},triangles:function(){var t=[],e=this.edges;return this.cells.forEach((function(n,r){if(o=(i=n.halfedges).length)for(var i,o,a,s=n.site,l=-1,c=e[i[o-1]],u=c.left===s?c.right:c.left;++l<o;)a=u,u=(c=e[i[l]]).left===s?c.right:c.left,a&&u&&r<a.index&&r<u.index&&Xk(s,a,u)<0&&t.push([s.data,a.data,u.data])})),t},links:function(){return this.edges.filter((function(t){return t.right})).map((function(t){return{source:t.left.data,target:t.right.data}}))},find:function(t,e,n){for(var r,i,o=this,a=o._found||0,s=o.cells.length;!(i=o.cells[a]);)if(++a>=s)return null;var l=t-i.site[0],c=e-i.site[1],u=l*l+c*c;do{i=o.cells[r=a],a=null,i.halfedges.forEach((function(n){var r=o.edges[n],s=r.left;if(s!==i.site&&s||(s=r.right)){var l=t-s[0],c=e-s[1],h=l*l+c*c;h<u&&(u=h,a=s.index)}}))}while(null!==a);return o._found=r,null==n||u<=n*n?i.site:null}},eE.prototype={constructor:eE,scale:function(t){return 1===t?this:new eE(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new eE(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var nE=new eE(1,0,0);function rE(t){for(;!t.__zoom;)if(!(t=t.parentNode))return nE;return t.__zoom}function iE(){ue.stopImmediatePropagation()}function oE(){ue.preventDefault(),ue.stopImmediatePropagation()}function aE(){return!ue.ctrlKey&&!ue.button}function sE(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function lE(){return this.__zoom||nE}function cE(){return-ue.deltaY*(1===ue.deltaMode?.05:ue.deltaMode?1:.002)}function uE(){return navigator.maxTouchPoints||"ontouchstart"in this}function hE(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],a=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function dE(){var t,e,n=aE,r=sE,i=hE,o=cE,a=uE,s=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],c=250,u=Op,h=dt("start","zoom","end"),d=500,f=0;function p(t){t.property("__zoom",lE).on("wheel.zoom",x).on("mousedown.zoom",_).on("dblclick.zoom",k).filter(a).on("touchstart.zoom",E).on("touchmove.zoom",C).on("touchend.zoom touchcancel.zoom",S).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(t,e){return(e=Math.max(s[0],Math.min(s[1],e)))===t.k?t:new eE(e,t.x,t.y)}function m(t,e,n){var r=e[0]-n[0]*t.k,i=e[1]-n[1]*t.k;return r===t.x&&i===t.y?t:new eE(t.k,r,i)}function y(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function v(t,e,n){t.on("start.zoom",(function(){b(this,arguments).start()})).on("interrupt.zoom end.zoom",(function(){b(this,arguments).end()})).tween("zoom",(function(){var t=this,i=arguments,o=b(t,i),a=r.apply(t,i),s=null==n?y(a):"function"==typeof n?n.apply(t,i):n,l=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),c=t.__zoom,h="function"==typeof e?e.apply(t,i):e,d=u(c.invert(s).concat(l/c.k),h.invert(s).concat(l/h.k));return function(t){if(1===t)t=h;else{var e=d(t),n=l/e[2];t=new eE(n,s[0]-e[0]*n,s[1]-e[1]*n)}o.zoom(null,t)}}))}function b(t,e,n){return!n&&t.__zooming||new w(t,e)}function w(t,e){this.that=t,this.args=e,this.active=0,this.extent=r.apply(t,e),this.taps=0}function x(){if(n.apply(this,arguments)){var t=b(this,arguments),e=this.__zoom,r=Math.max(s[0],Math.min(s[1],e.k*Math.pow(2,o.apply(this,arguments)))),a=Fn(this);if(t.wheel)t.mouse[0][0]===a[0]&&t.mouse[0][1]===a[1]||(t.mouse[1]=e.invert(t.mouse[0]=a)),clearTimeout(t.wheel);else{if(e.k===r)return;t.mouse=[a,e.invert(a)],or(this),t.start()}oE(),t.wheel=setTimeout(c,150),t.zoom("mouse",i(m(g(e,r),t.mouse[0],t.mouse[1]),t.extent,l))}function c(){t.wheel=null,t.end()}}function _(){if(!e&&n.apply(this,arguments)){var t=b(this,arguments,!0),r=Ee(ue.view).on("mousemove.zoom",c,!0).on("mouseup.zoom",u,!0),o=Fn(this),a=ue.clientX,s=ue.clientY;De(ue.view),iE(),t.mouse=[o,this.__zoom.invert(o)],or(this),t.start()}function c(){if(oE(),!t.moved){var e=ue.clientX-a,n=ue.clientY-s;t.moved=e*e+n*n>f}t.zoom("mouse",i(m(t.that.__zoom,t.mouse[0]=Fn(t.that),t.mouse[1]),t.extent,l))}function u(){r.on("mousemove.zoom mouseup.zoom",null),Te(ue.view,t.moved),oE(),t.end()}}function k(){if(n.apply(this,arguments)){var t=this.__zoom,e=Fn(this),o=t.invert(e),a=t.k*(ue.shiftKey?.5:2),s=i(m(g(t,a),e,o),r.apply(this,arguments),l);oE(),c>0?Ee(this).transition().duration(c).call(v,s,e):Ee(this).call(p.transform,s)}}function E(){if(n.apply(this,arguments)){var e,r,i,o,a=ue.touches,s=a.length,l=b(this,arguments,ue.changedTouches.length===s);for(iE(),r=0;r<s;++r)o=[o=On(this,a,(i=a[r]).identifier),this.__zoom.invert(o),i.identifier],l.touch0?l.touch1||l.touch0[2]===o[2]||(l.touch1=o,l.taps=0):(l.touch0=o,e=!0,l.taps=1+!!t);t&&(t=clearTimeout(t)),e&&(l.taps<2&&(t=setTimeout((function(){t=null}),d)),or(this),l.start())}}function C(){if(this.__zooming){var e,n,r,o,a=b(this,arguments),s=ue.changedTouches,c=s.length;for(oE(),t&&(t=clearTimeout(t)),a.taps=0,e=0;e<c;++e)r=On(this,s,(n=s[e]).identifier),a.touch0&&a.touch0[2]===n.identifier?a.touch0[0]=r:a.touch1&&a.touch1[2]===n.identifier&&(a.touch1[0]=r);if(n=a.that.__zoom,a.touch1){var u=a.touch0[0],h=a.touch0[1],d=a.touch1[0],f=a.touch1[1],p=(p=d[0]-u[0])*p+(p=d[1]-u[1])*p,y=(y=f[0]-h[0])*y+(y=f[1]-h[1])*y;n=g(n,Math.sqrt(p/y)),r=[(u[0]+d[0])/2,(u[1]+d[1])/2],o=[(h[0]+f[0])/2,(h[1]+f[1])/2]}else{if(!a.touch0)return;r=a.touch0[0],o=a.touch0[1]}a.zoom("touch",i(m(n,r,o),a.extent,l))}}function S(){if(this.__zooming){var t,n,r=b(this,arguments),i=ue.changedTouches,o=i.length;for(iE(),e&&clearTimeout(e),e=setTimeout((function(){e=null}),d),t=0;t<o;++t)n=i[t],r.touch0&&r.touch0[2]===n.identifier?delete r.touch0:r.touch1&&r.touch1[2]===n.identifier&&delete r.touch1;if(r.touch1&&!r.touch0&&(r.touch0=r.touch1,delete r.touch1),r.touch0)r.touch0[1]=this.__zoom.invert(r.touch0[0]);else if(r.end(),2===r.taps){var a=Ee(this).on("dblclick.zoom");a&&a.apply(this,arguments)}}}return p.transform=function(t,e,n){var r=t.selection?t.selection():t;r.property("__zoom",lE),t!==r?v(t,e,n):r.interrupt().each((function(){b(this,arguments).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()}))},p.scaleBy=function(t,e,n){p.scaleTo(t,(function(){var t=this.__zoom.k,n="function"==typeof e?e.apply(this,arguments):e;return t*n}),n)},p.scaleTo=function(t,e,n){p.transform(t,(function(){var t=r.apply(this,arguments),o=this.__zoom,a=null==n?y(t):"function"==typeof n?n.apply(this,arguments):n,s=o.invert(a),c="function"==typeof e?e.apply(this,arguments):e;return i(m(g(o,c),a,s),t,l)}),n)},p.translateBy=function(t,e,n){p.transform(t,(function(){return i(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),r.apply(this,arguments),l)}))},p.translateTo=function(t,e,n,o){p.transform(t,(function(){var t=r.apply(this,arguments),a=this.__zoom,s=null==o?y(t):"function"==typeof o?o.apply(this,arguments):o;return i(nE.translate(s[0],s[1]).scale(a.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof n?-n.apply(this,arguments):-n),t,l)}),o)},w.prototype={start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){me(new tE(p,t,this.that.__zoom),h.apply,h,[t,this.that,this.args])}},p.wheelDelta=function(t){return arguments.length?(o="function"==typeof t?t:Qk(+t),p):o},p.filter=function(t){return arguments.length?(n="function"==typeof t?t:Qk(!!t),p):n},p.touchable=function(t){return arguments.length?(a="function"==typeof t?t:Qk(!!t),p):a},p.extent=function(t){return arguments.length?(r="function"==typeof t?t:Qk([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),p):r},p.scaleExtent=function(t){return arguments.length?(s[0]=+t[0],s[1]=+t[1],p):[s[0],s[1]]},p.translateExtent=function(t){return arguments.length?(l[0][0]=+t[0][0],l[1][0]=+t[1][0],l[0][1]=+t[0][1],l[1][1]=+t[1][1],p):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},p.constrain=function(t){return arguments.length?(i=t,p):i},p.duration=function(t){return arguments.length?(c=+t,p):c},p.interpolate=function(t){return arguments.length?(u=t,p):u},p.on=function(){var t=h.on.apply(h,arguments);return t===h?p:t},p.clickDistance=function(t){return arguments.length?(f=(t=+t)*t,p):Math.sqrt(f)},p}rE.prototype=eE.prototype},681:(t,e,n)=>{t.exports={graphlib:n(574),layout:n(8123),debug:n(7570),util:{time:n(1138).time,notime:n(1138).notime},version:n(8177)}},2188:(t,e,n)=>{var r=n(8436),i=n(4079);t.exports={run:function(t){var e="greedy"===t.graph().acyclicer?i(t,function(t){return function(e){return t.edge(e).weight}}(t)):function(t){var e=[],n={},i={};return r.forEach(t.nodes(),(function o(a){r.has(i,a)||(i[a]=!0,n[a]=!0,r.forEach(t.outEdges(a),(function(t){r.has(n,t.w)?e.push(t):o(t.w)})),delete n[a])})),e}(t);r.forEach(e,(function(e){var n=t.edge(e);t.removeEdge(e),n.forwardName=e.name,n.reversed=!0,t.setEdge(e.w,e.v,n,r.uniqueId("rev"))}))},undo:function(t){r.forEach(t.edges(),(function(e){var n=t.edge(e);if(n.reversed){t.removeEdge(e);var r=n.forwardName;delete n.reversed,delete n.forwardName,t.setEdge(e.w,e.v,n,r)}}))}}},1133:(t,e,n)=>{var r=n(8436),i=n(1138);function o(t,e,n,r,o,a){var s={width:0,height:0,rank:a,borderType:e},l=o[e][a-1],c=i.addDummyNode(t,"border",s,n);o[e][a]=c,t.setParent(c,r),l&&t.setEdge(l,c,{weight:1})}t.exports=function(t){r.forEach(t.children(),(function e(n){var i=t.children(n),a=t.node(n);if(i.length&&r.forEach(i,e),r.has(a,"minRank")){a.borderLeft=[],a.borderRight=[];for(var s=a.minRank,l=a.maxRank+1;s<l;++s)o(t,"borderLeft","_bl",n,a,s),o(t,"borderRight","_br",n,a,s)}}))}},3258:(t,e,n)=>{var r=n(8436);function i(t){r.forEach(t.nodes(),(function(e){o(t.node(e))})),r.forEach(t.edges(),(function(e){o(t.edge(e))}))}function o(t){var e=t.width;t.width=t.height,t.height=e}function a(t){t.y=-t.y}function s(t){var e=t.x;t.x=t.y,t.y=e}t.exports={adjust:function(t){var e=t.graph().rankdir.toLowerCase();"lr"!==e&&"rl"!==e||i(t)},undo:function(t){var e=t.graph().rankdir.toLowerCase();"bt"!==e&&"rl"!==e||function(t){r.forEach(t.nodes(),(function(e){a(t.node(e))})),r.forEach(t.edges(),(function(e){var n=t.edge(e);r.forEach(n.points,a),r.has(n,"y")&&a(n)}))}(t),"lr"!==e&&"rl"!==e||(function(t){r.forEach(t.nodes(),(function(e){s(t.node(e))})),r.forEach(t.edges(),(function(e){var n=t.edge(e);r.forEach(n.points,s),r.has(n,"x")&&s(n)}))}(t),i(t))}}},7822:t=>{function e(){var t={};t._next=t._prev=t,this._sentinel=t}function n(t){t._prev._next=t._next,t._next._prev=t._prev,delete t._next,delete t._prev}function r(t,e){if("_next"!==t&&"_prev"!==t)return e}t.exports=e,e.prototype.dequeue=function(){var t=this._sentinel,e=t._prev;if(e!==t)return n(e),e},e.prototype.enqueue=function(t){var e=this._sentinel;t._prev&&t._next&&n(t),t._next=e._next,e._next._prev=t,e._next=t,t._prev=e},e.prototype.toString=function(){for(var t=[],e=this._sentinel,n=e._prev;n!==e;)t.push(JSON.stringify(n,r)),n=n._prev;return"["+t.join(", ")+"]"}},7570:(t,e,n)=>{var r=n(8436),i=n(1138),o=n(574).Graph;t.exports={debugOrdering:function(t){var e=i.buildLayerMatrix(t),n=new o({compound:!0,multigraph:!0}).setGraph({});return r.forEach(t.nodes(),(function(e){n.setNode(e,{label:e}),n.setParent(e,"layer"+t.node(e).rank)})),r.forEach(t.edges(),(function(t){n.setEdge(t.v,t.w,{},t.name)})),r.forEach(e,(function(t,e){var i="layer"+e;n.setNode(i,{rank:"same"}),r.reduce(t,(function(t,e){return n.setEdge(t,e,{style:"invis"}),e}))})),n}}},574:(t,e,n)=>{var r;try{r=n(8282)}catch(t){}r||(r=window.graphlib),t.exports=r},4079:(t,e,n)=>{var r=n(8436),i=n(574).Graph,o=n(7822);t.exports=function(t,e){if(t.nodeCount()<=1)return[];var n=function(t,e){var n=new i,a=0,s=0;r.forEach(t.nodes(),(function(t){n.setNode(t,{v:t,in:0,out:0})})),r.forEach(t.edges(),(function(t){var r=n.edge(t.v,t.w)||0,i=e(t),o=r+i;n.setEdge(t.v,t.w,o),s=Math.max(s,n.node(t.v).out+=i),a=Math.max(a,n.node(t.w).in+=i)}));var c=r.range(s+a+3).map((function(){return new o})),u=a+1;return r.forEach(n.nodes(),(function(t){l(c,u,n.node(t))})),{graph:n,buckets:c,zeroIdx:u}}(t,e||a),c=function(t,e,n){for(var r,i=[],o=e[e.length-1],a=e[0];t.nodeCount();){for(;r=a.dequeue();)s(t,e,n,r);for(;r=o.dequeue();)s(t,e,n,r);if(t.nodeCount())for(var l=e.length-2;l>0;--l)if(r=e[l].dequeue()){i=i.concat(s(t,e,n,r,!0));break}}return i}(n.graph,n.buckets,n.zeroIdx);return r.flatten(r.map(c,(function(e){return t.outEdges(e.v,e.w)})),!0)};var a=r.constant(1);function s(t,e,n,i,o){var a=o?[]:void 0;return r.forEach(t.inEdges(i.v),(function(r){var i=t.edge(r),s=t.node(r.v);o&&a.push({v:r.v,w:r.w}),s.out-=i,l(e,n,s)})),r.forEach(t.outEdges(i.v),(function(r){var i=t.edge(r),o=r.w,a=t.node(o);a.in-=i,l(e,n,a)})),t.removeNode(i.v),a}function l(t,e,n){n.out?n.in?t[n.out-n.in+e].enqueue(n):t[t.length-1].enqueue(n):t[0].enqueue(n)}},8123:(t,e,n)=>{var r=n(8436),i=n(2188),o=n(5995),a=n(8093),s=n(1138).normalizeRanks,l=n(4219),c=n(1138).removeEmptyRanks,u=n(2981),h=n(1133),d=n(3258),f=n(3408),p=n(7873),g=n(1138),m=n(574).Graph;t.exports=function(t,e){var n=e&&e.debugTiming?g.time:g.notime;n("layout",(function(){var e=n("  buildLayoutGraph",(function(){return function(t){var e=new m({multigraph:!0,compound:!0}),n=S(t.graph());return e.setGraph(r.merge({},v,C(n,y),r.pick(n,b))),r.forEach(t.nodes(),(function(n){var i=S(t.node(n));e.setNode(n,r.defaults(C(i,w),x)),e.setParent(n,t.parent(n))})),r.forEach(t.edges(),(function(n){var i=S(t.edge(n));e.setEdge(n,r.merge({},k,C(i,_),r.pick(i,E)))})),e}(t)}));n("  runLayout",(function(){!function(t,e){e("    makeSpaceForEdgeLabels",(function(){!function(t){var e=t.graph();e.ranksep/=2,r.forEach(t.edges(),(function(n){var r=t.edge(n);r.minlen*=2,"c"!==r.labelpos.toLowerCase()&&("TB"===e.rankdir||"BT"===e.rankdir?r.width+=r.labeloffset:r.height+=r.labeloffset)}))}(t)})),e("    removeSelfEdges",(function(){!function(t){r.forEach(t.edges(),(function(e){if(e.v===e.w){var n=t.node(e.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e,label:t.edge(e)}),t.removeEdge(e)}}))}(t)})),e("    acyclic",(function(){i.run(t)})),e("    nestingGraph.run",(function(){u.run(t)})),e("    rank",(function(){a(g.asNonCompoundGraph(t))})),e("    injectEdgeLabelProxies",(function(){!function(t){r.forEach(t.edges(),(function(e){var n=t.edge(e);if(n.width&&n.height){var r=t.node(e.v),i={rank:(t.node(e.w).rank-r.rank)/2+r.rank,e};g.addDummyNode(t,"edge-proxy",i,"_ep")}}))}(t)})),e("    removeEmptyRanks",(function(){c(t)})),e("    nestingGraph.cleanup",(function(){u.cleanup(t)})),e("    normalizeRanks",(function(){s(t)})),e("    assignRankMinMax",(function(){!function(t){var e=0;r.forEach(t.nodes(),(function(n){var i=t.node(n);i.borderTop&&(i.minRank=t.node(i.borderTop).rank,i.maxRank=t.node(i.borderBottom).rank,e=r.max(e,i.maxRank))})),t.graph().maxRank=e}(t)})),e("    removeEdgeLabelProxies",(function(){!function(t){r.forEach(t.nodes(),(function(e){var n=t.node(e);"edge-proxy"===n.dummy&&(t.edge(n.e).labelRank=n.rank,t.removeNode(e))}))}(t)})),e("    normalize.run",(function(){o.run(t)})),e("    parentDummyChains",(function(){l(t)})),e("    addBorderSegments",(function(){h(t)})),e("    order",(function(){f(t)})),e("    insertSelfEdges",(function(){!function(t){var e=g.buildLayerMatrix(t);r.forEach(e,(function(e){var n=0;r.forEach(e,(function(e,i){var o=t.node(e);o.order=i+n,r.forEach(o.selfEdges,(function(e){g.addDummyNode(t,"selfedge",{width:e.label.width,height:e.label.height,rank:o.rank,order:i+ ++n,e:e.e,label:e.label},"_se")})),delete o.selfEdges}))}))}(t)})),e("    adjustCoordinateSystem",(function(){d.adjust(t)})),e("    position",(function(){p(t)})),e("    positionSelfEdges",(function(){!function(t){r.forEach(t.nodes(),(function(e){var n=t.node(e);if("selfedge"===n.dummy){var r=t.node(n.e.v),i=r.x+r.width/2,o=r.y,a=n.x-i,s=r.height/2;t.setEdge(n.e,n.label),t.removeNode(e),n.label.points=[{x:i+2*a/3,y:o-s},{x:i+5*a/6,y:o-s},{x:i+a,y:o},{x:i+5*a/6,y:o+s},{x:i+2*a/3,y:o+s}],n.label.x=n.x,n.label.y=n.y}}))}(t)})),e("    removeBorderNodes",(function(){!function(t){r.forEach(t.nodes(),(function(e){if(t.children(e).length){var n=t.node(e),i=t.node(n.borderTop),o=t.node(n.borderBottom),a=t.node(r.last(n.borderLeft)),s=t.node(r.last(n.borderRight));n.width=Math.abs(s.x-a.x),n.height=Math.abs(o.y-i.y),n.x=a.x+n.width/2,n.y=i.y+n.height/2}})),r.forEach(t.nodes(),(function(e){"border"===t.node(e).dummy&&t.removeNode(e)}))}(t)})),e("    normalize.undo",(function(){o.undo(t)})),e("    fixupEdgeLabelCoords",(function(){!function(t){r.forEach(t.edges(),(function(e){var n=t.edge(e);if(r.has(n,"x"))switch("l"!==n.labelpos&&"r"!==n.labelpos||(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset}}))}(t)})),e("    undoCoordinateSystem",(function(){d.undo(t)})),e("    translateGraph",(function(){!function(t){var e=Number.POSITIVE_INFINITY,n=0,i=Number.POSITIVE_INFINITY,o=0,a=t.graph(),s=a.marginx||0,l=a.marginy||0;function c(t){var r=t.x,a=t.y,s=t.width,l=t.height;e=Math.min(e,r-s/2),n=Math.max(n,r+s/2),i=Math.min(i,a-l/2),o=Math.max(o,a+l/2)}r.forEach(t.nodes(),(function(e){c(t.node(e))})),r.forEach(t.edges(),(function(e){var n=t.edge(e);r.has(n,"x")&&c(n)})),e-=s,i-=l,r.forEach(t.nodes(),(function(n){var r=t.node(n);r.x-=e,r.y-=i})),r.forEach(t.edges(),(function(n){var o=t.edge(n);r.forEach(o.points,(function(t){t.x-=e,t.y-=i})),r.has(o,"x")&&(o.x-=e),r.has(o,"y")&&(o.y-=i)})),a.width=n-e+s,a.height=o-i+l}(t)})),e("    assignNodeIntersects",(function(){!function(t){r.forEach(t.edges(),(function(e){var n,r,i=t.edge(e),o=t.node(e.v),a=t.node(e.w);i.points?(n=i.points[0],r=i.points[i.points.length-1]):(i.points=[],n=a,r=o),i.points.unshift(g.intersectRect(o,n)),i.points.push(g.intersectRect(a,r))}))}(t)})),e("    reversePoints",(function(){!function(t){r.forEach(t.edges(),(function(e){var n=t.edge(e);n.reversed&&n.points.reverse()}))}(t)})),e("    acyclic.undo",(function(){i.undo(t)}))}(e,n)})),n("  updateInputGraph",(function(){!function(t,e){r.forEach(t.nodes(),(function(n){var r=t.node(n),i=e.node(n);r&&(r.x=i.x,r.y=i.y,e.children(n).length&&(r.width=i.width,r.height=i.height))})),r.forEach(t.edges(),(function(n){var i=t.edge(n),o=e.edge(n);i.points=o.points,r.has(o,"x")&&(i.x=o.x,i.y=o.y)})),t.graph().width=e.graph().width,t.graph().height=e.graph().height}(t,e)}))}))};var y=["nodesep","edgesep","ranksep","marginx","marginy"],v={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},b=["acyclicer","ranker","rankdir","align"],w=["width","height"],x={width:0,height:0},_=["minlen","weight","width","height","labeloffset"],k={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},E=["labelpos"];function C(t,e){return r.mapValues(r.pick(t,e),Number)}function S(t){var e={};return r.forEach(t,(function(t,n){e[n.toLowerCase()]=t})),e}},8436:(t,e,n)=>{var r;try{r={cloneDeep:n(361),constant:n(5703),defaults:n(1747),each:n(6073),filter:n(3105),find:n(3311),flatten:n(5564),forEach:n(4486),forIn:n(2620),has:n(8721),isUndefined:n(2353),last:n(928),map:n(5161),mapValues:n(6604),max:n(6162),merge:n(3857),min:n(3632),minBy:n(2762),now:n(7771),pick:n(9722),range:n(6026),reduce:n(4061),sortBy:n(9734),uniqueId:n(3955),values:n(2628),zipObject:n(7287)}}catch(t){}r||(r=window._),t.exports=r},2981:(t,e,n)=>{var r=n(8436),i=n(1138);function o(t,e,n,a,s,l,c){var u=t.children(c);if(u.length){var h=i.addBorderNode(t,"_bt"),d=i.addBorderNode(t,"_bb"),f=t.node(c);t.setParent(h,c),f.borderTop=h,t.setParent(d,c),f.borderBottom=d,r.forEach(u,(function(r){o(t,e,n,a,s,l,r);var i=t.node(r),u=i.borderTop?i.borderTop:r,f=i.borderBottom?i.borderBottom:r,p=i.borderTop?a:2*a,g=u!==f?1:s-l[c]+1;t.setEdge(h,u,{weight:p,minlen:g,nestingEdge:!0}),t.setEdge(f,d,{weight:p,minlen:g,nestingEdge:!0})})),t.parent(c)||t.setEdge(e,h,{weight:0,minlen:s+l[c]})}else c!==e&&t.setEdge(e,c,{weight:0,minlen:n})}t.exports={run:function(t){var e=i.addDummyNode(t,"root",{},"_root"),n=function(t){var e={};function n(i,o){var a=t.children(i);a&&a.length&&r.forEach(a,(function(t){n(t,o+1)})),e[i]=o}return r.forEach(t.children(),(function(t){n(t,1)})),e}(t),a=r.max(r.values(n))-1,s=2*a+1;t.graph().nestingRoot=e,r.forEach(t.edges(),(function(e){t.edge(e).minlen*=s}));var l=function(t){return r.reduce(t.edges(),(function(e,n){return e+t.edge(n).weight}),0)}(t)+1;r.forEach(t.children(),(function(r){o(t,e,s,l,a,n,r)})),t.graph().nodeRankFactor=s},cleanup:function(t){var e=t.graph();t.removeNode(e.nestingRoot),delete e.nestingRoot,r.forEach(t.edges(),(function(e){t.edge(e).nestingEdge&&t.removeEdge(e)}))}}},5995:(t,e,n)=>{var r=n(8436),i=n(1138);t.exports={run:function(t){t.graph().dummyChains=[],r.forEach(t.edges(),(function(e){!function(t,e){var n,r,o,a=e.v,s=t.node(a).rank,l=e.w,c=t.node(l).rank,u=e.name,h=t.edge(e),d=h.labelRank;if(c!==s+1){for(t.removeEdge(e),o=0,++s;s<c;++o,++s)h.points=[],r={width:0,height:0,edgeLabel:h,edgeObj:e,rank:s},n=i.addDummyNode(t,"edge",r,"_d"),s===d&&(r.width=h.width,r.height=h.height,r.dummy="edge-label",r.labelpos=h.labelpos),t.setEdge(a,n,{weight:h.weight},u),0===o&&t.graph().dummyChains.push(n),a=n;t.setEdge(a,l,{weight:h.weight},u)}}(t,e)}))},undo:function(t){r.forEach(t.graph().dummyChains,(function(e){var n,r=t.node(e),i=r.edgeLabel;for(t.setEdge(r.edgeObj,i);r.dummy;)n=t.successors(e)[0],t.removeNode(e),i.points.push({x:r.x,y:r.y}),"edge-label"===r.dummy&&(i.x=r.x,i.y=r.y,i.width=r.width,i.height=r.height),e=n,r=t.node(e)}))}}},5093:(t,e,n)=>{var r=n(8436);t.exports=function(t,e,n){var i,o={};r.forEach(n,(function(n){for(var r,a,s=t.parent(n);s;){if((r=t.parent(s))?(a=o[r],o[r]=s):(a=i,i=s),a&&a!==s)return void e.setEdge(a,s);s=r}}))}},5439:(t,e,n)=>{var r=n(8436);t.exports=function(t,e){return r.map(e,(function(e){var n=t.inEdges(e);if(n.length){var i=r.reduce(n,(function(e,n){var r=t.edge(n),i=t.node(n.v);return{sum:e.sum+r.weight*i.order,weight:e.weight+r.weight}}),{sum:0,weight:0});return{v:e,barycenter:i.sum/i.weight,weight:i.weight}}return{v:e}}))}},3128:(t,e,n)=>{var r=n(8436),i=n(574).Graph;t.exports=function(t,e,n){var o=function(t){for(var e;t.hasNode(e=r.uniqueId("_root")););return e}(t),a=new i({compound:!0}).setGraph({root:o}).setDefaultNodeLabel((function(e){return t.node(e)}));return r.forEach(t.nodes(),(function(i){var s=t.node(i),l=t.parent(i);(s.rank===e||s.minRank<=e&&e<=s.maxRank)&&(a.setNode(i),a.setParent(i,l||o),r.forEach(t[n](i),(function(e){var n=e.v===i?e.w:e.v,o=a.edge(n,i),s=r.isUndefined(o)?0:o.weight;a.setEdge(n,i,{weight:t.edge(e).weight+s})})),r.has(s,"minRank")&&a.setNode(i,{borderLeft:s.borderLeft[e],borderRight:s.borderRight[e]}))})),a}},6630:(t,e,n)=>{var r=n(8436);function i(t,e,n){for(var i=r.zipObject(n,r.map(n,(function(t,e){return e}))),o=r.flatten(r.map(e,(function(e){return r.sortBy(r.map(t.outEdges(e),(function(e){return{pos:i[e.w],weight:t.edge(e).weight}})),"pos")})),!0),a=1;a<n.length;)a<<=1;var s=2*a-1;a-=1;var l=r.map(new Array(s),(function(){return 0})),c=0;return r.forEach(o.forEach((function(t){var e=t.pos+a;l[e]+=t.weight;for(var n=0;e>0;)e%2&&(n+=l[e+1]),l[e=e-1>>1]+=t.weight;c+=t.weight*n}))),c}t.exports=function(t,e){for(var n=0,r=1;r<e.length;++r)n+=i(t,e[r-1],e[r]);return n}},3408:(t,e,n)=>{var r=n(8436),i=n(2588),o=n(6630),a=n(1026),s=n(3128),l=n(5093),c=n(574).Graph,u=n(1138);function h(t,e,n){return r.map(e,(function(e){return s(t,e,n)}))}function d(t,e){var n=new c;r.forEach(t,(function(t){var i=t.graph().root,o=a(t,i,n,e);r.forEach(o.vs,(function(e,n){t.node(e).order=n})),l(t,n,o.vs)}))}function f(t,e){r.forEach(e,(function(e){r.forEach(e,(function(e,n){t.node(e).order=n}))}))}t.exports=function(t){var e=u.maxRank(t),n=h(t,r.range(1,e+1),"inEdges"),a=h(t,r.range(e-1,-1,-1),"outEdges"),s=i(t);f(t,s);for(var l,c=Number.POSITIVE_INFINITY,p=0,g=0;g<4;++p,++g){d(p%2?n:a,p%4>=2),s=u.buildLayerMatrix(t);var m=o(t,s);m<c&&(g=0,l=r.cloneDeep(s),c=m)}f(t,l)}},2588:(t,e,n)=>{var r=n(8436);t.exports=function(t){var e={},n=r.filter(t.nodes(),(function(e){return!t.children(e).length})),i=r.max(r.map(n,(function(e){return t.node(e).rank}))),o=r.map(r.range(i+1),(function(){return[]})),a=r.sortBy(n,(function(e){return t.node(e).rank}));return r.forEach(a,(function n(i){if(!r.has(e,i)){e[i]=!0;var a=t.node(i);o[a.rank].push(i),r.forEach(t.successors(i),n)}})),o}},9567:(t,e,n)=>{var r=n(8436);t.exports=function(t,e){var n={};return r.forEach(t,(function(t,e){var i=n[t.v]={indegree:0,in:[],out:[],vs:[t.v],i:e};r.isUndefined(t.barycenter)||(i.barycenter=t.barycenter,i.weight=t.weight)})),r.forEach(e.edges(),(function(t){var e=n[t.v],i=n[t.w];r.isUndefined(e)||r.isUndefined(i)||(i.indegree++,e.out.push(n[t.w]))})),function(t){var e=[];function n(t){return function(e){var n,i,o,a;e.merged||(r.isUndefined(e.barycenter)||r.isUndefined(t.barycenter)||e.barycenter>=t.barycenter)&&(i=e,o=0,a=0,(n=t).weight&&(o+=n.barycenter*n.weight,a+=n.weight),i.weight&&(o+=i.barycenter*i.weight,a+=i.weight),n.vs=i.vs.concat(n.vs),n.barycenter=o/a,n.weight=a,n.i=Math.min(i.i,n.i),i.merged=!0)}}function i(e){return function(n){n.in.push(e),0==--n.indegree&&t.push(n)}}for(;t.length;){var o=t.pop();e.push(o),r.forEach(o.in.reverse(),n(o)),r.forEach(o.out,i(o))}return r.map(r.filter(e,(function(t){return!t.merged})),(function(t){return r.pick(t,["vs","i","barycenter","weight"])}))}(r.filter(n,(function(t){return!t.indegree})))}},1026:(t,e,n)=>{var r=n(8436),i=n(5439),o=n(9567),a=n(7304);t.exports=function t(e,n,s,l){var c=e.children(n),u=e.node(n),h=u?u.borderLeft:void 0,d=u?u.borderRight:void 0,f={};h&&(c=r.filter(c,(function(t){return t!==h&&t!==d})));var p=i(e,c);r.forEach(p,(function(n){if(e.children(n.v).length){var i=t(e,n.v,s,l);f[n.v]=i,r.has(i,"barycenter")&&(o=n,a=i,r.isUndefined(o.barycenter)?(o.barycenter=a.barycenter,o.weight=a.weight):(o.barycenter=(o.barycenter*o.weight+a.barycenter*a.weight)/(o.weight+a.weight),o.weight+=a.weight))}var o,a}));var g=o(p,s);!function(t,e){r.forEach(t,(function(t){t.vs=r.flatten(t.vs.map((function(t){return e[t]?e[t].vs:t})),!0)}))}(g,f);var m=a(g,l);if(h&&(m.vs=r.flatten([h,m.vs,d],!0),e.predecessors(h).length)){var y=e.node(e.predecessors(h)[0]),v=e.node(e.predecessors(d)[0]);r.has(m,"barycenter")||(m.barycenter=0,m.weight=0),m.barycenter=(m.barycenter*m.weight+y.order+v.order)/(m.weight+2),m.weight+=2}return m}},7304:(t,e,n)=>{var r=n(8436),i=n(1138);function o(t,e,n){for(var i;e.length&&(i=r.last(e)).i<=n;)e.pop(),t.push(i.vs),n++;return n}t.exports=function(t,e){var n,a=i.partition(t,(function(t){return r.has(t,"barycenter")})),s=a.lhs,l=r.sortBy(a.rhs,(function(t){return-t.i})),c=[],u=0,h=0,d=0;s.sort((n=!!e,function(t,e){return t.barycenter<e.barycenter?-1:t.barycenter>e.barycenter?1:n?e.i-t.i:t.i-e.i})),d=o(c,l,d),r.forEach(s,(function(t){d+=t.vs.length,c.push(t.vs),u+=t.barycenter*t.weight,h+=t.weight,d=o(c,l,d)}));var f={vs:r.flatten(c,!0)};return h&&(f.barycenter=u/h,f.weight=h),f}},4219:(t,e,n)=>{var r=n(8436);t.exports=function(t){var e=function(t){var e={},n=0;return r.forEach(t.children(),(function i(o){var a=n;r.forEach(t.children(o),i),e[o]={low:a,lim:n++}})),e}(t);r.forEach(t.graph().dummyChains,(function(n){for(var r=t.node(n),i=r.edgeObj,o=function(t,e,n,r){var i,o,a=[],s=[],l=Math.min(e[n].low,e[r].low),c=Math.max(e[n].lim,e[r].lim);i=n;do{i=t.parent(i),a.push(i)}while(i&&(e[i].low>l||c>e[i].lim));for(o=i,i=r;(i=t.parent(i))!==o;)s.push(i);return{path:a.concat(s.reverse()),lca:o}}(t,e,i.v,i.w),a=o.path,s=o.lca,l=0,c=a[l],u=!0;n!==i.w;){if(r=t.node(n),u){for(;(c=a[l])!==s&&t.node(c).maxRank<r.rank;)l++;c===s&&(u=!1)}if(!u){for(;l<a.length-1&&t.node(c=a[l+1]).minRank<=r.rank;)l++;c=a[l]}t.setParent(n,c),n=t.successors(n)[0]}}))}},3573:(t,e,n)=>{var r=n(8436),i=n(574).Graph,o=n(1138);function a(t,e){var n={};return r.reduce(e,(function(e,i){var o=0,a=0,s=e.length,c=r.last(i);return r.forEach(i,(function(e,u){var h=function(t,e){if(t.node(e).dummy)return r.find(t.predecessors(e),(function(e){return t.node(e).dummy}))}(t,e),d=h?t.node(h).order:s;(h||e===c)&&(r.forEach(i.slice(a,u+1),(function(e){r.forEach(t.predecessors(e),(function(r){var i=t.node(r),a=i.order;!(a<o||d<a)||i.dummy&&t.node(e).dummy||l(n,r,e)}))})),a=u+1,o=d)})),i})),n}function s(t,e){var n={};function i(e,i,o,a,s){var c;r.forEach(r.range(i,o),(function(i){c=e[i],t.node(c).dummy&&r.forEach(t.predecessors(c),(function(e){var r=t.node(e);r.dummy&&(r.order<a||r.order>s)&&l(n,e,c)}))}))}return r.reduce(e,(function(e,n){var o,a=-1,s=0;return r.forEach(n,(function(r,l){if("border"===t.node(r).dummy){var c=t.predecessors(r);c.length&&(o=t.node(c[0]).order,i(n,s,l,a,o),s=l,a=o)}i(n,s,n.length,o,e.length)})),n})),n}function l(t,e,n){if(e>n){var r=e;e=n,n=r}var i=t[e];i||(t[e]=i={}),i[n]=!0}function c(t,e,n){if(e>n){var i=e;e=n,n=i}return r.has(t[e],n)}function u(t,e,n,i){var o={},a={},s={};return r.forEach(e,(function(t){r.forEach(t,(function(t,e){o[t]=t,a[t]=t,s[t]=e}))})),r.forEach(e,(function(t){var e=-1;r.forEach(t,(function(t){var l=i(t);if(l.length){l=r.sortBy(l,(function(t){return s[t]}));for(var u=(l.length-1)/2,h=Math.floor(u),d=Math.ceil(u);h<=d;++h){var f=l[h];a[t]===t&&e<s[f]&&!c(n,t,f)&&(a[f]=t,a[t]=o[t]=o[f],e=s[f])}}}))})),{root:o,align:a}}function h(t,e,n,o,a){var s={},l=function(t,e,n,o){var a=new i,s=t.graph(),l=function(t,e,n){return function(i,o,a){var s,l=i.node(o),c=i.node(a),u=0;if(u+=l.width/2,r.has(l,"labelpos"))switch(l.labelpos.toLowerCase()){case"l":s=-l.width/2;break;case"r":s=l.width/2}if(s&&(u+=n?s:-s),s=0,u+=(l.dummy?e:t)/2,u+=(c.dummy?e:t)/2,u+=c.width/2,r.has(c,"labelpos"))switch(c.labelpos.toLowerCase()){case"l":s=c.width/2;break;case"r":s=-c.width/2}return s&&(u+=n?s:-s),s=0,u}}(s.nodesep,s.edgesep,o);return r.forEach(e,(function(e){var i;r.forEach(e,(function(e){var r=n[e];if(a.setNode(r),i){var o=n[i],s=a.edge(o,r);a.setEdge(o,r,Math.max(l(t,e,i),s||0))}i=e}))})),a}(t,e,n,a),c=a?"borderLeft":"borderRight";function u(t,e){for(var n=l.nodes(),r=n.pop(),i={};r;)i[r]?t(r):(i[r]=!0,n.push(r),n=n.concat(e(r))),r=n.pop()}return u((function(t){s[t]=l.inEdges(t).reduce((function(t,e){return Math.max(t,s[e.v]+l.edge(e))}),0)}),l.predecessors.bind(l)),u((function(e){var n=l.outEdges(e).reduce((function(t,e){return Math.min(t,s[e.w]-l.edge(e))}),Number.POSITIVE_INFINITY),r=t.node(e);n!==Number.POSITIVE_INFINITY&&r.borderType!==c&&(s[e]=Math.max(s[e],n))}),l.successors.bind(l)),r.forEach(o,(function(t){s[t]=s[n[t]]})),s}function d(t,e){return r.minBy(r.values(e),(function(e){var n=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return r.forIn(e,(function(e,r){var o=function(t,e){return t.node(e).width}(t,r)/2;n=Math.max(e+o,n),i=Math.min(e-o,i)})),n-i}))}function f(t,e){var n=r.values(e),i=r.min(n),o=r.max(n);r.forEach(["u","d"],(function(n){r.forEach(["l","r"],(function(a){var s,l=n+a,c=t[l];if(c!==e){var u=r.values(c);(s="l"===a?i-r.min(u):o-r.max(u))&&(t[l]=r.mapValues(c,(function(t){return t+s})))}}))}))}function p(t,e){return r.mapValues(t.ul,(function(n,i){if(e)return t[e.toLowerCase()][i];var o=r.sortBy(r.map(t,i));return(o[1]+o[2])/2}))}t.exports={positionX:function(t){var e,n=o.buildLayerMatrix(t),i=r.merge(a(t,n),s(t,n)),l={};r.forEach(["u","d"],(function(o){e="u"===o?n:r.values(n).reverse(),r.forEach(["l","r"],(function(n){"r"===n&&(e=r.map(e,(function(t){return r.values(t).reverse()})));var a=("u"===o?t.predecessors:t.successors).bind(t),s=u(0,e,i,a),c=h(t,e,s.root,s.align,"r"===n);"r"===n&&(c=r.mapValues(c,(function(t){return-t}))),l[o+n]=c}))}));var c=d(t,l);return f(l,c),p(l,t.graph().align)},findType1Conflicts:a,findType2Conflicts:s,addConflict:l,hasConflict:c,verticalAlignment:u,horizontalCompaction:h,alignCoordinates:f,findSmallestWidthAlignment:d,balance:p}},7873:(t,e,n)=>{var r=n(8436),i=n(1138),o=n(3573).positionX;t.exports=function(t){(function(t){var e=i.buildLayerMatrix(t),n=t.graph().ranksep,o=0;r.forEach(e,(function(e){var i=r.max(r.map(e,(function(e){return t.node(e).height})));r.forEach(e,(function(e){t.node(e).y=o+i/2})),o+=i+n}))})(t=i.asNonCompoundGraph(t)),r.forEach(o(t),(function(e,n){t.node(n).x=e}))}},300:(t,e,n)=>{var r=n(8436),i=n(574).Graph,o=n(6681).slack;function a(t,e){return r.forEach(t.nodes(),(function n(i){r.forEach(e.nodeEdges(i),(function(r){var a=r.v,s=i===a?r.w:a;t.hasNode(s)||o(e,r)||(t.setNode(s,{}),t.setEdge(i,s,{}),n(s))}))})),t.nodeCount()}function s(t,e){return r.minBy(e.edges(),(function(n){if(t.hasNode(n.v)!==t.hasNode(n.w))return o(e,n)}))}function l(t,e,n){r.forEach(t.nodes(),(function(t){e.node(t).rank+=n}))}t.exports=function(t){var e,n,r=new i({directed:!1}),c=t.nodes()[0],u=t.nodeCount();for(r.setNode(c,{});a(r,t)<u;)e=s(r,t),n=r.hasNode(e.v)?o(t,e):-o(t,e),l(r,t,n);return r}},8093:(t,e,n)=>{var r=n(6681).longestPath,i=n(300),o=n(2472);t.exports=function(t){switch(t.graph().ranker){case"network-simplex":default:!function(t){o(t)}(t);break;case"tight-tree":!function(t){r(t),i(t)}(t);break;case"longest-path":a(t)}};var a=r},2472:(t,e,n)=>{var r=n(8436),i=n(300),o=n(6681).slack,a=n(6681).longestPath,s=n(574).alg.preorder,l=n(574).alg.postorder,c=n(1138).simplify;function u(t){t=c(t),a(t);var e,n=i(t);for(f(n),h(n,t);e=g(n);)y(n,t,e,m(n,t,e))}function h(t,e){var n=l(t,t.nodes());n=n.slice(0,n.length-1),r.forEach(n,(function(n){!function(t,e,n){var r=t.node(n).parent;t.edge(n,r).cutvalue=d(t,e,n)}(t,e,n)}))}function d(t,e,n){var i=t.node(n).parent,o=!0,a=e.edge(n,i),s=0;return a||(o=!1,a=e.edge(i,n)),s=a.weight,r.forEach(e.nodeEdges(n),(function(r){var a,l,c=r.v===n,u=c?r.w:r.v;if(u!==i){var h=c===o,d=e.edge(r).weight;if(s+=h?d:-d,a=n,l=u,t.hasEdge(a,l)){var f=t.edge(n,u).cutvalue;s+=h?-f:f}}})),s}function f(t,e){arguments.length<2&&(e=t.nodes()[0]),p(t,{},1,e)}function p(t,e,n,i,o){var a=n,s=t.node(i);return e[i]=!0,r.forEach(t.neighbors(i),(function(o){r.has(e,o)||(n=p(t,e,n,o,i))})),s.low=a,s.lim=n++,o?s.parent=o:delete s.parent,n}function g(t){return r.find(t.edges(),(function(e){return t.edge(e).cutvalue<0}))}function m(t,e,n){var i=n.v,a=n.w;e.hasEdge(i,a)||(i=n.w,a=n.v);var s=t.node(i),l=t.node(a),c=s,u=!1;s.lim>l.lim&&(c=l,u=!0);var h=r.filter(e.edges(),(function(e){return u===v(0,t.node(e.v),c)&&u!==v(0,t.node(e.w),c)}));return r.minBy(h,(function(t){return o(e,t)}))}function y(t,e,n,i){var o=n.v,a=n.w;t.removeEdge(o,a),t.setEdge(i.v,i.w,{}),f(t),h(t,e),function(t,e){var n=r.find(t.nodes(),(function(t){return!e.node(t).parent})),i=s(t,n);i=i.slice(1),r.forEach(i,(function(n){var r=t.node(n).parent,i=e.edge(n,r),o=!1;i||(i=e.edge(r,n),o=!0),e.node(n).rank=e.node(r).rank+(o?i.minlen:-i.minlen)}))}(t,e)}function v(t,e,n){return n.low<=e.lim&&e.lim<=n.lim}t.exports=u,u.initLowLimValues=f,u.initCutValues=h,u.calcCutValue=d,u.leaveEdge=g,u.enterEdge=m,u.exchangeEdges=y},6681:(t,e,n)=>{var r=n(8436);t.exports={longestPath:function(t){var e={};r.forEach(t.sources(),(function n(i){var o=t.node(i);if(r.has(e,i))return o.rank;e[i]=!0;var a=r.min(r.map(t.outEdges(i),(function(e){return n(e.w)-t.edge(e).minlen})));return a!==Number.POSITIVE_INFINITY&&null!=a||(a=0),o.rank=a}))},slack:function(t,e){return t.node(e.w).rank-t.node(e.v).rank-t.edge(e).minlen}}},1138:(t,e,n)=>{var r=n(8436),i=n(574).Graph;function o(t,e,n,i){var o;do{o=r.uniqueId(i)}while(t.hasNode(o));return n.dummy=e,t.setNode(o,n),o}function a(t){return r.max(r.map(t.nodes(),(function(e){var n=t.node(e).rank;if(!r.isUndefined(n))return n})))}t.exports={addDummyNode:o,simplify:function(t){var e=(new i).setGraph(t.graph());return r.forEach(t.nodes(),(function(n){e.setNode(n,t.node(n))})),r.forEach(t.edges(),(function(n){var r=e.edge(n.v,n.w)||{weight:0,minlen:1},i=t.edge(n);e.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})})),e},asNonCompoundGraph:function(t){var e=new i({multigraph:t.isMultigraph()}).setGraph(t.graph());return r.forEach(t.nodes(),(function(n){t.children(n).length||e.setNode(n,t.node(n))})),r.forEach(t.edges(),(function(n){e.setEdge(n,t.edge(n))})),e},successorWeights:function(t){var e=r.map(t.nodes(),(function(e){var n={};return r.forEach(t.outEdges(e),(function(e){n[e.w]=(n[e.w]||0)+t.edge(e).weight})),n}));return r.zipObject(t.nodes(),e)},predecessorWeights:function(t){var e=r.map(t.nodes(),(function(e){var n={};return r.forEach(t.inEdges(e),(function(e){n[e.v]=(n[e.v]||0)+t.edge(e).weight})),n}));return r.zipObject(t.nodes(),e)},intersectRect:function(t,e){var n,r,i=t.x,o=t.y,a=e.x-i,s=e.y-o,l=t.width/2,c=t.height/2;if(!a&&!s)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(s)*l>Math.abs(a)*c?(s<0&&(c=-c),n=c*a/s,r=c):(a<0&&(l=-l),n=l,r=l*s/a),{x:i+n,y:o+r}},buildLayerMatrix:function(t){var e=r.map(r.range(a(t)+1),(function(){return[]}));return r.forEach(t.nodes(),(function(n){var i=t.node(n),o=i.rank;r.isUndefined(o)||(e[o][i.order]=n)})),e},normalizeRanks:function(t){var e=r.min(r.map(t.nodes(),(function(e){return t.node(e).rank})));r.forEach(t.nodes(),(function(n){var i=t.node(n);r.has(i,"rank")&&(i.rank-=e)}))},removeEmptyRanks:function(t){var e=r.min(r.map(t.nodes(),(function(e){return t.node(e).rank}))),n=[];r.forEach(t.nodes(),(function(r){var i=t.node(r).rank-e;n[i]||(n[i]=[]),n[i].push(r)}));var i=0,o=t.graph().nodeRankFactor;r.forEach(n,(function(e,n){r.isUndefined(e)&&n%o!=0?--i:i&&r.forEach(e,(function(e){t.node(e).rank+=i}))}))},addBorderNode:function(t,e,n,r){var i={width:0,height:0};return arguments.length>=4&&(i.rank=n,i.order=r),o(t,"border",i,e)},maxRank:a,partition:function(t,e){var n={lhs:[],rhs:[]};return r.forEach(t,(function(t){e(t)?n.lhs.push(t):n.rhs.push(t)})),n},time:function(t,e){r.now();try{return e()}finally{}},notime:function(t,e){return e()}}},8177:t=>{t.exports="0.8.5"},7856:function(t){t.exports=function(){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,n){return e=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},e(t,n)}function n(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function r(t,i,o){return r=n()?Reflect.construct:function(t,n,r){var i=[null];i.push.apply(i,n);var o=new(Function.bind.apply(t,i));return r&&e(o,r.prototype),o},r.apply(null,arguments)}function i(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var a=Object.hasOwnProperty,s=Object.setPrototypeOf,l=Object.isFrozen,c=Object.getPrototypeOf,u=Object.getOwnPropertyDescriptor,h=Object.freeze,d=Object.seal,f=Object.create,p="undefined"!=typeof Reflect&&Reflect,g=p.apply,m=p.construct;g||(g=function(t,e,n){return t.apply(e,n)}),h||(h=function(t){return t}),d||(d=function(t){return t}),m||(m=function(t,e){return r(t,i(e))});var y,v=T(Array.prototype.forEach),b=T(Array.prototype.pop),w=T(Array.prototype.push),x=T(String.prototype.toLowerCase),_=T(String.prototype.match),k=T(String.prototype.replace),E=T(String.prototype.indexOf),C=T(String.prototype.trim),S=T(RegExp.prototype.test),D=(y=TypeError,function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return m(y,e)});function T(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return g(t,e,r)}}function A(t,e){s&&s(t,null);for(var n=e.length;n--;){var r=e[n];if("string"==typeof r){var i=x(r);i!==r&&(l(e)||(e[n]=i),r=i)}t[r]=!0}return t}function M(t){var e,n=f(null);for(e in t)g(a,t,[e])&&(n[e]=t[e]);return n}function N(t,e){for(;null!==t;){var n=u(t,e);if(n){if(n.get)return T(n.get);if("function"==typeof n.value)return T(n.value)}t=c(t)}return function(t){return null}}var O=h(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),F=h(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),I=h(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),L=h(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),B=h(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),R=h(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),P=h(["#text"]),z=h(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),$=h(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),j=h(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),U=h(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Y=d(/\{\{[\w\W]*|[\w\W]*\}\}/gm),q=d(/<%[\w\W]*|[\w\W]*%>/gm),W=d(/^data-[\-\w.\u00B7-\uFFFF]/),H=d(/^aria-[\-\w]+$/),V=d(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),G=d(/^(?:\w+script|data):/i),X=d(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),K=d(/^html$/i),J=function(){return"undefined"==typeof window?null:window},Z=function(e,n){if("object"!==t(e)||"function"!=typeof e.createPolicy)return null;var r=null,i="data-tt-policy-suffix";n.currentScript&&n.currentScript.hasAttribute(i)&&(r=n.currentScript.getAttribute(i));var o="dompurify"+(r?"#"+r:"");try{return e.createPolicy(o,{createHTML:function(t){return t}})}catch(t){return null}};return function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J(),r=function(t){return e(t)};if(r.version="2.3.8",r.removed=[],!n||!n.document||9!==n.document.nodeType)return r.isSupported=!1,r;var o=n.document,a=n.document,s=n.DocumentFragment,l=n.HTMLTemplateElement,c=n.Node,u=n.Element,d=n.NodeFilter,f=n.NamedNodeMap,p=void 0===f?n.NamedNodeMap||n.MozNamedAttrMap:f,g=n.HTMLFormElement,m=n.DOMParser,y=n.trustedTypes,T=u.prototype,Q=N(T,"cloneNode"),tt=N(T,"nextSibling"),et=N(T,"childNodes"),nt=N(T,"parentNode");if("function"==typeof l){var rt=a.createElement("template");rt.content&&rt.content.ownerDocument&&(a=rt.content.ownerDocument)}var it=Z(y,o),ot=it?it.createHTML(""):"",at=a,st=at.implementation,lt=at.createNodeIterator,ct=at.createDocumentFragment,ut=at.getElementsByTagName,ht=o.importNode,dt={};try{dt=M(a).documentMode?a.documentMode:{}}catch(t){}var ft={};r.isSupported="function"==typeof nt&&st&&void 0!==st.createHTMLDocument&&9!==dt;var pt,gt,mt=Y,yt=q,vt=W,bt=H,wt=G,xt=X,_t=V,kt=null,Et=A({},[].concat(i(O),i(F),i(I),i(B),i(P))),Ct=null,St=A({},[].concat(i(z),i($),i(j),i(U))),Dt=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Tt=null,At=null,Mt=!0,Nt=!0,Ot=!1,Ft=!1,It=!1,Lt=!1,Bt=!1,Rt=!1,Pt=!1,zt=!1,$t=!0,jt=!0,Ut=!1,Yt={},qt=null,Wt=A({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Ht=null,Vt=A({},["audio","video","img","source","image","track"]),Gt=null,Xt=A({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Kt="http://www.w3.org/1998/Math/MathML",Jt="http://www.w3.org/2000/svg",Zt="http://www.w3.org/1999/xhtml",Qt=Zt,te=!1,ee=["application/xhtml+xml","text/html"],ne="text/html",re=null,ie=a.createElement("form"),oe=function(t){return t instanceof RegExp||t instanceof Function},ae=function(e){re&&re===e||(e&&"object"===t(e)||(e={}),e=M(e),kt="ALLOWED_TAGS"in e?A({},e.ALLOWED_TAGS):Et,Ct="ALLOWED_ATTR"in e?A({},e.ALLOWED_ATTR):St,Gt="ADD_URI_SAFE_ATTR"in e?A(M(Xt),e.ADD_URI_SAFE_ATTR):Xt,Ht="ADD_DATA_URI_TAGS"in e?A(M(Vt),e.ADD_DATA_URI_TAGS):Vt,qt="FORBID_CONTENTS"in e?A({},e.FORBID_CONTENTS):Wt,Tt="FORBID_TAGS"in e?A({},e.FORBID_TAGS):{},At="FORBID_ATTR"in e?A({},e.FORBID_ATTR):{},Yt="USE_PROFILES"in e&&e.USE_PROFILES,Mt=!1!==e.ALLOW_ARIA_ATTR,Nt=!1!==e.ALLOW_DATA_ATTR,Ot=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Ft=e.SAFE_FOR_TEMPLATES||!1,It=e.WHOLE_DOCUMENT||!1,Rt=e.RETURN_DOM||!1,Pt=e.RETURN_DOM_FRAGMENT||!1,zt=e.RETURN_TRUSTED_TYPE||!1,Bt=e.FORCE_BODY||!1,$t=!1!==e.SANITIZE_DOM,jt=!1!==e.KEEP_CONTENT,Ut=e.IN_PLACE||!1,_t=e.ALLOWED_URI_REGEXP||_t,Qt=e.NAMESPACE||Zt,e.CUSTOM_ELEMENT_HANDLING&&oe(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Dt.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&oe(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Dt.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(Dt.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),pt=pt=-1===ee.indexOf(e.PARSER_MEDIA_TYPE)?ne:e.PARSER_MEDIA_TYPE,gt="application/xhtml+xml"===pt?function(t){return t}:x,Ft&&(Nt=!1),Pt&&(Rt=!0),Yt&&(kt=A({},i(P)),Ct=[],!0===Yt.html&&(A(kt,O),A(Ct,z)),!0===Yt.svg&&(A(kt,F),A(Ct,$),A(Ct,U)),!0===Yt.svgFilters&&(A(kt,I),A(Ct,$),A(Ct,U)),!0===Yt.mathMl&&(A(kt,B),A(Ct,j),A(Ct,U))),e.ADD_TAGS&&(kt===Et&&(kt=M(kt)),A(kt,e.ADD_TAGS)),e.ADD_ATTR&&(Ct===St&&(Ct=M(Ct)),A(Ct,e.ADD_ATTR)),e.ADD_URI_SAFE_ATTR&&A(Gt,e.ADD_URI_SAFE_ATTR),e.FORBID_CONTENTS&&(qt===Wt&&(qt=M(qt)),A(qt,e.FORBID_CONTENTS)),jt&&(kt["#text"]=!0),It&&A(kt,["html","head","body"]),kt.table&&(A(kt,["tbody"]),delete Tt.tbody),h&&h(e),re=e)},se=A({},["mi","mo","mn","ms","mtext"]),le=A({},["foreignobject","desc","title","annotation-xml"]),ce=A({},["title","style","font","a","script"]),ue=A({},F);A(ue,I),A(ue,L);var he=A({},B);A(he,R);var de=function(t){var e=nt(t);e&&e.tagName||(e={namespaceURI:Zt,tagName:"template"});var n=x(t.tagName),r=x(e.tagName);return t.namespaceURI===Jt?e.namespaceURI===Zt?"svg"===n:e.namespaceURI===Kt?"svg"===n&&("annotation-xml"===r||se[r]):Boolean(ue[n]):t.namespaceURI===Kt?e.namespaceURI===Zt?"math"===n:e.namespaceURI===Jt?"math"===n&&le[r]:Boolean(he[n]):t.namespaceURI===Zt&&!(e.namespaceURI===Jt&&!le[r])&&!(e.namespaceURI===Kt&&!se[r])&&!he[n]&&(ce[n]||!ue[n])},fe=function(t){w(r.removed,{element:t});try{t.parentNode.removeChild(t)}catch(e){try{t.outerHTML=ot}catch(e){t.remove()}}},pe=function(t,e){try{w(r.removed,{attribute:e.getAttributeNode(t),from:e})}catch(t){w(r.removed,{attribute:null,from:e})}if(e.removeAttribute(t),"is"===t&&!Ct[t])if(Rt||Pt)try{fe(e)}catch(t){}else try{e.setAttribute(t,"")}catch(t){}},ge=function(t){var e,n;if(Bt)t="<remove></remove>"+t;else{var r=_(t,/^[\r\n\t ]+/);n=r&&r[0]}"application/xhtml+xml"===pt&&(t='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+t+"</body></html>");var i=it?it.createHTML(t):t;if(Qt===Zt)try{e=(new m).parseFromString(i,pt)}catch(t){}if(!e||!e.documentElement){e=st.createDocument(Qt,"template",null);try{e.documentElement.innerHTML=te?"":i}catch(t){}}var o=e.body||e.documentElement;return t&&n&&o.insertBefore(a.createTextNode(n),o.childNodes[0]||null),Qt===Zt?ut.call(e,It?"html":"body")[0]:It?e.documentElement:o},me=function(t){return lt.call(t.ownerDocument||t,t,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT,null,!1)},ye=function(t){return t instanceof g&&("string"!=typeof t.nodeName||"string"!=typeof t.textContent||"function"!=typeof t.removeChild||!(t.attributes instanceof p)||"function"!=typeof t.removeAttribute||"function"!=typeof t.setAttribute||"string"!=typeof t.namespaceURI||"function"!=typeof t.insertBefore)},ve=function(e){return"object"===t(c)?e instanceof c:e&&"object"===t(e)&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},be=function(t,e,n){ft[t]&&v(ft[t],(function(t){t.call(r,e,n,re)}))},we=function(t){var e;if(be("beforeSanitizeElements",t,null),ye(t))return fe(t),!0;if(S(/[\u0080-\uFFFF]/,t.nodeName))return fe(t),!0;var n=gt(t.nodeName);if(be("uponSanitizeElement",t,{tagName:n,allowedTags:kt}),t.hasChildNodes()&&!ve(t.firstElementChild)&&(!ve(t.content)||!ve(t.content.firstElementChild))&&S(/<[/\w]/g,t.innerHTML)&&S(/<[/\w]/g,t.textContent))return fe(t),!0;if("select"===n&&S(/<template/i,t.innerHTML))return fe(t),!0;if(!kt[n]||Tt[n]){if(!Tt[n]&&_e(n)){if(Dt.tagNameCheck instanceof RegExp&&S(Dt.tagNameCheck,n))return!1;if(Dt.tagNameCheck instanceof Function&&Dt.tagNameCheck(n))return!1}if(jt&&!qt[n]){var i=nt(t)||t.parentNode,o=et(t)||t.childNodes;if(o&&i)for(var a=o.length-1;a>=0;--a)i.insertBefore(Q(o[a],!0),tt(t))}return fe(t),!0}return t instanceof u&&!de(t)?(fe(t),!0):"noscript"!==n&&"noembed"!==n||!S(/<\/no(script|embed)/i,t.innerHTML)?(Ft&&3===t.nodeType&&(e=t.textContent,e=k(e,mt," "),e=k(e,yt," "),t.textContent!==e&&(w(r.removed,{element:t.cloneNode()}),t.textContent=e)),be("afterSanitizeElements",t,null),!1):(fe(t),!0)},xe=function(t,e,n){if($t&&("id"===e||"name"===e)&&(n in a||n in ie))return!1;if(Nt&&!At[e]&&S(vt,e));else if(Mt&&S(bt,e));else if(!Ct[e]||At[e]){if(!(_e(t)&&(Dt.tagNameCheck instanceof RegExp&&S(Dt.tagNameCheck,t)||Dt.tagNameCheck instanceof Function&&Dt.tagNameCheck(t))&&(Dt.attributeNameCheck instanceof RegExp&&S(Dt.attributeNameCheck,e)||Dt.attributeNameCheck instanceof Function&&Dt.attributeNameCheck(e))||"is"===e&&Dt.allowCustomizedBuiltInElements&&(Dt.tagNameCheck instanceof RegExp&&S(Dt.tagNameCheck,n)||Dt.tagNameCheck instanceof Function&&Dt.tagNameCheck(n))))return!1}else if(Gt[e]);else if(S(_t,k(n,xt,"")));else if("src"!==e&&"xlink:href"!==e&&"href"!==e||"script"===t||0!==E(n,"data:")||!Ht[t])if(Ot&&!S(wt,k(n,xt,"")));else if(n)return!1;return!0},_e=function(t){return t.indexOf("-")>0},ke=function(t){var e,n,i,o;be("beforeSanitizeAttributes",t,null);var a=t.attributes;if(a){var s={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ct};for(o=a.length;o--;){var l=e=a[o],c=l.name,u=l.namespaceURI;if(n="value"===c?e.value:C(e.value),i=gt(c),s.attrName=i,s.attrValue=n,s.keepAttr=!0,s.forceKeepAttr=void 0,be("uponSanitizeAttribute",t,s),n=s.attrValue,!s.forceKeepAttr&&(pe(c,t),s.keepAttr))if(S(/\/>/i,n))pe(c,t);else{Ft&&(n=k(n,mt," "),n=k(n,yt," "));var h=gt(t.nodeName);if(xe(h,i,n))try{u?t.setAttributeNS(u,c,n):t.setAttribute(c,n),b(r.removed)}catch(t){}}}be("afterSanitizeAttributes",t,null)}},Ee=function t(e){var n,r=me(e);for(be("beforeSanitizeShadowDOM",e,null);n=r.nextNode();)be("uponSanitizeShadowNode",n,null),we(n)||(n.content instanceof s&&t(n.content),ke(n));be("afterSanitizeShadowDOM",e,null)};return r.sanitize=function(e,i){var a,l,u,h,d;if((te=!e)&&(e="\x3c!--\x3e"),"string"!=typeof e&&!ve(e)){if("function"!=typeof e.toString)throw D("toString is not a function");if("string"!=typeof(e=e.toString()))throw D("dirty is not a string, aborting")}if(!r.isSupported){if("object"===t(n.toStaticHTML)||"function"==typeof n.toStaticHTML){if("string"==typeof e)return n.toStaticHTML(e);if(ve(e))return n.toStaticHTML(e.outerHTML)}return e}if(Lt||ae(i),r.removed=[],"string"==typeof e&&(Ut=!1),Ut){if(e.nodeName){var f=gt(e.nodeName);if(!kt[f]||Tt[f])throw D("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof c)1===(l=(a=ge("\x3c!----\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===l.nodeName||"HTML"===l.nodeName?a=l:a.appendChild(l);else{if(!Rt&&!Ft&&!It&&-1===e.indexOf("<"))return it&&zt?it.createHTML(e):e;if(!(a=ge(e)))return Rt?null:zt?ot:""}a&&Bt&&fe(a.firstChild);for(var p=me(Ut?e:a);u=p.nextNode();)3===u.nodeType&&u===h||we(u)||(u.content instanceof s&&Ee(u.content),ke(u),h=u);if(h=null,Ut)return e;if(Rt){if(Pt)for(d=ct.call(a.ownerDocument);a.firstChild;)d.appendChild(a.firstChild);else d=a;return Ct.shadowroot&&(d=ht.call(o,d,!0)),d}var g=It?a.outerHTML:a.innerHTML;return It&&kt["!doctype"]&&a.ownerDocument&&a.ownerDocument.doctype&&a.ownerDocument.doctype.name&&S(K,a.ownerDocument.doctype.name)&&(g="<!DOCTYPE "+a.ownerDocument.doctype.name+">\n"+g),Ft&&(g=k(g,mt," "),g=k(g,yt," ")),it&&zt?it.createHTML(g):g},r.setConfig=function(t){ae(t),Lt=!0},r.clearConfig=function(){re=null,Lt=!1},r.isValidAttribute=function(t,e,n){re||ae({});var r=gt(t),i=gt(e);return xe(r,i,n)},r.addHook=function(t,e){"function"==typeof e&&(ft[t]=ft[t]||[],w(ft[t],e))},r.removeHook=function(t){if(ft[t])return b(ft[t])},r.removeHooks=function(t){ft[t]&&(ft[t]=[])},r.removeAllHooks=function(){ft={}},r}()}()},8282:(t,e,n)=>{var r=n(2354);t.exports={Graph:r.Graph,json:n(8974),alg:n(2440),version:r.version}},2842:(t,e,n)=>{var r=n(9126);t.exports=function(t){var e,n={},i=[];function o(i){r.has(n,i)||(n[i]=!0,e.push(i),r.each(t.successors(i),o),r.each(t.predecessors(i),o))}return r.each(t.nodes(),(function(t){e=[],o(t),e.length&&i.push(e)})),i}},3984:(t,e,n)=>{var r=n(9126);function i(t,e,n,o,a,s){r.has(o,e)||(o[e]=!0,n||s.push(e),r.each(a(e),(function(e){i(t,e,n,o,a,s)})),n&&s.push(e))}t.exports=function(t,e,n){r.isArray(e)||(e=[e]);var o=(t.isDirected()?t.successors:t.neighbors).bind(t),a=[],s={};return r.each(e,(function(e){if(!t.hasNode(e))throw new Error("Graph does not have node: "+e);i(t,e,"post"===n,s,o,a)})),a}},4847:(t,e,n)=>{var r=n(3763),i=n(9126);t.exports=function(t,e,n){return i.transform(t.nodes(),(function(i,o){i[o]=r(t,o,e,n)}),{})}},3763:(t,e,n)=>{var r=n(9126),i=n(9675);t.exports=function(t,e,n,r){return function(t,e,n,r){var o,a,s={},l=new i,c=function(t){var e=t.v!==o?t.v:t.w,r=s[e],i=n(t),c=a.distance+i;if(i<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+t+" Weight: "+i);c<r.distance&&(r.distance=c,r.predecessor=o,l.decrease(e,c))};for(t.nodes().forEach((function(t){var n=t===e?0:Number.POSITIVE_INFINITY;s[t]={distance:n},l.add(t,n)}));l.size()>0&&(o=l.removeMin(),(a=s[o]).distance!==Number.POSITIVE_INFINITY);)r(o).forEach(c);return s}(t,String(e),n||o,r||function(e){return t.outEdges(e)})};var o=r.constant(1)},9096:(t,e,n)=>{var r=n(9126),i=n(5023);t.exports=function(t){return r.filter(i(t),(function(e){return e.length>1||1===e.length&&t.hasEdge(e[0],e[0])}))}},8924:(t,e,n)=>{var r=n(9126);t.exports=function(t,e,n){return function(t,e,n){var r={},i=t.nodes();return i.forEach((function(t){r[t]={},r[t][t]={distance:0},i.forEach((function(e){t!==e&&(r[t][e]={distance:Number.POSITIVE_INFINITY})})),n(t).forEach((function(n){var i=n.v===t?n.w:n.v,o=e(n);r[t][i]={distance:o,predecessor:t}}))})),i.forEach((function(t){var e=r[t];i.forEach((function(n){var o=r[n];i.forEach((function(n){var r=o[t],i=e[n],a=o[n],s=r.distance+i.distance;s<a.distance&&(a.distance=s,a.predecessor=i.predecessor)}))}))})),r}(t,e||i,n||function(e){return t.outEdges(e)})};var i=r.constant(1)},2440:(t,e,n)=>{t.exports={components:n(2842),dijkstra:n(3763),dijkstraAll:n(4847),findCycles:n(9096),floydWarshall:n(8924),isAcyclic:n(2707),postorder:n(8828),preorder:n(2648),prim:n(514),tarjan:n(5023),topsort:n(2166)}},2707:(t,e,n)=>{var r=n(2166);t.exports=function(t){try{r(t)}catch(t){if(t instanceof r.CycleException)return!1;throw t}return!0}},8828:(t,e,n)=>{var r=n(3984);t.exports=function(t,e){return r(t,e,"post")}},2648:(t,e,n)=>{var r=n(3984);t.exports=function(t,e){return r(t,e,"pre")}},514:(t,e,n)=>{var r=n(9126),i=n(771),o=n(9675);t.exports=function(t,e){var n,a=new i,s={},l=new o;function c(t){var r=t.v===n?t.w:t.v,i=l.priority(r);if(void 0!==i){var o=e(t);o<i&&(s[r]=n,l.decrease(r,o))}}if(0===t.nodeCount())return a;r.each(t.nodes(),(function(t){l.add(t,Number.POSITIVE_INFINITY),a.setNode(t)})),l.decrease(t.nodes()[0],0);for(var u=!1;l.size()>0;){if(n=l.removeMin(),r.has(s,n))a.setEdge(n,s[n]);else{if(u)throw new Error("Input graph is not connected: "+t);u=!0}t.nodeEdges(n).forEach(c)}return a}},5023:(t,e,n)=>{var r=n(9126);t.exports=function(t){var e=0,n=[],i={},o=[];function a(s){var l=i[s]={onStack:!0,lowlink:e,index:e++};if(n.push(s),t.successors(s).forEach((function(t){r.has(i,t)?i[t].onStack&&(l.lowlink=Math.min(l.lowlink,i[t].index)):(a(t),l.lowlink=Math.min(l.lowlink,i[t].lowlink))})),l.lowlink===l.index){var c,u=[];do{c=n.pop(),i[c].onStack=!1,u.push(c)}while(s!==c);o.push(u)}}return t.nodes().forEach((function(t){r.has(i,t)||a(t)})),o}},2166:(t,e,n)=>{var r=n(9126);function i(t){var e={},n={},i=[];if(r.each(t.sinks(),(function a(s){if(r.has(n,s))throw new o;r.has(e,s)||(n[s]=!0,e[s]=!0,r.each(t.predecessors(s),a),delete n[s],i.push(s))})),r.size(e)!==t.nodeCount())throw new o;return i}function o(){}t.exports=i,i.CycleException=o,o.prototype=new Error},9675:(t,e,n)=>{var r=n(9126);function i(){this._arr=[],this._keyIndices={}}t.exports=i,i.prototype.size=function(){return this._arr.length},i.prototype.keys=function(){return this._arr.map((function(t){return t.key}))},i.prototype.has=function(t){return r.has(this._keyIndices,t)},i.prototype.priority=function(t){var e=this._keyIndices[t];if(void 0!==e)return this._arr[e].priority},i.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},i.prototype.add=function(t,e){var n=this._keyIndices;if(t=String(t),!r.has(n,t)){var i=this._arr,o=i.length;return n[t]=o,i.push({key:t,priority:e}),this._decrease(o),!0}return!1},i.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var t=this._arr.pop();return delete this._keyIndices[t.key],this._heapify(0),t.key},i.prototype.decrease=function(t,e){var n=this._keyIndices[t];if(e>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+t+" Old: "+this._arr[n].priority+" New: "+e);this._arr[n].priority=e,this._decrease(n)},i.prototype._heapify=function(t){var e=this._arr,n=2*t,r=n+1,i=t;n<e.length&&(i=e[n].priority<e[i].priority?n:i,r<e.length&&(i=e[r].priority<e[i].priority?r:i),i!==t&&(this._swap(t,i),this._heapify(i)))},i.prototype._decrease=function(t){for(var e,n=this._arr,r=n[t].priority;0!==t&&!(n[e=t>>1].priority<r);)this._swap(t,e),t=e},i.prototype._swap=function(t,e){var n=this._arr,r=this._keyIndices,i=n[t],o=n[e];n[t]=o,n[e]=i,r[o.key]=t,r[i.key]=e}},771:(t,e,n)=>{var r=n(9126);t.exports=o;var i="\0";function o(t){this._isDirected=!r.has(t,"directed")||t.directed,this._isMultigraph=!!r.has(t,"multigraph")&&t.multigraph,this._isCompound=!!r.has(t,"compound")&&t.compound,this._label=void 0,this._defaultNodeLabelFn=r.constant(void 0),this._defaultEdgeLabelFn=r.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\0"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function a(t,e){t[e]?t[e]++:t[e]=1}function s(t,e){--t[e]||delete t[e]}function l(t,e,n,i){var o=""+e,a=""+n;if(!t&&o>a){var s=o;o=a,a=s}return o+""+a+""+(r.isUndefined(i)?"\0":i)}function c(t,e,n,r){var i=""+e,o=""+n;if(!t&&i>o){var a=i;i=o,o=a}var s={v:i,w:o};return r&&(s.name=r),s}function u(t,e){return l(t,e.v,e.w,e.name)}o.prototype._nodeCount=0,o.prototype._edgeCount=0,o.prototype.isDirected=function(){return this._isDirected},o.prototype.isMultigraph=function(){return this._isMultigraph},o.prototype.isCompound=function(){return this._isCompound},o.prototype.setGraph=function(t){return this._label=t,this},o.prototype.graph=function(){return this._label},o.prototype.setDefaultNodeLabel=function(t){return r.isFunction(t)||(t=r.constant(t)),this._defaultNodeLabelFn=t,this},o.prototype.nodeCount=function(){return this._nodeCount},o.prototype.nodes=function(){return r.keys(this._nodes)},o.prototype.sources=function(){var t=this;return r.filter(this.nodes(),(function(e){return r.isEmpty(t._in[e])}))},o.prototype.sinks=function(){var t=this;return r.filter(this.nodes(),(function(e){return r.isEmpty(t._out[e])}))},o.prototype.setNodes=function(t,e){var n=arguments,i=this;return r.each(t,(function(t){n.length>1?i.setNode(t,e):i.setNode(t)})),this},o.prototype.setNode=function(t,e){return r.has(this._nodes,t)?(arguments.length>1&&(this._nodes[t]=e),this):(this._nodes[t]=arguments.length>1?e:this._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]=i,this._children[t]={},this._children["\0"][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount,this)},o.prototype.node=function(t){return this._nodes[t]},o.prototype.hasNode=function(t){return r.has(this._nodes,t)},o.prototype.removeNode=function(t){var e=this;if(r.has(this._nodes,t)){var n=function(t){e.removeEdge(e._edgeObjs[t])};delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],r.each(this.children(t),(function(t){e.setParent(t)})),delete this._children[t]),r.each(r.keys(this._in[t]),n),delete this._in[t],delete this._preds[t],r.each(r.keys(this._out[t]),n),delete this._out[t],delete this._sucs[t],--this._nodeCount}return this},o.prototype.setParent=function(t,e){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(r.isUndefined(e))e=i;else{for(var n=e+="";!r.isUndefined(n);n=this.parent(n))if(n===t)throw new Error("Setting "+e+" as parent of "+t+" would create a cycle");this.setNode(e)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=e,this._children[e][t]=!0,this},o.prototype._removeFromParentsChildList=function(t){delete this._children[this._parent[t]][t]},o.prototype.parent=function(t){if(this._isCompound){var e=this._parent[t];if(e!==i)return e}},o.prototype.children=function(t){if(r.isUndefined(t)&&(t=i),this._isCompound){var e=this._children[t];if(e)return r.keys(e)}else{if(t===i)return this.nodes();if(this.hasNode(t))return[]}},o.prototype.predecessors=function(t){var e=this._preds[t];if(e)return r.keys(e)},o.prototype.successors=function(t){var e=this._sucs[t];if(e)return r.keys(e)},o.prototype.neighbors=function(t){var e=this.predecessors(t);if(e)return r.union(e,this.successors(t))},o.prototype.isLeaf=function(t){return 0===(this.isDirected()?this.successors(t):this.neighbors(t)).length},o.prototype.filterNodes=function(t){var e=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});e.setGraph(this.graph());var n=this;r.each(this._nodes,(function(n,r){t(r)&&e.setNode(r,n)})),r.each(this._edgeObjs,(function(t){e.hasNode(t.v)&&e.hasNode(t.w)&&e.setEdge(t,n.edge(t))}));var i={};function o(t){var r=n.parent(t);return void 0===r||e.hasNode(r)?(i[t]=r,r):r in i?i[r]:o(r)}return this._isCompound&&r.each(e.nodes(),(function(t){e.setParent(t,o(t))})),e},o.prototype.setDefaultEdgeLabel=function(t){return r.isFunction(t)||(t=r.constant(t)),this._defaultEdgeLabelFn=t,this},o.prototype.edgeCount=function(){return this._edgeCount},o.prototype.edges=function(){return r.values(this._edgeObjs)},o.prototype.setPath=function(t,e){var n=this,i=arguments;return r.reduce(t,(function(t,r){return i.length>1?n.setEdge(t,r,e):n.setEdge(t,r),r})),this},o.prototype.setEdge=function(){var t,e,n,i,o=!1,s=arguments[0];"object"==typeof s&&null!==s&&"v"in s?(t=s.v,e=s.w,n=s.name,2===arguments.length&&(i=arguments[1],o=!0)):(t=s,e=arguments[1],n=arguments[3],arguments.length>2&&(i=arguments[2],o=!0)),t=""+t,e=""+e,r.isUndefined(n)||(n=""+n);var u=l(this._isDirected,t,e,n);if(r.has(this._edgeLabels,u))return o&&(this._edgeLabels[u]=i),this;if(!r.isUndefined(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(t),this.setNode(e),this._edgeLabels[u]=o?i:this._defaultEdgeLabelFn(t,e,n);var h=c(this._isDirected,t,e,n);return t=h.v,e=h.w,Object.freeze(h),this._edgeObjs[u]=h,a(this._preds[e],t),a(this._sucs[t],e),this._in[e][u]=h,this._out[t][u]=h,this._edgeCount++,this},o.prototype.edge=function(t,e,n){var r=1===arguments.length?u(this._isDirected,arguments[0]):l(this._isDirected,t,e,n);return this._edgeLabels[r]},o.prototype.hasEdge=function(t,e,n){var i=1===arguments.length?u(this._isDirected,arguments[0]):l(this._isDirected,t,e,n);return r.has(this._edgeLabels,i)},o.prototype.removeEdge=function(t,e,n){var r=1===arguments.length?u(this._isDirected,arguments[0]):l(this._isDirected,t,e,n),i=this._edgeObjs[r];return i&&(t=i.v,e=i.w,delete this._edgeLabels[r],delete this._edgeObjs[r],s(this._preds[e],t),s(this._sucs[t],e),delete this._in[e][r],delete this._out[t][r],this._edgeCount--),this},o.prototype.inEdges=function(t,e){var n=this._in[t];if(n){var i=r.values(n);return e?r.filter(i,(function(t){return t.v===e})):i}},o.prototype.outEdges=function(t,e){var n=this._out[t];if(n){var i=r.values(n);return e?r.filter(i,(function(t){return t.w===e})):i}},o.prototype.nodeEdges=function(t,e){var n=this.inEdges(t,e);if(n)return n.concat(this.outEdges(t,e))}},2354:(t,e,n)=>{t.exports={Graph:n(771),version:n(9631)}},8974:(t,e,n)=>{var r=n(9126),i=n(771);function o(t){return r.map(t.nodes(),(function(e){var n=t.node(e),i=t.parent(e),o={v:e};return r.isUndefined(n)||(o.value=n),r.isUndefined(i)||(o.parent=i),o}))}function a(t){return r.map(t.edges(),(function(e){var n=t.edge(e),i={v:e.v,w:e.w};return r.isUndefined(e.name)||(i.name=e.name),r.isUndefined(n)||(i.value=n),i}))}t.exports={write:function(t){var e={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:o(t),edges:a(t)};return r.isUndefined(t.graph())||(e.value=r.clone(t.graph())),e},read:function(t){var e=new i(t.options).setGraph(t.value);return r.each(t.nodes,(function(t){e.setNode(t.v,t.value),t.parent&&e.setParent(t.v,t.parent)})),r.each(t.edges,(function(t){e.setEdge({v:t.v,w:t.w,name:t.name},t.value)})),e}}},9126:(t,e,n)=>{var r;try{r={clone:n(6678),constant:n(5703),each:n(6073),filter:n(3105),has:n(8721),isArray:n(1469),isEmpty:n(1609),isFunction:n(3560),isUndefined:n(2353),keys:n(3674),map:n(5161),reduce:n(4061),size:n(4238),transform:n(8718),union:n(3386),values:n(2628)}}catch(t){}r||(r=window._),t.exports=r},9631:t=>{t.exports="2.1.8"},8552:(t,e,n)=>{var r=n(852)(n(5639),"DataView");t.exports=r},1989:(t,e,n)=>{var r=n(1789),i=n(401),o=n(7667),a=n(1327),s=n(1866);function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,t.exports=l},8407:(t,e,n)=>{var r=n(7040),i=n(4125),o=n(2117),a=n(7518),s=n(4705);function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,t.exports=l},7071:(t,e,n)=>{var r=n(852)(n(5639),"Map");t.exports=r},3369:(t,e,n)=>{var r=n(4785),i=n(1285),o=n(6e3),a=n(9916),s=n(5265);function l(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,t.exports=l},3818:(t,e,n)=>{var r=n(852)(n(5639),"Promise");t.exports=r},8525:(t,e,n)=>{var r=n(852)(n(5639),"Set");t.exports=r},8668:(t,e,n)=>{var r=n(3369),i=n(619),o=n(2385);function a(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,t.exports=a},6384:(t,e,n)=>{var r=n(8407),i=n(7465),o=n(3779),a=n(7599),s=n(4758),l=n(4309);function c(t){var e=this.__data__=new r(t);this.size=e.size}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=s,c.prototype.set=l,t.exports=c},2705:(t,e,n)=>{var r=n(5639).Symbol;t.exports=r},1149:(t,e,n)=>{var r=n(5639).Uint8Array;t.exports=r},577:(t,e,n)=>{var r=n(852)(n(5639),"WeakMap");t.exports=r},6874:t=>{t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},7412:t=>{t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}},4963:t=>{t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}},7443:(t,e,n)=>{var r=n(2118);t.exports=function(t,e){return!(null==t||!t.length)&&r(t,e,0)>-1}},1196:t=>{t.exports=function(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}},4636:(t,e,n)=>{var r=n(2545),i=n(5694),o=n(1469),a=n(4144),s=n(5776),l=n(6719),c=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=o(t),u=!n&&i(t),h=!n&&!u&&a(t),d=!n&&!u&&!h&&l(t),f=n||u||h||d,p=f?r(t.length,String):[],g=p.length;for(var m in t)!e&&!c.call(t,m)||f&&("length"==m||h&&("offset"==m||"parent"==m)||d&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||s(m,g))||p.push(m);return p}},9932:t=>{t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}},2488:t=>{t.exports=function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}},2663:t=>{t.exports=function(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}},2908:t=>{t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},8983:(t,e,n)=>{var r=n(371)("length");t.exports=r},6556:(t,e,n)=>{var r=n(9465),i=n(7813);t.exports=function(t,e,n){(void 0!==n&&!i(t[e],n)||void 0===n&&!(e in t))&&r(t,e,n)}},4865:(t,e,n)=>{var r=n(9465),i=n(7813),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var a=t[e];o.call(t,e)&&i(a,n)&&(void 0!==n||e in t)||r(t,e,n)}},8470:(t,e,n)=>{var r=n(7813);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},4037:(t,e,n)=>{var r=n(8363),i=n(3674);t.exports=function(t,e){return t&&r(e,i(e),t)}},3886:(t,e,n)=>{var r=n(8363),i=n(1704);t.exports=function(t,e){return t&&r(e,i(e),t)}},9465:(t,e,n)=>{var r=n(8777);t.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},5990:(t,e,n)=>{var r=n(6384),i=n(7412),o=n(4865),a=n(4037),s=n(3886),l=n(4626),c=n(278),u=n(8805),h=n(1911),d=n(8234),f=n(6904),p=n(4160),g=n(3824),m=n(9148),y=n(8517),v=n(1469),b=n(4144),w=n(6688),x=n(3218),_=n(2928),k=n(3674),E=n(1704),C="[object Arguments]",S="[object Function]",D="[object Object]",T={};T[C]=T["[object Array]"]=T["[object ArrayBuffer]"]=T["[object DataView]"]=T["[object Boolean]"]=T["[object Date]"]=T["[object Float32Array]"]=T["[object Float64Array]"]=T["[object Int8Array]"]=T["[object Int16Array]"]=T["[object Int32Array]"]=T["[object Map]"]=T["[object Number]"]=T[D]=T["[object RegExp]"]=T["[object Set]"]=T["[object String]"]=T["[object Symbol]"]=T["[object Uint8Array]"]=T["[object Uint8ClampedArray]"]=T["[object Uint16Array]"]=T["[object Uint32Array]"]=!0,T["[object Error]"]=T[S]=T["[object WeakMap]"]=!1,t.exports=function t(e,n,A,M,N,O){var F,I=1&n,L=2&n,B=4&n;if(A&&(F=N?A(e,M,N,O):A(e)),void 0!==F)return F;if(!x(e))return e;var R=v(e);if(R){if(F=g(e),!I)return c(e,F)}else{var P=p(e),z=P==S||"[object GeneratorFunction]"==P;if(b(e))return l(e,I);if(P==D||P==C||z&&!N){if(F=L||z?{}:y(e),!I)return L?h(e,s(F,e)):u(e,a(F,e))}else{if(!T[P])return N?e:{};F=m(e,P,I)}}O||(O=new r);var $=O.get(e);if($)return $;O.set(e,F),_(e)?e.forEach((function(r){F.add(t(r,n,A,r,e,O))})):w(e)&&e.forEach((function(r,i){F.set(i,t(r,n,A,i,e,O))}));var j=R?void 0:(B?L?f:d:L?E:k)(e);return i(j||e,(function(r,i){j&&(r=e[i=r]),o(F,i,t(r,n,A,i,e,O))})),F}},3118:(t,e,n)=>{var r=n(3218),i=Object.create,o=function(){function t(){}return function(e){if(!r(e))return{};if(i)return i(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=o},9881:(t,e,n)=>{var r=n(7816),i=n(9291)(r);t.exports=i},6029:(t,e,n)=>{var r=n(3448);t.exports=function(t,e,n){for(var i=-1,o=t.length;++i<o;){var a=t[i],s=e(a);if(null!=s&&(void 0===l?s==s&&!r(s):n(s,l)))var l=s,c=a}return c}},760:(t,e,n)=>{var r=n(9881);t.exports=function(t,e){var n=[];return r(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}},1848:t=>{t.exports=function(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}},1078:(t,e,n)=>{var r=n(2488),i=n(7285);t.exports=function t(e,n,o,a,s){var l=-1,c=e.length;for(o||(o=i),s||(s=[]);++l<c;){var u=e[l];n>0&&o(u)?n>1?t(u,n-1,o,a,s):r(s,u):a||(s[s.length]=u)}return s}},8483:(t,e,n)=>{var r=n(5063)();t.exports=r},7816:(t,e,n)=>{var r=n(8483),i=n(3674);t.exports=function(t,e){return t&&r(t,e,i)}},7786:(t,e,n)=>{var r=n(1811),i=n(327);t.exports=function(t,e){for(var n=0,o=(e=r(e,t)).length;null!=t&&n<o;)t=t[i(e[n++])];return n&&n==o?t:void 0}},8866:(t,e,n)=>{var r=n(2488),i=n(1469);t.exports=function(t,e,n){var o=e(t);return i(t)?o:r(o,n(t))}},4239:(t,e,n)=>{var r=n(2705),i=n(9607),o=n(2333),a=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?i(t):o(t)}},3325:t=>{t.exports=function(t,e){return t>e}},8565:t=>{var e=Object.prototype.hasOwnProperty;t.exports=function(t,n){return null!=t&&e.call(t,n)}},13:t=>{t.exports=function(t,e){return null!=t&&e in Object(t)}},2118:(t,e,n)=>{var r=n(1848),i=n(2722),o=n(2351);t.exports=function(t,e,n){return e==e?o(t,e,n):r(t,i,n)}},9454:(t,e,n)=>{var r=n(4239),i=n(7005);t.exports=function(t){return i(t)&&"[object Arguments]"==r(t)}},939:(t,e,n)=>{var r=n(2492),i=n(7005);t.exports=function t(e,n,o,a,s){return e===n||(null==e||null==n||!i(e)&&!i(n)?e!=e&&n!=n:r(e,n,o,a,t,s))}},2492:(t,e,n)=>{var r=n(6384),i=n(7114),o=n(8351),a=n(6096),s=n(4160),l=n(1469),c=n(4144),u=n(6719),h="[object Arguments]",d="[object Array]",f="[object Object]",p=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,g,m,y){var v=l(t),b=l(e),w=v?d:s(t),x=b?d:s(e),_=(w=w==h?f:w)==f,k=(x=x==h?f:x)==f,E=w==x;if(E&&c(t)){if(!c(e))return!1;v=!0,_=!1}if(E&&!_)return y||(y=new r),v||u(t)?i(t,e,n,g,m,y):o(t,e,w,n,g,m,y);if(!(1&n)){var C=_&&p.call(t,"__wrapped__"),S=k&&p.call(e,"__wrapped__");if(C||S){var D=C?t.value():t,T=S?e.value():e;return y||(y=new r),m(D,T,n,g,y)}}return!!E&&(y||(y=new r),a(t,e,n,g,m,y))}},5588:(t,e,n)=>{var r=n(4160),i=n(7005);t.exports=function(t){return i(t)&&"[object Map]"==r(t)}},2958:(t,e,n)=>{var r=n(6384),i=n(939);t.exports=function(t,e,n,o){var a=n.length,s=a,l=!o;if(null==t)return!s;for(t=Object(t);a--;){var c=n[a];if(l&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++a<s;){var u=(c=n[a])[0],h=t[u],d=c[1];if(l&&c[2]){if(void 0===h&&!(u in t))return!1}else{var f=new r;if(o)var p=o(h,d,u,t,e,f);if(!(void 0===p?i(d,h,3,o,f):p))return!1}}return!0}},2722:t=>{t.exports=function(t){return t!=t}},8458:(t,e,n)=>{var r=n(3560),i=n(5346),o=n(3218),a=n(346),s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,h=c.hasOwnProperty,d=RegExp("^"+u.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!o(t)||i(t))&&(r(t)?d:s).test(a(t))}},9221:(t,e,n)=>{var r=n(4160),i=n(7005);t.exports=function(t){return i(t)&&"[object Set]"==r(t)}},8749:(t,e,n)=>{var r=n(4239),i=n(1780),o=n(7005),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return o(t)&&i(t.length)&&!!a[r(t)]}},7206:(t,e,n)=>{var r=n(1573),i=n(6432),o=n(6557),a=n(1469),s=n(9601);t.exports=function(t){return"function"==typeof t?t:null==t?o:"object"==typeof t?a(t)?i(t[0],t[1]):r(t):s(t)}},280:(t,e,n)=>{var r=n(5726),i=n(6916),o=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e=[];for(var n in Object(t))o.call(t,n)&&"constructor"!=n&&e.push(n);return e}},313:(t,e,n)=>{var r=n(3218),i=n(5726),o=n(3498),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return o(t);var e=i(t),n=[];for(var s in t)("constructor"!=s||!e&&a.call(t,s))&&n.push(s);return n}},433:t=>{t.exports=function(t,e){return t<e}},9199:(t,e,n)=>{var r=n(9881),i=n(8612);t.exports=function(t,e){var n=-1,o=i(t)?Array(t.length):[];return r(t,(function(t,r,i){o[++n]=e(t,r,i)})),o}},1573:(t,e,n)=>{var r=n(2958),i=n(1499),o=n(2634);t.exports=function(t){var e=i(t);return 1==e.length&&e[0][2]?o(e[0][0],e[0][1]):function(n){return n===t||r(n,t,e)}}},6432:(t,e,n)=>{var r=n(939),i=n(7361),o=n(9095),a=n(5403),s=n(9162),l=n(2634),c=n(327);t.exports=function(t,e){return a(t)&&s(e)?l(c(t),e):function(n){var a=i(n,t);return void 0===a&&a===e?o(n,t):r(e,a,3)}}},2980:(t,e,n)=>{var r=n(6384),i=n(6556),o=n(8483),a=n(9783),s=n(3218),l=n(1704),c=n(6390);t.exports=function t(e,n,u,h,d){e!==n&&o(n,(function(o,l){if(d||(d=new r),s(o))a(e,n,l,u,t,h,d);else{var f=h?h(c(e,l),o,l+"",e,n,d):void 0;void 0===f&&(f=o),i(e,l,f)}}),l)}},9783:(t,e,n)=>{var r=n(6556),i=n(4626),o=n(7133),a=n(278),s=n(8517),l=n(5694),c=n(1469),u=n(9246),h=n(4144),d=n(3560),f=n(3218),p=n(8630),g=n(6719),m=n(6390),y=n(3678);t.exports=function(t,e,n,v,b,w,x){var _=m(t,n),k=m(e,n),E=x.get(k);if(E)r(t,n,E);else{var C=w?w(_,k,n+"",t,e,x):void 0,S=void 0===C;if(S){var D=c(k),T=!D&&h(k),A=!D&&!T&&g(k);C=k,D||T||A?c(_)?C=_:u(_)?C=a(_):T?(S=!1,C=i(k,!0)):A?(S=!1,C=o(k,!0)):C=[]:p(k)||l(k)?(C=_,l(_)?C=y(_):f(_)&&!d(_)||(C=s(k))):S=!1}S&&(x.set(k,C),b(C,k,v,w,x),x.delete(k)),r(t,n,C)}}},9556:(t,e,n)=>{var r=n(9932),i=n(7786),o=n(7206),a=n(9199),s=n(1131),l=n(1717),c=n(5022),u=n(6557),h=n(1469);t.exports=function(t,e,n){e=e.length?r(e,(function(t){return h(t)?function(e){return i(e,1===t.length?t[0]:t)}:t})):[u];var d=-1;e=r(e,l(o));var f=a(t,(function(t,n,i){return{criteria:r(e,(function(e){return e(t)})),index:++d,value:t}}));return s(f,(function(t,e){return c(t,e,n)}))}},5970:(t,e,n)=>{var r=n(3012),i=n(9095);t.exports=function(t,e){return r(t,e,(function(e,n){return i(t,n)}))}},3012:(t,e,n)=>{var r=n(7786),i=n(611),o=n(1811);t.exports=function(t,e,n){for(var a=-1,s=e.length,l={};++a<s;){var c=e[a],u=r(t,c);n(u,c)&&i(l,o(c,t),u)}return l}},371:t=>{t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},9152:(t,e,n)=>{var r=n(7786);t.exports=function(t){return function(e){return r(e,t)}}},98:t=>{var e=Math.ceil,n=Math.max;t.exports=function(t,r,i,o){for(var a=-1,s=n(e((r-t)/(i||1)),0),l=Array(s);s--;)l[o?s:++a]=t,t+=i;return l}},107:t=>{t.exports=function(t,e,n,r,i){return i(t,(function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)})),n}},5976:(t,e,n)=>{var r=n(6557),i=n(5357),o=n(61);t.exports=function(t,e){return o(i(t,e,r),t+"")}},611:(t,e,n)=>{var r=n(4865),i=n(1811),o=n(5776),a=n(3218),s=n(327);t.exports=function(t,e,n,l){if(!a(t))return t;for(var c=-1,u=(e=i(e,t)).length,h=u-1,d=t;null!=d&&++c<u;){var f=s(e[c]),p=n;if("__proto__"===f||"constructor"===f||"prototype"===f)return t;if(c!=h){var g=d[f];void 0===(p=l?l(g,f,d):void 0)&&(p=a(g)?g:o(e[c+1])?[]:{})}r(d,f,p),d=d[f]}return t}},6560:(t,e,n)=>{var r=n(5703),i=n(8777),o=n(6557),a=i?function(t,e){return i(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:o;t.exports=a},1131:t=>{t.exports=function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}},2545:t=>{t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},531:(t,e,n)=>{var r=n(2705),i=n(9932),o=n(1469),a=n(3448),s=r?r.prototype:void 0,l=s?s.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(o(e))return i(e,t)+"";if(a(e))return l?l.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n}},7561:(t,e,n)=>{var r=n(7990),i=/^\s+/;t.exports=function(t){return t?t.slice(0,r(t)+1).replace(i,""):t}},1717:t=>{t.exports=function(t){return function(e){return t(e)}}},5652:(t,e,n)=>{var r=n(8668),i=n(7443),o=n(1196),a=n(4757),s=n(3593),l=n(1814);t.exports=function(t,e,n){var c=-1,u=i,h=t.length,d=!0,f=[],p=f;if(n)d=!1,u=o;else if(h>=200){var g=e?null:s(t);if(g)return l(g);d=!1,u=a,p=new r}else p=e?[]:f;t:for(;++c<h;){var m=t[c],y=e?e(m):m;if(m=n||0!==m?m:0,d&&y==y){for(var v=p.length;v--;)if(p[v]===y)continue t;e&&p.push(y),f.push(m)}else u(p,y,n)||(p!==f&&p.push(y),f.push(m))}return f}},7415:(t,e,n)=>{var r=n(9932);t.exports=function(t,e){return r(e,(function(e){return t[e]}))}},1757:t=>{t.exports=function(t,e,n){for(var r=-1,i=t.length,o=e.length,a={};++r<i;){var s=r<o?e[r]:void 0;n(a,t[r],s)}return a}},4757:t=>{t.exports=function(t,e){return t.has(e)}},4290:(t,e,n)=>{var r=n(6557);t.exports=function(t){return"function"==typeof t?t:r}},1811:(t,e,n)=>{var r=n(1469),i=n(5403),o=n(5514),a=n(9833);t.exports=function(t,e){return r(t)?t:i(t,e)?[t]:o(a(t))}},4318:(t,e,n)=>{var r=n(1149);t.exports=function(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}},4626:(t,e,n)=>{t=n.nmd(t);var r=n(5639),i=e&&!e.nodeType&&e,o=i&&t&&!t.nodeType&&t,a=o&&o.exports===i?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,r=s?s(n):new t.constructor(n);return t.copy(r),r}},7157:(t,e,n)=>{var r=n(4318);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}},3147:t=>{var e=/\w*$/;t.exports=function(t){var n=new t.constructor(t.source,e.exec(t));return n.lastIndex=t.lastIndex,n}},419:(t,e,n)=>{var r=n(2705),i=r?r.prototype:void 0,o=i?i.valueOf:void 0;t.exports=function(t){return o?Object(o.call(t)):{}}},7133:(t,e,n)=>{var r=n(4318);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},6393:(t,e,n)=>{var r=n(3448);t.exports=function(t,e){if(t!==e){var n=void 0!==t,i=null===t,o=t==t,a=r(t),s=void 0!==e,l=null===e,c=e==e,u=r(e);if(!l&&!u&&!a&&t>e||a&&s&&c&&!l&&!u||i&&s&&c||!n&&c||!o)return 1;if(!i&&!a&&!u&&t<e||u&&n&&o&&!i&&!a||l&&n&&o||!s&&o||!c)return-1}return 0}},5022:(t,e,n)=>{var r=n(6393);t.exports=function(t,e,n){for(var i=-1,o=t.criteria,a=e.criteria,s=o.length,l=n.length;++i<s;){var c=r(o[i],a[i]);if(c)return i>=l?c:c*("desc"==n[i]?-1:1)}return t.index-e.index}},278:t=>{t.exports=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}},8363:(t,e,n)=>{var r=n(4865),i=n(9465);t.exports=function(t,e,n,o){var a=!n;n||(n={});for(var s=-1,l=e.length;++s<l;){var c=e[s],u=o?o(n[c],t[c],c,n,t):void 0;void 0===u&&(u=t[c]),a?i(n,c,u):r(n,c,u)}return n}},8805:(t,e,n)=>{var r=n(8363),i=n(9551);t.exports=function(t,e){return r(t,i(t),e)}},1911:(t,e,n)=>{var r=n(8363),i=n(1442);t.exports=function(t,e){return r(t,i(t),e)}},4429:(t,e,n)=>{var r=n(5639)["__core-js_shared__"];t.exports=r},1750:(t,e,n)=>{var r=n(5976),i=n(6612);t.exports=function(t){return r((function(e,n){var r=-1,o=n.length,a=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(a=t.length>3&&"function"==typeof a?(o--,a):void 0,s&&i(n[0],n[1],s)&&(a=o<3?void 0:a,o=1),e=Object(e);++r<o;){var l=n[r];l&&t(e,l,r,a)}return e}))}},9291:(t,e,n)=>{var r=n(8612);t.exports=function(t,e){return function(n,i){if(null==n)return n;if(!r(n))return t(n,i);for(var o=n.length,a=e?o:-1,s=Object(n);(e?a--:++a<o)&&!1!==i(s[a],a,s););return n}}},5063:t=>{t.exports=function(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(!1===n(o[l],l,o))break}return e}}},7740:(t,e,n)=>{var r=n(7206),i=n(8612),o=n(3674);t.exports=function(t){return function(e,n,a){var s=Object(e);if(!i(e)){var l=r(n,3);e=o(e),n=function(t){return l(s[t],t,s)}}var c=t(e,n,a);return c>-1?s[l?e[c]:c]:void 0}}},7445:(t,e,n)=>{var r=n(98),i=n(6612),o=n(8601);t.exports=function(t){return function(e,n,a){return a&&"number"!=typeof a&&i(e,n,a)&&(n=a=void 0),e=o(e),void 0===n?(n=e,e=0):n=o(n),a=void 0===a?e<n?1:-1:o(a),r(e,n,a,t)}}},3593:(t,e,n)=>{var r=n(8525),i=n(308),o=n(1814),a=r&&1/o(new r([,-0]))[1]==1/0?function(t){return new r(t)}:i;t.exports=a},8777:(t,e,n)=>{var r=n(852),i=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=i},7114:(t,e,n)=>{var r=n(8668),i=n(2908),o=n(4757);t.exports=function(t,e,n,a,s,l){var c=1&n,u=t.length,h=e.length;if(u!=h&&!(c&&h>u))return!1;var d=l.get(t),f=l.get(e);if(d&&f)return d==e&&f==t;var p=-1,g=!0,m=2&n?new r:void 0;for(l.set(t,e),l.set(e,t);++p<u;){var y=t[p],v=e[p];if(a)var b=c?a(v,y,p,e,t,l):a(y,v,p,t,e,l);if(void 0!==b){if(b)continue;g=!1;break}if(m){if(!i(e,(function(t,e){if(!o(m,e)&&(y===t||s(y,t,n,a,l)))return m.push(e)}))){g=!1;break}}else if(y!==v&&!s(y,v,n,a,l)){g=!1;break}}return l.delete(t),l.delete(e),g}},8351:(t,e,n)=>{var r=n(2705),i=n(1149),o=n(7813),a=n(7114),s=n(8776),l=n(1814),c=r?r.prototype:void 0,u=c?c.valueOf:void 0;t.exports=function(t,e,n,r,c,h,d){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!h(new i(t),new i(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var f=s;case"[object Set]":var p=1&r;if(f||(f=l),t.size!=e.size&&!p)return!1;var g=d.get(t);if(g)return g==e;r|=2,d.set(t,e);var m=a(f(t),f(e),r,c,h,d);return d.delete(t),m;case"[object Symbol]":if(u)return u.call(t)==u.call(e)}return!1}},6096:(t,e,n)=>{var r=n(8234),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,o,a,s){var l=1&n,c=r(t),u=c.length;if(u!=r(e).length&&!l)return!1;for(var h=u;h--;){var d=c[h];if(!(l?d in e:i.call(e,d)))return!1}var f=s.get(t),p=s.get(e);if(f&&p)return f==e&&p==t;var g=!0;s.set(t,e),s.set(e,t);for(var m=l;++h<u;){var y=t[d=c[h]],v=e[d];if(o)var b=l?o(v,y,d,e,t,s):o(y,v,d,t,e,s);if(!(void 0===b?y===v||a(y,v,n,o,s):b)){g=!1;break}m||(m="constructor"==d)}if(g&&!m){var w=t.constructor,x=e.constructor;w==x||!("constructor"in t)||!("constructor"in e)||"function"==typeof w&&w instanceof w&&"function"==typeof x&&x instanceof x||(g=!1)}return s.delete(t),s.delete(e),g}},9021:(t,e,n)=>{var r=n(5564),i=n(5357),o=n(61);t.exports=function(t){return o(i(t,void 0,r),t+"")}},1957:(t,e,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;t.exports=r},8234:(t,e,n)=>{var r=n(8866),i=n(9551),o=n(3674);t.exports=function(t){return r(t,o,i)}},6904:(t,e,n)=>{var r=n(8866),i=n(1442),o=n(1704);t.exports=function(t){return r(t,o,i)}},5050:(t,e,n)=>{var r=n(7019);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},1499:(t,e,n)=>{var r=n(9162),i=n(3674);t.exports=function(t){for(var e=i(t),n=e.length;n--;){var o=e[n],a=t[o];e[n]=[o,a,r(a)]}return e}},852:(t,e,n)=>{var r=n(8458),i=n(7801);t.exports=function(t,e){var n=i(t,e);return r(n)?n:void 0}},5924:(t,e,n)=>{var r=n(5569)(Object.getPrototypeOf,Object);t.exports=r},9607:(t,e,n)=>{var r=n(2705),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;t.exports=function(t){var e=o.call(t,s),n=t[s];try{t[s]=void 0;var r=!0}catch(t){}var i=a.call(t);return r&&(e?t[s]=n:delete t[s]),i}},9551:(t,e,n)=>{var r=n(4963),i=n(479),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(t){return null==t?[]:(t=Object(t),r(a(t),(function(e){return o.call(t,e)})))}:i;t.exports=s},1442:(t,e,n)=>{var r=n(2488),i=n(5924),o=n(9551),a=n(479),s=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)r(e,o(t)),t=i(t);return e}:a;t.exports=s},4160:(t,e,n)=>{var r=n(8552),i=n(7071),o=n(3818),a=n(8525),s=n(577),l=n(4239),c=n(346),u="[object Map]",h="[object Promise]",d="[object Set]",f="[object WeakMap]",p="[object DataView]",g=c(r),m=c(i),y=c(o),v=c(a),b=c(s),w=l;(r&&w(new r(new ArrayBuffer(1)))!=p||i&&w(new i)!=u||o&&w(o.resolve())!=h||a&&w(new a)!=d||s&&w(new s)!=f)&&(w=function(t){var e=l(t),n="[object Object]"==e?t.constructor:void 0,r=n?c(n):"";if(r)switch(r){case g:return p;case m:return u;case y:return h;case v:return d;case b:return f}return e}),t.exports=w},7801:t=>{t.exports=function(t,e){return null==t?void 0:t[e]}},222:(t,e,n)=>{var r=n(1811),i=n(5694),o=n(1469),a=n(5776),s=n(1780),l=n(327);t.exports=function(t,e,n){for(var c=-1,u=(e=r(e,t)).length,h=!1;++c<u;){var d=l(e[c]);if(!(h=null!=t&&n(t,d)))break;t=t[d]}return h||++c!=u?h:!!(u=null==t?0:t.length)&&s(u)&&a(d,u)&&(o(t)||i(t))}},2689:t=>{var e=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");t.exports=function(t){return e.test(t)}},1789:(t,e,n)=>{var r=n(4536);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},401:t=>{t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},7667:(t,e,n)=>{var r=n(4536),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(e,t)?e[t]:void 0}},1327:(t,e,n)=>{var r=n(4536),i=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:i.call(e,t)}},1866:(t,e,n)=>{var r=n(4536);t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?"__lodash_hash_undefined__":e,this}},3824:t=>{var e=Object.prototype.hasOwnProperty;t.exports=function(t){var n=t.length,r=new t.constructor(n);return n&&"string"==typeof t[0]&&e.call(t,"index")&&(r.index=t.index,r.input=t.input),r}},9148:(t,e,n)=>{var r=n(4318),i=n(7157),o=n(3147),a=n(419),s=n(7133);t.exports=function(t,e,n){var l=t.constructor;switch(e){case"[object ArrayBuffer]":return r(t);case"[object Boolean]":case"[object Date]":return new l(+t);case"[object DataView]":return i(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(t,n);case"[object Map]":case"[object Set]":return new l;case"[object Number]":case"[object String]":return new l(t);case"[object RegExp]":return o(t);case"[object Symbol]":return a(t)}}},8517:(t,e,n)=>{var r=n(3118),i=n(5924),o=n(5726);t.exports=function(t){return"function"!=typeof t.constructor||o(t)?{}:r(i(t))}},7285:(t,e,n)=>{var r=n(2705),i=n(5694),o=n(1469),a=r?r.isConcatSpreadable:void 0;t.exports=function(t){return o(t)||i(t)||!!(a&&t&&t[a])}},5776:t=>{var e=/^(?:0|[1-9]\d*)$/;t.exports=function(t,n){var r=typeof t;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&e.test(t))&&t>-1&&t%1==0&&t<n}},6612:(t,e,n)=>{var r=n(7813),i=n(8612),o=n(5776),a=n(3218);t.exports=function(t,e,n){if(!a(n))return!1;var s=typeof e;return!!("number"==s?i(n)&&o(e,n.length):"string"==s&&e in n)&&r(n[e],t)}},5403:(t,e,n)=>{var r=n(1469),i=n(3448),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.exports=function(t,e){if(r(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!i(t))||a.test(t)||!o.test(t)||null!=e&&t in Object(e)}},7019:t=>{t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},5346:(t,e,n)=>{var r,i=n(4429),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";t.exports=function(t){return!!o&&o in t}},5726:t=>{var e=Object.prototype;t.exports=function(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||e)}},9162:(t,e,n)=>{var r=n(3218);t.exports=function(t){return t==t&&!r(t)}},7040:t=>{t.exports=function(){this.__data__=[],this.size=0}},4125:(t,e,n)=>{var r=n(8470),i=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0||(n==e.length-1?e.pop():i.call(e,n,1),--this.size,0))}},2117:(t,e,n)=>{var r=n(8470);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},7518:(t,e,n)=>{var r=n(8470);t.exports=function(t){return r(this.__data__,t)>-1}},4705:(t,e,n)=>{var r=n(8470);t.exports=function(t,e){var n=this.__data__,i=r(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}},4785:(t,e,n)=>{var r=n(1989),i=n(8407),o=n(7071);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},1285:(t,e,n)=>{var r=n(5050);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},6e3:(t,e,n)=>{var r=n(5050);t.exports=function(t){return r(this,t).get(t)}},9916:(t,e,n)=>{var r=n(5050);t.exports=function(t){return r(this,t).has(t)}},5265:(t,e,n)=>{var r=n(5050);t.exports=function(t,e){var n=r(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}},8776:t=>{t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}},2634:t=>{t.exports=function(t,e){return function(n){return null!=n&&n[t]===e&&(void 0!==e||t in Object(n))}}},4523:(t,e,n)=>{var r=n(8306);t.exports=function(t){var e=r(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}},4536:(t,e,n)=>{var r=n(852)(Object,"create");t.exports=r},6916:(t,e,n)=>{var r=n(5569)(Object.keys,Object);t.exports=r},3498:t=>{t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},1167:(t,e,n)=>{t=n.nmd(t);var r=n(1957),i=e&&!e.nodeType&&e,o=i&&t&&!t.nodeType&&t,a=o&&o.exports===i&&r.process,s=function(){try{return o&&o.require&&o.require("util").types||a&&a.binding&&a.binding("util")}catch(t){}}();t.exports=s},2333:t=>{var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},5569:t=>{t.exports=function(t,e){return function(n){return t(e(n))}}},5357:(t,e,n)=>{var r=n(6874),i=Math.max;t.exports=function(t,e,n){return e=i(void 0===e?t.length-1:e,0),function(){for(var o=arguments,a=-1,s=i(o.length-e,0),l=Array(s);++a<s;)l[a]=o[e+a];a=-1;for(var c=Array(e+1);++a<e;)c[a]=o[a];return c[e]=n(l),r(t,this,c)}}},5639:(t,e,n)=>{var r=n(1957),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},6390:t=>{t.exports=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}},619:t=>{t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},2385:t=>{t.exports=function(t){return this.__data__.has(t)}},1814:t=>{t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}},61:(t,e,n)=>{var r=n(6560),i=n(1275)(r);t.exports=i},1275:t=>{var e=Date.now;t.exports=function(t){var n=0,r=0;return function(){var i=e(),o=16-(i-r);if(r=i,o>0){if(++n>=800)return arguments[0]}else n=0;return t.apply(void 0,arguments)}}},7465:(t,e,n)=>{var r=n(8407);t.exports=function(){this.__data__=new r,this.size=0}},3779:t=>{t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},7599:t=>{t.exports=function(t){return this.__data__.get(t)}},4758:t=>{t.exports=function(t){return this.__data__.has(t)}},4309:(t,e,n)=>{var r=n(8407),i=n(7071),o=n(3369);t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([t,e]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(t,e),this.size=n.size,this}},2351:t=>{t.exports=function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}},8016:(t,e,n)=>{var r=n(8983),i=n(2689),o=n(1903);t.exports=function(t){return i(t)?o(t):r(t)}},5514:(t,e,n)=>{var r=n(4523),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(i,(function(t,n,r,i){e.push(r?i.replace(o,"$1"):n||t)})),e}));t.exports=a},327:(t,e,n)=>{var r=n(3448);t.exports=function(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}},346:t=>{var e=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return e.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},7990:t=>{var e=/\s/;t.exports=function(t){for(var n=t.length;n--&&e.test(t.charAt(n)););return n}},1903:t=>{var e="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",n="\\ud83c[\\udffb-\\udfff]",r="[^\\ud800-\\udfff]",i="(?:\\ud83c[\\udde6-\\uddff]){2}",o="[\\ud800-\\udbff][\\udc00-\\udfff]",a="(?:"+e+"|"+n+")?",s="[\\ufe0e\\ufe0f]?",l=s+a+"(?:\\u200d(?:"+[r,i,o].join("|")+")"+s+a+")*",c="(?:"+[r+e+"?",e,i,o,"[\\ud800-\\udfff]"].join("|")+")",u=RegExp(n+"(?="+n+")|"+c+l,"g");t.exports=function(t){for(var e=u.lastIndex=0;u.test(t);)++e;return e}},6678:(t,e,n)=>{var r=n(5990);t.exports=function(t){return r(t,4)}},361:(t,e,n)=>{var r=n(5990);t.exports=function(t){return r(t,5)}},5703:t=>{t.exports=function(t){return function(){return t}}},1747:(t,e,n)=>{var r=n(5976),i=n(7813),o=n(6612),a=n(1704),s=Object.prototype,l=s.hasOwnProperty,c=r((function(t,e){t=Object(t);var n=-1,r=e.length,c=r>2?e[2]:void 0;for(c&&o(e[0],e[1],c)&&(r=1);++n<r;)for(var u=e[n],h=a(u),d=-1,f=h.length;++d<f;){var p=h[d],g=t[p];(void 0===g||i(g,s[p])&&!l.call(t,p))&&(t[p]=u[p])}return t}));t.exports=c},6073:(t,e,n)=>{t.exports=n(4486)},7813:t=>{t.exports=function(t,e){return t===e||t!=t&&e!=e}},3105:(t,e,n)=>{var r=n(4963),i=n(760),o=n(7206),a=n(1469);t.exports=function(t,e){return(a(t)?r:i)(t,o(e,3))}},3311:(t,e,n)=>{var r=n(7740)(n(998));t.exports=r},998:(t,e,n)=>{var r=n(1848),i=n(7206),o=n(554),a=Math.max;t.exports=function(t,e,n){var s=null==t?0:t.length;if(!s)return-1;var l=null==n?0:o(n);return l<0&&(l=a(s+l,0)),r(t,i(e,3),l)}},5564:(t,e,n)=>{var r=n(1078);t.exports=function(t){return null!=t&&t.length?r(t,1):[]}},4486:(t,e,n)=>{var r=n(7412),i=n(9881),o=n(4290),a=n(1469);t.exports=function(t,e){return(a(t)?r:i)(t,o(e))}},2620:(t,e,n)=>{var r=n(8483),i=n(4290),o=n(1704);t.exports=function(t,e){return null==t?t:r(t,i(e),o)}},7361:(t,e,n)=>{var r=n(7786);t.exports=function(t,e,n){var i=null==t?void 0:r(t,e);return void 0===i?n:i}},8721:(t,e,n)=>{var r=n(8565),i=n(222);t.exports=function(t,e){return null!=t&&i(t,e,r)}},9095:(t,e,n)=>{var r=n(13),i=n(222);t.exports=function(t,e){return null!=t&&i(t,e,r)}},6557:t=>{t.exports=function(t){return t}},5694:(t,e,n)=>{var r=n(9454),i=n(7005),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(t){return i(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=l},1469:t=>{var e=Array.isArray;t.exports=e},8612:(t,e,n)=>{var r=n(3560),i=n(1780);t.exports=function(t){return null!=t&&i(t.length)&&!r(t)}},9246:(t,e,n)=>{var r=n(8612),i=n(7005);t.exports=function(t){return i(t)&&r(t)}},4144:(t,e,n)=>{t=n.nmd(t);var r=n(5639),i=n(5062),o=e&&!e.nodeType&&e,a=o&&t&&!t.nodeType&&t,s=a&&a.exports===o?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||i;t.exports=l},1609:(t,e,n)=>{var r=n(280),i=n(4160),o=n(5694),a=n(1469),s=n(8612),l=n(4144),c=n(5726),u=n(6719),h=Object.prototype.hasOwnProperty;t.exports=function(t){if(null==t)return!0;if(s(t)&&(a(t)||"string"==typeof t||"function"==typeof t.splice||l(t)||u(t)||o(t)))return!t.length;var e=i(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if(c(t))return!r(t).length;for(var n in t)if(h.call(t,n))return!1;return!0}},3560:(t,e,n)=>{var r=n(4239),i=n(3218);t.exports=function(t){if(!i(t))return!1;var e=r(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},1780:t=>{t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},6688:(t,e,n)=>{var r=n(5588),i=n(1717),o=n(1167),a=o&&o.isMap,s=a?i(a):r;t.exports=s},3218:t=>{t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},7005:t=>{t.exports=function(t){return null!=t&&"object"==typeof t}},8630:(t,e,n)=>{var r=n(4239),i=n(5924),o=n(7005),a=Function.prototype,s=Object.prototype,l=a.toString,c=s.hasOwnProperty,u=l.call(Object);t.exports=function(t){if(!o(t)||"[object Object]"!=r(t))return!1;var e=i(t);if(null===e)return!0;var n=c.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==u}},2928:(t,e,n)=>{var r=n(9221),i=n(1717),o=n(1167),a=o&&o.isSet,s=a?i(a):r;t.exports=s},7037:(t,e,n)=>{var r=n(4239),i=n(1469),o=n(7005);t.exports=function(t){return"string"==typeof t||!i(t)&&o(t)&&"[object String]"==r(t)}},3448:(t,e,n)=>{var r=n(4239),i=n(7005);t.exports=function(t){return"symbol"==typeof t||i(t)&&"[object Symbol]"==r(t)}},6719:(t,e,n)=>{var r=n(8749),i=n(1717),o=n(1167),a=o&&o.isTypedArray,s=a?i(a):r;t.exports=s},2353:t=>{t.exports=function(t){return void 0===t}},3674:(t,e,n)=>{var r=n(4636),i=n(280),o=n(8612);t.exports=function(t){return o(t)?r(t):i(t)}},1704:(t,e,n)=>{var r=n(4636),i=n(313),o=n(8612);t.exports=function(t){return o(t)?r(t,!0):i(t)}},928:t=>{t.exports=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}},5161:(t,e,n)=>{var r=n(9932),i=n(7206),o=n(9199),a=n(1469);t.exports=function(t,e){return(a(t)?r:o)(t,i(e,3))}},6604:(t,e,n)=>{var r=n(9465),i=n(7816),o=n(7206);t.exports=function(t,e){var n={};return e=o(e,3),i(t,(function(t,i,o){r(n,i,e(t,i,o))})),n}},6162:(t,e,n)=>{var r=n(6029),i=n(3325),o=n(6557);t.exports=function(t){return t&&t.length?r(t,o,i):void 0}},8306:(t,e,n)=>{var r=n(3369);function i(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(i.Cache||r),n}i.Cache=r,t.exports=i},3857:(t,e,n)=>{var r=n(2980),i=n(1750)((function(t,e,n){r(t,e,n)}));t.exports=i},3632:(t,e,n)=>{var r=n(6029),i=n(433),o=n(6557);t.exports=function(t){return t&&t.length?r(t,o,i):void 0}},2762:(t,e,n)=>{var r=n(6029),i=n(7206),o=n(433);t.exports=function(t,e){return t&&t.length?r(t,i(e,2),o):void 0}},308:t=>{t.exports=function(){}},7771:(t,e,n)=>{var r=n(5639);t.exports=function(){return r.Date.now()}},9722:(t,e,n)=>{var r=n(5970),i=n(9021)((function(t,e){return null==t?{}:r(t,e)}));t.exports=i},9601:(t,e,n)=>{var r=n(371),i=n(9152),o=n(5403),a=n(327);t.exports=function(t){return o(t)?r(a(t)):i(t)}},6026:(t,e,n)=>{var r=n(7445)();t.exports=r},4061:(t,e,n)=>{var r=n(2663),i=n(9881),o=n(7206),a=n(107),s=n(1469);t.exports=function(t,e,n){var l=s(t)?r:a,c=arguments.length<3;return l(t,o(e,4),n,c,i)}},4238:(t,e,n)=>{var r=n(280),i=n(4160),o=n(8612),a=n(7037),s=n(8016);t.exports=function(t){if(null==t)return 0;if(o(t))return a(t)?s(t):t.length;var e=i(t);return"[object Map]"==e||"[object Set]"==e?t.size:r(t).length}},9734:(t,e,n)=>{var r=n(1078),i=n(9556),o=n(5976),a=n(6612),s=o((function(t,e){if(null==t)return[];var n=e.length;return n>1&&a(t,e[0],e[1])?e=[]:n>2&&a(e[0],e[1],e[2])&&(e=[e[0]]),i(t,r(e,1),[])}));t.exports=s},479:t=>{t.exports=function(){return[]}},5062:t=>{t.exports=function(){return!1}},8601:(t,e,n)=>{var r=n(4841);t.exports=function(t){return t?1/0===(t=r(t))||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}},554:(t,e,n)=>{var r=n(8601);t.exports=function(t){var e=r(t),n=e%1;return e==e?n?e-n:e:0}},4841:(t,e,n)=>{var r=n(7561),i=n(3218),o=n(3448),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(o(t))return NaN;if(i(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=i(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=r(t);var n=s.test(t);return n||l.test(t)?c(t.slice(2),n?2:8):a.test(t)?NaN:+t}},3678:(t,e,n)=>{var r=n(8363),i=n(1704);t.exports=function(t){return r(t,i(t))}},9833:(t,e,n)=>{var r=n(531);t.exports=function(t){return null==t?"":r(t)}},8718:(t,e,n)=>{var r=n(7412),i=n(3118),o=n(7816),a=n(7206),s=n(5924),l=n(1469),c=n(4144),u=n(3560),h=n(3218),d=n(6719);t.exports=function(t,e,n){var f=l(t),p=f||c(t)||d(t);if(e=a(e,4),null==n){var g=t&&t.constructor;n=p?f?new g:[]:h(t)&&u(g)?i(s(t)):{}}return(p?r:o)(t,(function(t,r,i){return e(n,t,r,i)})),n}},3386:(t,e,n)=>{var r=n(1078),i=n(5976),o=n(5652),a=n(9246),s=i((function(t){return o(r(t,1,a,!0))}));t.exports=s},3955:(t,e,n)=>{var r=n(9833),i=0;t.exports=function(t){var e=++i;return r(t)+e}},2628:(t,e,n)=>{var r=n(7415),i=n(3674);t.exports=function(t){return null==t?[]:r(t,i(t))}},7287:(t,e,n)=>{var r=n(4865),i=n(1757);t.exports=function(t,e){return i(t||[],e||[],r)}},9234:()=>{},1748:(t,e,n)=>{var r={"./locale":9234,"./locale.js":9234};function i(t){var e=o(t);return n(e)}function o(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}i.keys=function(){return Object.keys(r)},i.resolve=o,t.exports=i,i.id=1748},1941:function(t,e,n){(t=n.nmd(t)).exports=function(){var e,r;function i(){return e.apply(null,arguments)}function o(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function a(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function s(t){return void 0===t}function l(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function c(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function u(t,e){var n,r=[];for(n=0;n<t.length;++n)r.push(e(t[n],n));return r}function h(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function d(t,e){for(var n in e)h(e,n)&&(t[n]=e[n]);return h(e,"toString")&&(t.toString=e.toString),h(e,"valueOf")&&(t.valueOf=e.valueOf),t}function f(t,e,n,r){return be(t,e,n,r,!0).utc()}function p(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),t._pf}function g(t){if(null==t._isValid){var e=p(t),n=r.call(e.parsedDateParts,(function(t){return null!=t})),i=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(i=i&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return i;t._isValid=i}return t._isValid}function m(t){var e=f(NaN);return null!=t?d(p(e),t):p(e).userInvalidated=!0,e}r=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),n=e.length>>>0,r=0;r<n;r++)if(r in e&&t.call(this,e[r],r,e))return!0;return!1};var y=i.momentProperties=[];function v(t,e){var n,r,i;if(s(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),s(e._i)||(t._i=e._i),s(e._f)||(t._f=e._f),s(e._l)||(t._l=e._l),s(e._strict)||(t._strict=e._strict),s(e._tzm)||(t._tzm=e._tzm),s(e._isUTC)||(t._isUTC=e._isUTC),s(e._offset)||(t._offset=e._offset),s(e._pf)||(t._pf=p(e)),s(e._locale)||(t._locale=e._locale),0<y.length)for(n=0;n<y.length;n++)s(i=e[r=y[n]])||(t[r]=i);return t}var b=!1;function w(t){v(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===b&&(b=!0,i.updateOffset(this),b=!1)}function x(t){return t instanceof w||null!=t&&null!=t._isAMomentObject}function _(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function k(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=_(e)),n}function E(t,e,n){var r,i=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),a=0;for(r=0;r<i;r++)(n&&t[r]!==e[r]||!n&&k(t[r])!==k(e[r]))&&a++;return a+o}function C(t){!1===i.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn}function S(t,e){var n=!0;return d((function(){if(null!=i.deprecationHandler&&i.deprecationHandler(null,t),n){for(var r,o=[],a=0;a<arguments.length;a++){if(r="","object"==typeof arguments[a]){for(var s in r+="\n["+a+"] ",arguments[0])r+=s+": "+arguments[0][s]+", ";r=r.slice(0,-2)}else r=arguments[a];o.push(r)}C((Array.prototype.slice.call(o).join(""),(new Error).stack)),n=!1}return e.apply(this,arguments)}),e)}var D,T={};function A(t,e){null!=i.deprecationHandler&&i.deprecationHandler(t,e),T[t]||(C(),T[t]=!0)}function M(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function N(t,e){var n,r=d({},t);for(n in e)h(e,n)&&(a(t[n])&&a(e[n])?(r[n]={},d(r[n],t[n]),d(r[n],e[n])):null!=e[n]?r[n]=e[n]:delete r[n]);for(n in t)h(t,n)&&!h(e,n)&&a(t[n])&&(r[n]=d({},r[n]));return r}function O(t){null!=t&&this.set(t)}i.suppressDeprecationWarnings=!1,i.deprecationHandler=null,D=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)h(t,e)&&n.push(e);return n};var F={};function I(t,e){var n=t.toLowerCase();F[n]=F[n+"s"]=F[e]=t}function L(t){return"string"==typeof t?F[t]||F[t.toLowerCase()]:void 0}function B(t){var e,n,r={};for(n in t)h(t,n)&&(e=L(n))&&(r[e]=t[n]);return r}var R={};function P(t,e){R[t]=e}function z(t,e,n){var r=""+Math.abs(t),i=e-r.length;return(0<=t?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var $=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,j=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,U={},Y={};function q(t,e,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),t&&(Y[t]=i),e&&(Y[e[0]]=function(){return z(i.apply(this,arguments),e[1],e[2])}),n&&(Y[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function W(t,e){return t.isValid()?(e=H(e,t.localeData()),U[e]=U[e]||function(t){var e,n,r,i=t.match($);for(e=0,n=i.length;e<n;e++)Y[i[e]]?i[e]=Y[i[e]]:i[e]=(r=i[e]).match(/\[[\s\S]/)?r.replace(/^\[|\]$/g,""):r.replace(/\\/g,"");return function(e){var r,o="";for(r=0;r<n;r++)o+=M(i[r])?i[r].call(e,t):i[r];return o}}(e),U[e](t)):t.localeData().invalidDate()}function H(t,e){var n=5;function r(t){return e.longDateFormat(t)||t}for(j.lastIndex=0;0<=n&&j.test(t);)t=t.replace(j,r),j.lastIndex=0,n-=1;return t}var V=/\d/,G=/\d\d/,X=/\d{3}/,K=/\d{4}/,J=/[+-]?\d{6}/,Z=/\d\d?/,Q=/\d\d\d\d?/,tt=/\d\d\d\d\d\d?/,et=/\d{1,3}/,nt=/\d{1,4}/,rt=/[+-]?\d{1,6}/,it=/\d+/,ot=/[+-]?\d+/,at=/Z|[+-]\d\d:?\d\d/gi,st=/Z|[+-]\d\d(?::?\d\d)?/gi,lt=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ct={};function ut(t,e,n){ct[t]=M(e)?e:function(t,r){return t&&n?n:e}}function ht(t,e){return h(ct,t)?ct[t](e._strict,e._locale):new RegExp(dt(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(t,e,n,r,i){return e||n||r||i}))))}function dt(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var ft={};function pt(t,e){var n,r=e;for("string"==typeof t&&(t=[t]),l(e)&&(r=function(t,n){n[e]=k(t)}),n=0;n<t.length;n++)ft[t[n]]=r}function gt(t,e){pt(t,(function(t,n,r,i){r._w=r._w||{},e(t,r._w,r,i)}))}function mt(t){return yt(t)?366:365}function yt(t){return t%4==0&&t%100!=0||t%400==0}q("Y",0,0,(function(){var t=this.year();return t<=9999?""+t:"+"+t})),q(0,["YY",2],0,(function(){return this.year()%100})),q(0,["YYYY",4],0,"year"),q(0,["YYYYY",5],0,"year"),q(0,["YYYYYY",6,!0],0,"year"),I("year","y"),P("year",1),ut("Y",ot),ut("YY",Z,G),ut("YYYY",nt,K),ut("YYYYY",rt,J),ut("YYYYYY",rt,J),pt(["YYYYY","YYYYYY"],0),pt("YYYY",(function(t,e){e[0]=2===t.length?i.parseTwoDigitYear(t):k(t)})),pt("YY",(function(t,e){e[0]=i.parseTwoDigitYear(t)})),pt("Y",(function(t,e){e[0]=parseInt(t,10)})),i.parseTwoDigitYear=function(t){return k(t)+(68<k(t)?1900:2e3)};var vt,bt=wt("FullYear",!0);function wt(t,e){return function(n){return null!=n?(_t(this,t,n),i.updateOffset(this,e),this):xt(this,t)}}function xt(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function _t(t,e,n){t.isValid()&&!isNaN(n)&&("FullYear"===e&&yt(t.year())&&1===t.month()&&29===t.date()?t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),kt(n,t.month())):t._d["set"+(t._isUTC?"UTC":"")+e](n))}function kt(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=(e%12+12)%12;return t+=(e-n)/12,1===n?yt(t)?29:28:31-n%7%2}vt=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},q("M",["MM",2],"Mo",(function(){return this.month()+1})),q("MMM",0,0,(function(t){return this.localeData().monthsShort(this,t)})),q("MMMM",0,0,(function(t){return this.localeData().months(this,t)})),I("month","M"),P("month",8),ut("M",Z),ut("MM",Z,G),ut("MMM",(function(t,e){return e.monthsShortRegex(t)})),ut("MMMM",(function(t,e){return e.monthsRegex(t)})),pt(["M","MM"],(function(t,e){e[1]=k(t)-1})),pt(["MMM","MMMM"],(function(t,e,n,r){var i=n._locale.monthsParse(t,r,n._strict);null!=i?e[1]=i:p(n).invalidMonth=t}));var Et=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Ct="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),St="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function Dt(t,e){var n;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=k(e);else if(!l(e=t.localeData().monthsParse(e)))return t;return n=Math.min(t.date(),kt(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function Tt(t){return null!=t?(Dt(this,t),i.updateOffset(this,!0),this):xt(this,"Month")}var At=lt,Mt=lt;function Nt(){function t(t,e){return e.length-t.length}var e,n,r=[],i=[],o=[];for(e=0;e<12;e++)n=f([2e3,e]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(r.sort(t),i.sort(t),o.sort(t),e=0;e<12;e++)r[e]=dt(r[e]),i[e]=dt(i[e]);for(e=0;e<24;e++)o[e]=dt(o[e]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function Ot(t){var e;if(t<100&&0<=t){var n=Array.prototype.slice.call(arguments);n[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)}else e=new Date(Date.UTC.apply(null,arguments));return e}function Ft(t,e,n){var r=7+e-n;return-(7+Ot(t,0,r).getUTCDay()-e)%7+r-1}function It(t,e,n,r,i){var o,a,s=1+7*(e-1)+(7+n-r)%7+Ft(t,r,i);return a=s<=0?mt(o=t-1)+s:s>mt(t)?(o=t+1,s-mt(t)):(o=t,s),{year:o,dayOfYear:a}}function Lt(t,e,n){var r,i,o=Ft(t.year(),e,n),a=Math.floor((t.dayOfYear()-o-1)/7)+1;return a<1?r=a+Bt(i=t.year()-1,e,n):a>Bt(t.year(),e,n)?(r=a-Bt(t.year(),e,n),i=t.year()+1):(i=t.year(),r=a),{week:r,year:i}}function Bt(t,e,n){var r=Ft(t,e,n),i=Ft(t+1,e,n);return(mt(t)-r+i)/7}function Rt(t,e){return t.slice(e,7).concat(t.slice(0,e))}q("w",["ww",2],"wo","week"),q("W",["WW",2],"Wo","isoWeek"),I("week","w"),I("isoWeek","W"),P("week",5),P("isoWeek",5),ut("w",Z),ut("ww",Z,G),ut("W",Z),ut("WW",Z,G),gt(["w","ww","W","WW"],(function(t,e,n,r){e[r.substr(0,1)]=k(t)})),q("d",0,"do","day"),q("dd",0,0,(function(t){return this.localeData().weekdaysMin(this,t)})),q("ddd",0,0,(function(t){return this.localeData().weekdaysShort(this,t)})),q("dddd",0,0,(function(t){return this.localeData().weekdays(this,t)})),q("e",0,0,"weekday"),q("E",0,0,"isoWeekday"),I("day","d"),I("weekday","e"),I("isoWeekday","E"),P("day",11),P("weekday",11),P("isoWeekday",11),ut("d",Z),ut("e",Z),ut("E",Z),ut("dd",(function(t,e){return e.weekdaysMinRegex(t)})),ut("ddd",(function(t,e){return e.weekdaysShortRegex(t)})),ut("dddd",(function(t,e){return e.weekdaysRegex(t)})),gt(["dd","ddd","dddd"],(function(t,e,n,r){var i=n._locale.weekdaysParse(t,r,n._strict);null!=i?e.d=i:p(n).invalidWeekday=t})),gt(["d","e","E"],(function(t,e,n,r){e[r]=k(t)}));var Pt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),zt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),$t="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),jt=lt,Ut=lt,Yt=lt;function qt(){function t(t,e){return e.length-t.length}var e,n,r,i,o,a=[],s=[],l=[],c=[];for(e=0;e<7;e++)n=f([2e3,1]).day(e),r=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),o=this.weekdays(n,""),a.push(r),s.push(i),l.push(o),c.push(r),c.push(i),c.push(o);for(a.sort(t),s.sort(t),l.sort(t),c.sort(t),e=0;e<7;e++)s[e]=dt(s[e]),l[e]=dt(l[e]),c[e]=dt(c[e]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Wt(){return this.hours()%12||12}function Ht(t,e){q(t,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)}))}function Vt(t,e){return e._meridiemParse}q("H",["HH",2],0,"hour"),q("h",["hh",2],0,Wt),q("k",["kk",2],0,(function(){return this.hours()||24})),q("hmm",0,0,(function(){return""+Wt.apply(this)+z(this.minutes(),2)})),q("hmmss",0,0,(function(){return""+Wt.apply(this)+z(this.minutes(),2)+z(this.seconds(),2)})),q("Hmm",0,0,(function(){return""+this.hours()+z(this.minutes(),2)})),q("Hmmss",0,0,(function(){return""+this.hours()+z(this.minutes(),2)+z(this.seconds(),2)})),Ht("a",!0),Ht("A",!1),I("hour","h"),P("hour",13),ut("a",Vt),ut("A",Vt),ut("H",Z),ut("h",Z),ut("k",Z),ut("HH",Z,G),ut("hh",Z,G),ut("kk",Z,G),ut("hmm",Q),ut("hmmss",tt),ut("Hmm",Q),ut("Hmmss",tt),pt(["H","HH"],3),pt(["k","kk"],(function(t,e,n){var r=k(t);e[3]=24===r?0:r})),pt(["a","A"],(function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t})),pt(["h","hh"],(function(t,e,n){e[3]=k(t),p(n).bigHour=!0})),pt("hmm",(function(t,e,n){var r=t.length-2;e[3]=k(t.substr(0,r)),e[4]=k(t.substr(r)),p(n).bigHour=!0})),pt("hmmss",(function(t,e,n){var r=t.length-4,i=t.length-2;e[3]=k(t.substr(0,r)),e[4]=k(t.substr(r,2)),e[5]=k(t.substr(i)),p(n).bigHour=!0})),pt("Hmm",(function(t,e,n){var r=t.length-2;e[3]=k(t.substr(0,r)),e[4]=k(t.substr(r))})),pt("Hmmss",(function(t,e,n){var r=t.length-4,i=t.length-2;e[3]=k(t.substr(0,r)),e[4]=k(t.substr(r,2)),e[5]=k(t.substr(i))}));var Gt,Xt=wt("Hours",!0),Kt={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Ct,monthsShort:St,week:{dow:0,doy:6},weekdays:Pt,weekdaysMin:$t,weekdaysShort:zt,meridiemParse:/[ap]\.?m?\.?/i},Jt={},Zt={};function Qt(t){return t?t.toLowerCase().replace("_","-"):t}function te(e){var r=null;if(!Jt[e]&&t&&t.exports)try{r=Gt._abbr,n(1748)("./"+e),ee(r)}catch(e){}return Jt[e]}function ee(t,e){var n;return t&&((n=s(e)?re(t):ne(t,e))?Gt=n:"undefined"!=typeof console&&console.warn),Gt._abbr}function ne(t,e){if(null===e)return delete Jt[t],null;var n,r=Kt;if(e.abbr=t,null!=Jt[t])A("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=Jt[t]._config;else if(null!=e.parentLocale)if(null!=Jt[e.parentLocale])r=Jt[e.parentLocale]._config;else{if(null==(n=te(e.parentLocale)))return Zt[e.parentLocale]||(Zt[e.parentLocale]=[]),Zt[e.parentLocale].push({name:t,config:e}),null;r=n._config}return Jt[t]=new O(N(r,e)),Zt[t]&&Zt[t].forEach((function(t){ne(t.name,t.config)})),ee(t),Jt[t]}function re(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Gt;if(!o(t)){if(e=te(t))return e;t=[t]}return function(t){for(var e,n,r,i,o=0;o<t.length;){for(e=(i=Qt(t[o]).split("-")).length,n=(n=Qt(t[o+1]))?n.split("-"):null;0<e;){if(r=te(i.slice(0,e).join("-")))return r;if(n&&n.length>=e&&E(i,n,!0)>=e-1)break;e--}o++}return Gt}(t)}function ie(t){var e,n=t._a;return n&&-2===p(t).overflow&&(e=n[1]<0||11<n[1]?1:n[2]<1||n[2]>kt(n[0],n[1])?2:n[3]<0||24<n[3]||24===n[3]&&(0!==n[4]||0!==n[5]||0!==n[6])?3:n[4]<0||59<n[4]?4:n[5]<0||59<n[5]?5:n[6]<0||999<n[6]?6:-1,p(t)._overflowDayOfYear&&(e<0||2<e)&&(e=2),p(t)._overflowWeeks&&-1===e&&(e=7),p(t)._overflowWeekday&&-1===e&&(e=8),p(t).overflow=e),t}function oe(t,e,n){return null!=t?t:null!=e?e:n}function ae(t){var e,n,r,o,a,s=[];if(!t._d){var l,c;for(l=t,c=new Date(i.now()),r=l._useUTC?[c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()]:[c.getFullYear(),c.getMonth(),c.getDate()],t._w&&null==t._a[2]&&null==t._a[1]&&function(t){var e,n,r,i,o,a,s,l;if(null!=(e=t._w).GG||null!=e.W||null!=e.E)o=1,a=4,n=oe(e.GG,t._a[0],Lt(we(),1,4).year),r=oe(e.W,1),((i=oe(e.E,1))<1||7<i)&&(l=!0);else{o=t._locale._week.dow,a=t._locale._week.doy;var c=Lt(we(),o,a);n=oe(e.gg,t._a[0],c.year),r=oe(e.w,c.week),null!=e.d?((i=e.d)<0||6<i)&&(l=!0):null!=e.e?(i=e.e+o,(e.e<0||6<e.e)&&(l=!0)):i=o}r<1||r>Bt(n,o,a)?p(t)._overflowWeeks=!0:null!=l?p(t)._overflowWeekday=!0:(s=It(n,r,i,o,a),t._a[0]=s.year,t._dayOfYear=s.dayOfYear)}(t),null!=t._dayOfYear&&(a=oe(t._a[0],r[0]),(t._dayOfYear>mt(a)||0===t._dayOfYear)&&(p(t)._overflowDayOfYear=!0),n=Ot(a,0,t._dayOfYear),t._a[1]=n.getUTCMonth(),t._a[2]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=s[e]=r[e];for(;e<7;e++)t._a[e]=s[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[3]&&0===t._a[4]&&0===t._a[5]&&0===t._a[6]&&(t._nextDay=!0,t._a[3]=0),t._d=(t._useUTC?Ot:function(t,e,n,r,i,o,a){var s;return t<100&&0<=t?(s=new Date(t+400,e,n,r,i,o,a),isFinite(s.getFullYear())&&s.setFullYear(t)):s=new Date(t,e,n,r,i,o,a),s}).apply(null,s),o=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[3]=24),t._w&&void 0!==t._w.d&&t._w.d!==o&&(p(t).weekdayMismatch=!0)}}var se=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,le=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ce=/Z|[+-]\d\d(?::?\d\d)?/,ue=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],he=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],de=/^\/?Date\((\-?\d+)/i;function fe(t){var e,n,r,i,o,a,s=t._i,l=se.exec(s)||le.exec(s);if(l){for(p(t).iso=!0,e=0,n=ue.length;e<n;e++)if(ue[e][1].exec(l[1])){i=ue[e][0],r=!1!==ue[e][2];break}if(null==i)return void(t._isValid=!1);if(l[3]){for(e=0,n=he.length;e<n;e++)if(he[e][1].exec(l[3])){o=(l[2]||" ")+he[e][0];break}if(null==o)return void(t._isValid=!1)}if(!r&&null!=o)return void(t._isValid=!1);if(l[4]){if(!ce.exec(l[4]))return void(t._isValid=!1);a="Z"}t._f=i+(o||"")+(a||""),ye(t)}else t._isValid=!1}var pe=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,ge={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function me(t){var e,n,r,i=pe.exec(t._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(i){var o=function(t,e,n,r,i,o){var a=[function(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}(t),St.indexOf(e),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return o&&a.push(parseInt(o,10)),a}(i[4],i[3],i[2],i[5],i[6],i[7]);if(n=o,r=t,(e=i[1])&&zt.indexOf(e)!==new Date(n[0],n[1],n[2]).getDay()&&(p(r).weekdayMismatch=!0,!(r._isValid=!1)))return;t._a=o,t._tzm=function(t,e,n){if(t)return ge[t];if(e)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}(i[8],i[9],i[10]),t._d=Ot.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),p(t).rfc2822=!0}else t._isValid=!1}function ye(t){if(t._f!==i.ISO_8601)if(t._f!==i.RFC_2822){t._a=[],p(t).empty=!0;var e,n,r,o,a,s,l,c,u=""+t._i,d=u.length,f=0;for(r=H(t._f,t._locale).match($)||[],e=0;e<r.length;e++)o=r[e],(n=(u.match(ht(o,t))||[])[0])&&(0<(a=u.substr(0,u.indexOf(n))).length&&p(t).unusedInput.push(a),u=u.slice(u.indexOf(n)+n.length),f+=n.length),Y[o]?(n?p(t).empty=!1:p(t).unusedTokens.push(o),s=o,c=t,null!=(l=n)&&h(ft,s)&&ft[s](l,c._a,c,s)):t._strict&&!n&&p(t).unusedTokens.push(o);p(t).charsLeftOver=d-f,0<u.length&&p(t).unusedInput.push(u),t._a[3]<=12&&!0===p(t).bigHour&&0<t._a[3]&&(p(t).bigHour=void 0),p(t).parsedDateParts=t._a.slice(0),p(t).meridiem=t._meridiem,t._a[3]=function(t,e,n){var r;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):(null!=t.isPM&&((r=t.isPM(n))&&e<12&&(e+=12),r||12!==e||(e=0)),e)}(t._locale,t._a[3],t._meridiem),ae(t),ie(t)}else me(t);else fe(t)}function ve(t){var e,n,r,h,f=t._i,y=t._f;return t._locale=t._locale||re(t._l),null===f||void 0===y&&""===f?m({nullInput:!0}):("string"==typeof f&&(t._i=f=t._locale.preparse(f)),x(f)?new w(ie(f)):(c(f)?t._d=f:o(y)?function(t){var e,n,r,i,o;if(0===t._f.length)return p(t).invalidFormat=!0,t._d=new Date(NaN);for(i=0;i<t._f.length;i++)o=0,e=v({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[i],ye(e),g(e)&&(o+=p(e).charsLeftOver,o+=10*p(e).unusedTokens.length,p(e).score=o,(null==r||o<r)&&(r=o,n=e));d(t,n||e)}(t):y?ye(t):s(n=(e=t)._i)?e._d=new Date(i.now()):c(n)?e._d=new Date(n.valueOf()):"string"==typeof n?(r=e,null===(h=de.exec(r._i))?(fe(r),!1===r._isValid&&(delete r._isValid,me(r),!1===r._isValid&&(delete r._isValid,i.createFromInputFallback(r)))):r._d=new Date(+h[1])):o(n)?(e._a=u(n.slice(0),(function(t){return parseInt(t,10)})),ae(e)):a(n)?function(t){if(!t._d){var e=B(t._i);t._a=u([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],(function(t){return t&&parseInt(t,10)})),ae(t)}}(e):l(n)?e._d=new Date(n):i.createFromInputFallback(e),g(t)||(t._d=null),t))}function be(t,e,n,r,i){var s,l={};return!0!==n&&!1!==n||(r=n,n=void 0),(a(t)&&function(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(t.hasOwnProperty(e))return!1;return!0}(t)||o(t)&&0===t.length)&&(t=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=i,l._l=n,l._i=t,l._f=e,l._strict=r,(s=new w(ie(ve(l))))._nextDay&&(s.add(1,"d"),s._nextDay=void 0),s}function we(t,e,n,r){return be(t,e,n,r,!1)}i.createFromInputFallback=S("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))})),i.ISO_8601=function(){},i.RFC_2822=function(){};var xe=S("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=we.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:m()})),_e=S("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=we.apply(null,arguments);return this.isValid()&&t.isValid()?this<t?this:t:m()}));function ke(t,e){var n,r;if(1===e.length&&o(e[0])&&(e=e[0]),!e.length)return we();for(n=e[0],r=1;r<e.length;++r)e[r].isValid()&&!e[r][t](n)||(n=e[r]);return n}var Ee=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Ce(t){var e=B(t),n=e.year||0,r=e.quarter||0,i=e.month||0,o=e.week||e.isoWeek||0,a=e.day||0,s=e.hour||0,l=e.minute||0,c=e.second||0,u=e.millisecond||0;this._isValid=function(t){for(var e in t)if(-1===vt.call(Ee,e)||null!=t[e]&&isNaN(t[e]))return!1;for(var n=!1,r=0;r<Ee.length;++r)if(t[Ee[r]]){if(n)return!1;parseFloat(t[Ee[r]])!==k(t[Ee[r]])&&(n=!0)}return!0}(e),this._milliseconds=+u+1e3*c+6e4*l+1e3*s*60*60,this._days=+a+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=re(),this._bubble()}function Se(t){return t instanceof Ce}function De(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function Te(t,e){q(t,0,0,(function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+z(~~(t/60),2)+e+z(~~t%60,2)}))}Te("Z",":"),Te("ZZ",""),ut("Z",st),ut("ZZ",st),pt(["Z","ZZ"],(function(t,e,n){n._useUTC=!0,n._tzm=Me(st,t)}));var Ae=/([\+\-]|\d\d)/gi;function Me(t,e){var n=(e||"").match(t);if(null===n)return null;var r=((n[n.length-1]||[])+"").match(Ae)||["-",0,0],i=60*r[1]+k(r[2]);return 0===i?0:"+"===r[0]?i:-i}function Ne(t,e){var n,r;return e._isUTC?(n=e.clone(),r=(x(t)||c(t)?t.valueOf():we(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),i.updateOffset(n,!1),n):we(t).local()}function Oe(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Fe(){return!!this.isValid()&&this._isUTC&&0===this._offset}i.updateOffset=function(){};var Ie=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Le=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Be(t,e){var n,r,i,o=t,a=null;return Se(t)?o={ms:t._milliseconds,d:t._days,M:t._months}:l(t)?(o={},e?o[e]=t:o.milliseconds=t):(a=Ie.exec(t))?(n="-"===a[1]?-1:1,o={y:0,d:k(a[2])*n,h:k(a[3])*n,m:k(a[4])*n,s:k(a[5])*n,ms:k(De(1e3*a[6]))*n}):(a=Le.exec(t))?(n="-"===a[1]?-1:1,o={y:Re(a[2],n),M:Re(a[3],n),w:Re(a[4],n),d:Re(a[5],n),h:Re(a[6],n),m:Re(a[7],n),s:Re(a[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(i=function(t,e){var n;return t.isValid()&&e.isValid()?(e=Ne(e,t),t.isBefore(e)?n=Pe(t,e):((n=Pe(e,t)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}(we(o.from),we(o.to)),(o={}).ms=i.milliseconds,o.M=i.months),r=new Ce(o),Se(t)&&h(t,"_locale")&&(r._locale=t._locale),r}function Re(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Pe(t,e){var n={};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function ze(t,e){return function(n,r){var i;return null===r||isNaN(+r)||(A(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),$e(this,Be(n="string"==typeof n?+n:n,r),t),this}}function $e(t,e,n,r){var o=e._milliseconds,a=De(e._days),s=De(e._months);t.isValid()&&(r=null==r||r,s&&Dt(t,xt(t,"Month")+s*n),a&&_t(t,"Date",xt(t,"Date")+a*n),o&&t._d.setTime(t._d.valueOf()+o*n),r&&i.updateOffset(t,a||s))}Be.fn=Ce.prototype,Be.invalid=function(){return Be(NaN)};var je=ze(1,"add"),Ue=ze(-1,"subtract");function Ye(t,e){var n=12*(e.year()-t.year())+(e.month()-t.month()),r=t.clone().add(n,"months");return-(n+(e-r<0?(e-r)/(r-t.clone().add(n-1,"months")):(e-r)/(t.clone().add(n+1,"months")-r)))||0}function qe(t){var e;return void 0===t?this._locale._abbr:(null!=(e=re(t))&&(this._locale=e),this)}i.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",i.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var We=S("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(t){return void 0===t?this.localeData():this.locale(t)}));function He(){return this._locale}var Ve=126227808e5;function Ge(t,e){return(t%e+e)%e}function Xe(t,e,n){return t<100&&0<=t?new Date(t+400,e,n)-Ve:new Date(t,e,n).valueOf()}function Ke(t,e,n){return t<100&&0<=t?Date.UTC(t+400,e,n)-Ve:Date.UTC(t,e,n)}function Je(t,e){q(0,[t,t.length],0,e)}function Ze(t,e,n,r,i){var o;return null==t?Lt(this,r,i).year:((o=Bt(t,r,i))<e&&(e=o),function(t,e,n,r,i){var o=It(t,e,n,r,i),a=Ot(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}.call(this,t,e,n,r,i))}q(0,["gg",2],0,(function(){return this.weekYear()%100})),q(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),Je("gggg","weekYear"),Je("ggggg","weekYear"),Je("GGGG","isoWeekYear"),Je("GGGGG","isoWeekYear"),I("weekYear","gg"),I("isoWeekYear","GG"),P("weekYear",1),P("isoWeekYear",1),ut("G",ot),ut("g",ot),ut("GG",Z,G),ut("gg",Z,G),ut("GGGG",nt,K),ut("gggg",nt,K),ut("GGGGG",rt,J),ut("ggggg",rt,J),gt(["gggg","ggggg","GGGG","GGGGG"],(function(t,e,n,r){e[r.substr(0,2)]=k(t)})),gt(["gg","GG"],(function(t,e,n,r){e[r]=i.parseTwoDigitYear(t)})),q("Q",0,"Qo","quarter"),I("quarter","Q"),P("quarter",7),ut("Q",V),pt("Q",(function(t,e){e[1]=3*(k(t)-1)})),q("D",["DD",2],"Do","date"),I("date","D"),P("date",9),ut("D",Z),ut("DD",Z,G),ut("Do",(function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient})),pt(["D","DD"],2),pt("Do",(function(t,e){e[2]=k(t.match(Z)[0])}));var Qe=wt("Date",!0);q("DDD",["DDDD",3],"DDDo","dayOfYear"),I("dayOfYear","DDD"),P("dayOfYear",4),ut("DDD",et),ut("DDDD",X),pt(["DDD","DDDD"],(function(t,e,n){n._dayOfYear=k(t)})),q("m",["mm",2],0,"minute"),I("minute","m"),P("minute",14),ut("m",Z),ut("mm",Z,G),pt(["m","mm"],4);var tn=wt("Minutes",!1);q("s",["ss",2],0,"second"),I("second","s"),P("second",15),ut("s",Z),ut("ss",Z,G),pt(["s","ss"],5);var en,nn=wt("Seconds",!1);for(q("S",0,0,(function(){return~~(this.millisecond()/100)})),q(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),q(0,["SSS",3],0,"millisecond"),q(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),q(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),q(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),q(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),q(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),q(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),I("millisecond","ms"),P("millisecond",16),ut("S",et,V),ut("SS",et,G),ut("SSS",et,X),en="SSSS";en.length<=9;en+="S")ut(en,it);function rn(t,e){e[6]=k(1e3*("0."+t))}for(en="S";en.length<=9;en+="S")pt(en,rn);var on=wt("Milliseconds",!1);q("z",0,0,"zoneAbbr"),q("zz",0,0,"zoneName");var an=w.prototype;function sn(t){return t}an.add=je,an.calendar=function(t,e){var n=t||we(),r=Ne(n,this).startOf("day"),o=i.calendarFormat(this,r)||"sameElse",a=e&&(M(e[o])?e[o].call(this,n):e[o]);return this.format(a||this.localeData().calendar(o,this,we(n)))},an.clone=function(){return new w(this)},an.diff=function(t,e,n){var r,i,o;if(!this.isValid())return NaN;if(!(r=Ne(t,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),e=L(e)){case"year":o=Ye(this,r)/12;break;case"month":o=Ye(this,r);break;case"quarter":o=Ye(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-i)/864e5;break;case"week":o=(this-r-i)/6048e5;break;default:o=this-r}return n?o:_(o)},an.endOf=function(t){var e;if(void 0===(t=L(t))||"millisecond"===t||!this.isValid())return this;var n=this._isUTC?Ke:Xe;switch(t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=36e5-Ge(e+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":e=this._d.valueOf(),e+=6e4-Ge(e,6e4)-1;break;case"second":e=this._d.valueOf(),e+=1e3-Ge(e,1e3)-1}return this._d.setTime(e),i.updateOffset(this,!0),this},an.format=function(t){t||(t=this.isUtc()?i.defaultFormatUtc:i.defaultFormat);var e=W(this,t);return this.localeData().postformat(e)},an.from=function(t,e){return this.isValid()&&(x(t)&&t.isValid()||we(t).isValid())?Be({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},an.fromNow=function(t){return this.from(we(),t)},an.to=function(t,e){return this.isValid()&&(x(t)&&t.isValid()||we(t).isValid())?Be({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},an.toNow=function(t){return this.to(we(),t)},an.get=function(t){return M(this[t=L(t)])?this[t]():this},an.invalidAt=function(){return p(this).overflow},an.isAfter=function(t,e){var n=x(t)?t:we(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=L(e)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())},an.isBefore=function(t,e){var n=x(t)?t:we(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=L(e)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())},an.isBetween=function(t,e,n,r){var i=x(t)?t:we(t),o=x(e)?e:we(e);return!!(this.isValid()&&i.isValid()&&o.isValid())&&("("===(r=r||"()")[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===r[1]?this.isBefore(o,n):!this.isAfter(o,n))},an.isSame=function(t,e){var n,r=x(t)?t:we(t);return!(!this.isValid()||!r.isValid())&&("millisecond"===(e=L(e)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))},an.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},an.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},an.isValid=function(){return g(this)},an.lang=We,an.locale=qe,an.localeData=He,an.max=_e,an.min=xe,an.parsingFlags=function(){return d({},p(this))},an.set=function(t,e){if("object"==typeof t)for(var n=function(t){var e=[];for(var n in t)e.push({unit:n,priority:R[n]});return e.sort((function(t,e){return t.priority-e.priority})),e}(t=B(t)),r=0;r<n.length;r++)this[n[r].unit](t[n[r].unit]);else if(M(this[t=L(t)]))return this[t](e);return this},an.startOf=function(t){var e;if(void 0===(t=L(t))||"millisecond"===t||!this.isValid())return this;var n=this._isUTC?Ke:Xe;switch(t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=Ge(e+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":e=this._d.valueOf(),e-=Ge(e,6e4);break;case"second":e=this._d.valueOf(),e-=Ge(e,1e3)}return this._d.setTime(e),i.updateOffset(this,!0),this},an.subtract=Ue,an.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},an.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},an.toDate=function(){return new Date(this.valueOf())},an.toISOString=function(t){if(!this.isValid())return null;var e=!0!==t,n=e?this.clone().utc():this;return n.year()<0||9999<n.year()?W(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):M(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",W(n,"Z")):W(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},an.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var n="["+t+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i=e+'[")]';return this.format(n+r+"-MM-DD[T]HH:mm:ss.SSS"+i)},an.toJSON=function(){return this.isValid()?this.toISOString():null},an.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},an.unix=function(){return Math.floor(this.valueOf()/1e3)},an.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},an.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},an.year=bt,an.isLeapYear=function(){return yt(this.year())},an.weekYear=function(t){return Ze.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},an.isoWeekYear=function(t){return Ze.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},an.quarter=an.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},an.month=Tt,an.daysInMonth=function(){return kt(this.year(),this.month())},an.week=an.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},an.isoWeek=an.isoWeeks=function(t){var e=Lt(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},an.weeksInYear=function(){var t=this.localeData()._week;return Bt(this.year(),t.dow,t.doy)},an.isoWeeksInYear=function(){return Bt(this.year(),1,4)},an.date=Qe,an.day=an.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e,n,r=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(e=t,n=this.localeData(),t="string"!=typeof e?e:isNaN(e)?"number"==typeof(e=n.weekdaysParse(e))?e:null:parseInt(e,10),this.add(t-r,"d")):r},an.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},an.isoWeekday=function(t){if(!this.isValid())return null!=t?this:NaN;if(null==t)return this.day()||7;var e,n,r=(e=t,n=this.localeData(),"string"==typeof e?n.weekdaysParse(e)%7||7:isNaN(e)?null:e);return this.day(this.day()%7?r:r-7)},an.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},an.hour=an.hours=Xt,an.minute=an.minutes=tn,an.second=an.seconds=nn,an.millisecond=an.milliseconds=on,an.utcOffset=function(t,e,n){var r,o=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null==t)return this._isUTC?o:Oe(this);if("string"==typeof t){if(null===(t=Me(st,t)))return this}else Math.abs(t)<16&&!n&&(t*=60);return!this._isUTC&&e&&(r=Oe(this)),this._offset=t,this._isUTC=!0,null!=r&&this.add(r,"m"),o!==t&&(!e||this._changeInProgress?$e(this,Be(t-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,i.updateOffset(this,!0),this._changeInProgress=null)),this},an.utc=function(t){return this.utcOffset(0,t)},an.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Oe(this),"m")),this},an.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=Me(at,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this},an.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?we(t).utcOffset():0,(this.utcOffset()-t)%60==0)},an.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},an.isLocal=function(){return!!this.isValid()&&!this._isUTC},an.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},an.isUtc=Fe,an.isUTC=Fe,an.zoneAbbr=function(){return this._isUTC?"UTC":""},an.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},an.dates=S("dates accessor is deprecated. Use date instead.",Qe),an.months=S("months accessor is deprecated. Use month instead",Tt),an.years=S("years accessor is deprecated. Use year instead",bt),an.zone=S("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()})),an.isDSTShifted=S("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!s(this._isDSTShifted))return this._isDSTShifted;var t={};if(v(t,this),(t=ve(t))._a){var e=t._isUTC?f(t._a):we(t._a);this._isDSTShifted=this.isValid()&&0<E(t._a,e.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted}));var ln=O.prototype;function cn(t,e,n,r){var i=re(),o=f().set(r,e);return i[n](o,t)}function un(t,e,n){if(l(t)&&(e=t,t=void 0),t=t||"",null!=e)return cn(t,e,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=cn(t,r,n,"month");return i}function hn(t,e,n,r){"boolean"==typeof t?l(e)&&(n=e,e=void 0):(e=t,t=!1,l(n=e)&&(n=e,e=void 0)),e=e||"";var i,o=re(),a=t?o._week.dow:0;if(null!=n)return cn(e,(n+a)%7,r,"day");var s=[];for(i=0;i<7;i++)s[i]=cn(e,(i+a)%7,r,"day");return s}ln.calendar=function(t,e,n){var r=this._calendar[t]||this._calendar.sameElse;return M(r)?r.call(e,n):r},ln.longDateFormat=function(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,(function(t){return t.slice(1)})),this._longDateFormat[t])},ln.invalidDate=function(){return this._invalidDate},ln.ordinal=function(t){return this._ordinal.replace("%d",t)},ln.preparse=sn,ln.postformat=sn,ln.relativeTime=function(t,e,n,r){var i=this._relativeTime[n];return M(i)?i(t,e,n,r):i.replace(/%d/i,t)},ln.pastFuture=function(t,e){var n=this._relativeTime[0<t?"future":"past"];return M(n)?n(e):n.replace(/%s/i,e)},ln.set=function(t){var e,n;for(n in t)M(e=t[n])?this[n]=e:this["_"+n]=e;this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},ln.months=function(t,e){return t?o(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||Et).test(e)?"format":"standalone"][t.month()]:o(this._months)?this._months:this._months.standalone},ln.monthsShort=function(t,e){return t?o(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Et.test(e)?"format":"standalone"][t.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},ln.monthsParse=function(t,e,n){var r,i,o;if(this._monthsParseExact)return function(t,e,n){var r,i,o,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=f([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===e?-1!==(i=vt.call(this._shortMonthsParse,a))?i:null:-1!==(i=vt.call(this._longMonthsParse,a))?i:null:"MMM"===e?-1!==(i=vt.call(this._shortMonthsParse,a))||-1!==(i=vt.call(this._longMonthsParse,a))?i:null:-1!==(i=vt.call(this._longMonthsParse,a))||-1!==(i=vt.call(this._shortMonthsParse,a))?i:null}.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=f([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[r].test(t))return r;if(n&&"MMM"===e&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}},ln.monthsRegex=function(t){return this._monthsParseExact?(h(this,"_monthsRegex")||Nt.call(this),t?this._monthsStrictRegex:this._monthsRegex):(h(this,"_monthsRegex")||(this._monthsRegex=Mt),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},ln.monthsShortRegex=function(t){return this._monthsParseExact?(h(this,"_monthsRegex")||Nt.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(h(this,"_monthsShortRegex")||(this._monthsShortRegex=At),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},ln.week=function(t){return Lt(t,this._week.dow,this._week.doy).week},ln.firstDayOfYear=function(){return this._week.doy},ln.firstDayOfWeek=function(){return this._week.dow},ln.weekdays=function(t,e){var n=o(this._weekdays)?this._weekdays:this._weekdays[t&&!0!==t&&this._weekdays.isFormat.test(e)?"format":"standalone"];return!0===t?Rt(n,this._week.dow):t?n[t.day()]:n},ln.weekdaysMin=function(t){return!0===t?Rt(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin},ln.weekdaysShort=function(t){return!0===t?Rt(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort},ln.weekdaysParse=function(t,e,n){var r,i,o;if(this._weekdaysParseExact)return function(t,e,n){var r,i,o,a=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=f([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===e?-1!==(i=vt.call(this._weekdaysParse,a))?i:null:"ddd"===e?-1!==(i=vt.call(this._shortWeekdaysParse,a))?i:null:-1!==(i=vt.call(this._minWeekdaysParse,a))?i:null:"dddd"===e?-1!==(i=vt.call(this._weekdaysParse,a))||-1!==(i=vt.call(this._shortWeekdaysParse,a))||-1!==(i=vt.call(this._minWeekdaysParse,a))?i:null:"ddd"===e?-1!==(i=vt.call(this._shortWeekdaysParse,a))||-1!==(i=vt.call(this._weekdaysParse,a))||-1!==(i=vt.call(this._minWeekdaysParse,a))?i:null:-1!==(i=vt.call(this._minWeekdaysParse,a))||-1!==(i=vt.call(this._weekdaysParse,a))||-1!==(i=vt.call(this._shortWeekdaysParse,a))?i:null}.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=f([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[r].test(t))return r;if(n&&"ddd"===e&&this._shortWeekdaysParse[r].test(t))return r;if(n&&"dd"===e&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}},ln.weekdaysRegex=function(t){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||qt.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(h(this,"_weekdaysRegex")||(this._weekdaysRegex=jt),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},ln.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||qt.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(h(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ut),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},ln.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(h(this,"_weekdaysRegex")||qt.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(h(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Yt),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},ln.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},ln.meridiem=function(t,e,n){return 11<t?n?"pm":"PM":n?"am":"AM"},ee("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===k(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),i.lang=S("moment.lang is deprecated. Use moment.locale instead.",ee),i.langData=S("moment.langData is deprecated. Use moment.localeData instead.",re);var dn=Math.abs;function fn(t,e,n,r){var i=Be(e,n);return t._milliseconds+=r*i._milliseconds,t._days+=r*i._days,t._months+=r*i._months,t._bubble()}function pn(t){return t<0?Math.floor(t):Math.ceil(t)}function gn(t){return 4800*t/146097}function mn(t){return 146097*t/4800}function yn(t){return function(){return this.as(t)}}var vn=yn("ms"),bn=yn("s"),wn=yn("m"),xn=yn("h"),_n=yn("d"),kn=yn("w"),En=yn("M"),Cn=yn("Q"),Sn=yn("y");function Dn(t){return function(){return this.isValid()?this._data[t]:NaN}}var Tn=Dn("milliseconds"),An=Dn("seconds"),Mn=Dn("minutes"),Nn=Dn("hours"),On=Dn("days"),Fn=Dn("months"),In=Dn("years"),Ln=Math.round,Bn={ss:44,s:45,m:45,h:22,d:26,M:11},Rn=Math.abs;function Pn(t){return(0<t)-(t<0)||+t}function zn(){if(!this.isValid())return this.localeData().invalidDate();var t,e,n=Rn(this._milliseconds)/1e3,r=Rn(this._days),i=Rn(this._months);e=_((t=_(n/60))/60),n%=60,t%=60;var o=_(i/12),a=i%=12,s=r,l=e,c=t,u=n?n.toFixed(3).replace(/\.?0+$/,""):"",h=this.asSeconds();if(!h)return"P0D";var d=h<0?"-":"",f=Pn(this._months)!==Pn(h)?"-":"",p=Pn(this._days)!==Pn(h)?"-":"",g=Pn(this._milliseconds)!==Pn(h)?"-":"";return d+"P"+(o?f+o+"Y":"")+(a?f+a+"M":"")+(s?p+s+"D":"")+(l||c||u?"T":"")+(l?g+l+"H":"")+(c?g+c+"M":"")+(u?g+u+"S":"")}var $n=Ce.prototype;return $n.isValid=function(){return this._isValid},$n.abs=function(){var t=this._data;return this._milliseconds=dn(this._milliseconds),this._days=dn(this._days),this._months=dn(this._months),t.milliseconds=dn(t.milliseconds),t.seconds=dn(t.seconds),t.minutes=dn(t.minutes),t.hours=dn(t.hours),t.months=dn(t.months),t.years=dn(t.years),this},$n.add=function(t,e){return fn(this,t,e,1)},$n.subtract=function(t,e){return fn(this,t,e,-1)},$n.as=function(t){if(!this.isValid())return NaN;var e,n,r=this._milliseconds;if("month"===(t=L(t))||"quarter"===t||"year"===t)switch(e=this._days+r/864e5,n=this._months+gn(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(mn(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return 24*e+r/36e5;case"minute":return 1440*e+r/6e4;case"second":return 86400*e+r/1e3;case"millisecond":return Math.floor(864e5*e)+r;default:throw new Error("Unknown unit "+t)}},$n.asMilliseconds=vn,$n.asSeconds=bn,$n.asMinutes=wn,$n.asHours=xn,$n.asDays=_n,$n.asWeeks=kn,$n.asMonths=En,$n.asQuarters=Cn,$n.asYears=Sn,$n.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*k(this._months/12):NaN},$n._bubble=function(){var t,e,n,r,i,o=this._milliseconds,a=this._days,s=this._months,l=this._data;return 0<=o&&0<=a&&0<=s||o<=0&&a<=0&&s<=0||(o+=864e5*pn(mn(s)+a),s=a=0),l.milliseconds=o%1e3,t=_(o/1e3),l.seconds=t%60,e=_(t/60),l.minutes=e%60,n=_(e/60),l.hours=n%24,s+=i=_(gn(a+=_(n/24))),a-=pn(mn(i)),r=_(s/12),s%=12,l.days=a,l.months=s,l.years=r,this},$n.clone=function(){return Be(this)},$n.get=function(t){return t=L(t),this.isValid()?this[t+"s"]():NaN},$n.milliseconds=Tn,$n.seconds=An,$n.minutes=Mn,$n.hours=Nn,$n.days=On,$n.weeks=function(){return _(this.days()/7)},$n.months=Fn,$n.years=In,$n.humanize=function(t){if(!this.isValid())return this.localeData().invalidDate();var e,n,r,i,o,a,s,l,c,u,h=this.localeData(),d=(e=!t,n=h,r=Be(this).abs(),i=Ln(r.as("s")),o=Ln(r.as("m")),a=Ln(r.as("h")),s=Ln(r.as("d")),l=Ln(r.as("M")),c=Ln(r.as("y")),(u=i<=Bn.ss&&["s",i]||i<Bn.s&&["ss",i]||o<=1&&["m"]||o<Bn.m&&["mm",o]||a<=1&&["h"]||a<Bn.h&&["hh",a]||s<=1&&["d"]||s<Bn.d&&["dd",s]||l<=1&&["M"]||l<Bn.M&&["MM",l]||c<=1&&["y"]||["yy",c])[2]=e,u[3]=0<+this,u[4]=n,function(t,e,n,r,i){return i.relativeTime(e||1,!!n,t,r)}.apply(null,u));return t&&(d=h.pastFuture(+this,d)),h.postformat(d)},$n.toISOString=zn,$n.toString=zn,$n.toJSON=zn,$n.locale=qe,$n.localeData=He,$n.toIsoString=S("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",zn),$n.lang=We,q("X",0,0,"unix"),q("x",0,0,"valueOf"),ut("x",ot),ut("X",/[+-]?\d+(\.\d{1,3})?/),pt("X",(function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))})),pt("x",(function(t,e,n){n._d=new Date(k(t))})),i.version="2.24.0",e=we,i.fn=an,i.min=function(){return ke("isBefore",[].slice.call(arguments,0))},i.max=function(){return ke("isAfter",[].slice.call(arguments,0))},i.now=function(){return Date.now?Date.now():+new Date},i.utc=f,i.unix=function(t){return we(1e3*t)},i.months=function(t,e){return un(t,e,"months")},i.isDate=c,i.locale=ee,i.invalid=m,i.duration=Be,i.isMoment=x,i.weekdays=function(t,e,n){return hn(t,e,n,"weekdays")},i.parseZone=function(){return we.apply(null,arguments).parseZone()},i.localeData=re,i.isDuration=Se,i.monthsShort=function(t,e){return un(t,e,"monthsShort")},i.weekdaysMin=function(t,e,n){return hn(t,e,n,"weekdaysMin")},i.defineLocale=ne,i.updateLocale=function(t,e){if(null!=e){var n,r,i=Kt;null!=(r=te(t))&&(i=r._config),(n=new O(e=N(i,e))).parentLocale=Jt[t],Jt[t]=n,ee(t)}else null!=Jt[t]&&(null!=Jt[t].parentLocale?Jt[t]=Jt[t].parentLocale:null!=Jt[t]&&delete Jt[t]);return Jt[t]},i.locales=function(){return D(Jt)},i.weekdaysShort=function(t,e,n){return hn(t,e,n,"weekdaysShort")},i.normalizeUnits=L,i.relativeTimeRounding=function(t){return void 0===t?Ln:"function"==typeof t&&(Ln=t,!0)},i.relativeTimeThreshold=function(t,e){return void 0!==Bn[t]&&(void 0===e?Bn[t]:(Bn[t]=e,"s"===t&&(Bn.ss=e-1),!0))},i.calendarFormat=function(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},i.prototype=an,i.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},i}()},6470:t=>{function e(t){if("string"!=typeof t)throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}function n(t,e){for(var n,r="",i=0,o=-1,a=0,s=0;s<=t.length;++s){if(s<t.length)n=t.charCodeAt(s);else{if(47===n)break;n=47}if(47===n){if(o===s-1||1===a);else if(o!==s-1&&2===a){if(r.length<2||2!==i||46!==r.charCodeAt(r.length-1)||46!==r.charCodeAt(r.length-2))if(r.length>2){var l=r.lastIndexOf("/");if(l!==r.length-1){-1===l?(r="",i=0):i=(r=r.slice(0,l)).length-1-r.lastIndexOf("/"),o=s,a=0;continue}}else if(2===r.length||1===r.length){r="",i=0,o=s,a=0;continue}e&&(r.length>0?r+="/..":r="..",i=2)}else r.length>0?r+="/"+t.slice(o+1,s):r=t.slice(o+1,s),i=s-o-1;o=s,a=0}else 46===n&&-1!==a?++a:a=-1}return r}var r={resolve:function(){for(var t,r="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var a;o>=0?a=arguments[o]:(void 0===t&&(t=process.cwd()),a=t),e(a),0!==a.length&&(r=a+"/"+r,i=47===a.charCodeAt(0))}return r=n(r,!i),i?r.length>0?"/"+r:"/":r.length>0?r:"."},normalize:function(t){if(e(t),0===t.length)return".";var r=47===t.charCodeAt(0),i=47===t.charCodeAt(t.length-1);return 0!==(t=n(t,!r)).length||r||(t="."),t.length>0&&i&&(t+="/"),r?"/"+t:t},isAbsolute:function(t){return e(t),t.length>0&&47===t.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var t,n=0;n<arguments.length;++n){var i=arguments[n];e(i),i.length>0&&(void 0===t?t=i:t+="/"+i)}return void 0===t?".":r.normalize(t)},relative:function(t,n){if(e(t),e(n),t===n)return"";if((t=r.resolve(t))===(n=r.resolve(n)))return"";for(var i=1;i<t.length&&47===t.charCodeAt(i);++i);for(var o=t.length,a=o-i,s=1;s<n.length&&47===n.charCodeAt(s);++s);for(var l=n.length-s,c=a<l?a:l,u=-1,h=0;h<=c;++h){if(h===c){if(l>c){if(47===n.charCodeAt(s+h))return n.slice(s+h+1);if(0===h)return n.slice(s+h)}else a>c&&(47===t.charCodeAt(i+h)?u=h:0===h&&(u=0));break}var d=t.charCodeAt(i+h);if(d!==n.charCodeAt(s+h))break;47===d&&(u=h)}var f="";for(h=i+u+1;h<=o;++h)h!==o&&47!==t.charCodeAt(h)||(0===f.length?f+="..":f+="/..");return f.length>0?f+n.slice(s+u):(s+=u,47===n.charCodeAt(s)&&++s,n.slice(s))},_makeLong:function(t){return t},dirname:function(t){if(e(t),0===t.length)return".";for(var n=t.charCodeAt(0),r=47===n,i=-1,o=!0,a=t.length-1;a>=1;--a)if(47===(n=t.charCodeAt(a))){if(!o){i=a;break}}else o=!1;return-1===i?r?"/":".":r&&1===i?"//":t.slice(0,i)},basename:function(t,n){if(void 0!==n&&"string"!=typeof n)throw new TypeError('"ext" argument must be a string');e(t);var r,i=0,o=-1,a=!0;if(void 0!==n&&n.length>0&&n.length<=t.length){if(n.length===t.length&&n===t)return"";var s=n.length-1,l=-1;for(r=t.length-1;r>=0;--r){var c=t.charCodeAt(r);if(47===c){if(!a){i=r+1;break}}else-1===l&&(a=!1,l=r+1),s>=0&&(c===n.charCodeAt(s)?-1==--s&&(o=r):(s=-1,o=l))}return i===o?o=l:-1===o&&(o=t.length),t.slice(i,o)}for(r=t.length-1;r>=0;--r)if(47===t.charCodeAt(r)){if(!a){i=r+1;break}}else-1===o&&(a=!1,o=r+1);return-1===o?"":t.slice(i,o)},extname:function(t){e(t);for(var n=-1,r=0,i=-1,o=!0,a=0,s=t.length-1;s>=0;--s){var l=t.charCodeAt(s);if(47!==l)-1===i&&(o=!1,i=s+1),46===l?-1===n?n=s:1!==a&&(a=1):-1!==n&&(a=-1);else if(!o){r=s+1;break}}return-1===n||-1===i||0===a||1===a&&n===i-1&&n===r+1?"":t.slice(n,i)},format:function(t){if(null===t||"object"!=typeof t)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof t);return function(t,e){var n=e.dir||e.root,r=e.base||(e.name||"")+(e.ext||"");return n?n===e.root?n+r:n+"/"+r:r}(0,t)},parse:function(t){e(t);var n={root:"",dir:"",base:"",ext:"",name:""};if(0===t.length)return n;var r,i=t.charCodeAt(0),o=47===i;o?(n.root="/",r=1):r=0;for(var a=-1,s=0,l=-1,c=!0,u=t.length-1,h=0;u>=r;--u)if(47!==(i=t.charCodeAt(u)))-1===l&&(c=!1,l=u+1),46===i?-1===a?a=u:1!==h&&(h=1):-1!==a&&(h=-1);else if(!c){s=u+1;break}return-1===a||-1===l||0===h||1===h&&a===l-1&&a===s+1?-1!==l&&(n.base=n.name=0===s&&o?t.slice(1,l):t.slice(s,l)):(0===s&&o?(n.name=t.slice(1,a),n.base=t.slice(1,l)):(n.name=t.slice(s,a),n.base=t.slice(s,l)),n.ext=t.slice(a,l)),s>0?n.dir=t.slice(0,s-1):o&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};r.posix=r,t.exports=r},555:()=>{},8218:()=>{},8009:()=>{},5354:()=>{},6878:()=>{},8183:()=>{},1428:()=>{},4551:()=>{},8800:()=>{},1993:()=>{},3069:()=>{},9143:()=>{}},Ct={};function St(t){var e=Ct[t];if(void 0!==e)return e.exports;var n=Ct[t]={id:t,loaded:!1,exports:{}};return Et[t].call(n.exports,n,n.exports,St),n.loaded=!0,n.exports}St.c=Ct,St.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return St.d(e,{a:e}),e},St.d=(t,e)=>{for(var n in e)St.o(e,n)&&!St.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},St.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),St.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),St.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},St.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);var Dt=St(St.s=1689).Z,Tt=n(76708),At=n(51935),Mt=Object.defineProperty,Nt=Object.getOwnPropertySymbols,Ot=Object.prototype.hasOwnProperty,Ft=Object.prototype.propertyIsEnumerable,It=(t,e,n)=>e in t?Mt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;const Lt=(0,At.kP)("abcedfghicklmn",10),Bt=t=>{var e;return(null==(e=null==t?void 0:t.attrs)?void 0:e.identity)||Lt()},Rt=/^```mermaid$/,Pt=(0,B.uW)("TurnIntoDiagram"),zt=J(((t,e)=>{var n,r,i;const o=null!=(n=null==e?void 0:e.theme)?n:void 0,a=null!=(r=null==e?void 0:e.themeCSS)?r:void 0,s="diagram";Dt.startOnLoad=!1,Dt.initialize({startOnLoad:!1,theme:o,themeCSS:a});const l=((t,e)=>{for(var n in e||(e={}))Ot.call(e,n)&&It(t,n,e[n]);if(Nt)for(var n of Nt(e))Ft.call(e,n)&&It(t,n,e[n]);return t})({empty:"Empty",error:"Syntax Error"},null!=(i=null==e?void 0:e.placeholder)?i:{});return{id:s,schema:()=>({content:"text*",group:"block",marks:"",defining:!0,atom:!0,code:!0,isolating:!0,attrs:{value:{default:""},identity:{default:""}},parseDOM:[{tag:`div[data-type="${s}"]`,preserveWhitespace:"full",getAttrs:t=>{if(!(t instanceof HTMLElement))throw new Error;return{value:t.dataset.value,identity:t.id}}}],toDOM:e=>["div",{id:Bt(e),class:t.getClassName(e.attrs,"mermaid"),"data-type":s,"data-value":e.attrs.value||e.textContent||""},0],parseMarkdown:{match:({type:t})=>t===s,runner:(t,e,n)=>{const r=e.value;t.openNode(n,{value:r}),r&&t.addText(r),t.closeNode()}},toMarkdown:{match:t=>t.type.name===s,runner:(t,e)=>{var n;t.addNode("code",void 0,(null==(n=e.content.firstChild)?void 0:n.text)||"",{lang:"mermaid"})}}}),commands:t=>[(0,B.ml)(Pt,(()=>(0,_t.uJ)(t,{id:Bt()})))],view:e=>(n,r,i)=>{const o=Bt(n);let a="",c=n;e.get(R.Xc).onFlush((()=>{const e=(t=>{const e=(0,R.XN)(t),n=e("line"),r=e("solid"),i=e("neutral"),o=e("background"),a={background:o,primaryColor:o,secondaryColor:n,primaryTextColor:i,noteBkgColor:o,noteTextColor:r,fontSize:"1em"};return Object.entries(a).filter((([t,e])=>(null==e?void 0:e.length)>0)).map((([t,e])=>`'${t}':'${e}'`)).join(", ")})(t.themeManager);a=`%%{init: {'theme': 'base', 'themeVariables': { ${e} }}}%%\n`}));const u=t.themeManager.get("inner-editor",{view:r,getPos:i,render:t=>{try{u.preview.innerHTML=t?Dt.render(o,a+t):l.empty}catch{const t=document.getElementById("d"+o);t&&t.remove(),u.preview.innerHTML=l.error}finally{u.dom.appendChild(u.preview)}}});if(!u)return{};const{onUpdate:h,editor:d,dom:f,onFocus:p,onBlur:g,onDestroy:m,stopEvent:y}=u;return d.dataset.type=s,f.classList.add("mermaid","diagram"),h(c,!0),e.get(R.Xc).onFlush((()=>{h(c,!1)}),!1),{dom:f,update:t=>!!t.sameMarkup(c)&&(c=t,h(c,!1),!0),selectNode:()=>{p(c)},deselectNode:()=>{g(c)},stopEvent:y,ignoreMutation:()=>!0,destroy(){m()}}},inputRules:t=>[new kt.VK(Rt,((e,n,r,i)=>{const o=e.doc.resolve(r);if(!o.node(-1).canReplaceWith(o.index(-1),o.indexAfter(-1),t))return null;const a=e.tr.delete(r,i).setBlockType(r,r,t,{id:Bt()});return a.setSelection(z.qv.create(a.doc,r-1))}))],remarkPlugins:()=>[$t]}})),$t=()=>function(t){var e;e=t,(0,Tt.Vn)(e,"code",((t,e,n)=>{const{lang:r,value:i}=t;if("mermaid"!==r)return t;const o={type:"diagram",value:i};return n&&null!=e&&n.children.splice(e,1,o),t}))},jt=Y.create([zt()]);var Ut=n(28345);const Yt=[{name:"angry",emoji:"😠",tags:["mad","annoyed"],description:"angry face",emoticons:[">:(",">:[",">:-(",">:-[",">=(",">=[",">=-(",">=-["]},{name:"blush",emoji:"😊",tags:["proud"],description:"smiling face with smiling eyes",emoticons:[':")',':"]',':"D',':-")',':-"]',':-"D','=")','="]','="D','=-")','=-"]','=-"D']},{name:"broken_heart",emoji:"💔",tags:[],description:"broken heart",emoticons:["<\\3","</3"]},{name:"confused",emoji:"😕",tags:[],description:"confused face",emoticons:[":/",":\\",":-/",":-\\","=/","=\\","=-/","=-\\"]},{name:"cry",emoji:"😢",tags:["sad","tear"],description:"crying face",emoticons:[":,(",":,[",":,|",":,-(",":,-[",":,-|",":'(",":'[",":'|",":'-(",":'-[",":'-|","=,(","=,[","=,|","=,-(","=,-[","=,-|","='(","='[","='|","='-(","='-[","='-|"]},{name:"frowning",emoji:"😦",tags:[],description:"frowning face with open mouth",emoticons:[":(",":[",":-(",":-[","=(","=[","=-(","=-["]},{name:"heart",emoji:"❤️",tags:["love"],description:"red heart",emoticons:["<3"]},{name:"imp",emoji:"👿",tags:["angry","devil","evil","horns"],description:"angry face with horns",emoticons:["]:(","]:[","]:-(","]:-[","]=(","]=[","]=-(","]=-["]},{name:"innocent",emoji:"😇",tags:["angel"],description:"smiling face with halo",emoticons:["o:)","o:]","o:D","o:-)","o:-]","o:-D","o=)","o=]","o=D","o=-)","o=-]","o=-D","O:)","O:]","O:D","O:-)","O:-]","O:-D","O=)","O=]","O=D","O=-)","O=-]","O=-D","0:)","0:]","0:D","0:-)","0:-]","0:-D","0=)","0=]","0=D","0=-)","0=-]","0=-D"]},{name:"joy",emoji:"😂",tags:["tears"],description:"face with tears of joy",emoticons:[":,)",":,]",":,D",":,-)",":,-]",":,-D",":')",":']",":'D",":'-)",":'-]",":'-D","=,)","=,]","=,D","=,-)","=,-]","=,-D","=')","=']","='D","='-)","='-]","='-D"]},{name:"kissing",emoji:"😗",tags:[],description:"kissing face",emoticons:[":*",":-*","=*","=-*"]},{name:"laughing",emoji:"😆",tags:["happy","haha"],description:"grinning squinting face",emoticons:["x)","x]","xD","x-)","x-]","x-D","X)","X]","X-)","X-]","X-D"]},{name:"man",emoji:"👨",tags:["mustache","father","dad"],description:"man",emoticons:[":3",":-3","=3","=-3",";3",";-3","x3","x-3","X3","X-3"]},{name:"neutral_face",emoji:"😐",tags:["meh"],description:"neutral face",emoticons:[":|",":-|","=|","=-|"]},{name:"no_mouth",emoji:"😶",tags:["mute","silence"],description:"face without mouth",emoticons:[":-"]},{name:"open_mouth",emoji:"😮",tags:["surprise","impressed","wow"],description:"face with open mouth",emoticons:[":o",":O",":0",":-o",":-O",":-0","=o","=O","=0","=-o","=-O","=-0"]},{name:"rage",emoji:"😡",tags:["angry"],description:"pouting face",emoticons:[":@",":-@","=@","=-@"]},{name:"smile",emoji:"😄",tags:["happy","joy","laugh","pleased"],description:"grinning face with smiling eyes",emoticons:[":D",":-D","=D","=-D"]},{name:"smiley",emoji:"😃",tags:["happy","joy","haha"],description:"grinning face with big eyes",emoticons:[":)",":]",":-)",":-]","=)","=]","=-)","=-]"]},{name:"smiling_imp",emoji:"😈",tags:["devil","evil","horns"],description:"smiling face with horns",emoticons:["]:)","]:]","]:D","]:-)","]:-]","]:-D","]=)","]=]","]=D","]=-)","]=-]","]=-D"]},{name:"sob",emoji:"😭",tags:["sad","cry","bawling"],description:"loudly crying face",emoticons:[":,'(",":,'[",":,'-(",":,'-[",":',(",":',[",":',-(",":',-[","=,'(","=,'[","=,'-(","=,'-[","=',(","=',[","=',-(","=',-["]},{name:"stuck_out_tongue",emoji:"😛",tags:[],description:"face with tongue",emoticons:[":p",":P",":d",":-p",":-P",":-d","=p","=P","=d","=-p","=-P","=-d"]},{name:"stuck_out_tongue_closed_eyes",emoji:"😝",tags:["prank"],description:"squinting face with tongue",emoticons:["xP","x-p","x-P","x-d","Xp","Xd","X-p","X-P","X-d"]},{name:"stuck_out_tongue_winking_eye",emoji:"😜",tags:["prank","silly"],description:"winking face with tongue",emoticons:[";p",";P",";d",";-p",";-P",";-d"]},{name:"sunglasses",emoji:"😎",tags:["cool"],description:"smiling face with sunglasses",emoticons:["8)","8]","8D","8-)","8-]","8-D","B)","B]","B-)","B-]","B-D"]},{name:"sweat",emoji:"😓",tags:[],description:"downcast face with sweat",emoticons:[",:(",",:[",",:-(",",:-[",",=(",",=[",",=-(",",=-[","':(","':[","':-(","':-[","'=(","'=[","'=-(","'=-["]},{name:"sweat_smile",emoji:"😅",tags:["hot"],description:"grinning face with sweat",emoticons:[",:)",",:]",",:D",",:-)",",:-]",",:-D",",=)",",=]",",=D",",=-)",",=-]",",=-D","':)","':]","':D","':-)","':-]","':-D","'=)","'=]","'=D","'=-)","'=-]","'=-D"]},{name:"unamused",emoji:"😒",tags:["meh"],description:"unamused face",emoticons:[":$",":s",":z",":S",":Z",":-$",":-s",":-z",":-S",":-Z","=$","=s","=z","=S","=Z","=-$","=-s","=-z","=-S","=-Z"]},{name:"wink",emoji:"😉",tags:["flirt"],description:"winking face",emoticons:[";)",";]",";D",";-)",";-]",";-D"]}],qt=/:\+1:|:-1:|:[\w-]+:/g,Wt=/[$@|*'",;.=:\-)([\]\\/<>038BOopPsSdDxXzZ]{2,5}/g,Ht=/_/g,Vt={padSpaceAfter:!1,emoticon:!1};function Gt(t){const e=Object.assign({},Vt,t),n=!!e.padSpaceAfter,r=!!e.emoticon;function i(t){const e=Yt.find((e=>e.emoticons.includes(t))),r=Yt.find((e=>e.emoticons.includes(t.slice(0,-1)))),i=r?t.slice(-1):"",o=n?" ":"";return(e?e.emoji+o:r&&r.emoji+o+i)||t}function o(t){let e=Ut.get(t);if(t.endsWith("_man:")&&e===t){const n="man-"+t.slice(1,-5).replace(Ht,"-"),r=Ut.get(n);r!==n&&(e=r)}else if(t.endsWith("_woman:")&&e===t){const n="woman-"+t.slice(1,-7).replace(Ht,"-"),r=Ut.get(n);r!==n&&(e=r)}return n&&e!==t?e+" ":e}return function(t){(0,Tt.Vn)(t,"text",(function(t){t.value=t.value.replace(qt,o),r&&(t.value=t.value.replace(Wt,i))}))}}var Xt=n(18610),Kt=function(){var t={base:"https://twemoji.maxcdn.com/v/14.0.2/",ext:".png",size:"72x72",className:"emoji",convert:{fromCodePoint:function(t){var e="string"==typeof t?parseInt(t,16):t;if(e<65536)return s(e);return s(55296+((e-=65536)>>10),56320+(1023&e))},toCodePoint:y},onerror:function(){this.parentNode&&this.parentNode.replaceChild(l(this.alt,!1),this)},parse:function(e,n){n&&"function"!=typeof n||(n={callback:n});return("string"==typeof e?f:d)(e,{callback:n.callback||c,attributes:"function"==typeof n.attributes?n.attributes:g,base:"string"==typeof n.base?n.base:t.base,ext:n.ext||t.ext,size:n.folder||(r=n.size||t.size,"number"==typeof r?r+"x"+r:r),className:n.className||t.className,onerror:n.onerror||t.onerror});var r},replace:m,test:function(t){n.lastIndex=0;var e=n.test(t);return n.lastIndex=0,e}},e={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},n=/(?:\ud83d\udc68\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffc-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb\udffd-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb-\udffd\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb-\udffe]|\ud83d\udc68\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc68\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc68\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffc-\udfff]|\ud83e\uddd1\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb\udffd-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb-\udffd\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83e\udef1\ud83c\udffb\u200d\ud83e\udef2\ud83c[\udffc-\udfff]|\ud83e\udef1\ud83c\udffc\u200d\ud83e\udef2\ud83c[\udffb\udffd-\udfff]|\ud83e\udef1\ud83c\udffd\u200d\ud83e\udef2\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\udef1\ud83c\udffe\u200d\ud83e\udef2\ud83c[\udffb-\udffd\udfff]|\ud83e\udef1\ud83c\udfff\u200d\ud83e\udef2\ud83c[\udffb-\udffe]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83e\uddd1\u200d\ud83e\udd1d\u200d\ud83e\uddd1|\ud83d\udc6b\ud83c[\udffb-\udfff]|\ud83d\udc6c\ud83c[\udffb-\udfff]|\ud83d\udc6d\ud83c[\udffb-\udfff]|\ud83d\udc8f\ud83c[\udffb-\udfff]|\ud83d\udc91\ud83c[\udffb-\udfff]|\ud83e\udd1d\ud83c[\udffb-\udfff]|\ud83d[\udc6b-\udc6d\udc8f\udc91]|\ud83e\udd1d)|(?:\ud83d[\udc68\udc69]|\ud83e\uddd1)(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf7c\udf84\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddaf-\uddb3\uddbc\uddbd])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc70\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddcd-\uddcf\uddd4\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83d\ude36\u200d\ud83c\udf2b\ufe0f|\u2764\ufe0f\u200d\ud83d\udd25|\u2764\ufe0f\u200d\ud83e\ude79|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc15\u200d\ud83e\uddba|\ud83d\udc3b\u200d\u2744\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83d\ude2e\u200d\ud83d\udca8|\ud83d\ude35\u200d\ud83d\udcab|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f|\ud83d\udc08\u200d\u2b1b)|[#*0-9]\ufe0f?\u20e3|(?:[©®\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26a7\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd0c\udd0f\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\udd77\uddb5\uddb6\uddb8\uddb9\uddbb\uddcd-\uddcf\uddd1-\udddd\udec3-\udec5\udef0-\udef6]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udc8e\udc90\udc92-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\uded5-\uded7\udedd-\udedf\udeeb\udeec\udef4-\udefc\udfe0-\udfeb\udff0]|\ud83e[\udd0d\udd0e\udd10-\udd17\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd3f-\udd45\udd47-\udd76\udd78-\uddb4\uddb7\uddba\uddbc-\uddcc\uddd0\uddde-\uddff\ude70-\ude74\ude78-\ude7c\ude80-\ude86\ude90-\udeac\udeb0-\udeba\udec0-\udec2\uded0-\uded9\udee0-\udee7]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g,r=/\uFE0F/g,i=String.fromCharCode(8205),o=/[&<>'"]/g,a=/^(?:iframe|noframes|noscript|script|select|style|textarea)$/,s=String.fromCharCode;return t;function l(t,e){return document.createTextNode(e?t.replace(r,""):t)}function c(t,e){return"".concat(e.base,e.size,"/",t,e.ext)}function u(t,e){for(var n,r,i=t.childNodes,o=i.length;o--;)3===(r=(n=i[o]).nodeType)?e.push(n):1!==r||"ownerSVGElement"in n||a.test(n.nodeName.toLowerCase())||u(n,e);return e}function h(t){return y(t.indexOf(i)<0?t.replace(r,""):t)}function d(t,e){for(var r,i,o,a,s,c,d,f,p,g,m,y,v,b=u(t,[]),w=b.length;w--;){for(o=!1,a=document.createDocumentFragment(),c=(s=b[w]).nodeValue,f=0;d=n.exec(c);){if((p=d.index)!==f&&a.appendChild(l(c.slice(f,p),!0)),y=h(m=d[0]),f=p+m.length,v=e.callback(y,e),y&&v){for(i in(g=new Image).onerror=e.onerror,g.setAttribute("draggable","false"),r=e.attributes(m,y))r.hasOwnProperty(i)&&0!==i.indexOf("on")&&!g.hasAttribute(i)&&g.setAttribute(i,r[i]);g.className=e.className,g.alt=m,g.src=v,o=!0,a.appendChild(g)}g||a.appendChild(l(m,!1)),g=null}o&&(f<c.length&&a.appendChild(l(c.slice(f),!0)),s.parentNode.replaceChild(a,s))}return t}function f(t,e){return m(t,(function(t){var n,r,i=t,a=h(t),s=e.callback(a,e);if(a&&s){for(r in i="<img ".concat('class="',e.className,'" ','draggable="false" ','alt="',t,'"',' src="',s,'"'),n=e.attributes(t,a))n.hasOwnProperty(r)&&0!==r.indexOf("on")&&-1===i.indexOf(" "+r+"=")&&(i=i.concat(" ",r,'="',n[r].replace(o,p),'"'));i=i.concat("/>")}return i}))}function p(t){return e[t]}function g(){return null}function m(t,e){return String(t).replace(n,e)}function y(t,e){for(var n=[],r=0,i=0,o=0;o<t.length;)r=t.charCodeAt(o++),i?(n.push((65536+(i-55296<<10)+(r-56320)).toString(16)),i=0):55296<=r&&r<=56319?i=r:n.push(r.toString(16));return n.join(e||"-")}}();const Jt=Kt;var Zt=n(18024),Qt=Object.defineProperty,te=Object.defineProperties,ee=Object.getOwnPropertyDescriptors,ne=Object.getOwnPropertySymbols,re=Object.prototype.hasOwnProperty,ie=Object.prototype.propertyIsEnumerable,oe=(t,e,n)=>e in t?Qt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ae=(t,e)=>{for(var n in e||(e={}))re.call(e,n)&&oe(t,n,e[n]);if(ne)for(var n of ne(e))ie.call(e,n)&&oe(t,n,e[n]);return t},se=(t,e)=>te(t,ee(e));const le=/:\+1|:-1|:[\w-]+/,ce=/:\+1:|:-1:|:[\w-]+:/,ue=/(:([^:\s]+):)$/,he=t=>({title:t}),de=t=>Jt.parse(t,{attributes:he}),fe=new z.H$("MILKDOWN_EMOJI_FILTER"),pe=(t,e)=>{let n=!1,r=0,i="",o=null;const a=()=>{n=!1,r=0,i="",o=null};return new z.Sy({key:fe,props:{handleKeyDown:(t,e)=>["Delete","Backspace"].includes(e.key)?(i=i.slice(0,-1),i.length<=1&&a(),!1):!!n&&!!["ArrowUp","ArrowDown","Enter"].includes(e.key),handleTextInput:(t,e,o,s)=>(n=((t,e,n,r,i,o)=>{if(t.composing)return!1;const{state:a}=t,s=a.doc.resolve(e);if(s.parent.type.spec.code)return!1;const l=(s.parent.textBetween(Math.max(0,s.parentOffset-10),s.parentOffset,void 0,"￼")+r).toLowerCase();if(ce.test(l))return!1;const c=le.exec(l);if(c&&c[0]&&l.endsWith(c[0])){const t=c[0];return i(e-(t.length-r.length),n),o(t),!0}return!1})(t,e,o,s,(t=>{r=t}),(t=>{i=t})),n||a(),!1)},view:s=>{const{parentNode:l}=s.dom;if(!l)throw new Error;const c=document.createElement("div");c.classList.add("milkdown-emoji-filter","hide"),t.themeManager.onFlush((()=>{const e=c.className.split(" ").filter((t=>["hide","milkdown-emoji-filter"].includes(t)));c.className=e.join(" ");const n=t.getStyle((e=>((t,{css:e,cx:n})=>{const r=t.get(R.UT,void 0),i=t.get(R.I9,void 0),o=t.get(R.dz,"radius"),a=t.get(R.Az,"typography"),s=(e,n=1)=>t.get(R.tP,[e,n]);return n(r,i,e`
        position: absolute;
        &.hide {
            display: none;
        }

        border-radius: ${o};
        background: ${s("surface")};

        .milkdown-emoji-filter_item {
            display: flex;
            gap: 0.5em;
            height: 2.57143em;
            padding: 0 1em;
            align-items: center;
            justify-content: flex-start;
            cursor: pointer;
            line-height: 2;
            font-family: ${a};
            font-size: 0.875em;
            &.active {
                background: ${s("secondary",.12)};
                color: ${s("primary")};
            }
        }

        .emoji {
            height: 1em;
            width: 1em;
            margin: 0 0.05em 0 0.1em;
            vertical-align: -0.1em;
        }
    `)})(t.themeManager,e)));n&&n.split(" ").forEach((t=>c.classList.add(t)))}));const u=()=>{var t;if(!o)return;const{tr:e}=s.state,n=s.state.schema.node("emoji",{html:null==(t=o.firstElementChild)?void 0:t.innerHTML});s.dispatch(e.delete(r,r+i.length).insert(r,n)),a(),c.classList.add("hide")};l.appendChild(c);const h=t=>{if(!(n&&t instanceof KeyboardEvent))return;const{key:e}=t;if("Enter"!==e){if(["ArrowDown","ArrowUp"].includes(e)){const t="ArrowDown"===e?(null==o?void 0:o.nextElementSibling)||c.firstElementChild:(null==o?void 0:o.previousElementSibling)||c.lastElementChild;if(o&&o.classList.remove("active"),!t)return;return t.classList.add("active"),void(o=t)}}else u()},d=t=>{n&&(t.stopPropagation(),a(),c.classList.add("hide"))};return l.addEventListener("keydown",h),l.addEventListener("mousedown",d),{update:t=>{const{selection:s}=t.state;if(s.from-s.to!=0||!n)return a(),c.classList.add("hide"),null;const l=Ut.search(i).slice(0,e),{node:h}=t.domAtPos(r);return 0!==l.length&&h?(c.classList.remove("hide"),((t,e,n,r,i)=>{for(;e.firstChild;)e.firstChild.remove();t.forEach((({emoji:t,key:o},a)=>{const s=document.createElement("div");s.className="milkdown-emoji-filter_item";const l=document.createElement("span");l.innerHTML=de(t),l.className="milkdown-emoji-filter_item-emoji";const c=document.createElement("span");c.textContent=":"+o+":",c.className="milkdown-emoji-filter_item-key",s.appendChild(l),s.appendChild(c),e.appendChild(s),0===a&&(s.classList.add("active"),i(s)),s.addEventListener("mouseenter",(t=>{n&&n.classList.remove("active");const{target:e}=t;e instanceof HTMLElement&&(e.classList.add("active"),i(e))})),s.addEventListener("mouseleave",(t=>{const{target:e}=t;e instanceof HTMLElement&&e.classList.remove("active")})),s.addEventListener("mousedown",(t=>{t.preventDefault(),r()}))}))})(l,c,o,u,(t=>{o=t})),(0,Xt.q7)(t,c,((e,n,i)=>{const o=c.parentElement;if(!o)throw new Error;const a=t.coordsAtPos(r);let s=a.left-i.left,l=e.bottom-i.top+14+o.scrollTop;return s<0&&(s=0),window.innerHeight-a.bottom<n.height&&(l=e.top-i.top-n.height-14+o.scrollTop),[l,s]})),null):(c.classList.add("hide"),null)},destroy:()=>{l.removeEventListener("keydown",h),l.removeEventListener("mousedown",d),c.remove()}}}})},ge=Zt();const me=()=>function(t){var e;e=t=>{if(!(t=>!!t.value)(t))return[t];const e=[];let n,r=t.value;for(;n=ge.exec(r);){const{index:i}=n,o=n[0];o&&(i>0&&e.push(se(ae({},t),{value:r.slice(0,i)})),e.push(se(ae({},t),{value:de(o),type:"emoji"})),r=r.slice(i+o.length))}return r.length&&e.push(se(ae({},t),{value:r})),e},function t(n,r,i){if((t=>!!t.children)(n)){const e=[];for(let r=0,i=n.children.length;r<i;r++){const i=n.children[r];if(i){const o=t(i,r,n);if(o)for(let t=0,n=o.length;t<n;t++){const n=o[t];n&&e.push(n)}}}n.children=e}return e(n,r,i)}(t,0,null)[0]},ye=J(((t,e)=>({id:"emoji",schema:()=>({group:"inline",inline:!0,atom:!0,attrs:{html:{default:""}},parseDOM:[{tag:'span[data-type="emoji"]',getAttrs:t=>{if(!(t instanceof HTMLElement))throw new Error;return{html:t.innerHTML}}}],toDOM:e=>{const n=document.createElement("span");return n.classList.add("emoji-wrapper"),n.dataset.type="emoji",t.themeManager.onFlush((()=>{const e=t.getStyle((({css:t})=>t`
                .emoji {
                    height: 1em;
                    width: 1em;
                    margin: 0 0.05em 0 0.1em;
                    vertical-align: -0.1em;
                }
            `));e&&n.classList.add(e)})),n.innerHTML=e.attrs.html,{dom:n}},parseMarkdown:{match:({type:t})=>"emoji"===t,runner:(t,e,n)=>{t.addNode(n,{html:e.value})}},toMarkdown:{match:t=>"emoji"===t.type.name,runner:(t,e)=>{const n=document.createElement("span");n.innerHTML=e.attrs.html;const r=n.querySelector("img"),i=null==r?void 0:r.title;n.remove(),t.addNode("text",void 0,i)}}}),inputRules:t=>[new kt.VK(ue,((e,n,r,i)=>{const o=n[0];if(!o)return null;const a=Ut.get(o);if(!a||o.includes(a))return null;const s=de(a);return e.tr.setMeta("emoji",!0).replaceRangeWith(r,i,t.create({html:s})).scrollIntoView()}))],remarkPlugins:()=>[Gt,me],prosePlugins:()=>{var n;return[pe(t,null!=(n=null==e?void 0:e.maxListSize)?n:6)]}}))),ve=Y.create([ye()]);var be=200,we=function(){};we.prototype.append=function(t){return t.length?(t=we.from(t),!this.length&&t||t.length<be&&this.leafAppend(t)||this.length<be&&t.leafPrepend(this)||this.appendInner(t)):this},we.prototype.prepend=function(t){return t.length?we.from(t).append(this):this},we.prototype.appendInner=function(t){return new _e(this,t)},we.prototype.slice=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.length),t>=e?we.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,e))},we.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)},we.prototype.forEach=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=this.length),e<=n?this.forEachInner(t,e,n,0):this.forEachInvertedInner(t,e,n,0)},we.prototype.map=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=this.length);var r=[];return this.forEach((function(e,n){return r.push(t(e,n))}),e,n),r},we.from=function(t){return t instanceof we?t:t&&t.length?new xe(t):we.empty};var xe=function(t){function e(e){t.call(this),this.values=e}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(t,n){return 0==t&&n==this.length?this:new e(this.values.slice(t,n))},e.prototype.getInner=function(t){return this.values[t]},e.prototype.forEachInner=function(t,e,n,r){for(var i=e;i<n;i++)if(!1===t(this.values[i],r+i))return!1},e.prototype.forEachInvertedInner=function(t,e,n,r){for(var i=e-1;i>=n;i--)if(!1===t(this.values[i],r+i))return!1},e.prototype.leafAppend=function(t){if(this.length+t.length<=be)return new e(this.values.concat(t.flatten()))},e.prototype.leafPrepend=function(t){if(this.length+t.length<=be)return new e(t.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(we);we.empty=new xe([]);var _e=function(t){function e(e,n){t.call(this),this.left=e,this.right=n,this.length=e.length+n.length,this.depth=Math.max(e.depth,n.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(t){return t<this.left.length?this.left.get(t):this.right.get(t-this.left.length)},e.prototype.forEachInner=function(t,e,n,r){var i=this.left.length;return!(e<i&&!1===this.left.forEachInner(t,e,Math.min(n,i),r))&&(!(n>i&&!1===this.right.forEachInner(t,Math.max(e-i,0),Math.min(this.length,n)-i,r+i))&&void 0)},e.prototype.forEachInvertedInner=function(t,e,n,r){var i=this.left.length;return!(e>i&&!1===this.right.forEachInvertedInner(t,e-i,Math.max(n,i)-i,r+i))&&(!(n<i&&!1===this.left.forEachInvertedInner(t,Math.min(e,i),n,r))&&void 0)},e.prototype.sliceInner=function(t,e){if(0==t&&e==this.length)return this;var n=this.left.length;return e<=n?this.left.slice(t,e):t>=n?this.right.slice(t-n,e-n):this.left.slice(t,n).append(this.right.slice(0,e-n))},e.prototype.leafAppend=function(t){var n=this.right.leafAppend(t);if(n)return new e(this.left,n)},e.prototype.leafPrepend=function(t){var n=this.left.leafPrepend(t);if(n)return new e(n,this.right)},e.prototype.appendInner=function(t){return this.left.depth>=Math.max(this.right.depth,t.depth)+1?new e(this.left,new e(this.right,t)):new e(this,t)},e}(we);const ke=we;class Ee{constructor(t,e){this.items=t,this.eventCount=e}popEvent(t,e){if(0==this.eventCount)return null;let n,r,i=this.items.length;for(;;i--){if(this.items.get(i-1).selection){--i;break}}e&&(n=this.remapping(i,this.items.length),r=n.maps.length);let o,a,s=t.tr,l=[],c=[];return this.items.forEach(((t,e)=>{if(!t.step)return n||(n=this.remapping(i,e+1),r=n.maps.length),r--,void c.push(t);if(n){c.push(new Ce(t.map));let e,i=t.step.map(n.slice(r));i&&s.maybeStep(i).doc&&(e=s.mapping.maps[s.mapping.maps.length-1],l.push(new Ce(e,void 0,void 0,l.length+c.length))),r--,e&&n.appendMap(e,r)}else s.maybeStep(t.step);return t.selection?(o=n?t.selection.map(n.slice(r)):t.selection,a=new Ee(this.items.slice(0,i).append(c.reverse().concat(l)),this.eventCount-1),!1):void 0}),this.items.length,0),{remaining:a,transform:s,selection:o}}addTransform(t,e,n,r){let i=[],o=this.eventCount,a=this.items,s=!r&&a.length?a.get(a.length-1):null;for(let n=0;n<t.steps.length;n++){let l,c=t.steps[n].invert(t.docs[n]),u=new Ce(t.mapping.maps[n],c,e);(l=s&&s.merge(u))&&(u=l,n?i.pop():a=a.slice(0,a.length-1)),i.push(u),e&&(o++,e=void 0),r||(s=u)}let l=o-n.depth;return l>De&&(a=function(t,e){let n;return t.forEach(((t,r)=>{if(t.selection&&0==e--)return n=r,!1})),t.slice(n)}(a,l),o-=l),new Ee(a.append(i),o)}remapping(t,e){let n=new ut.vs;return this.items.forEach(((e,r)=>{let i=null!=e.mirrorOffset&&r-e.mirrorOffset>=t?n.maps.length-e.mirrorOffset:void 0;n.appendMap(e.map,i)}),t,e),n}addMaps(t){return 0==this.eventCount?this:new Ee(this.items.append(t.map((t=>new Ce(t)))),this.eventCount)}rebased(t,e){if(!this.eventCount)return this;let n=[],r=Math.max(0,this.items.length-e),i=t.mapping,o=t.steps.length,a=this.eventCount;this.items.forEach((t=>{t.selection&&a--}),r);let s=e;this.items.forEach((e=>{let r=i.getMirror(--s);if(null==r)return;o=Math.min(o,r);let l=i.maps[r];if(e.step){let o=t.steps[r].invert(t.docs[r]),c=e.selection&&e.selection.map(i.slice(s+1,r));c&&a++,n.push(new Ce(l,o,c))}else n.push(new Ce(l))}),r);let l=[];for(let t=e;t<o;t++)l.push(new Ce(i.maps[t]));let c=this.items.slice(0,r).append(l).append(n),u=new Ee(c,a);return u.emptyItemCount()>500&&(u=u.compress(this.items.length-n.length)),u}emptyItemCount(){let t=0;return this.items.forEach((e=>{e.step||t++})),t}compress(t=this.items.length){let e=this.remapping(0,t),n=e.maps.length,r=[],i=0;return this.items.forEach(((o,a)=>{if(a>=t)r.push(o),o.selection&&i++;else if(o.step){let t=o.step.map(e.slice(n)),a=t&&t.getMap();if(n--,a&&e.appendMap(a,n),t){let s=o.selection&&o.selection.map(e.slice(n));s&&i++;let l,c=new Ce(a.invert(),t,s),u=r.length-1;(l=r.length&&r[u].merge(c))?r[u]=l:r.push(c)}}else o.map&&n--}),this.items.length,0),new Ee(ke.from(r.reverse()),i)}}Ee.empty=new Ee(ke.empty,0);class Ce{constructor(t,e,n,r){this.map=t,this.step=e,this.selection=n,this.mirrorOffset=r}merge(t){if(this.step&&t.step&&!t.selection){let e=t.step.merge(this.step);if(e)return new Ce(e.getMap().invert(),e,this.selection)}}}class Se{constructor(t,e,n,r){this.done=t,this.undone=e,this.prevRanges=n,this.prevTime=r}}const De=20;function Te(t){let e=[];return t.forEach(((t,n,r,i)=>e.push(r,i))),e}function Ae(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),o=e.map(t[r+1],-1);i<=o&&n.push(i,o)}return n}function Me(t,e,n,r){let i=Fe(e),o=Ie.get(e).spec.config,a=(r?t.undone:t.done).popEvent(e,i);if(!a)return;let s=a.selection.resolve(a.transform.doc),l=(r?t.done:t.undone).addTransform(a.transform,e.selection.getBookmark(),o,i),c=new Se(r?l:a.remaining,r?a.remaining:l,null,0);n(a.transform.setSelection(s).setMeta(Ie,{redo:r,historyState:c}).scrollIntoView())}let Ne=!1,Oe=null;function Fe(t){let e=t.plugins;if(Oe!=e){Ne=!1,Oe=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){Ne=!0;break}}return Ne}const Ie=new z.H$("history"),Le=new z.H$("closeHistory");function Be(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new z.Sy({key:Ie,state:{init:()=>new Se(Ee.empty,Ee.empty,null,0),apply:(e,n,r)=>function(t,e,n,r){let i,o=n.getMeta(Ie);if(o)return o.historyState;n.getMeta(Le)&&(t=new Se(t.done,t.undone,null,0));let a=n.getMeta("appendedTransaction");if(0==n.steps.length)return t;if(a&&a.getMeta(Ie))return a.getMeta(Ie).redo?new Se(t.done.addTransform(n,void 0,r,Fe(e)),t.undone,Te(n.mapping.maps[n.steps.length-1]),t.prevTime):new Se(t.done,t.undone.addTransform(n,void 0,r,Fe(e)),null,t.prevTime);if(!1===n.getMeta("addToHistory")||a&&!1===a.getMeta("addToHistory"))return(i=n.getMeta("rebased"))?new Se(t.done.rebased(n,i),t.undone.rebased(n,i),Ae(t.prevRanges,n.mapping),t.prevTime):new Se(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),Ae(t.prevRanges,n.mapping),t.prevTime);{let i=0==t.prevTime||!a&&(t.prevTime<(n.time||0)-r.newGroupDelay||!function(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach(((t,r)=>{for(let i=0;i<e.length;i+=2)t<=e[i+1]&&r>=e[i]&&(n=!0)})),n}(n,t.prevRanges)),o=a?Ae(t.prevRanges,n.mapping):Te(n.mapping.maps[n.steps.length-1]);return new Se(t.done.addTransform(n,i?e.selection.getBookmark():void 0,r,Fe(e)),Ee.empty,o,n.time)}}(n,r,e,t)},config:t,props:{handleDOMEvents:{beforeinput(t,e){let n=e.inputType,r="historyUndo"==n?Re:"historyRedo"==n?Pe:null;return!!r&&(e.preventDefault(),r(t.state,t.dispatch))}}}})}const Re=(t,e)=>{let n=Ie.getState(t);return!(!n||0==n.done.eventCount)&&(e&&Me(n,t,e,!1),!0)},Pe=(t,e)=>{let n=Ie.getState(t);return!(!n||0==n.undone.eventCount)&&(e&&Me(n,t,e,!0),!0)};const ze=(0,B.uW)("Undo"),$e=(0,B.uW)("Redo"),je=Z((()=>({commands:()=>[(0,B.ml)(ze,(()=>Re)),(0,B.ml)($e,(()=>Pe))],prosePlugins:()=>[Be(),(0,$.h)({"Mod-z":Re,"Mod-y":Pe,"Shift-Mod-z":Pe})]})))();var Ue=Object.defineProperty,Ye=Object.getOwnPropertySymbols,qe=Object.prototype.hasOwnProperty,We=Object.prototype.propertyIsEnumerable,He=(t,e,n)=>e in t?Ue(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;(0,B.uW)("Indent");const Ve=Z(((t,e)=>({prosePlugins:()=>{const n=((t,e)=>{for(var n in e||(e={}))qe.call(e,n)&&He(t,n,e[n]);if(Ye)for(var n of Ye(e))We.call(e,n)&&He(t,n,e[n]);return t})({type:"tab",size:4},null!=e?e:{});t.themeManager.onFlush((()=>{((t,e)=>{"tab"===t.type&&e.getStyle((({injectGlobal:e})=>e`
                .milkdown {
                    tab-size: ${t.size};
                }
            `))})(n,t)}));const r=(0,$.h)({Tab:(t,e)=>{const{tr:r}=t,i=((t,e)=>{const{doc:n,selection:r}=t;if(!n||!r)return t;if(!(r instanceof z.Bs||r instanceof z.C1))return t;const{to:i}=r,o="space"===e.type?Array(e.size).fill(" ").join(""):"\t";return t.insertText(o,i)})(r,n);return!!i.docChanged&&(null==e||e(i),!0)}});return[r]}}))),Ge=Y.create([Ve()]);var Xe=n(61395);class Ke{constructor(){this.beforeMountedListeners=[],this.mountedListeners=[],this.updatedListeners=[],this.markdownUpdatedListeners=[],this.blurListeners=[],this.focusListeners=[],this.destroyListeners=[],this.beforeMount=t=>(this.beforeMountedListeners.push(t),this),this.mounted=t=>(this.mountedListeners.push(t),this),this.updated=t=>(this.updatedListeners.push(t),this)}get listeners(){return{beforeMounted:this.beforeMountedListeners,mounted:this.mountedListeners,updated:this.updatedListeners,markdownUpdated:this.markdownUpdatedListeners,blur:this.blurListeners,focus:this.focusListeners,destroy:this.destroyListeners}}markdownUpdated(t){return this.markdownUpdatedListeners.push(t),this}blur(t){return this.blurListeners.push(t),this}focus(t){return this.focusListeners.push(t),this}destroy(t){return this.destroyListeners.push(t),this}}const Je=(0,Xe.oM)(new Ke,"listener"),Ze=new z.H$("MILKDOWN_LISTENER"),Qe=t=>(t.inject(Je,new Ke),async t=>{await t.wait(B.Iq);const e=t.get(Je);if(e.doc||e.markdown)throw new Error("listener.doc and listener.markdown are deprecated, use new listener manager API instead");const{listeners:n}=e;n.beforeMounted.forEach((e=>e(t))),await t.wait(B.vc);const r=t.get(B.Ck);let i=null,o=null;const a=new z.Sy({key:Ze,view:()=>({destroy:()=>{n.destroy.forEach((e=>e(t)))}}),props:{handleDOMEvents:{focus:()=>(n.focus.forEach((e=>e(t))),!1),blur:()=>(n.blur.forEach((e=>e(t))),!1)}},state:{init:()=>{},apply:e=>{if(!e.docChanged)return;const{doc:a}=e;if(n.updated.length>0&&(null==i||i!==a)&&n.updated.forEach((e=>{e(t,a,i)})),n.markdownUpdated.length>0){const i=r(e.doc);null!=o&&o===i||(n.markdownUpdated.forEach((e=>{e(t,i,o)})),o=i)}i=a}}});t.update(B.ZV,(t=>t.concat(a))),await t.wait(B.$B),n.mounted.forEach((e=>e(t)))});var tn=n(12101),en=n(34290);const nn={tokenize:function(t,e,n){const r=this,i=r.events[r.events.length-1],o=i&&"linePrefix"===i[1].type?i[2].sliceSerialize(i[1],!0).length:0;let a=0;return function(e){return t.enter("mathFlow"),t.enter("mathFlowFence"),t.enter("mathFlowFenceSequence"),s(e)};function s(e){return 36===e?(t.consume(e),a++,s):(t.exit("mathFlowFenceSequence"),a<2?n(e):(0,tn.f)(t,l,"whitespace")(e))}function l(e){return null===e||(0,en.Ch)(e)?u(e):(t.enter("mathFlowFenceMeta"),t.enter("chunkString",{contentType:"string"}),c(e))}function c(e){return null===e||(0,en.Ch)(e)?(t.exit("chunkString"),t.exit("mathFlowFenceMeta"),u(e)):36===e?n(e):(t.consume(e),c)}function u(n){return t.exit("mathFlowFence"),r.interrupt?e(n):h(n)}function h(e){return null===e?f(e):(0,en.Ch)(e)?t.attempt(rn,t.attempt({tokenize:p,partial:!0},f,o?(0,tn.f)(t,h,"linePrefix",o+1):h),f)(e):(t.enter("mathFlowValue"),d(e))}function d(e){return null===e||(0,en.Ch)(e)?(t.exit("mathFlowValue"),h(e)):(t.consume(e),d)}function f(n){return t.exit("mathFlow"),e(n)}function p(t,e,n){let r=0;return(0,tn.f)(t,(function(e){return t.enter("mathFlowFence"),t.enter("mathFlowFenceSequence"),i(e)}),"linePrefix",4);function i(e){return 36===e?(t.consume(e),r++,i):r<a?n(e):(t.exit("mathFlowFenceSequence"),(0,tn.f)(t,o,"whitespace")(e))}function o(r){return null===r||(0,en.Ch)(r)?(t.exit("mathFlowFence"),e(r)):n(r)}}},concrete:!0},rn={tokenize:function(t,e,n){const r=this;return function(e){return t.enter("lineEnding"),t.consume(e),t.exit("lineEnding"),i};function i(t){return r.parser.lazy[r.now().line]?n(t):e(t)}},partial:!0};function on(t={}){let e=t.singleDollarTextMath;return null==e&&(e=!0),{tokenize:function(t,n,r){let i,o,a=0;return function(e){return t.enter("mathText"),t.enter("mathTextSequence"),s(e)};function s(n){return 36===n?(t.consume(n),a++,s):a<2&&!e?r(n):(t.exit("mathTextSequence"),l(n))}function l(e){return null===e?r(e):36===e?(o=t.enter("mathTextSequence"),i=0,u(e)):32===e?(t.enter("space"),t.consume(e),t.exit("space"),l):(0,en.Ch)(e)?(t.enter("lineEnding"),t.consume(e),t.exit("lineEnding"),l):(t.enter("mathTextData"),c(e))}function c(e){return null===e||32===e||36===e||(0,en.Ch)(e)?(t.exit("mathTextData"),l(e)):(t.consume(e),c)}function u(e){return 36===e?(t.consume(e),i++,u):i===a?(t.exit("mathTextSequence"),t.exit("mathText"),n(e)):(o.type="mathTextData",c(e))}},resolve:an,previous:sn}}function an(t){let e,n,r=t.length-4,i=3;if(!("lineEnding"!==t[i][1].type&&"space"!==t[i][1].type||"lineEnding"!==t[r][1].type&&"space"!==t[r][1].type))for(e=i;++e<r;)if("mathTextData"===t[e][1].type){t[r][1].type="mathTextPadding",t[i][1].type="mathTextPadding",i+=2,r-=2;break}for(e=i-1,r++;++e<=r;)void 0===n?e!==r&&"lineEnding"!==t[e][1].type&&(n=e):e!==r&&"lineEnding"!==t[e][1].type||(t[n][1].type="mathTextData",e!==n+2&&(t[n][1].end=t[e-1][1].end,t.splice(n+2,e-n-2),r-=e-n-2,e=n+2),n=void 0);return t}function sn(t){return 36!==t||"characterEscape"===this.events[this.events.length-1][1].type}var ln=n(30406),cn=n(96471),un=n(16201);function hn(t={}){const e=this.data();function n(t,n){(e[t]?e[t]:e[t]=[]).push(n)}n("micromarkExtensions",function(t){return{flow:{36:nn},text:{36:on(t)}}}(t)),n("fromMarkdownExtensions",function(){return{enter:{mathFlow:function(t){this.enter({type:"math",meta:null,value:"",data:{hName:"div",hProperties:{className:["math","math-display"]},hChildren:[{type:"text",value:""}]}},t)},mathFlowFenceMeta:function(){this.buffer()},mathText:function(t){this.enter({type:"inlineMath",value:"",data:{hName:"span",hProperties:{className:["math","math-inline"]},hChildren:[{type:"text",value:""}]}},t),this.buffer()}},exit:{mathFlow:function(t){const e=this.resume().replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),n=this.exit(t);n.value=e,n.data.hChildren[0].value=e,this.setData("mathFlowInside")},mathFlowFence:function(){this.getData("mathFlowInside")||(this.buffer(),this.setData("mathFlowInside",!0))},mathFlowFenceMeta:function(){const t=this.resume();this.stack[this.stack.length-1].meta=t},mathFlowValue:t,mathText:function(t){const e=this.resume(),n=this.exit(t);n.value=e,n.data.hChildren[0].value=e},mathTextData:t}};function t(t){this.config.enter.data.call(this,t),this.config.exit.data.call(this,t)}}()),n("toMarkdownExtensions",function(t={}){let e=t.singleDollarTextMath;return null==e&&(e=!0),n.peek=function(){return"$"},{unsafe:[{character:"\r",inConstruct:["mathFlowMeta"]},{character:"\r",inConstruct:["mathFlowMeta"]},e?{character:"$",inConstruct:["mathFlowMeta","phrasing"]}:{character:"$",after:"\\$",inConstruct:["mathFlowMeta","phrasing"]},{atBreak:!0,character:"$",after:"\\$"}],handlers:{math:function(t,e,n,r){const i=t.value||"",o="$".repeat(Math.max((0,ln.J)(i,"$")+1,2)),a=n.enter("mathFlow"),s=(0,un.j)(r);let l=s.move(o);if(t.meta){const e=n.enter("mathFlowMeta");l+=s.move((0,cn.T)(n,t.meta,{...s.current(),before:l,after:" ",encode:["$"]})),e()}return l+=s.move("\n"),i&&(l+=s.move(i+"\n")),l+=s.move(o),a(),l},inlineMath:n}};function n(t){const n=t.value||"";let r=1,i="";for(e||r++;new RegExp("(^|[^$])"+"\\$".repeat(r)+"([^$]|$)").test(n);)r++;/[^ \r\n]/.test(n)&&(/[ \r\n$]/.test(n.charAt(0))||/[ \r\n$]/.test(n.charAt(n.length-1)))&&(i=" ");const o="$".repeat(r);return o+i+n+i+o}}(t))}var dn=n(8520),fn=Object.defineProperty,pn=Object.defineProperties,gn=Object.getOwnPropertyDescriptors,mn=Object.getOwnPropertySymbols,yn=Object.prototype.hasOwnProperty,vn=Object.prototype.propertyIsEnumerable,bn=(t,e,n)=>e in t?fn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,wn=(t,e)=>{for(var n in e||(e={}))yn.call(e,n)&&bn(t,n,e[n]);if(mn)for(var n of mn(e))vn.call(e,n)&&bn(t,n,e[n]);return t};const xn=/^\$\$\s$/,_n=J(((t,e)=>{var n;const r="math_block",i=wn({empty:"Empty",error:"Syntax Error"},null!=(n=null==e?void 0:e.placeholder)?n:{});return{id:r,schema:()=>({content:"text*",group:"block",marks:"",defining:!0,atom:!0,code:!0,isolating:!0,attrs:{value:{default:""}},parseDOM:[{tag:`div[data-type="${r}"]`,preserveWhitespace:"full",getAttrs:t=>{if(!(t instanceof HTMLElement))throw new Error;return{value:t.dataset.value}}}],toDOM:e=>["div",{class:t.getClassName(e.attrs,"math-block"),"data-type":r,"data-value":e.attrs.value||e.textContent||""},0],parseMarkdown:{match:({type:t})=>"math"===t,runner:(t,e,n)=>{const r=e.value;t.openNode(n,{value:r}),r&&t.addText(r),t.closeNode()}},toMarkdown:{match:t=>t.type.name===r,runner:(t,e)=>{let n="";e.forEach((t=>{n+=t.text})),t.addNode("math",void 0,n)}}}),view:()=>(e,n,o)=>{let a=e;const s=t.themeManager.get("inner-editor",{view:n,getPos:o,render:t=>{try{t?dn.render(t,s.preview):s.preview.innerHTML=i.empty}catch{s.preview.innerHTML=i.error}finally{u.appendChild(s.preview)}}});if(!s)return{};const{onUpdate:l,editor:c,dom:u,onFocus:h,onBlur:d,onDestroy:f,stopEvent:p}=s;return u.classList.add("math-block"),c.dataset.type=r,l(a,!0),{dom:u,update:t=>!!t.sameMarkup(a)&&(a=t,l(a,!1),!0),selectNode:()=>{h(a)},deselectNode:()=>{d(a)},stopEvent:p,ignoreMutation:()=>!0,destroy(){f()}}},inputRules:t=>[new kt.VK(xn,((e,n,r,i)=>{const o=e.doc.resolve(r);if(!o.node(-1).canReplaceWith(o.index(-1),o.indexAfter(-1),t))return null;const a=e.tr.delete(r,i).setBlockType(r,r,t);return a.setSelection(z.qv.create(a.doc,r-1))}))]}})),kn=new z.H$("MILKDOWN_MATH_INPUT"),En=(0,B.uW)("ModifyInlineMath"),Cn=J(((t,e)=>{var n,r,i;const o=wn({empty:"(empty)",error:"(error)"},null!=(n=null==e?void 0:e.placeholder)?n:{}),a=null!=(i=null==(r=null==e?void 0:e.input)?void 0:r.placeholder)?i:"Input Math",s=t.themeManager,l=()=>t.getStyle((({css:t})=>t`
                font-size: unset;

                &.ProseMirror-selectednode {
                    outline: none;
                    border: ${s.get(R.dz,"lineWidth")} solid ${((t,e=1)=>s.get(R.tP,[t,e]))("line")};
                }
            `)),c="math_inline";return{id:c,schema:()=>({group:"inline",inline:!0,atom:!0,attrs:{value:{default:""}},parseDOM:[{tag:`span[data-type="${c}"]`,getAttrs:t=>{if(!(t instanceof HTMLElement))throw new Error;return{value:t.dataset.value}}}],toDOM:e=>{const n=document.createElement("span");return n.dataset.type=c,n.dataset.value=e.attrs.value,t.themeManager.onFlush((()=>{const t=l();t&&(n.className=t)})),n},parseMarkdown:{match:t=>"inlineMath"===t.type,runner:(t,e,n)=>{const r=e.value;t.addNode(n,{value:r})}},toMarkdown:{match:t=>t.type.name===c,runner:(t,e)=>{t.addNode("inlineMath",void 0,e.attrs.value)}}}),commands:t=>[(0,B.ml)(En,((e="")=>(n,r)=>{const i=(0,Xt.a1)(n.selection,t);if(!i)return!1;const{tr:o}=n,a=o.setNodeMarkup(i.pos,void 0,(s=wn({},i.node.attrs),pn(s,gn({value:e}))));var s;return null==r||r(a.setSelection(z.qv.create(a.doc,i.pos))),!0}))],view:()=>e=>{let n=e;const r=document.createElement("span");t.themeManager.onFlush((()=>{const t=l();t&&(r.className=t)}));const i=t=>{try{t?dn.render(t,r):r.innerHTML=o.empty}catch{r.innerHTML=o.error}};return i(e.attrs.value),{dom:r,update:t=>{if(!t.sameMarkup(n))return!1;n=t;const e=t.attrs.value;return i(e),!0}}},inputRules:t=>[new kt.VK(/(?:\$)([^$]+)(?:\$)$/,((e,n,r,i)=>{const o=e.doc.resolve(r),a=o.index(),s=e.doc.resolve(i);if(!o.parent.canReplaceWith(a,s.index(),t))return null;const l=n[1];return e.tr.replaceRangeWith(r,i,t.create({value:l},t.schema.text(l)))}))],prosePlugins:(e,n)=>[new z.Sy({key:kn,view:r=>{const i=t.themeManager.get("input-chip",{placeholder:a,onUpdate:t=>{n.get(B.Xo).call(En,t)},isBindMode:!0});if(!i)return{};const o=t=>{if(!t.editable)return;const n=(t=>Boolean(e&&(0,Xt.a1)(t.state.selection,e)))(t);n?(i.show(t),i.update((t=>{const n=(0,Xt.a1)(t.state.selection,e);if(!n)return;return n.node.attrs.value})(t))):i.hide()};return i.init(r),o(r),{update:(t,e)=>{(null==e?void 0:e.doc.eq(t.state.doc))&&e.selection.eq(t.state.selection)||o(t)},destroy:()=>{i.destroy()}}}})]}})),Sn=Y.create([Cn(),_n()]),Dn=Z((()=>({remarkPlugins:()=>[hn]}))),Tn=Y.create([Dn(),...Sn]);function An(t){return function(e,n){let{$from:r,$to:i,node:o}=e.selection;if(o&&o.isBlock||r.depth<2||!r.sameParent(i))return!1;let a=r.node(-1);if(a.type!=t)return!1;if(0==r.parent.content.size&&r.node(-1).childCount==r.indexAfter(-1)){if(3==r.depth||r.node(-3).type!=t||r.index(-2)!=r.node(-2).childCount-1)return!1;if(n){let i=P.HY.empty,o=r.index(-1)?1:r.index(-2)?2:3;for(let t=r.depth-o;t>=r.depth-3;t--)i=P.HY.from(r.node(t).copy(i));let a=r.indexAfter(-1)<r.node(-2).childCount?1:r.indexAfter(-2)<r.node(-3).childCount?2:3;i=i.append(P.HY.from(t.createAndFill()));let s=r.before(r.depth-(o-1)),l=e.tr.replace(s,r.after(-a),new P.p2(i,4-o,0)),c=-1;l.doc.nodesBetween(s,l.doc.content.size,((t,e)=>{if(c>-1)return!1;t.isTextblock&&0==t.content.size&&(c=e+1)})),c>-1&&l.setSelection(z.Y1.near(l.doc.resolve(c))),n(l.scrollIntoView())}return!0}let s=i.pos==r.end()?a.contentMatchAt(0).defaultType:null,l=e.tr.delete(r.pos,i.pos),c=s?[null,{type:s}]:void 0;return!!(0,ut.Ax)(l.doc,r.pos,2,c)&&(n&&n(l.split(r.pos,2,c).scrollIntoView()),!0)}}function Mn(t){return function(e,n){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,(e=>e.childCount>0&&e.firstChild.type==t));return!!o&&(!n||(r.node(o.depth-1).type==t?function(t,e,n,r){let i=t.tr,o=r.end,a=r.$to.end(r.depth);o<a&&(i.step(new ut.FC(o-1,a,o,a,new P.p2(P.HY.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new P.Ts(i.doc.resolve(r.$from.pos),i.doc.resolve(a),r.depth));return e(i.lift(r,(0,ut.k9)(r)).scrollIntoView()),!0}(e,n,t,o):function(t,e,n){let r=t.tr,i=n.parent;for(let t=n.end,e=n.endIndex-1,o=n.startIndex;e>o;e--)t-=i.child(e).nodeSize,r.delete(t-1,t+1);let o=r.doc.resolve(n.start),a=o.nodeAfter;if(r.mapping.map(n.end)!=n.start+o.nodeAfter.nodeSize)return!1;let s=0==n.startIndex,l=n.endIndex==i.childCount,c=o.node(-1),u=o.index(-1);if(!c.canReplace(u+(s?0:1),u+1,a.content.append(l?P.HY.empty:P.HY.from(i))))return!1;let h=o.pos,d=h+a.nodeSize;return r.step(new ut.FC(h-(s?1:0),d+(l?1:0),h+1,d-1,new P.p2((s?P.HY.empty:P.HY.from(i.copy(P.HY.empty))).append(l?P.HY.empty:P.HY.from(i.copy(P.HY.empty))),s?0:1,l?0:1),s?0:1)),e(r.scrollIntoView()),!0}(e,n,o)))}}function Nn(t){return function(e,n){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,(e=>e.childCount>0&&e.firstChild.type==t));if(!o)return!1;let a=o.startIndex;if(0==a)return!1;let s=o.parent,l=s.child(a-1);if(l.type!=t)return!1;if(n){let r=l.lastChild&&l.lastChild.type==s.type,i=P.HY.from(r?t.create():null),a=new P.p2(P.HY.from(t.create(null,P.HY.from(s.type.create(null,i)))),r?3:1,0),c=o.start,u=o.end;n(e.tr.step(new ut.FC(c-(r?3:1),u,c,u,a,1,!0)).scrollIntoView())}return!0}}var On=Object.defineProperty,Fn=Object.defineProperties,In=Object.getOwnPropertyDescriptors,Ln=Object.getOwnPropertySymbols,Bn=Object.prototype.hasOwnProperty,Rn=Object.prototype.propertyIsEnumerable,Pn=(t,e,n)=>e in t?On(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,zn=(t,e)=>{for(var n in e||(e={}))Bn.call(e,n)&&Pn(t,n,e[n]);if(Ln)for(var n of Ln(e))Rn.call(e,n)&&Pn(t,n,e[n]);return t},$n=(t,e)=>Fn(t,In(e));const jn=(t,e)=>{if(!e)return!1;const{from:n,$from:r,to:i,empty:o}=t.selection;return o?!!e.isInSet(t.storedMarks||r.marks()):t.doc.rangeHasMark(n,i,e)},Un=(0,B.uW)("SelectParent"),Yn=[[{type:"select",text:"Heading",options:[{id:"1",text:"Large Heading"},{id:"2",text:"Medium Heading"},{id:"3",text:"Small Heading"},{id:"0",text:"Plain Text"}],disabled:t=>{const{state:e}=t,n=t=>(0,_t.uJ)(e.schema.nodes.heading,{level:t})(e);return!(t.state.selection instanceof z.Bs&&(n(1)||n(2)||n(3)))},onSelect:t=>Number(t)?["TurnIntoHeading",Number(t)]:["TurnIntoText",null]}],[{type:"button",icon:"undo",key:"Undo",disabled:t=>!Re(t.state)},{type:"button",icon:"redo",key:"Redo",disabled:t=>!Pe(t.state)}],[{type:"button",icon:"bold",key:"ToggleBold",active:t=>jn(t.state,t.state.schema.marks.strong),disabled:t=>!t.state.schema.marks.strong},{type:"button",icon:"italic",key:"ToggleItalic",active:t=>jn(t.state,t.state.schema.marks.em),disabled:t=>!t.state.schema.marks.em},{type:"button",icon:"strikeThrough",key:"ToggleStrikeThrough",active:t=>jn(t.state,t.state.schema.marks.strike_through),disabled:t=>!t.state.schema.marks.strike_through}],[{type:"button",icon:"bulletList",key:"WrapInBulletList",disabled:t=>{const{state:e}=t;return!(0,_t.ym)(e.schema.nodes.bullet_list)(e)}},{type:"button",icon:"orderedList",key:"WrapInOrderedList",disabled:t=>{const{state:e}=t;return!(0,_t.ym)(e.schema.nodes.ordered_list)(e)}},{type:"button",icon:"taskList",key:"TurnIntoTaskList",disabled:t=>{const{state:e}=t;return!(0,_t.ym)(e.schema.nodes.task_list_item)(e)}},{type:"button",icon:"liftList",key:"LiftListItem",disabled:t=>{const{state:e}=t;return!Mn(e.schema.nodes.list_item)(e)}},{type:"button",icon:"sinkList",key:"SinkListItem",disabled:t=>{const{state:e}=t;return!Nn(e.schema.nodes.list_item)(e)}}],[{type:"button",icon:"link",key:"ToggleLink",active:t=>jn(t.state,t.state.schema.marks.link)},{type:"button",icon:"image",key:"InsertImage"},{type:"button",icon:"table",key:"InsertTable"},{type:"button",icon:"code",key:"TurnIntoCodeFence"}],[{type:"button",icon:"quote",key:"WrapInBlockquote"},{type:"button",icon:"divider",key:"InsertHr"},{type:"button",icon:"select",key:Un}]];class qn{constructor(t,e,n,r,i){this.utils=e,this.ctx=n,this.config=t.map((t=>t.map((t=>$n(zn({},t),{$:this.$create(t,i)}))))).map(((e,n)=>{if(n===t.length-1)return e;const r={type:"divider",group:e.map((t=>t.$))};return[...e,$n(zn({},r),{$:this.$create(r,i)})]})).flat(),this.config.forEach((t=>r.appendChild(t.$)))}update(t){this.config.forEach((e=>{if("button"!==e.type){if("select"===e.type&&e.disabled){const n=e.disabled(t),r=e.$.children[0];r&&(n?(e.$.classList.add("disabled"),r.setAttribute("disabled","true")):(e.$.classList.remove("disabled"),r.removeAttribute("disabled")))}if("divider"===e.type){e.group.every((t=>t.getAttribute("disabled")||t.classList.contains("disabled")))?e.$.classList.add("disabled"):e.$.classList.remove("disabled")}}else{if(e.active){e.active(t)?e.$.classList.add("active"):e.$.classList.remove("active")}if(e.disabled){e.disabled(t)?e.$.setAttribute("disabled","true"):e.$.removeAttribute("disabled")}}}))}$create(t,e){const{utils:n,ctx:r}=this;switch(t.type){case"button":return((t,e,n)=>{const r=document.createElement("button");r.setAttribute("type","button"),t.themeManager.onFlush((()=>{r.className="button";const e=t.getStyle((({css:e})=>{const n=(0,R.XN)(t.themeManager);return e`
                border: 0;
                box-sizing: unset;
                width: 2em;
                height: 2em;
                padding: 0.25em;
                margin: 0.5em;
                flex-shrink: 0;
                font-size: 0.875em;

                display: flex;
                justify-content: center;
                align-items: center;

                background-color: ${n("surface")};
                color: ${n("solid")};
                transition: color 0.4s ease-in-out, background-color 0.4s ease-in-out;

                cursor: pointer;

                &.active,
                &:hover {
                    background-color: ${n("secondary",.12)};
                    color: ${n("primary")};
                }

                &:disabled {
                    display: none;
                }

                .material-icons-outlined {
                    font-size: 1.8em;
                }
            `}));e&&r.classList.add(e)}));const i=t.themeManager.get(R.kS,e.icon);if(i){const{label:t,dom:e}=i;t&&(r.setAttribute("aria-label",t),r.setAttribute("title",t)),r.appendChild(e)}else r.setAttribute("aria-label",e.icon),r.setAttribute("title",e.icon),r.textContent=e.icon;return r.addEventListener("mousedown",(t=>{t.preventDefault(),t.stopPropagation(),n.get(B.Xo).call(e.key,e.options)})),r})(n,t,r);case"select":return((t,e,n,r)=>{var i;const o=document.createElement("div");o.classList.add("menu-selector-wrapper","fold");const a=document.createElement("button");a.setAttribute("type","button"),a.classList.add("menu-selector","fold"),a.addEventListener("mousedown",(t=>{t.preventDefault(),t.stopPropagation(),o.classList.toggle("fold"),c.style.left=o.getBoundingClientRect().left-r.dom.getBoundingClientRect().left+"px"})),r.dom.addEventListener("click",(()=>{o.classList.add("fold")}));const s=document.createElement("span");s.classList.add("menu-selector-value"),s.textContent=e.text;const l=null==(i=t.themeManager.get(R.kS,"downArrow"))?void 0:i.dom;o.appendChild(a),a.appendChild(s),l&&(l.setAttribute("aria-hidden","true"),a.appendChild(l));const c=document.createElement("div");c.classList.add("menu-selector-list"),e.options.forEach((t=>{const e=document.createElement("button");e.setAttribute("type","button"),e.dataset.id=t.id,e.textContent=t.text,e.classList.add("menu-selector-list-item"),c.appendChild(e)})),c.addEventListener("mousedown",(t=>{const{target:i}=t;if(i instanceof HTMLButtonElement&&i.dataset.id){const t=e.onSelect(i.dataset.id,r),[a,s]=t;n.get(B.Xo).call(a,s),o.classList.add("fold")}})),o.appendChild(c);const{themeManager:u}=t;return u.onFlush((()=>{const e=t.getStyle((({css:t})=>{const e=(t,e=1)=>u.get(R.tP,[t,e]);return t`
                flex-shrink: 0;
                font-weight: 500;
                font-size: 0.875em;

                ${u.get(R.UT,"right")}
                ${u.get(R.UT,"left")}

                .menu-selector {
                    border: 0;
                    box-sizing: unset;
                    cursor: pointer;
                    font: inherit;
                    text-align: left;
                    justify-content: space-between;
                    align-items: center;
                    color: ${e("neutral",.87)};
                    display: flex;
                    padding: 0.25em;
                    margin: 0.5em;
                    height: 2em;
                    background: ${e("secondary",.12)};
                    width: 10.375em;

                    &:disabled {
                        display: none;
                    }
                }

                .menu-selector-value {
                    flex: 1;
                    white-space: nowrap;
                    text-overflow: ellipsis;
                }

                .menu-selector-list {
                    width: 11.875em;
                    position: absolute;
                    background: ${e("surface")};
                    ${u.get(R.UT,void 0)}
                    ${u.get(R.I9,void 0)}
                    border-bottom-left-radius: ${u.get(R.dz,"radius")};
                    border-bottom-right-radius: ${u.get(R.dz,"radius")};
                    z-index: 3;
                }

                .menu-selector-list-item {
                    background-color: transparent;
                    border: 0;
                    cursor: pointer;
                    display: block;
                    font: inherit;
                    text-align: left;
                    padding: 0.75em 1em;
                    line-height: 1.5em;
                    width: 100%;
                    color: ${e("neutral",.87)};

                    &:hover {
                        background: ${e("secondary",.12)};
                        color: ${e("primary")};
                    }
                }

                &.fold {
                    border-color: transparent;

                    .menu-selector {
                        background: unset;
                    }

                    .menu-selector-list {
                        display: none;
                    }
                }
            `}));e&&o.classList.add(e)})),o})(n,t,r,e);case"divider":return(t=>{const e=document.createElement("div");e.classList.add("divider");const{themeManager:n}=t;return n.onFlush((()=>{const r=t.getStyle((({css:t})=>t`
                flex-shrink: 0;
                width: ${n.get(R.dz,"lineWidth")};
                background-color: ${n.get(R.tP,["line"])};
                margin: 0.75em 1em;
                min-height: 1.5em;
            `));r&&e.classList.add(r)})),e})(n);default:throw new Error}}}const Wn=({menu:t,menuWrapper:e,editorRoot:n,milkdownDOM:r})=>{e.appendChild(t),n.replaceChild(e,r),e.appendChild(r)},Hn=(t,e,n,r=Wn)=>{const i=document.createElement("div");i.classList.add("milkdown-menu-wrapper");const o=document.createElement("div");o.classList.add("milkdown-menu");const a=e.dom,{themeManager:s}=t;s.onFlush((()=>{const e=t.getStyle((()=>s.get(R.eK,["y"])));e&&a.classList.add(e);const n=t.getStyle((({css:t})=>{const e=s.get(R.UT,void 0),n=s.get(R.eK,["x","thin"]);return t`
                font-family: ${s.get(R.Az,"typography")};
                box-sizing: border-box;
                width: 100%;
                display: flex;
                flex-wrap: nowrap;
                overflow-x: scroll;
                ${e};
                ${n};
                overflow-y: hidden;
                background: ${s.get(R.tP,["surface"])};
                transition: background-color 0.4s ease-in-out;

                -webkit-overflow-scrolling: auto;

                .disabled {
                    display: none;
                }
            `}));n&&n.split(" ").forEach((t=>o.classList.add(t)))}));const l=(t=>{if(!t)return document.body;if("string"==typeof t){return document.querySelector(t)||document.body}return t})(n.get(B.KP)),c=a.parentElement;if(!c)throw new Error("No parent node found");r({menu:o,menuWrapper:i,editorDOM:a,editorRoot:l,milkdownDOM:c});return[o,()=>{(({milkdownDOM:t,editorRoot:e,menu:n,menuWrapper:r})=>{e.appendChild(t),r.remove(),n.remove()})({menu:o,menuWrapper:i,editorDOM:a,editorRoot:l,milkdownDOM:c})}]},Vn=new z.H$("MILKDOWN_MENU"),Gn=Z(((t,e)=>{var n;const r=null!=(n=null==e?void 0:e.config)?n:Yn,i=null==e?void 0:e.domHandler;let o=null,a=null,s=null;const l=(e,n)=>{if(n.editable){if(!a){const[r,l]=Hn(t,n,e,i);a=r,o=()=>{l(),a=null,s=null}}s||(s=new qn(r,t,e,a,n))}};return{commands:()=>[(0,B.ml)(Un,(()=>_t.N0))],prosePlugins:(t,e)=>[new z.Sy({key:Vn,view:t=>(l(e,t),t.editable&&(null==s||s.update(t)),{update:n=>{l(e,t),t.editable?null==s||s.update(n):null==o||o()},destroy:()=>{null==o||o()}})})]}})),Xn=Y.create([Gn()]);var Kn=Object.defineProperty,Jn=Object.getOwnPropertySymbols,Zn=Object.prototype.hasOwnProperty,Qn=Object.prototype.propertyIsEnumerable,tr=(t,e,n)=>e in t?Kn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;function er(t){t.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/}}function nr(t){t.register(er),t.languages.c=t.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),t.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}}),t.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},t.languages.c.string],char:t.languages.c.char,comment:t.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:t.languages.c}}}}),t.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/}),delete t.languages.c.boolean}function rr(t){var e,n,r;t.register(nr),e=t,n=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,r=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,(function(){return n.source})),e.languages.cpp=e.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,(function(){return n.source}))),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:n,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),e.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,(function(){return r}))+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),e.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:e.languages.cpp}}}}),e.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),e.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:e.languages.extend("cpp",{})}}),e.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},e.languages.cpp["base-clause"])}function ir(t){t.register(rr),t.languages.arduino=t.languages.extend("cpp",{keyword:/\b(?:String|array|bool|boolean|break|byte|case|catch|continue|default|do|double|else|finally|for|function|goto|if|in|instanceof|int|integer|long|loop|new|null|return|setup|string|switch|throw|try|void|while|word)\b/,constant:/\b(?:ANALOG_MESSAGE|DEFAULT|DIGITAL_MESSAGE|EXTERNAL|FIRMATA_STRING|HIGH|INPUT|INPUT_PULLUP|INTERNAL|INTERNAL1V1|INTERNAL2V56|LED_BUILTIN|LOW|OUTPUT|REPORT_ANALOG|REPORT_DIGITAL|SET_PIN_MODE|SYSEX_START|SYSTEM_RESET)\b/,builtin:/\b(?:Audio|BSSID|Bridge|Client|Console|EEPROM|Esplora|EsploraTFT|Ethernet|EthernetClient|EthernetServer|EthernetUDP|File|FileIO|FileSystem|Firmata|GPRS|GSM|GSMBand|GSMClient|GSMModem|GSMPIN|GSMScanner|GSMServer|GSMVoiceCall|GSM_SMS|HttpClient|IPAddress|IRread|Keyboard|KeyboardController|LiquidCrystal|LiquidCrystal_I2C|Mailbox|Mouse|MouseController|PImage|Process|RSSI|RobotControl|RobotMotor|SD|SPI|SSID|Scheduler|Serial|Server|Servo|SoftwareSerial|Stepper|Stream|TFT|Task|USBHost|WiFi|WiFiClient|WiFiServer|WiFiUDP|Wire|YunClient|YunServer|abs|addParameter|analogRead|analogReadResolution|analogReference|analogWrite|analogWriteResolution|answerCall|attach|attachGPRS|attachInterrupt|attached|autoscroll|available|background|beep|begin|beginPacket|beginSD|beginSMS|beginSpeaker|beginTFT|beginTransmission|beginWrite|bit|bitClear|bitRead|bitSet|bitWrite|blink|blinkVersion|buffer|changePIN|checkPIN|checkPUK|checkReg|circle|cityNameRead|cityNameWrite|clear|clearScreen|click|close|compassRead|config|connect|connected|constrain|cos|countryNameRead|countryNameWrite|createChar|cursor|debugPrint|delay|delayMicroseconds|detach|detachInterrupt|digitalRead|digitalWrite|disconnect|display|displayLogos|drawBMP|drawCompass|encryptionType|end|endPacket|endSMS|endTransmission|endWrite|exists|exitValue|fill|find|findUntil|flush|gatewayIP|get|getAsynchronously|getBand|getButton|getCurrentCarrier|getIMEI|getKey|getModifiers|getOemKey|getPINUsed|getResult|getSignalStrength|getSocket|getVoiceCallStatus|getXChange|getYChange|hangCall|height|highByte|home|image|interrupts|isActionDone|isDirectory|isListening|isPIN|isPressed|isValid|keyPressed|keyReleased|keyboardRead|knobRead|leftToRight|line|lineFollowConfig|listen|listenOnLocalhost|loadImage|localIP|lowByte|macAddress|maintain|map|max|messageAvailable|micros|millis|min|mkdir|motorsStop|motorsWrite|mouseDragged|mouseMoved|mousePressed|mouseReleased|move|noAutoscroll|noBlink|noBuffer|noCursor|noDisplay|noFill|noInterrupts|noListenOnLocalhost|noStroke|noTone|onReceive|onRequest|open|openNextFile|overflow|parseCommand|parseFloat|parseInt|parsePacket|pauseMode|peek|pinMode|playFile|playMelody|point|pointTo|position|pow|prepare|press|print|printFirmwareVersion|printVersion|println|process|processInput|pulseIn|put|random|randomSeed|read|readAccelerometer|readBlue|readButton|readBytes|readBytesUntil|readGreen|readJoystickButton|readJoystickSwitch|readJoystickX|readJoystickY|readLightSensor|readMessage|readMicrophone|readNetworks|readRed|readSlider|readString|readStringUntil|readTemperature|ready|rect|release|releaseAll|remoteIP|remoteNumber|remotePort|remove|requestFrom|retrieveCallingNumber|rewindDirectory|rightToLeft|rmdir|robotNameRead|robotNameWrite|run|runAsynchronously|runShellCommand|runShellCommandAsynchronously|running|scanNetworks|scrollDisplayLeft|scrollDisplayRight|seek|sendAnalog|sendDigitalPortPair|sendDigitalPorts|sendString|sendSysex|serialEvent|setBand|setBitOrder|setClockDivider|setCursor|setDNS|setDataMode|setFirmwareVersion|setMode|setPINUsed|setSpeed|setTextSize|setTimeout|shiftIn|shiftOut|shutdown|sin|size|sqrt|startLoop|step|stop|stroke|subnetMask|switchPIN|tan|tempoWrite|text|tone|transfer|tuneWrite|turn|updateIR|userNameRead|userNameWrite|voiceCall|waitContinue|width|write|writeBlue|writeGreen|writeJSON|writeMessage|writeMicroseconds|writeRGB|writeRed|yield)\b/}),t.languages.ino=t.languages.arduino}function or(t){!function(t){var e="\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\b",n={pattern:/(^(["']?)\w+\2)[ \t]+\S.*/,lookbehind:!0,alias:"punctuation",inside:null},r={bash:n,environment:{pattern:RegExp("\\$"+e),alias:"constant"},variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,greedy:!0,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--|\+\+|\*\*=?|<<=?|>>=?|&&|\|\||[=!+\-*/%<>^&|]=?|[?~:]/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:\([^)]+\)|[^()])+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},{pattern:/\$\{[^}]+\}/,greedy:!0,inside:{operator:/:[-=?+]?|[!\/]|##?|%%?|\^\^?|,,?/,punctuation:/[\[\]]/,environment:{pattern:RegExp("(\\{)"+e),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|U[0-9a-fA-F]{8}|u[0-9a-fA-F]{4}|x[0-9a-fA-F]{1,2})/};t.languages.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)[\w-]+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b[\w-]+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,alias:"variable",lookbehind:!0},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?=\+?=)/,inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+e),lookbehind:!0,alias:"constant"}},alias:"variable",lookbehind:!0},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+)\s[\s\S]*?(?:\r?\n|\r)\2/,lookbehind:!0,greedy:!0,inside:r},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s[\s\S]*?(?:\r?\n|\r)\3/,lookbehind:!0,greedy:!0,inside:{bash:n}},{pattern:/(^|[^\\](?:\\\\)*)"(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|[^"\\`$])*"/,lookbehind:!0,greedy:!0,inside:r},{pattern:/(^|[^$\\])'[^']*'/,lookbehind:!0,greedy:!0},{pattern:/\$'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,inside:{entity:r.entity}}],environment:{pattern:RegExp("\\$?"+e),alias:"constant"},variable:r.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|apt-cache|apt-get|aptitude|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|docker|docker-compose|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|node|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|podman|podman-compose|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vcpkg|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:case|do|done|elif|else|esac|fi|for|function|if|in|select|then|until|while)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|alias|bind|break|builtin|caller|cd|command|continue|declare|echo|enable|eval|exec|exit|export|getopts|hash|help|let|local|logout|mapfile|printf|pwd|read|readarray|readonly|return|set|shift|shopt|source|test|times|trap|type|typeset|ulimit|umask|unalias|unset)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:false|true)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|=[=~]?|!=?|<<[<-]?|[&\d]?>>|\d[<>]&?|[<>][&=]?|&[>&]?|\|[&|]?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}},n.inside=t.languages.bash;for(var i=["comment","function-name","for-or-select","assign-left","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"],o=r.variable[1].inside,a=0;a<i.length;a++)o[i[a]]=t.languages.bash[i[a]];t.languages.shell=t.languages.bash}(t)}function ar(t){t.register(er),function(t){function e(t,e){return t.replace(/<<(\d+)>>/g,(function(t,n){return"(?:"+e[+n]+")"}))}function n(t,n,r){return RegExp(e(t,n),r||"")}function r(t,e){for(var n=0;n<e;n++)t=t.replace(/<<self>>/g,(function(){return"(?:"+t+")"}));return t.replace(/<<self>>/g,"[^\\s\\S]")}var i="bool byte char decimal double dynamic float int long object sbyte short string uint ulong ushort var void",o="class enum interface record struct",a="add alias and ascending async await by descending from(?=\\s*(?:\\w|$)) get global group into init(?=\\s*;) join let nameof not notnull on or orderby partial remove select set unmanaged value when where with(?=\\s*{)",s="abstract as base break case catch checked const continue default delegate do else event explicit extern finally fixed for foreach goto if implicit in internal is lock namespace new null operator out override params private protected public readonly ref return sealed sizeof stackalloc static switch this throw try typeof unchecked unsafe using virtual volatile while yield";function l(t){return"\\b(?:"+t.trim().replace(/ /g,"|")+")\\b"}var c=l(o),u=RegExp(l(i+" "+o+" "+a+" "+s)),h=l(o+" "+a+" "+s),d=l(i+" "+o+" "+s),f=r(/<(?:[^<>;=+\-*/%&|^]|<<self>>)*>/.source,2),p=r(/\((?:[^()]|<<self>>)*\)/.source,2),g=/@?\b[A-Za-z_]\w*\b/.source,m=e(/<<0>>(?:\s*<<1>>)?/.source,[g,f]),y=e(/(?!<<0>>)<<1>>(?:\s*\.\s*<<1>>)*/.source,[h,m]),v=/\[\s*(?:,\s*)*\]/.source,b=e(/<<0>>(?:\s*(?:\?\s*)?<<1>>)*(?:\s*\?)?/.source,[y,v]),w=e(/[^,()<>[\];=+\-*/%&|^]|<<0>>|<<1>>|<<2>>/.source,[f,p,v]),x=e(/\(<<0>>+(?:,<<0>>+)+\)/.source,[w]),_=e(/(?:<<0>>|<<1>>)(?:\s*(?:\?\s*)?<<2>>)*(?:\s*\?)?/.source,[x,y,v]),k={keyword:u,punctuation:/[<>()?,.:[\]]/},E=/'(?:[^\r\n'\\]|\\.|\\[Uux][\da-fA-F]{1,8})'/.source,C=/"(?:\\.|[^\\"\r\n])*"/.source,S=/@"(?:""|\\[\s\S]|[^\\"])*"(?!")/.source;t.languages.csharp=t.languages.extend("clike",{string:[{pattern:n(/(^|[^$\\])<<0>>/.source,[S]),lookbehind:!0,greedy:!0},{pattern:n(/(^|[^@$\\])<<0>>/.source,[C]),lookbehind:!0,greedy:!0}],"class-name":[{pattern:n(/(\busing\s+static\s+)<<0>>(?=\s*;)/.source,[y]),lookbehind:!0,inside:k},{pattern:n(/(\busing\s+<<0>>\s*=\s*)<<1>>(?=\s*;)/.source,[g,_]),lookbehind:!0,inside:k},{pattern:n(/(\busing\s+)<<0>>(?=\s*=)/.source,[g]),lookbehind:!0},{pattern:n(/(\b<<0>>\s+)<<1>>/.source,[c,m]),lookbehind:!0,inside:k},{pattern:n(/(\bcatch\s*\(\s*)<<0>>/.source,[y]),lookbehind:!0,inside:k},{pattern:n(/(\bwhere\s+)<<0>>/.source,[g]),lookbehind:!0},{pattern:n(/(\b(?:is(?:\s+not)?|as)\s+)<<0>>/.source,[b]),lookbehind:!0,inside:k},{pattern:n(/\b<<0>>(?=\s+(?!<<1>>|with\s*\{)<<2>>(?:\s*[=,;:{)\]]|\s+(?:in|when)\b))/.source,[_,d,g]),inside:k}],keyword:u,number:/(?:\b0(?:x[\da-f_]*[\da-f]|b[01_]*[01])|(?:\B\.\d+(?:_+\d+)*|\b\d+(?:_+\d+)*(?:\.\d+(?:_+\d+)*)?)(?:e[-+]?\d+(?:_+\d+)*)?)(?:[dflmu]|lu|ul)?\b/i,operator:/>>=?|<<=?|[-=]>|([-+&|])\1|~|\?\?=?|[-+*/%&|^!=<>]=?/,punctuation:/\?\.?|::|[{}[\];(),.:]/}),t.languages.insertBefore("csharp","number",{range:{pattern:/\.\./,alias:"operator"}}),t.languages.insertBefore("csharp","punctuation",{"named-parameter":{pattern:n(/([(,]\s*)<<0>>(?=\s*:)/.source,[g]),lookbehind:!0,alias:"punctuation"}}),t.languages.insertBefore("csharp","class-name",{namespace:{pattern:n(/(\b(?:namespace|using)\s+)<<0>>(?:\s*\.\s*<<0>>)*(?=\s*[;{])/.source,[g]),lookbehind:!0,inside:{punctuation:/\./}},"type-expression":{pattern:n(/(\b(?:default|sizeof|typeof)\s*\(\s*(?!\s))(?:[^()\s]|\s(?!\s)|<<0>>)*(?=\s*\))/.source,[p]),lookbehind:!0,alias:"class-name",inside:k},"return-type":{pattern:n(/<<0>>(?=\s+(?:<<1>>\s*(?:=>|[({]|\.\s*this\s*\[)|this\s*\[))/.source,[_,y]),inside:k,alias:"class-name"},"constructor-invocation":{pattern:n(/(\bnew\s+)<<0>>(?=\s*[[({])/.source,[_]),lookbehind:!0,inside:k,alias:"class-name"},"generic-method":{pattern:n(/<<0>>\s*<<1>>(?=\s*\()/.source,[g,f]),inside:{function:n(/^<<0>>/.source,[g]),generic:{pattern:RegExp(f),alias:"class-name",inside:k}}},"type-list":{pattern:n(/\b((?:<<0>>\s+<<1>>|record\s+<<1>>\s*<<5>>|where\s+<<2>>)\s*:\s*)(?:<<3>>|<<4>>|<<1>>\s*<<5>>|<<6>>)(?:\s*,\s*(?:<<3>>|<<4>>|<<6>>))*(?=\s*(?:where|[{;]|=>|$))/.source,[c,m,g,_,u.source,p,/\bnew\s*\(\s*\)/.source]),lookbehind:!0,inside:{"record-arguments":{pattern:n(/(^(?!new\s*\()<<0>>\s*)<<1>>/.source,[m,p]),lookbehind:!0,greedy:!0,inside:t.languages.csharp},keyword:u,"class-name":{pattern:RegExp(_),greedy:!0,inside:k},punctuation:/[,()]/}},preprocessor:{pattern:/(^[\t ]*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(#)\b(?:define|elif|else|endif|endregion|error|if|line|nullable|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}});var D=C+"|"+E,T=e(/\/(?![*/])|\/\/[^\r\n]*[\r\n]|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>/.source,[D]),A=r(e(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[T]),2),M=/\b(?:assembly|event|field|method|module|param|property|return|type)\b/.source,N=e(/<<0>>(?:\s*\(<<1>>*\))?/.source,[y,A]);t.languages.insertBefore("csharp","class-name",{attribute:{pattern:n(/((?:^|[^\s\w>)?])\s*\[\s*)(?:<<0>>\s*:\s*)?<<1>>(?:\s*,\s*<<1>>)*(?=\s*\])/.source,[M,N]),lookbehind:!0,greedy:!0,inside:{target:{pattern:n(/^<<0>>(?=\s*:)/.source,[M]),alias:"keyword"},"attribute-arguments":{pattern:n(/\(<<0>>*\)/.source,[A]),inside:t.languages.csharp},"class-name":{pattern:RegExp(y),inside:{punctuation:/\./}},punctuation:/[:,]/}}});var O=/:[^}\r\n]+/.source,F=r(e(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[T]),2),I=e(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[F,O]),L=r(e(/[^"'/()]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>|\(<<self>>*\)/.source,[D]),2),B=e(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[L,O]);function R(e,r){return{interpolation:{pattern:n(/((?:^|[^{])(?:\{\{)*)<<0>>/.source,[e]),lookbehind:!0,inside:{"format-string":{pattern:n(/(^\{(?:(?![}:])<<0>>)*)<<1>>(?=\}$)/.source,[r,O]),lookbehind:!0,inside:{punctuation:/^:/}},punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-csharp",inside:t.languages.csharp}}},string:/[\s\S]+/}}t.languages.insertBefore("csharp","string",{"interpolation-string":[{pattern:n(/(^|[^\\])(?:\$@|@\$)"(?:""|\\[\s\S]|\{\{|<<0>>|[^\\{"])*"/.source,[I]),lookbehind:!0,greedy:!0,inside:R(I,F)},{pattern:n(/(^|[^@\\])\$"(?:\\.|\{\{|<<0>>|[^\\"{])*"/.source,[B]),lookbehind:!0,greedy:!0,inside:R(B,L)}],char:{pattern:RegExp(E),greedy:!0}}),t.languages.dotnet=t.languages.cs=t.languages.csharp}(t)}function sr(t){t.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},t.languages.markup.tag.inside["attr-value"].inside.entity=t.languages.markup.entity,t.languages.markup.doctype.inside["internal-subset"].inside=t.languages.markup,t.hooks.add("wrap",(function(t){"entity"===t.type&&(t.attributes.title=t.content.value.replace(/&amp;/,"&"))})),Object.defineProperty(t.languages.markup.tag,"addInlined",{value:function(e,n){var r={};r["language-"+n]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:t.languages[n]},r.cdata=/^<!\[CDATA\[|\]\]>$/i;var i={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:r}};i["language-"+n]={pattern:/[\s\S]+/,inside:t.languages[n]};var o={};o[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,(function(){return e})),"i"),lookbehind:!0,greedy:!0,inside:i},t.languages.insertBefore("markup","cdata",o)}}),Object.defineProperty(t.languages.markup.tag,"addAttribute",{value:function(e,n){t.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+e+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[n,"language-"+n],inside:t.languages[n]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),t.languages.html=t.languages.markup,t.languages.mathml=t.languages.markup,t.languages.svg=t.languages.markup,t.languages.xml=t.languages.extend("markup",{}),t.languages.ssml=t.languages.xml,t.languages.atom=t.languages.xml,t.languages.rss=t.languages.xml}function lr(t){!function(t){var e=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;t.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-](?:[^;{\s]|\s+(?![\s{]))*(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+e.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+e.source+"$"),alias:"url"}}},selector:{pattern:RegExp("(^|[{}\\s])[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+e.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:e,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},t.languages.css.atrule.inside.rest=t.languages.css;var n=t.languages.markup;n&&(n.tag.addInlined("style","css"),n.tag.addAttribute("style","css"))}(t)}function cr(t){!function(t){t.languages.diff={coord:[/^(?:\*{3}|-{3}|\+{3}).*$/m,/^@@.*@@$/m,/^\d.*$/m]};var e={"deleted-sign":"-","deleted-arrow":"<","inserted-sign":"+","inserted-arrow":">",unchanged:" ",diff:"!"};Object.keys(e).forEach((function(n){var r=e[n],i=[];/^\w+$/.test(n)||i.push(/\w+/.exec(n)[0]),"diff"===n&&i.push("bold"),t.languages.diff[n]={pattern:RegExp("^(?:["+r+"].*(?:\r\n?|\n|(?![\\s\\S])))+","m"),alias:i,inside:{line:{pattern:/(.)(?=[\s\S]).*(?:\r\n?|\n)?/,lookbehind:!0},prefix:{pattern:/[\s\S]/,alias:/\w+/.exec(n)[0]}}}})),Object.defineProperty(t.languages.diff,"PREFIXES",{value:e})}(t)}function ur(t){t.register(er),t.languages.go=t.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"|`[^`]*`/,lookbehind:!0,greedy:!0},keyword:/\b(?:break|case|chan|const|continue|default|defer|else|fallthrough|for|func|go(?:to)?|if|import|interface|map|package|range|return|select|struct|switch|type|var)\b/,boolean:/\b(?:_|false|iota|nil|true)\b/,number:[/\b0(?:b[01_]+|o[0-7_]+)i?\b/i,/\b0x(?:[a-f\d_]+(?:\.[a-f\d_]*)?|\.[a-f\d_]+)(?:p[+-]?\d+(?:_\d+)*)?i?(?!\w)/i,/(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?[\d_]+)?i?(?!\w)/i],operator:/[*\/%^!=]=?|\+[=+]?|-[=-]?|\|[=|]?|&(?:=|&|\^=?)?|>(?:>=?|=)?|<(?:<=?|=|-)?|:=|\.\.\./,builtin:/\b(?:append|bool|byte|cap|close|complex|complex(?:64|128)|copy|delete|error|float(?:32|64)|u?int(?:8|16|32|64)?|imag|len|make|new|panic|print(?:ln)?|real|recover|rune|string|uintptr)\b/}),t.languages.insertBefore("go","string",{char:{pattern:/'(?:\\.|[^'\\\r\n]){0,10}'/,greedy:!0}}),delete t.languages.go["class-name"]}function hr(t){t.languages.ini={comment:{pattern:/(^[ \f\t\v]*)[#;][^\n\r]*/m,lookbehind:!0},section:{pattern:/(^[ \f\t\v]*)\[[^\n\r\]]*\]?/m,lookbehind:!0,inside:{"section-name":{pattern:/(^\[[ \f\t\v]*)[^ \f\t\v\]]+(?:[ \f\t\v]+[^ \f\t\v\]]+)*/,lookbehind:!0,alias:"selector"},punctuation:/\[|\]/}},key:{pattern:/(^[ \f\t\v]*)[^ \f\n\r\t\v=]+(?:[ \f\t\v]+[^ \f\n\r\t\v=]+)*(?=[ \f\t\v]*=)/m,lookbehind:!0,alias:"attr-name"},value:{pattern:/(=[ \f\t\v]*)[^ \f\n\r\t\v]+(?:[ \f\t\v]+[^ \f\n\r\t\v]+)*/,lookbehind:!0,alias:"attr-value",inside:{"inner-value":{pattern:/^("|').+(?=\1$)/,lookbehind:!0}}},punctuation:/=/}}function dr(t){var e,n,r,i;t.register(er),e=t,n=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,r=/(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,i={pattern:RegExp(/(^|[^\w.])/.source+r+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}},e.languages.java=e.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[i,{pattern:RegExp(/(^|[^\w.])/.source+r+/[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),lookbehind:!0,inside:i.inside},{pattern:RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source+r+/[A-Z]\w*\b/.source),lookbehind:!0,inside:i.inside}],keyword:n,function:[e.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0}}),e.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),e.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":i,keyword:n,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp(/(\bimport\s+)/.source+r+/(?:[A-Z]\w*|\*)(?=\s*;)/.source),lookbehind:!0,inside:{namespace:i.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(/(\bimport\s+static\s+)/.source+r+/(?:\w+|\*)(?=\s*;)/.source),lookbehind:!0,alias:"static",inside:{namespace:i.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,(function(){return n.source}))),lookbehind:!0,inside:{punctuation:/\./}}})}function fr(t){!function(t){var e={pattern:/\\[\\(){}[\]^$+*?|.]/,alias:"escape"},n=/\\(?:x[\da-fA-F]{2}|u[\da-fA-F]{4}|u\{[\da-fA-F]+\}|0[0-7]{0,2}|[123][0-7]{2}|c[a-zA-Z]|.)/,r="(?:[^\\\\-]|"+n.source+")",i=RegExp(r+"-"+r),o={pattern:/(<|')[^<>']+(?=[>']$)/,lookbehind:!0,alias:"variable"};t.languages.regex={"char-class":{pattern:/((?:^|[^\\])(?:\\\\)*)\[(?:[^\\\]]|\\[\s\S])*\]/,lookbehind:!0,inside:{"char-class-negation":{pattern:/(^\[)\^/,lookbehind:!0,alias:"operator"},"char-class-punctuation":{pattern:/^\[|\]$/,alias:"punctuation"},range:{pattern:i,inside:{escape:n,"range-punctuation":{pattern:/-/,alias:"operator"}}},"special-escape":e,"char-set":{pattern:/\\[wsd]|\\p\{[^{}]+\}/i,alias:"class-name"},escape:n}},"special-escape":e,"char-set":{pattern:/\.|\\[wsd]|\\p\{[^{}]+\}/i,alias:"class-name"},backreference:[{pattern:/\\(?![123][0-7]{2})[1-9]/,alias:"keyword"},{pattern:/\\k<[^<>']+>/,alias:"keyword",inside:{"group-name":o}}],anchor:{pattern:/[$^]|\\[ABbGZz]/,alias:"function"},escape:n,group:[{pattern:/\((?:\?(?:<[^<>']+>|'[^<>']+'|[>:]|<?[=!]|[idmnsuxU]+(?:-[idmnsuxU]+)?:?))?/,alias:"punctuation",inside:{"group-name":o}},{pattern:/\)/,alias:"punctuation"}],quantifier:{pattern:/(?:[+*?]|\{\d+(?:,\d*)?\})[?+]?/,alias:"number"},alternation:{pattern:/\|/,alias:"keyword"}}}(t)}function pr(t){t.register(er),t.languages.javascript=t.languages.extend("clike",{"class-name":[t.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),t.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,t.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:t.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:t.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:t.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:t.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:t.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),t.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:t.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),t.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),t.languages.markup&&(t.languages.markup.tag.addInlined("script","javascript"),t.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),t.languages.js=t.languages.javascript}function gr(t){t.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}},t.languages.webmanifest=t.languages.json}function mr(t){t.register(er),function(t){t.languages.kotlin=t.languages.extend("clike",{keyword:{pattern:/(^|[^.])\b(?:abstract|actual|annotation|as|break|by|catch|class|companion|const|constructor|continue|crossinline|data|do|dynamic|else|enum|expect|external|final|finally|for|fun|get|if|import|in|infix|init|inline|inner|interface|internal|is|lateinit|noinline|null|object|open|operator|out|override|package|private|protected|public|reified|return|sealed|set|super|suspend|tailrec|this|throw|to|try|typealias|val|var|vararg|when|where|while)\b/,lookbehind:!0},function:[{pattern:/(?:`[^\r\n`]+`|\b\w+)(?=\s*\()/,greedy:!0},{pattern:/(\.)(?:`[^\r\n`]+`|\w+)(?=\s*\{)/,lookbehind:!0,greedy:!0}],number:/\b(?:0[xX][\da-fA-F]+(?:_[\da-fA-F]+)*|0[bB][01]+(?:_[01]+)*|\d+(?:_\d+)*(?:\.\d+(?:_\d+)*)?(?:[eE][+-]?\d+(?:_\d+)*)?[fFL]?)\b/,operator:/\+[+=]?|-[-=>]?|==?=?|!(?:!|==?)?|[\/*%<>]=?|[?:]:?|\.\.|&&|\|\||\b(?:and|inv|or|shl|shr|ushr|xor)\b/}),delete t.languages.kotlin["class-name"];var e={"interpolation-punctuation":{pattern:/^\$\{?|\}$/,alias:"punctuation"},expression:{pattern:/[\s\S]+/,inside:t.languages.kotlin}};t.languages.insertBefore("kotlin","string",{"string-literal":[{pattern:/"""(?:[^$]|\$(?:(?!\{)|\{[^{}]*\}))*?"""/,alias:"multiline",inside:{interpolation:{pattern:/\$(?:[a-z_]\w*|\{[^{}]*\})/i,inside:e},string:/[\s\S]+/}},{pattern:/"(?:[^"\\\r\n$]|\\.|\$(?:(?!\{)|\{[^{}]*\}))*"/,alias:"singleline",inside:{interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$(?:[a-z_]\w*|\{[^{}]*\})/i,lookbehind:!0,inside:e},string:/[\s\S]+/}}],char:{pattern:/'(?:[^'\\\r\n]|\\(?:.|u[a-fA-F0-9]{0,4}))'/,greedy:!0}}),delete t.languages.kotlin.string,t.languages.insertBefore("kotlin","keyword",{annotation:{pattern:/\B@(?:\w+:)?(?:[A-Z]\w*|\[[^\]]+\])/,alias:"builtin"}}),t.languages.insertBefore("kotlin","function",{label:{pattern:/\b\w+@|@\w+\b/,alias:"symbol"}}),t.languages.kt=t.languages.kotlin,t.languages.kts=t.languages.kotlin}(t)}function yr(t){t.register(lr),t.languages.less=t.languages.extend("css",{comment:[/\/\*[\s\S]*?\*\//,{pattern:/(^|[^\\])\/\/.*/,lookbehind:!0}],atrule:{pattern:/@[\w-](?:\((?:[^(){}]|\([^(){}]*\))*\)|[^(){};\s]|\s+(?!\s))*?(?=\s*\{)/,inside:{punctuation:/[:()]/}},selector:{pattern:/(?:@\{[\w-]+\}|[^{};\s@])(?:@\{[\w-]+\}|\((?:[^(){}]|\([^(){}]*\))*\)|[^(){};@\s]|\s+(?!\s))*?(?=\s*\{)/,inside:{variable:/@+[\w-]+/}},property:/(?:@\{[\w-]+\}|[\w-])+(?:\+_?)?(?=\s*:)/,operator:/[+\-*\/]/}),t.languages.insertBefore("less","property",{variable:[{pattern:/@[\w-]+\s*:/,inside:{punctuation:/:/}},/@@?[\w-]+/],"mixin-usage":{pattern:/([{;]\s*)[.#](?!\d)[\w-].*?(?=[(;])/,lookbehind:!0,alias:"function"}})}function vr(t){t.languages.lua={comment:/^#!.+|--(?:\[(=*)\[[\s\S]*?\]\1\]|.*)/m,string:{pattern:/(["'])(?:(?!\1)[^\\\r\n]|\\z(?:\r\n|\s)|\\(?:\r\n|[^z]))*\1|\[(=*)\[[\s\S]*?\]\2\]/,greedy:!0},number:/\b0x[a-f\d]+(?:\.[a-f\d]*)?(?:p[+-]?\d+)?\b|\b\d+(?:\.\B|(?:\.\d*)?(?:e[+-]?\d+)?\b)|\B\.\d+(?:e[+-]?\d+)?\b/i,keyword:/\b(?:and|break|do|else|elseif|end|false|for|function|goto|if|in|local|nil|not|or|repeat|return|then|true|until|while)\b/,function:/(?!\d)\w+(?=\s*(?:[({]))/,operator:[/[-+*%^&|#]|\/\/?|<[<=]?|>[>=]?|[=~]=?/,{pattern:/(^|[^.])\.\.(?!\.)/,lookbehind:!0}],punctuation:/[\[\](){},;]|\.+|:+/}}function br(t){t.languages.makefile={comment:{pattern:/(^|[^\\])#(?:\\(?:\r\n|[\s\S])|[^\\\r\n])*/,lookbehind:!0},string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"builtin-target":{pattern:/\.[A-Z][^:#=\s]+(?=\s*:(?!=))/,alias:"builtin"},target:{pattern:/^(?:[^:=\s]|[ \t]+(?![\s:]))+(?=\s*:(?!=))/m,alias:"symbol",inside:{variable:/\$+(?:(?!\$)[^(){}:#=\s]+|(?=[({]))/}},variable:/\$+(?:(?!\$)[^(){}:#=\s]+|\([@*%<^+?][DF]\)|(?=[({]))/,keyword:/-include\b|\b(?:define|else|endef|endif|export|ifn?def|ifn?eq|include|override|private|sinclude|undefine|unexport|vpath)\b/,function:{pattern:/(\()(?:abspath|addsuffix|and|basename|call|dir|error|eval|file|filter(?:-out)?|findstring|firstword|flavor|foreach|guile|if|info|join|lastword|load|notdir|or|origin|patsubst|realpath|shell|sort|strip|subst|suffix|value|warning|wildcard|word(?:list|s)?)(?=[ \t])/,lookbehind:!0},operator:/(?:::|[?:+!])?=|[|@]/,punctuation:/[:;(){}]/}}function wr(t){!function(t){var e=/[*&][^\s[\]{},]+/,n=/!(?:<[\w\-%#;/?:@&=+$,.!~*'()[\]]+>|(?:[a-zA-Z\d-]*!)?[\w\-%#;/?:@&=+$.~*'()]+)?/,r="(?:"+n.source+"(?:[ \t]+"+e.source+")?|"+e.source+"(?:[ \t]+"+n.source+")?)",i=/(?:[^\s\x00-\x08\x0e-\x1f!"#%&'*,\-:>?@[\]`{|}\x7f-\x84\x86-\x9f\ud800-\udfff\ufffe\uffff]|[?:-]<PLAIN>)(?:[ \t]*(?:(?![#:])<PLAIN>|:<PLAIN>))*/.source.replace(/<PLAIN>/g,(function(){return/[^\s\x00-\x08\x0e-\x1f,[\]{}\x7f-\x84\x86-\x9f\ud800-\udfff\ufffe\uffff]/.source})),o=/"(?:[^"\\\r\n]|\\.)*"|'(?:[^'\\\r\n]|\\.)*'/.source;function a(t,e){e=(e||"").replace(/m/g,"")+"m";var n=/([:\-,[{]\s*(?:\s<<prop>>[ \t]+)?)(?:<<value>>)(?=[ \t]*(?:$|,|\]|\}|(?:[\r\n]\s*)?#))/.source.replace(/<<prop>>/g,(function(){return r})).replace(/<<value>>/g,(function(){return t}));return RegExp(n,e)}t.languages.yaml={scalar:{pattern:RegExp(/([\-:]\s*(?:\s<<prop>>[ \t]+)?[|>])[ \t]*(?:((?:\r?\n|\r)[ \t]+)\S[^\r\n]*(?:\2[^\r\n]+)*)/.source.replace(/<<prop>>/g,(function(){return r}))),lookbehind:!0,alias:"string"},comment:/#.*/,key:{pattern:RegExp(/((?:^|[:\-,[{\r\n?])[ \t]*(?:<<prop>>[ \t]+)?)<<key>>(?=\s*:\s)/.source.replace(/<<prop>>/g,(function(){return r})).replace(/<<key>>/g,(function(){return"(?:"+i+"|"+o+")"}))),lookbehind:!0,greedy:!0,alias:"atrule"},directive:{pattern:/(^[ \t]*)%.+/m,lookbehind:!0,alias:"important"},datetime:{pattern:a(/\d{4}-\d\d?-\d\d?(?:[tT]|[ \t]+)\d\d?:\d{2}:\d{2}(?:\.\d*)?(?:[ \t]*(?:Z|[-+]\d\d?(?::\d{2})?))?|\d{4}-\d{2}-\d{2}|\d\d?:\d{2}(?::\d{2}(?:\.\d*)?)?/.source),lookbehind:!0,alias:"number"},boolean:{pattern:a(/false|true/.source,"i"),lookbehind:!0,alias:"important"},null:{pattern:a(/null|~/.source,"i"),lookbehind:!0,alias:"important"},string:{pattern:a(o),lookbehind:!0,greedy:!0},number:{pattern:a(/[+-]?(?:0x[\da-f]+|0o[0-7]+|(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?|\.inf|\.nan)/.source,"i"),lookbehind:!0},tag:n,important:e,punctuation:/---|[:[\]{}\-,|>?]|\.\.\./},t.languages.yml=t.languages.yaml}(t)}function xr(t){t.register(sr),function(t){var e=/(?:\\.|[^\\\n\r]|(?:\n|\r\n?)(?![\r\n]))/.source;function n(t){return t=t.replace(/<inner>/g,(function(){return e})),RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+"(?:"+t+")")}var r=/(?:\\.|``(?:[^`\r\n]|`(?!`))+``|`[^`\r\n]+`|[^\\|\r\n`])+/.source,i=/\|?__(?:\|__)+\|?(?:(?:\n|\r\n?)|(?![\s\S]))/.source.replace(/__/g,(function(){return r})),o=/\|?[ \t]*:?-{3,}:?[ \t]*(?:\|[ \t]*:?-{3,}:?[ \t]*)+\|?(?:\n|\r\n?)/.source;t.languages.markdown=t.languages.extend("markup",{}),t.languages.insertBefore("markdown","prolog",{"front-matter-block":{pattern:/(^(?:\s*[\r\n])?)---(?!.)[\s\S]*?[\r\n]---(?!.)/,lookbehind:!0,greedy:!0,inside:{punctuation:/^---|---$/,"front-matter":{pattern:/\S+(?:\s+\S+)*/,alias:["yaml","language-yaml"],inside:t.languages.yaml}}},blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+i+o+"(?:"+i+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+i+o+")(?:"+i+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp(r),inside:t.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+i+")"+o+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+i+"$"),inside:{"table-header":{pattern:RegExp(r),alias:"important",inside:t.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/((?:^|\n)[ \t]*\n|(?:^|\r\n?)[ \t]*\r\n?)(?: {4}|\t).+(?:(?:\n|\r\n?)(?: {4}|\t).+)*/,lookbehind:!0,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\n|\r\n?))[\s\S]+?(?=(?:\n|\r\n?)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\n|\r\n?)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:n(/\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\b|\*\*(?:(?!\*)<inner>|\*(?:(?!\*)<inner>)+\*)+\*\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:n(/\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\b|\*(?:(?!\*)<inner>|\*\*(?:(?!\*)<inner>)+\*\*)+\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:n(/(~~?)(?:(?!~)<inner>)+\2/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},"code-snippet":{pattern:/(^|[^\\`])(?:``[^`\r\n]+(?:`[^`\r\n]+)*``(?!`)|`[^`\r\n]+`(?!`))/,lookbehind:!0,greedy:!0,alias:["code","keyword"]},url:{pattern:n(/!?\[(?:(?!\])<inner>)+\](?:\([^\s)]+(?:[\t ]+"(?:\\.|[^"\\])*")?\)|[ \t]?\[(?:(?!\])<inner>)+\])/.source),lookbehind:!0,greedy:!0,inside:{operator:/^!/,content:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},variable:{pattern:/(^\][ \t]?\[)[^\]]+(?=\]$)/,lookbehind:!0},url:{pattern:/(^\]\()[^\s)]+/,lookbehind:!0},string:{pattern:/(^[ \t]+)"(?:\\.|[^"\\])*"(?=\)$)/,lookbehind:!0}}}}),["url","bold","italic","strike"].forEach((function(e){["url","bold","italic","strike","code-snippet"].forEach((function(n){e!==n&&(t.languages.markdown[e].inside.content.inside[n]=t.languages.markdown[n])}))})),t.hooks.add("after-tokenize",(function(t){"markdown"!==t.language&&"md"!==t.language||function t(e){if(e&&"string"!=typeof e)for(var n=0,r=e.length;n<r;n++){var i=e[n];if("code"===i.type){var o=i.content[1],a=i.content[3];if(o&&a&&"code-language"===o.type&&"code-block"===a.type&&"string"==typeof o.content){var s=o.content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp"),l="language-"+(s=(/[a-z][\w-]*/i.exec(s)||[""])[0].toLowerCase());a.alias?"string"==typeof a.alias?a.alias=[a.alias,l]:a.alias.push(l):a.alias=[l]}}else t(i.content)}}(t.tokens)})),t.hooks.add("wrap",(function(e){if("code-block"===e.type){for(var n="",r=0,i=e.classes.length;r<i;r++){var o=e.classes[r],c=/language-(.+)/.exec(o);if(c){n=c[1];break}}var u,h,d=t.languages[n];if(d)e.content=t.highlight((u=e.content.value,h=(h=u.replace(a,"")).replace(/&(\w{1,8}|#x?[\da-f]{1,8});/gi,(function(t,e){var n;if("#"===(e=e.toLowerCase())[0])return n="x"===e[1]?parseInt(e.slice(2),16):Number(e.slice(1)),l(n);var r=s[e];return r||t})),h),d,n);else if(n&&"none"!==n&&t.plugins.autoloader){var f="md-"+(new Date).valueOf()+"-"+Math.floor(1e16*Math.random());e.attributes.id=f,t.plugins.autoloader.loadLanguages(n,(function(){var e=document.getElementById(f);e&&(e.innerHTML=t.highlight(e.textContent,t.languages[n],n))}))}}}));var a=RegExp(t.languages.markup.tag.pattern.source,"gi"),s={amp:"&",lt:"<",gt:">",quot:'"'},l=String.fromCodePoint||String.fromCharCode;t.languages.md=t.languages.markdown}(t)}function _r(t){t.register(nr),t.languages.objectivec=t.languages.extend("c",{string:{pattern:/@?"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},keyword:/\b(?:asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|in|inline|int|long|register|return|self|short|signed|sizeof|static|struct|super|switch|typedef|typeof|union|unsigned|void|volatile|while)\b|(?:@interface|@end|@implementation|@protocol|@class|@public|@protected|@private|@property|@try|@catch|@finally|@throw|@synthesize|@dynamic|@selector)\b/,operator:/-[->]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|\|?|[~^%?*\/@]/}),delete t.languages.objectivec["class-name"],t.languages.objc=t.languages.objectivec}function kr(t){var e;e=/(?:\((?:[^()\\]|\\[\s\S])*\)|\{(?:[^{}\\]|\\[\s\S])*\}|\[(?:[^[\]\\]|\\[\s\S])*\]|<(?:[^<>\\]|\\[\s\S])*>)/.source,t.languages.perl={comment:[{pattern:/(^\s*)=\w[\s\S]*?=cut.*/m,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\$])#.*/,lookbehind:!0,greedy:!0}],string:[{pattern:RegExp(/\b(?:q|qq|qw|qx)(?![a-zA-Z0-9])\s*/.source+"(?:"+[/([^a-zA-Z0-9\s{(\[<])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/([a-zA-Z0-9])(?:(?!\2)[^\\]|\\[\s\S])*\2/.source,e].join("|")+")"),greedy:!0},{pattern:/("|`)(?:(?!\1)[^\\]|\\[\s\S])*\1/,greedy:!0},{pattern:/'(?:[^'\\\r\n]|\\.)*'/,greedy:!0}],regex:[{pattern:RegExp(/\b(?:m|qr)(?![a-zA-Z0-9])\s*/.source+"(?:"+[/([^a-zA-Z0-9\s{(\[<])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/([a-zA-Z0-9])(?:(?!\2)[^\\]|\\[\s\S])*\2/.source,e].join("|")+")"+/[msixpodualngc]*/.source),greedy:!0},{pattern:RegExp(/(^|[^-])\b(?:s|tr|y)(?![a-zA-Z0-9])\s*/.source+"(?:"+[/([^a-zA-Z0-9\s{(\[<])(?:(?!\2)[^\\]|\\[\s\S])*\2(?:(?!\2)[^\\]|\\[\s\S])*\2/.source,/([a-zA-Z0-9])(?:(?!\3)[^\\]|\\[\s\S])*\3(?:(?!\3)[^\\]|\\[\s\S])*\3/.source,e+/\s*/.source+e].join("|")+")"+/[msixpodualngcer]*/.source),lookbehind:!0,greedy:!0},{pattern:/\/(?:[^\/\\\r\n]|\\.)*\/[msixpodualngc]*(?=\s*(?:$|[\r\n,.;})&|\-+*~<>!?^]|(?:and|cmp|eq|ge|gt|le|lt|ne|not|or|x|xor)\b))/,greedy:!0}],variable:[/[&*$@%]\{\^[A-Z]+\}/,/[&*$@%]\^[A-Z_]/,/[&*$@%]#?(?=\{)/,/[&*$@%]#?(?:(?:::)*'?(?!\d)[\w$]+(?![\w$]))+(?:::)*/,/[&*$@%]\d+/,/(?!%=)[$@%][!"#$%&'()*+,\-.\/:;<=>?@[\\\]^_`{|}~]/],filehandle:{pattern:/<(?![<=])\S*?>|\b_\b/,alias:"symbol"},"v-string":{pattern:/v\d+(?:\.\d+)*|\d+(?:\.\d+){2,}/,alias:"string"},function:{pattern:/(\bsub[ \t]+)\w+/,lookbehind:!0},keyword:/\b(?:any|break|continue|default|delete|die|do|else|elsif|eval|for|foreach|given|goto|if|last|local|my|next|our|package|print|redo|require|return|say|state|sub|switch|undef|unless|until|use|when|while)\b/,number:/\b(?:0x[\dA-Fa-f](?:_?[\dA-Fa-f])*|0b[01](?:_?[01])*|(?:(?:\d(?:_?\d)*)?\.)?\d(?:_?\d)*(?:[Ee][+-]?\d+)?)\b/,operator:/-[rwxoRWXOezsfdlpSbctugkTBMAC]\b|\+[+=]?|-[-=>]?|\*\*?=?|\/\/?=?|=[=~>]?|~[~=]?|\|\|?=?|&&?=?|<(?:=>?|<=?)?|>>?=?|![~=]?|[%^]=?|\.(?:=|\.\.?)?|[\\?]|\bx(?:=|\b)|\b(?:and|cmp|eq|ge|gt|le|lt|ne|not|or|xor)\b/,punctuation:/[{}[\];(),:]/}}function Er(t){t.register(sr),function(t){function e(t,e){return"___"+t.toUpperCase()+e+"___"}Object.defineProperties(t.languages["markup-templating"]={},{buildPlaceholders:{value:function(n,r,i,o){if(n.language===r){var a=n.tokenStack=[];n.code=n.code.replace(i,(function(t){if("function"==typeof o&&!o(t))return t;for(var i,s=a.length;-1!==n.code.indexOf(i=e(r,s));)++s;return a[s]=t,i})),n.grammar=t.languages.markup}}},tokenizePlaceholders:{value:function(n,r){if(n.language===r&&n.tokenStack){n.grammar=t.languages[r];var i=0,o=Object.keys(n.tokenStack);!function a(s){for(var l=0;l<s.length&&!(i>=o.length);l++){var c=s[l];if("string"==typeof c||c.content&&"string"==typeof c.content){var u=o[i],h=n.tokenStack[u],d="string"==typeof c?c:c.content,f=e(r,u),p=d.indexOf(f);if(p>-1){++i;var g=d.substring(0,p),m=new t.Token(r,t.tokenize(h,n.grammar),"language-"+r,h),y=d.substring(p+f.length),v=[];g&&v.push.apply(v,a([g])),v.push(m),y&&v.push.apply(v,a([y])),"string"==typeof c?s.splice.apply(s,[l,1].concat(v)):c.content=v}}else c.content&&a(c.content)}return s}(n.tokens)}}}})}(t)}function Cr(t){t.register(Er),function(t){var e=/\/\*[\s\S]*?\*\/|\/\/.*|#(?!\[).*/,n=[{pattern:/\b(?:false|true)\b/i,alias:"boolean"},{pattern:/(::\s*)\b[a-z_]\w*\b(?!\s*\()/i,greedy:!0,lookbehind:!0},{pattern:/(\b(?:case|const)\s+)\b[a-z_]\w*(?=\s*[;=])/i,greedy:!0,lookbehind:!0},/\b(?:null)\b/i,/\b[A-Z_][A-Z0-9_]*\b(?!\s*\()/],r=/\b0b[01]+(?:_[01]+)*\b|\b0o[0-7]+(?:_[0-7]+)*\b|\b0x[\da-f]+(?:_[\da-f]+)*\b|(?:\b\d+(?:_\d+)*\.?(?:\d+(?:_\d+)*)?|\B\.\d+)(?:e[+-]?\d+)?/i,i=/<?=>|\?\?=?|\.{3}|\??->|[!=]=?=?|::|\*\*=?|--|\+\+|&&|\|\||<<|>>|[?~]|[/^|%*&<>.+-]=?/,o=/[{}\[\](),:;]/;t.languages.php={delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"},comment:e,variable:/\$+(?:\w+\b|(?=\{))/,package:{pattern:/(namespace\s+|use\s+(?:function\s+)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,lookbehind:!0,inside:{punctuation:/\\/}},"class-name-definition":{pattern:/(\b(?:class|enum|interface|trait)\s+)\b[a-z_]\w*(?!\\)\b/i,lookbehind:!0,alias:"class-name"},"function-definition":{pattern:/(\bfunction\s+)[a-z_]\w*(?=\s*\()/i,lookbehind:!0,alias:"function"},keyword:[{pattern:/(\(\s*)\b(?:array|bool|boolean|float|int|integer|object|string)\b(?=\s*\))/i,alias:"type-casting",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|object|self|static|string)\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|never|object|self|static|string|void)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/\b(?:array(?!\s*\()|bool|float|int|iterable|mixed|object|string|void)\b/i,alias:"type-declaration",greedy:!0},{pattern:/(\|\s*)(?:false|null)\b|\b(?:false|null)(?=\s*\|)/i,alias:"type-declaration",greedy:!0,lookbehind:!0},{pattern:/\b(?:parent|self|static)(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(\byield\s+)from\b/i,lookbehind:!0},/\bclass\b/i,{pattern:/((?:^|[^\s>:]|(?:^|[^-])>|(?:^|[^:]):)\s*)\b(?:abstract|and|array|as|break|callable|case|catch|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|enum|eval|exit|extends|final|finally|fn|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|match|namespace|never|new|or|parent|print|private|protected|public|readonly|require|require_once|return|self|static|switch|throw|trait|try|unset|use|var|while|xor|yield|__halt_compiler)\b/i,lookbehind:!0}],"argument-name":{pattern:/([(,]\s*)\b[a-z_]\w*(?=\s*:(?!:))/i,lookbehind:!0},"class-name":[{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self|\s+static))\s+|\bcatch\s*\()\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/(\|\s*)\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/\b[a-z_]\w*(?!\\)\b(?=\s*\|)/i,greedy:!0},{pattern:/(\|\s*)(?:\\?\b[a-z_]\w*)+\b/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(?:\\?\b[a-z_]\w*)+\b(?=\s*\|)/i,alias:"class-name-fully-qualified",greedy:!0,inside:{punctuation:/\\/}},{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self\b|\s+static\b))\s+|\bcatch\s*\()(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*\$)/i,alias:"type-declaration",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-declaration"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*::)/i,alias:["class-name-fully-qualified","static-context"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/([(,?]\s*)[a-z_]\w*(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-hint"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b[a-z_]\w*(?!\\)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:["class-name-fully-qualified","return-type"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:n,function:{pattern:/(^|[^\\\w])\\?[a-z_](?:[\w\\]*\w)?(?=\s*\()/i,lookbehind:!0,inside:{punctuation:/\\/}},property:{pattern:/(->\s*)\w+/,lookbehind:!0},number:r,operator:i,punctuation:o};var a={pattern:/\{\$(?:\{(?:\{[^{}]+\}|[^{}]+)\}|[^{}])+\}|(^|[^\\{])\$+(?:\w+(?:\[[^\r\n\[\]]+\]|->\w+)?)/,lookbehind:!0,inside:t.languages.php},s=[{pattern:/<<<'([^']+)'[\r\n](?:.*[\r\n])*?\1;/,alias:"nowdoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},{pattern:/<<<(?:"([^"]+)"[\r\n](?:.*[\r\n])*?\1;|([a-z_]\w*)[\r\n](?:.*[\r\n])*?\2;)/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:a}},{pattern:/`(?:\\[\s\S]|[^\\`])*`/,alias:"backtick-quoted-string",greedy:!0},{pattern:/'(?:\\[\s\S]|[^\\'])*'/,alias:"single-quoted-string",greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,alias:"double-quoted-string",greedy:!0,inside:{interpolation:a}}];t.languages.insertBefore("php","variable",{string:s,attribute:{pattern:/#\[(?:[^"'\/#]|\/(?![*/])|\/\/.*$|#(?!\[).*$|\/\*(?:[^*]|\*(?!\/))*\*\/|"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*')+\](?=\s*[a-z$#])/im,greedy:!0,inside:{"attribute-content":{pattern:/^(#\[)[\s\S]+(?=\]$)/,lookbehind:!0,inside:{comment:e,string:s,"attribute-class-name":[{pattern:/([^:]|^)\b[a-z_]\w*(?!\\)\b/i,alias:"class-name",greedy:!0,lookbehind:!0},{pattern:/([^:]|^)(?:\\?\b[a-z_]\w*)+/i,alias:["class-name","class-name-fully-qualified"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:n,number:r,operator:i,punctuation:o}},delimiter:{pattern:/^#\[|\]$/,alias:"punctuation"}}}}),t.hooks.add("before-tokenize",(function(e){if(/<\?/.test(e.code)){t.languages["markup-templating"].buildPlaceholders(e,"php",/<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#(?!\[))(?:[^?\n\r]|\?(?!>))*(?=$|\?>|[\r\n])|#\[|\/\*(?:[^*]|\*(?!\/))*(?:\*\/|$))*?(?:\?>|$)/g)}})),t.hooks.add("after-tokenize",(function(e){t.languages["markup-templating"].tokenizePlaceholders(e,"php")}))}(t)}function Sr(t){t.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},t.languages.python["string-interpolation"].inside.interpolation.inside.rest=t.languages.python,t.languages.py=t.languages.python}function Dr(t){t.languages.r={comment:/#.*/,string:{pattern:/(['"])(?:\\.|(?!\1)[^\\\r\n])*\1/,greedy:!0},"percent-operator":{pattern:/%[^%\s]*%/,alias:"operator"},boolean:/\b(?:FALSE|TRUE)\b/,ellipsis:/\.\.(?:\.|\d+)/,number:[/\b(?:Inf|NaN)\b/,/(?:\b0x[\dA-Fa-f]+(?:\.\d*)?|\b\d+(?:\.\d*)?|\B\.\d+)(?:[EePp][+-]?\d+)?[iL]?/],keyword:/\b(?:NA|NA_character_|NA_complex_|NA_integer_|NA_real_|NULL|break|else|for|function|if|in|next|repeat|while)\b/,operator:/->?>?|<(?:=|<?-)?|[>=!]=?|::?|&&?|\|\|?|[+*\/^$@~]/,punctuation:/[(){}\[\],;]/}}function Tr(t){t.register(er),function(t){t.languages.ruby=t.languages.extend("clike",{comment:{pattern:/#.*|^=begin\s[\s\S]*?^=end/m,greedy:!0},"class-name":{pattern:/(\b(?:class|module)\s+|\bcatch\s+\()[\w.\\]+|\b[A-Z_]\w*(?=\s*\.\s*new\b)/,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:BEGIN|END|alias|and|begin|break|case|class|def|define_method|defined|do|each|else|elsif|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|private|protected|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\b/,operator:/\.{2,3}|&\.|===|<?=>|[!=]?~|(?:&&|\|\||<<|>>|\*\*|[+\-*/%<>!^&|=])=?|[?:]/,punctuation:/[(){}[\].,;]/}),t.languages.insertBefore("ruby","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}});var e={pattern:/((?:^|[^\\])(?:\\{2})*)#\{(?:[^{}]|\{[^{}]*\})*\}/,lookbehind:!0,inside:{content:{pattern:/^(#\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:t.languages.ruby},delimiter:{pattern:/^#\{|\}$/,alias:"punctuation"}}};delete t.languages.ruby.function;var n="(?:"+[/([^a-zA-Z0-9\s{(\[<=])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S]|\((?:[^()\\]|\\[\s\S])*\))*\)/.source,/\{(?:[^{}\\]|\\[\s\S]|\{(?:[^{}\\]|\\[\s\S])*\})*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S]|\[(?:[^\[\]\\]|\\[\s\S])*\])*\]/.source,/<(?:[^<>\\]|\\[\s\S]|<(?:[^<>\\]|\\[\s\S])*>)*>/.source].join("|")+")",r=/(?:"(?:\\.|[^"\\\r\n])*"|(?:\b[a-zA-Z_]\w*|[^\s\0-\x7F]+)[?!]?|\$.)/.source;t.languages.insertBefore("ruby","keyword",{"regex-literal":[{pattern:RegExp(/%r/.source+n+/[egimnosux]{0,6}/.source),greedy:!0,inside:{interpolation:e,regex:/[\s\S]+/}},{pattern:/(^|[^/])\/(?!\/)(?:\[[^\r\n\]]+\]|\\.|[^[/\\\r\n])+\/[egimnosux]{0,6}(?=\s*(?:$|[\r\n,.;})#]))/,lookbehind:!0,greedy:!0,inside:{interpolation:e,regex:/[\s\S]+/}}],variable:/[@$]+[a-zA-Z_]\w*(?:[?!]|\b)/,symbol:[{pattern:RegExp(/(^|[^:]):/.source+r),lookbehind:!0,greedy:!0},{pattern:RegExp(/([\r\n{(,][ \t]*)/.source+r+/(?=:(?!:))/.source),lookbehind:!0,greedy:!0}],"method-definition":{pattern:/(\bdef\s+)\w+(?:\s*\.\s*\w+)?/,lookbehind:!0,inside:{function:/\b\w+$/,keyword:/^self\b/,"class-name":/^\w+/,punctuation:/\./}}}),t.languages.insertBefore("ruby","string",{"string-literal":[{pattern:RegExp(/%[qQiIwWs]?/.source+n),greedy:!0,inside:{interpolation:e,string:/[\s\S]+/}},{pattern:/("|')(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|(?!\1)[^\\#\r\n])*\1/,greedy:!0,inside:{interpolation:e,string:/[\s\S]+/}},{pattern:/<<[-~]?([a-z_]\w*)[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?[a-z_]\w*|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?/}},interpolation:e,string:/[\s\S]+/}},{pattern:/<<[-~]?'([a-z_]\w*)'[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?'[a-z_]\w*'|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?'|'$/}},string:/[\s\S]+/}}],"command-literal":[{pattern:RegExp(/%x/.source+n),greedy:!0,inside:{interpolation:e,command:{pattern:/[\s\S]+/,alias:"string"}}},{pattern:/`(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|[^\\`#\r\n])*`/,greedy:!0,inside:{interpolation:e,command:{pattern:/[\s\S]+/,alias:"string"}}}]}),delete t.languages.ruby.string,t.languages.insertBefore("ruby","number",{builtin:/\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Fixnum|Float|Hash|IO|Integer|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|Stat|String|Struct|Symbol|TMS|Thread|ThreadGroup|Time|TrueClass)\b/,constant:/\b[A-Z][A-Z0-9_]*(?:[?!]|\b)/}),t.languages.rb=t.languages.ruby}(t)}function Ar(t){!function(t){for(var e=/\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|<self>)*\*\//.source,n=0;n<2;n++)e=e.replace(/<self>/g,(function(){return e}));e=e.replace(/<self>/g,(function(){return/[^\s\S]/.source})),t.languages.rust={comment:[{pattern:RegExp(/(^|[^\\])/.source+e),lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/b?"(?:\\[\s\S]|[^\\"])*"|b?r(#*)"(?:[^"]|"(?!\1))*"\1/,greedy:!0},char:{pattern:/b?'(?:\\(?:x[0-7][\da-fA-F]|u\{(?:[\da-fA-F]_*){1,6}\}|.)|[^\\\r\n\t'])'/,greedy:!0},attribute:{pattern:/#!?\[(?:[^\[\]"]|"(?:\\[\s\S]|[^\\"])*")*\]/,greedy:!0,alias:"attr-name",inside:{string:null}},"closure-params":{pattern:/([=(,:]\s*|\bmove\s*)\|[^|]*\||\|[^|]*\|(?=\s*(?:\{|->))/,lookbehind:!0,greedy:!0,inside:{"closure-punctuation":{pattern:/^\||\|$/,alias:"punctuation"},rest:null}},"lifetime-annotation":{pattern:/'\w+/,alias:"symbol"},"fragment-specifier":{pattern:/(\$\w+:)[a-z]+/,lookbehind:!0,alias:"punctuation"},variable:/\$\w+/,"function-definition":{pattern:/(\bfn\s+)\w+/,lookbehind:!0,alias:"function"},"type-definition":{pattern:/(\b(?:enum|struct|trait|type|union)\s+)\w+/,lookbehind:!0,alias:"class-name"},"module-declaration":[{pattern:/(\b(?:crate|mod)\s+)[a-z][a-z_\d]*/,lookbehind:!0,alias:"namespace"},{pattern:/(\b(?:crate|self|super)\s*)::\s*[a-z][a-z_\d]*\b(?:\s*::(?:\s*[a-z][a-z_\d]*\s*::)*)?/,lookbehind:!0,alias:"namespace",inside:{punctuation:/::/}}],keyword:[/\b(?:Self|abstract|as|async|await|become|box|break|const|continue|crate|do|dyn|else|enum|extern|final|fn|for|if|impl|in|let|loop|macro|match|mod|move|mut|override|priv|pub|ref|return|self|static|struct|super|trait|try|type|typeof|union|unsafe|unsized|use|virtual|where|while|yield)\b/,/\b(?:bool|char|f(?:32|64)|[ui](?:8|16|32|64|128|size)|str)\b/],function:/\b[a-z_]\w*(?=\s*(?:::\s*<|\())/,macro:{pattern:/\b\w+!/,alias:"property"},constant:/\b[A-Z_][A-Z_\d]+\b/,"class-name":/\b[A-Z]\w*\b/,namespace:{pattern:/(?:\b[a-z][a-z_\d]*\s*::\s*)*\b[a-z][a-z_\d]*\s*::(?!\s*<)/,inside:{punctuation:/::/}},number:/\b(?:0x[\dA-Fa-f](?:_?[\dA-Fa-f])*|0o[0-7](?:_?[0-7])*|0b[01](?:_?[01])*|(?:(?:\d(?:_?\d)*)?\.)?\d(?:_?\d)*(?:[Ee][+-]?\d+)?)(?:_?(?:f32|f64|[iu](?:8|16|32|64|size)?))?\b/,boolean:/\b(?:false|true)\b/,punctuation:/->|\.\.=|\.{1,3}|::|[{}[\];(),:]/,operator:/[-+*\/%!^]=?|=[=>]?|&[&=]?|\|[|=]?|<<?=?|>>?=?|[@?]/},t.languages.rust["closure-params"].inside.rest=t.languages.rust,t.languages.rust.attribute.inside.string=t.languages.rust.string}(t)}function Mr(t){t.register(lr),function(t){t.languages.sass=t.languages.extend("css",{comment:{pattern:/^([ \t]*)\/[\/*].*(?:(?:\r?\n|\r)\1[ \t].+)*/m,lookbehind:!0,greedy:!0}}),t.languages.insertBefore("sass","atrule",{"atrule-line":{pattern:/^(?:[ \t]*)[@+=].+/m,greedy:!0,inside:{atrule:/(?:@[\w-]+|[+=])/}}}),delete t.languages.sass.atrule;var e=/\$[-\w]+|#\{\$[-\w]+\}/,n=[/[+*\/%]|[=!]=|<=?|>=?|\b(?:and|not|or)\b/,{pattern:/(\s)-(?=\s)/,lookbehind:!0}];t.languages.insertBefore("sass","property",{"variable-line":{pattern:/^[ \t]*\$.+/m,greedy:!0,inside:{punctuation:/:/,variable:e,operator:n}},"property-line":{pattern:/^[ \t]*(?:[^:\s]+ *:.*|:[^:\s].*)/m,greedy:!0,inside:{property:[/[^:\s]+(?=\s*:)/,{pattern:/(:)[^:\s]+/,lookbehind:!0}],punctuation:/:/,variable:e,operator:n,important:t.languages.sass.important}}}),delete t.languages.sass.property,delete t.languages.sass.important,t.languages.insertBefore("sass","punctuation",{selector:{pattern:/^([ \t]*)\S(?:,[^,\r\n]+|[^,\r\n]*)(?:,[^,\r\n]+)*(?:,(?:\r?\n|\r)\1[ \t]+\S(?:,[^,\r\n]+|[^,\r\n]*)(?:,[^,\r\n]+)*)*/m,lookbehind:!0,greedy:!0}})}(t)}function Nr(t){t.register(lr),t.languages.scss=t.languages.extend("css",{comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0},atrule:{pattern:/@[\w-](?:\([^()]+\)|[^()\s]|\s+(?!\s))*?(?=\s+[{;])/,inside:{rule:/@[\w-]+/}},url:/(?:[-a-z]+-)?url(?=\()/i,selector:{pattern:/(?=\S)[^@;{}()]?(?:[^@;{}()\s]|\s+(?!\s)|#\{\$[-\w]+\})+(?=\s*\{(?:\}|\s|[^}][^:{}]*[:{][^}]))/,inside:{parent:{pattern:/&/,alias:"important"},placeholder:/%[-\w]+/,variable:/\$[-\w]+|#\{\$[-\w]+\}/}},property:{pattern:/(?:[-\w]|\$[-\w]|#\{\$[-\w]+\})+(?=\s*:)/,inside:{variable:/\$[-\w]+|#\{\$[-\w]+\}/}}}),t.languages.insertBefore("scss","atrule",{keyword:[/@(?:content|debug|each|else(?: if)?|extend|for|forward|function|if|import|include|mixin|return|use|warn|while)\b/i,{pattern:/( )(?:from|through)(?= )/,lookbehind:!0}]}),t.languages.insertBefore("scss","important",{variable:/\$[-\w]+|#\{\$[-\w]+\}/}),t.languages.insertBefore("scss","function",{"module-modifier":{pattern:/\b(?:as|hide|show|with)\b/i,alias:"keyword"},placeholder:{pattern:/%[-\w]+/,alias:"selector"},statement:{pattern:/\B!(?:default|optional)\b/i,alias:"keyword"},boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"},operator:{pattern:/(\s)(?:[-+*\/%]|[=!]=|<=?|>=?|and|not|or)(?=\s)/,lookbehind:!0}}),t.languages.scss.atrule.inside.rest=t.languages.scss}function Or(t){t.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},identifier:{pattern:/(^|[^@\\])`(?:\\[\s\S]|[^`\\]|``)*`/,greedy:!0,lookbehind:!0,inside:{punctuation:/^`|`$/}},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:COL|_INSERT)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:ING|S)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|DIV|ILIKE|IN|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/}}function Fr(t){t.languages.swift={comment:{pattern:/(^|[^\\:])(?:\/\/.*|\/\*(?:[^/*]|\/(?!\*)|\*(?!\/)|\/\*(?:[^*]|\*(?!\/))*\*\/)*\*\/)/,lookbehind:!0,greedy:!0},"string-literal":[{pattern:RegExp(/(^|[^"#])/.source+"(?:"+/"(?:\\(?:\((?:[^()]|\([^()]*\))*\)|\r\n|[^(])|[^\\\r\n"])*"/.source+"|"+/"""(?:\\(?:\((?:[^()]|\([^()]*\))*\)|[^(])|[^\\"]|"(?!""))*"""/.source+")"+/(?!["#])/.source),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\\($/,alias:"punctuation"},punctuation:/\\(?=[\r\n])/,string:/[\s\S]+/}},{pattern:RegExp(/(^|[^"#])(#+)/.source+"(?:"+/"(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|\r\n|[^#])|[^\\\r\n])*?"/.source+"|"+/"""(?:\\(?:#+\((?:[^()]|\([^()]*\))*\)|[^#])|[^\\])*?"""/.source+")\\2"),lookbehind:!0,greedy:!0,inside:{interpolation:{pattern:/(\\#+\()(?:[^()]|\([^()]*\))*(?=\))/,lookbehind:!0,inside:null},"interpolation-punctuation":{pattern:/^\)|\\#+\($/,alias:"punctuation"},string:/[\s\S]+/}}],directive:{pattern:RegExp(/#/.source+"(?:"+/(?:elseif|if)\b/.source+"(?:[ \t]*"+/(?:![ \t]*)?(?:\b\w+\b(?:[ \t]*\((?:[^()]|\([^()]*\))*\))?|\((?:[^()]|\([^()]*\))*\))(?:[ \t]*(?:&&|\|\|))?/.source+")+|"+/(?:else|endif)\b/.source+")"),alias:"property",inside:{"directive-name":/^#\w+/,boolean:/\b(?:false|true)\b/,number:/\b\d+(?:\.\d+)*\b/,operator:/!|&&|\|\||[<>]=?/,punctuation:/[(),]/}},literal:{pattern:/#(?:colorLiteral|column|dsohandle|file(?:ID|Literal|Path)?|function|imageLiteral|line)\b/,alias:"constant"},"other-directive":{pattern:/#\w+\b/,alias:"property"},attribute:{pattern:/@\w+/,alias:"atrule"},"function-definition":{pattern:/(\bfunc\s+)\w+/,lookbehind:!0,alias:"function"},label:{pattern:/\b(break|continue)\s+\w+|\b[a-zA-Z_]\w*(?=\s*:\s*(?:for|repeat|while)\b)/,lookbehind:!0,alias:"important"},keyword:/\b(?:Any|Protocol|Self|Type|actor|as|assignment|associatedtype|associativity|async|await|break|case|catch|class|continue|convenience|default|defer|deinit|didSet|do|dynamic|else|enum|extension|fallthrough|fileprivate|final|for|func|get|guard|higherThan|if|import|in|indirect|infix|init|inout|internal|is|isolated|lazy|left|let|lowerThan|mutating|none|nonisolated|nonmutating|open|operator|optional|override|postfix|precedencegroup|prefix|private|protocol|public|repeat|required|rethrows|return|right|safe|self|set|some|static|struct|subscript|super|switch|throw|throws|try|typealias|unowned|unsafe|var|weak|where|while|willSet)\b/,boolean:/\b(?:false|true)\b/,nil:{pattern:/\bnil\b/,alias:"constant"},"short-argument":/\$\d+\b/,omit:{pattern:/\b_\b/,alias:"keyword"},number:/\b(?:[\d_]+(?:\.[\de_]+)?|0x[a-f0-9_]+(?:\.[a-f0-9p_]+)?|0b[01_]+|0o[0-7_]+)\b/i,"class-name":/\b[A-Z](?:[A-Z_\d]*[a-z]\w*)?\b/,function:/\b[a-z_]\w*(?=\s*\()/i,constant:/\b(?:[A-Z_]{2,}|k[A-Z][A-Za-z_]+)\b/,operator:/[-+*/%=!<>&|^~?]+|\.[.\-+*/%=!<>&|^~?]+/,punctuation:/[{}[\]();,.:\\]/},t.languages.swift["string-literal"].forEach((function(e){e.inside.interpolation.inside=t.languages.swift}))}function Ir(t){t.register(pr),function(t){t.languages.typescript=t.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),t.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete t.languages.typescript.parameter,delete t.languages.typescript["literal-property"];var e=t.languages.extend("typescript",{});delete e["class-name"],t.languages.typescript["class-name"].inside=e,t.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:e}}}}),t.languages.ts=t.languages.typescript}(t)}function Lr(t){t.languages.basic={comment:{pattern:/(?:!|REM\b).+/i,inside:{keyword:/^REM/i}},string:{pattern:/"(?:""|[!#$%&'()*,\/:;<=>?^\w +\-.])*"/,greedy:!0},number:/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:E[+-]?\d+)?/i,keyword:/\b(?:AS|BEEP|BLOAD|BSAVE|CALL(?: ABSOLUTE)?|CASE|CHAIN|CHDIR|CLEAR|CLOSE|CLS|COM|COMMON|CONST|DATA|DECLARE|DEF(?: FN| SEG|DBL|INT|LNG|SNG|STR)|DIM|DO|DOUBLE|ELSE|ELSEIF|END|ENVIRON|ERASE|ERROR|EXIT|FIELD|FILES|FOR|FUNCTION|GET|GOSUB|GOTO|IF|INPUT|INTEGER|IOCTL|KEY|KILL|LINE INPUT|LOCATE|LOCK|LONG|LOOP|LSET|MKDIR|NAME|NEXT|OFF|ON(?: COM| ERROR| KEY| TIMER)?|OPEN|OPTION BASE|OUT|POKE|PUT|READ|REDIM|REM|RESTORE|RESUME|RETURN|RMDIR|RSET|RUN|SELECT CASE|SHARED|SHELL|SINGLE|SLEEP|STATIC|STEP|STOP|STRING|SUB|SWAP|SYSTEM|THEN|TIMER|TO|TROFF|TRON|TYPE|UNLOCK|UNTIL|USING|VIEW PRINT|WAIT|WEND|WHILE|WRITE)(?:\$|\b)/i,function:/\b(?:ABS|ACCESS|ACOS|ANGLE|AREA|ARITHMETIC|ARRAY|ASIN|ASK|AT|ATN|BASE|BEGIN|BREAK|CAUSE|CEIL|CHR|CLIP|COLLATE|COLOR|CON|COS|COSH|COT|CSC|DATE|DATUM|DEBUG|DECIMAL|DEF|DEG|DEGREES|DELETE|DET|DEVICE|DISPLAY|DOT|ELAPSED|EPS|ERASABLE|EXLINE|EXP|EXTERNAL|EXTYPE|FILETYPE|FIXED|FP|GO|GRAPH|HANDLER|IDN|IMAGE|IN|INT|INTERNAL|IP|IS|KEYED|LBOUND|LCASE|LEFT|LEN|LENGTH|LET|LINE|LINES|LOG|LOG10|LOG2|LTRIM|MARGIN|MAT|MAX|MAXNUM|MID|MIN|MISSING|MOD|NATIVE|NUL|NUMERIC|OF|OPTION|ORD|ORGANIZATION|OUTIN|OUTPUT|PI|POINT|POINTER|POINTS|POS|PRINT|PROGRAM|PROMPT|RAD|RADIANS|RANDOMIZE|RECORD|RECSIZE|RECTYPE|RELATIVE|REMAINDER|REPEAT|REST|RETRY|REWRITE|RIGHT|RND|ROUND|RTRIM|SAME|SEC|SELECT|SEQUENTIAL|SET|SETTER|SGN|SIN|SINH|SIZE|SKIP|SQR|STANDARD|STATUS|STR|STREAM|STYLE|TAB|TAN|TANH|TEMPLATE|TEXT|THERE|TIME|TIMEOUT|TRACE|TRANSFORM|TRUNCATE|UBOUND|UCASE|USE|VAL|VARIABLE|VIEWPORT|WHEN|WINDOW|WITH|ZER|ZONEWIDTH)(?:\$|\b)/i,operator:/<[=>]?|>=?|[+\-*\/^=&]|\b(?:AND|EQV|IMP|NOT|OR|XOR)\b/i,punctuation:/[,;:()]/}}function Br(t){t.register(Lr),t.languages.vbnet=t.languages.extend("basic",{comment:[{pattern:/(?:!|REM\b).+/i,inside:{keyword:/^REM/i}},{pattern:/(^|[^\\:])'.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(^|[^"])"(?:""|[^"])*"(?!")/,lookbehind:!0,greedy:!0},keyword:/(?:\b(?:ADDHANDLER|ADDRESSOF|ALIAS|AND|ANDALSO|AS|BEEP|BLOAD|BOOLEAN|BSAVE|BYREF|BYTE|BYVAL|CALL(?: ABSOLUTE)?|CASE|CATCH|CBOOL|CBYTE|CCHAR|CDATE|CDBL|CDEC|CHAIN|CHAR|CHDIR|CINT|CLASS|CLEAR|CLNG|CLOSE|CLS|COBJ|COM|COMMON|CONST|CONTINUE|CSBYTE|CSHORT|CSNG|CSTR|CTYPE|CUINT|CULNG|CUSHORT|DATA|DATE|DECIMAL|DECLARE|DEF(?: FN| SEG|DBL|INT|LNG|SNG|STR)|DEFAULT|DELEGATE|DIM|DIRECTCAST|DO|DOUBLE|ELSE|ELSEIF|END|ENUM|ENVIRON|ERASE|ERROR|EVENT|EXIT|FALSE|FIELD|FILES|FINALLY|FOR(?: EACH)?|FRIEND|FUNCTION|GET|GETTYPE|GETXMLNAMESPACE|GLOBAL|GOSUB|GOTO|HANDLES|IF|IMPLEMENTS|IMPORTS|IN|INHERITS|INPUT|INTEGER|INTERFACE|IOCTL|IS|ISNOT|KEY|KILL|LET|LIB|LIKE|LINE INPUT|LOCATE|LOCK|LONG|LOOP|LSET|ME|MKDIR|MOD|MODULE|MUSTINHERIT|MUSTOVERRIDE|MYBASE|MYCLASS|NAME|NAMESPACE|NARROWING|NEW|NEXT|NOT|NOTHING|NOTINHERITABLE|NOTOVERRIDABLE|OBJECT|OF|OFF|ON(?: COM| ERROR| KEY| TIMER)?|OPEN|OPERATOR|OPTION(?: BASE)?|OPTIONAL|OR|ORELSE|OUT|OVERLOADS|OVERRIDABLE|OVERRIDES|PARAMARRAY|PARTIAL|POKE|PRIVATE|PROPERTY|PROTECTED|PUBLIC|PUT|RAISEEVENT|READ|READONLY|REDIM|REM|REMOVEHANDLER|RESTORE|RESUME|RETURN|RMDIR|RSET|RUN|SBYTE|SELECT(?: CASE)?|SET|SHADOWS|SHARED|SHELL|SHORT|SINGLE|SLEEP|STATIC|STEP|STOP|STRING|STRUCTURE|SUB|SWAP|SYNCLOCK|SYSTEM|THEN|THROW|TIMER|TO|TROFF|TRON|TRUE|TRY|TRYCAST|TYPE|TYPEOF|UINTEGER|ULONG|UNLOCK|UNTIL|USHORT|USING|VIEW PRINT|WAIT|WEND|WHEN|WHILE|WIDENING|WITH|WITHEVENTS|WRITE|WRITEONLY|XOR)|\B(?:#CONST|#ELSE|#ELSEIF|#END|#IF))(?:\$|\b)/i,punctuation:/[,;:(){}]/})}er.displayName="clike",er.aliases=[],nr.displayName="c",nr.aliases=[],rr.displayName="cpp",rr.aliases=[],ir.displayName="arduino",ir.aliases=["ino"],or.displayName="bash",or.aliases=["shell"],ar.displayName="csharp",ar.aliases=["cs","dotnet"],sr.displayName="markup",sr.aliases=["atom","html","mathml","rss","ssml","svg","xml"],lr.displayName="css",lr.aliases=[],cr.displayName="diff",cr.aliases=[],ur.displayName="go",ur.aliases=[],hr.displayName="ini",hr.aliases=[],dr.displayName="java",dr.aliases=[],fr.displayName="regex",fr.aliases=[],pr.displayName="javascript",pr.aliases=["js"],gr.displayName="json",gr.aliases=["webmanifest"],mr.displayName="kotlin",mr.aliases=["kt","kts"],yr.displayName="less",yr.aliases=[],vr.displayName="lua",vr.aliases=[],br.displayName="makefile",br.aliases=[],wr.displayName="yaml",wr.aliases=["yml"],xr.displayName="markdown",xr.aliases=["md"],_r.displayName="objectivec",_r.aliases=["objc"],kr.displayName="perl",kr.aliases=[],Er.displayName="markup-templating",Er.aliases=[],Cr.displayName="php",Cr.aliases=[],Sr.displayName="python",Sr.aliases=["py"],Dr.displayName="r",Dr.aliases=[],Tr.displayName="ruby",Tr.aliases=["rb"],Ar.displayName="rust",Ar.aliases=[],Mr.displayName="sass",Mr.aliases=[],Nr.displayName="scss",Nr.aliases=[],Or.displayName="sql",Or.aliases=[],Fr.displayName="swift",Fr.aliases=[],Ir.displayName="typescript",Ir.aliases=["ts"],Lr.displayName="basic",Lr.aliases=[],Br.displayName="vbnet",Br.aliases=[];class Rr{constructor(t,e,n){this.property=t,this.normal=e,n&&(this.space=n)}}function Pr(t,e){const n={},r={};let i=-1;for(;++i<t.length;)Object.assign(n,t[i].property),Object.assign(r,t[i].normal);return new Rr(n,r,e)}function zr(t){return t.toLowerCase()}Rr.prototype.property={},Rr.prototype.normal={},Rr.prototype.space=null;class $r{constructor(t,e){this.property=t,this.attribute=e}}$r.prototype.space=null,$r.prototype.boolean=!1,$r.prototype.booleanish=!1,$r.prototype.overloadedBoolean=!1,$r.prototype.number=!1,$r.prototype.commaSeparated=!1,$r.prototype.spaceSeparated=!1,$r.prototype.commaOrSpaceSeparated=!1,$r.prototype.mustUseProperty=!1,$r.prototype.defined=!1;let jr=0;const Ur=Xr(),Yr=Xr(),qr=Xr(),Wr=Xr(),Hr=Xr(),Vr=Xr(),Gr=Xr();function Xr(){return 2**++jr}var Kr=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ur,booleanish:Yr,overloadedBoolean:qr,number:Wr,spaceSeparated:Hr,commaSeparated:Vr,commaOrSpaceSeparated:Gr},Symbol.toStringTag,{value:"Module"}));const Jr=Object.keys(Kr);class Zr extends $r{constructor(t,e,n,r){let i=-1;if(super(t,e),Qr(this,"space",r),"number"==typeof n)for(;++i<Jr.length;){const t=Jr[i];Qr(this,Jr[i],(n&Kr[t])===Kr[t])}}}function Qr(t,e,n){n&&(t[e]=n)}Zr.prototype.defined=!0;const ti={}.hasOwnProperty;function ei(t){const e={},n={};let r;for(r in t.properties)if(ti.call(t.properties,r)){const i=t.properties[r],o=new Zr(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),e[r]=o,n[zr(r)]=r,n[zr(o.attribute)]=r}return new Rr(e,n,t.space)}const ni=ei({space:"xlink",transform:(t,e)=>"xlink:"+e.slice(5).toLowerCase(),properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),ri=ei({space:"xml",transform:(t,e)=>"xml:"+e.slice(3).toLowerCase(),properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function ii(t,e){return e in t?t[e]:e}function oi(t,e){return ii(t,e.toLowerCase())}const ai=ei({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:oi,properties:{xmlns:null,xmlnsXLink:null}}),si=ei({transform:(t,e)=>"role"===e?e:"aria-"+e.slice(4).toLowerCase(),properties:{ariaActiveDescendant:null,ariaAtomic:Yr,ariaAutoComplete:null,ariaBusy:Yr,ariaChecked:Yr,ariaColCount:Wr,ariaColIndex:Wr,ariaColSpan:Wr,ariaControls:Hr,ariaCurrent:null,ariaDescribedBy:Hr,ariaDetails:null,ariaDisabled:Yr,ariaDropEffect:Hr,ariaErrorMessage:null,ariaExpanded:Yr,ariaFlowTo:Hr,ariaGrabbed:Yr,ariaHasPopup:null,ariaHidden:Yr,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Hr,ariaLevel:Wr,ariaLive:null,ariaModal:Yr,ariaMultiLine:Yr,ariaMultiSelectable:Yr,ariaOrientation:null,ariaOwns:Hr,ariaPlaceholder:null,ariaPosInSet:Wr,ariaPressed:Yr,ariaReadOnly:Yr,ariaRelevant:null,ariaRequired:Yr,ariaRoleDescription:Hr,ariaRowCount:Wr,ariaRowIndex:Wr,ariaRowSpan:Wr,ariaSelected:Yr,ariaSetSize:Wr,ariaSort:null,ariaValueMax:Wr,ariaValueMin:Wr,ariaValueNow:Wr,ariaValueText:null,role:null}}),li=ei({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:oi,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Vr,acceptCharset:Hr,accessKey:Hr,action:null,allow:null,allowFullScreen:Ur,allowPaymentRequest:Ur,allowUserMedia:Ur,alt:null,as:null,async:Ur,autoCapitalize:null,autoComplete:Hr,autoFocus:Ur,autoPlay:Ur,capture:Ur,charSet:null,checked:Ur,cite:null,className:Hr,cols:Wr,colSpan:null,content:null,contentEditable:Yr,controls:Ur,controlsList:Hr,coords:Wr|Vr,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ur,defer:Ur,dir:null,dirName:null,disabled:Ur,download:qr,draggable:Yr,encType:null,enterKeyHint:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ur,formTarget:null,headers:Hr,height:Wr,hidden:Ur,high:Wr,href:null,hrefLang:null,htmlFor:Hr,httpEquiv:Hr,id:null,imageSizes:null,imageSrcSet:null,inputMode:null,integrity:null,is:null,isMap:Ur,itemId:null,itemProp:Hr,itemRef:Hr,itemScope:Ur,itemType:Hr,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ur,low:Wr,manifest:null,max:null,maxLength:Wr,media:null,method:null,min:null,minLength:Wr,multiple:Ur,muted:Ur,name:null,nonce:null,noModule:Ur,noValidate:Ur,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforePrint:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ur,optimum:Wr,pattern:null,ping:Hr,placeholder:null,playsInline:Ur,poster:null,preload:null,readOnly:Ur,referrerPolicy:null,rel:Hr,required:Ur,reversed:Ur,rows:Wr,rowSpan:Wr,sandbox:Hr,scope:null,scoped:Ur,seamless:Ur,selected:Ur,shape:null,size:Wr,sizes:null,slot:null,span:Wr,spellCheck:Yr,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Wr,step:null,style:null,tabIndex:Wr,target:null,title:null,translate:null,type:null,typeMustMatch:Ur,useMap:null,value:Yr,width:Wr,wrap:null,align:null,aLink:null,archive:Hr,axis:null,background:null,bgColor:null,border:Wr,borderColor:null,bottomMargin:Wr,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ur,declare:Ur,event:null,face:null,frame:null,frameBorder:null,hSpace:Wr,leftMargin:Wr,link:null,longDesc:null,lowSrc:null,marginHeight:Wr,marginWidth:Wr,noResize:Ur,noHref:Ur,noShade:Ur,noWrap:Ur,object:null,profile:null,prompt:null,rev:null,rightMargin:Wr,rules:null,scheme:null,scrolling:Yr,standby:null,summary:null,text:null,topMargin:Wr,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Wr,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ur,disableRemotePlayback:Ur,prefix:null,property:null,results:Wr,security:null,unselectable:null}}),ci=ei({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:ii,properties:{about:Gr,accentHeight:Wr,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Wr,amplitude:Wr,arabicForm:null,ascent:Wr,attributeName:null,attributeType:null,azimuth:Wr,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Wr,by:null,calcMode:null,capHeight:Wr,className:Hr,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Wr,diffuseConstant:Wr,direction:null,display:null,dur:null,divisor:Wr,dominantBaseline:null,download:Ur,dx:null,dy:null,edgeMode:null,editable:null,elevation:Wr,enableBackground:null,end:null,event:null,exponent:Wr,externalResourcesRequired:null,fill:null,fillOpacity:Wr,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Vr,g2:Vr,glyphName:Vr,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Wr,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Wr,horizOriginX:Wr,horizOriginY:Wr,id:null,ideographic:Wr,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Wr,k:Wr,k1:Wr,k2:Wr,k3:Wr,k4:Wr,kernelMatrix:Gr,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Wr,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Wr,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Wr,overlineThickness:Wr,paintOrder:null,panose1:null,path:null,pathLength:Wr,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Hr,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Wr,pointsAtY:Wr,pointsAtZ:Wr,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Gr,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Gr,rev:Gr,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Gr,requiredFeatures:Gr,requiredFonts:Gr,requiredFormats:Gr,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Wr,specularExponent:Wr,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Wr,strikethroughThickness:Wr,string:null,stroke:null,strokeDashArray:Gr,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Wr,strokeOpacity:Wr,strokeWidth:null,style:null,surfaceScale:Wr,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Gr,tabIndex:Wr,tableValues:null,target:null,targetX:Wr,targetY:Wr,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Gr,to:null,transform:null,u1:null,u2:null,underlinePosition:Wr,underlineThickness:Wr,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Wr,values:null,vAlphabetic:Wr,vMathematical:Wr,vectorEffect:null,vHanging:Wr,vIdeographic:Wr,version:null,vertAdvY:Wr,vertOriginX:Wr,vertOriginY:Wr,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Wr,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),ui=/^data[-\w.:]+$/i,hi=/-[a-z]/g,di=/[A-Z]/g;function fi(t){return"-"+t.toLowerCase()}function pi(t){return t.charAt(1).toUpperCase()}const gi=Pr([ri,ni,ai,si,li],"html");Pr([ri,ni,ai,si,ci],"svg");var mi=/[#.]/g;function yi(t){const e=String(t||"").trim();return e?e.split(/[ \t\n\r\f]+/g):[]}function vi(t){for(var e,n,r=[],i=String(t||""),o=i.indexOf(","),a=0;!e;)-1===o&&(o=i.length,e=!0),!(n=i.slice(a,o).trim())&&e||r.push(n),a=o+1,o=i.indexOf(",",a);return r}const bi=new Set(["menu","submit","reset","button"]),wi={}.hasOwnProperty;function xi(t,e,n,r){const i=function(t,e){const n=zr(e);let r=e,i=$r;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&"data"===n.slice(0,4)&&ui.test(e)){if("-"===e.charAt(4)){const t=e.slice(5).replace(hi,pi);r="data"+t.charAt(0).toUpperCase()+t.slice(1)}else{const t=e.slice(4);if(!hi.test(t)){let n=t.replace(di,fi);"-"!==n.charAt(0)&&(n="-"+n),e="data"+n}}i=Zr}return new i(r,e)}(t,n);let o,a=-1;if(null!=r){if("number"==typeof r){if(Number.isNaN(r))return;o=r}else o="boolean"==typeof r?r:"string"==typeof r?i.spaceSeparated?yi(r):i.commaSeparated?vi(r):i.commaOrSpaceSeparated?yi(vi(r).join(" ")):ki(i,i.property,r):Array.isArray(r)?r.concat():"style"===i.property?function(t){const e=[];let n;for(n in t)wi.call(t,n)&&e.push([n,t[n]].join(": "));return e.join("; ")}(r):String(r);if(Array.isArray(o)){const t=[];for(;++a<o.length;)t[a]=ki(i,i.property,o[a]);o=t}"className"===i.property&&Array.isArray(e.className)&&(o=e.className.concat(o)),e[i.property]=o}}function _i(t,e){let n=-1;if(null==e);else if("string"==typeof e||"number"==typeof e)t.push({type:"text",value:String(e)});else if(Array.isArray(e))for(;++n<e.length;)_i(t,e[n]);else{if("object"!=typeof e||!("type"in e))throw new Error("Expected node, nodes, or string, got `"+e+"`");"root"===e.type?_i(t,e.children):t.push(e)}}function ki(t,e,n){if("string"==typeof n){if(t.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((t.boolean||t.overloadedBoolean)&&(""===n||zr(n)===zr(e)))return!0}return n}const Ei=function(t,e,n){const r=n&&function(t){const e={};let n=-1;for(;++n<t.length;)e[t[n].toLowerCase()]=t[n];return e}(n);return function(n,i,...o){let a,s=-1;if(null==n)a={type:"root",children:[]},o.unshift(i);else if(a=function(t,e="div"){for(var n,r,i,o=t||"",a={},s=0;s<o.length;)mi.lastIndex=s,i=mi.exec(o),(n=o.slice(s,i?i.index:o.length))&&(r?"#"===r?a.id=n:Array.isArray(a.className)?a.className.push(n):a.className=[n]:e=n,s+=n.length),i&&(r=i[0],s++);return{type:"element",tagName:e,properties:a,children:[]}}(n,e),a.tagName=a.tagName.toLowerCase(),r&&wi.call(r,a.tagName)&&(a.tagName=r[a.tagName]),function(t,e){if(null==t||"object"!=typeof t||Array.isArray(t))return!1;if("input"===e||!t.type||"string"!=typeof t.type)return!0;if("children"in t&&Array.isArray(t.children))return!1;if("button"===e)return bi.has(t.type.toLowerCase());return!("value"in t)}(i,a.tagName)){let e;for(e in i)wi.call(i,e)&&xi(t,a.properties,e,i[e])}else o.unshift(i);for(;++s<o.length;)_i(a.children,o[s]);return"element"===a.type&&"template"===a.tagName&&(a.content={type:"root",children:a.children},a.children=[]),a}}(gi,"div"),Ci=["AElig","AMP","Aacute","Acirc","Agrave","Aring","Atilde","Auml","COPY","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","GT","Iacute","Icirc","Igrave","Iuml","LT","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","QUOT","REG","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","acute","aelig","agrave","amp","aring","atilde","auml","brvbar","ccedil","cedil","cent","copy","curren","deg","divide","eacute","ecirc","egrave","eth","euml","frac12","frac14","frac34","gt","iacute","icirc","iexcl","igrave","iquest","iuml","laquo","lt","macr","micro","middot","nbsp","not","ntilde","oacute","ocirc","ograve","ordf","ordm","oslash","otilde","ouml","para","plusmn","pound","quot","raquo","reg","sect","shy","sup1","sup2","sup3","szlig","thorn","times","uacute","ucirc","ugrave","uml","uuml","yacute","yen","yuml"],Si={0:"�",128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"};function Di(t){const e="string"==typeof t?t.charCodeAt(0):t;return e>=48&&e<=57}function Ti(t){const e="string"==typeof t?t.charCodeAt(0):t;return e>=97&&e<=102||e>=65&&e<=70||e>=48&&e<=57}function Ai(t){return function(t){const e="string"==typeof t?t.charCodeAt(0):t;return e>=97&&e<=122||e>=65&&e<=90}(t)||Di(t)}const Mi=document.createElement("i");function Ni(t){const e="&"+t+";";Mi.innerHTML=e;const n=Mi.textContent;return(59!==n.charCodeAt(n.length-1)||"semi"===t)&&(n!==e&&n)}const Oi=String.fromCharCode,Fi=["","Named character references must be terminated by a semicolon","Numeric character references must be terminated by a semicolon","Named character references cannot be empty","Numeric character references cannot be empty","Named character references must be known","Numeric character references cannot be disallowed","Numeric character references cannot be outside the permissible Unicode range"];function Ii(t,e={}){const n="string"==typeof e.additional?e.additional.charCodeAt(0):e.additional,r=[];let i,o,a=0,s=-1,l="";e.position&&("start"in e.position||"indent"in e.position?(o=e.position.indent,i=e.position.start):i=e.position);let c,u=(i?i.line:0)||1,h=(i?i.column:0)||1,d=f();for(a--;++a<=t.length;)if(10===c&&(h=(o?o[s]:0)||1),c=t.charCodeAt(a),38===c){const i=t.charCodeAt(a+1);if(9===i||10===i||12===i||32===i||38===i||60===i||Number.isNaN(i)||n&&i===n){l+=Oi(c),h++;continue}const o=a+1;let s,u=o,m=o;if(35===i){m=++u;const e=t.charCodeAt(m);88===e||120===e?(s="hexadecimal",m=++u):s="decimal"}else s="named";let y="",v="",b="";const w="named"===s?Ai:"decimal"===s?Di:Ti;for(m--;++m<=t.length;){const e=t.charCodeAt(m);if(!w(e))break;b+=Oi(e),"named"===s&&Ci.includes(b)&&(y=b,v=Ni(b))}let x=59===t.charCodeAt(m);if(x){m++;const t="named"===s&&Ni(b);t&&(y=b,v=t)}let _=1+m-o,k="";if(x||!1!==e.nonTerminated)if(b)if("named"===s){if(x&&!v)p(5,1);else if(y!==b&&(m=u+y.length,_=1+m-u,x=!1),!x){const n=y?1:3;if(e.attribute){const e=t.charCodeAt(m);61===e?(p(n,_),v=""):Ai(e)?v="":p(n,_)}else p(n,_)}k=v}else{x||p(2,_);let t=Number.parseInt(b,"hexadecimal"===s?16:10);if(Li(t))p(7,_),k=Oi(65533);else if(t in Si)p(6,_),k=Si[t];else{let e="";Bi(t)&&p(6,_),t>65535&&(t-=65536,e+=Oi(t>>>10|55296),t=56320|1023&t),k=e+Oi(t)}}else"named"!==s&&p(4,_);else;if(k){g(),d=f(),a=m-1,h+=m-o+1,r.push(k);const n=f();n.offset++,e.reference&&e.reference.call(e.referenceContext,k,{start:d,end:n},t.slice(o-1,m)),d=n}else b=t.slice(o-1,m),l+=b,h+=b.length,a=m-1}else 10===c&&(u++,s++,h=0),Number.isNaN(c)?g():(l+=Oi(c),h++);return r.join("");function f(){return{line:u,column:h,offset:a+((i?i.offset:0)||0)}}function p(t,n){let r;e.warning&&(r=f(),r.column+=n,r.offset+=n,e.warning.call(e.warningContext,Fi[t],r,t))}function g(){l&&(r.push(l),e.text&&e.text.call(e.textContext,l,{start:d,end:f()}),l="")}}function Li(t){return t>=55296&&t<=57343||t>1114111}function Bi(t){return t>=1&&t<=8||11===t||t>=13&&t<=31||t>=127&&t<=159||t>=64976&&t<=65007||65535==(65535&t)||65534==(65535&t)}var Ri,Pi,zi="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},$i={exports:{}};Ri=$i,Pi=function(t){var e=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,n=0,r={},i={manual:t.Prism&&t.Prism.manual,disableWorkerMessageHandler:t.Prism&&t.Prism.disableWorkerMessageHandler,util:{encode:function t(e){return e instanceof o?new o(e.type,t(e.content),e.alias):Array.isArray(e)?e.map(t):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(t){return Object.prototype.toString.call(t).slice(8,-1)},objId:function(t){return t.__id||Object.defineProperty(t,"__id",{value:++n}),t.__id},clone:function t(e,n){var r,o;switch(n=n||{},i.util.type(e)){case"Object":if(o=i.util.objId(e),n[o])return n[o];for(var a in r={},n[o]=r,e)e.hasOwnProperty(a)&&(r[a]=t(e[a],n));return r;case"Array":return o=i.util.objId(e),n[o]?n[o]:(r=[],n[o]=r,e.forEach((function(e,i){r[i]=t(e,n)})),r);default:return e}},getLanguage:function(t){for(;t;){var n=e.exec(t.className);if(n)return n[1].toLowerCase();t=t.parentElement}return"none"},setLanguage:function(t,n){t.className=t.className.replace(RegExp(e,"gi"),""),t.classList.add("language-"+n)},currentScript:function(){if("undefined"==typeof document)return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(r){var t=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(r.stack)||[])[1];if(t){var e=document.getElementsByTagName("script");for(var n in e)if(e[n].src==t)return e[n]}return null}},isActive:function(t,e,n){for(var r="no-"+e;t;){var i=t.classList;if(i.contains(e))return!0;if(i.contains(r))return!1;t=t.parentElement}return!!n}},languages:{plain:r,plaintext:r,text:r,txt:r,extend:function(t,e){var n=i.util.clone(i.languages[t]);for(var r in e)n[r]=e[r];return n},insertBefore:function(t,e,n,r){var o=(r=r||i.languages)[t],a={};for(var s in o)if(o.hasOwnProperty(s)){if(s==e)for(var l in n)n.hasOwnProperty(l)&&(a[l]=n[l]);n.hasOwnProperty(s)||(a[s]=o[s])}var c=r[t];return r[t]=a,i.languages.DFS(i.languages,(function(e,n){n===c&&e!=t&&(this[e]=a)})),a},DFS:function t(e,n,r,o){o=o||{};var a=i.util.objId;for(var s in e)if(e.hasOwnProperty(s)){n.call(e,s,e[s],r||s);var l=e[s],c=i.util.type(l);"Object"!==c||o[a(l)]?"Array"!==c||o[a(l)]||(o[a(l)]=!0,t(l,n,s,o)):(o[a(l)]=!0,t(l,n,null,o))}}},plugins:{},highlightAll:function(t,e){i.highlightAllUnder(document,t,e)},highlightAllUnder:function(t,e,n){var r={callback:n,container:t,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};i.hooks.run("before-highlightall",r),r.elements=Array.prototype.slice.apply(r.container.querySelectorAll(r.selector)),i.hooks.run("before-all-elements-highlight",r);for(var o,a=0;o=r.elements[a++];)i.highlightElement(o,!0===e,r.callback)},highlightElement:function(e,n,r){var o=i.util.getLanguage(e),a=i.languages[o];i.util.setLanguage(e,o);var s=e.parentElement;s&&"pre"===s.nodeName.toLowerCase()&&i.util.setLanguage(s,o);var l={element:e,language:o,grammar:a,code:e.textContent};function c(t){l.highlightedCode=t,i.hooks.run("before-insert",l),l.element.innerHTML=l.highlightedCode,i.hooks.run("after-highlight",l),i.hooks.run("complete",l),r&&r.call(l.element)}if(i.hooks.run("before-sanity-check",l),(s=l.element.parentElement)&&"pre"===s.nodeName.toLowerCase()&&!s.hasAttribute("tabindex")&&s.setAttribute("tabindex","0"),!l.code)return i.hooks.run("complete",l),void(r&&r.call(l.element));if(i.hooks.run("before-highlight",l),l.grammar)if(n&&t.Worker){var u=new Worker(i.filename);u.onmessage=function(t){c(t.data)},u.postMessage(JSON.stringify({language:l.language,code:l.code,immediateClose:!0}))}else c(i.highlight(l.code,l.grammar,l.language));else c(i.util.encode(l.code))},highlight:function(t,e,n){var r={code:t,grammar:e,language:n};if(i.hooks.run("before-tokenize",r),!r.grammar)throw new Error('The language "'+r.language+'" has no grammar.');return r.tokens=i.tokenize(r.code,r.grammar),i.hooks.run("after-tokenize",r),o.stringify(i.util.encode(r.tokens),r.language)},tokenize:function(t,e){var n=e.rest;if(n){for(var r in n)e[r]=n[r];delete e.rest}var i=new l;return c(i,i.head,t),s(t,i,e,i.head,0),function(t){for(var e=[],n=t.head.next;n!==t.tail;)e.push(n.value),n=n.next;return e}(i)},hooks:{all:{},add:function(t,e){var n=i.hooks.all;n[t]=n[t]||[],n[t].push(e)},run:function(t,e){var n=i.hooks.all[t];if(n&&n.length)for(var r,o=0;r=n[o++];)r(e)}},Token:o};function o(t,e,n,r){this.type=t,this.content=e,this.alias=n,this.length=0|(r||"").length}function a(t,e,n,r){t.lastIndex=e;var i=t.exec(n);if(i&&r&&i[1]){var o=i[1].length;i.index+=o,i[0]=i[0].slice(o)}return i}function s(t,e,n,r,l,h){for(var d in n)if(n.hasOwnProperty(d)&&n[d]){var f=n[d];f=Array.isArray(f)?f:[f];for(var p=0;p<f.length;++p){if(h&&h.cause==d+","+p)return;var g=f[p],m=g.inside,y=!!g.lookbehind,v=!!g.greedy,b=g.alias;if(v&&!g.pattern.global){var w=g.pattern.toString().match(/[imsuy]*$/)[0];g.pattern=RegExp(g.pattern.source,w+"g")}for(var x=g.pattern||g,_=r.next,k=l;_!==e.tail&&!(h&&k>=h.reach);k+=_.value.length,_=_.next){var E=_.value;if(e.length>t.length)return;if(!(E instanceof o)){var C,S=1;if(v){if(!(C=a(x,k,t,y))||C.index>=t.length)break;var D=C.index,T=C.index+C[0].length,A=k;for(A+=_.value.length;D>=A;)A+=(_=_.next).value.length;if(k=A-=_.value.length,_.value instanceof o)continue;for(var M=_;M!==e.tail&&(A<T||"string"==typeof M.value);M=M.next)S++,A+=M.value.length;S--,E=t.slice(k,A),C.index-=k}else if(!(C=a(x,0,E,y)))continue;D=C.index;var N=C[0],O=E.slice(0,D),F=E.slice(D+N.length),I=k+E.length;h&&I>h.reach&&(h.reach=I);var L=_.prev;if(O&&(L=c(e,L,O),k+=O.length),u(e,L,S),_=c(e,L,new o(d,m?i.tokenize(N,m):N,b,N)),F&&c(e,_,F),S>1){var B={cause:d+","+p,reach:I};s(t,e,n,_.prev,k,B),h&&B.reach>h.reach&&(h.reach=B.reach)}}}}}}function l(){var t={value:null,prev:null,next:null},e={value:null,prev:t,next:null};t.next=e,this.head=t,this.tail=e,this.length=0}function c(t,e,n){var r=e.next,i={value:n,prev:e,next:r};return e.next=i,r.prev=i,t.length++,i}function u(t,e,n){for(var r=e.next,i=0;i<n&&r!==t.tail;i++)r=r.next;e.next=r,r.prev=e,t.length-=i}if(t.Prism=i,o.stringify=function t(e,n){if("string"==typeof e)return e;if(Array.isArray(e)){var r="";return e.forEach((function(e){r+=t(e,n)})),r}var o={type:e.type,content:t(e.content,n),tag:"span",classes:["token",e.type],attributes:{},language:n},a=e.alias;a&&(Array.isArray(a)?Array.prototype.push.apply(o.classes,a):o.classes.push(a)),i.hooks.run("wrap",o);var s="";for(var l in o.attributes)s+=" "+l+'="'+(o.attributes[l]||"").replace(/"/g,"&quot;")+'"';return"<"+o.tag+' class="'+o.classes.join(" ")+'"'+s+">"+o.content+"</"+o.tag+">"},!t.document)return t.addEventListener?(i.disableWorkerMessageHandler||t.addEventListener("message",(function(e){var n=JSON.parse(e.data),r=n.language,o=n.code,a=n.immediateClose;t.postMessage(i.highlight(o,i.languages[r],r)),a&&t.close()}),!1),i):i;var h=i.util.currentScript();function d(){i.manual||i.highlightAll()}if(h&&(i.filename=h.src,h.hasAttribute("data-manual")&&(i.manual=!0)),!i.manual){var f=document.readyState;"loading"===f||"interactive"===f&&h&&h.defer?document.addEventListener("DOMContentLoaded",d):window.requestAnimationFrame?window.requestAnimationFrame(d):window.setTimeout(d,16)}return i}("undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{}),Ri.exports&&(Ri.exports=Pi),void 0!==zi&&(zi.Prism=Pi);var ji=$i.exports;const Ui="object"==typeof globalThis?globalThis:"object"==typeof self?self:"object"==typeof window?window:"object"==typeof global?global:{},Yi=function(){let t="Prism"in Ui,e=t?Ui.Prism:void 0;return function(){t?Ui.Prism=e:delete Ui.Prism;t=void 0,e=void 0}}();Ui.Prism=Ui.Prism||{},Ui.Prism.manual=!0,Ui.Prism.disableWorkerMessageHandler=!0,Yi();const qi={}.hasOwnProperty;function Wi(){}Wi.prototype=ji;const Hi=new Wi;Hi.highlight=function(t,e){if("string"!=typeof t)throw new TypeError("Expected `string` for `value`, got `"+t+"`");let n,r;if(e&&"object"==typeof e)n=e;else{if(r=e,"string"!=typeof r)throw new TypeError("Expected `string` for `name`, got `"+r+"`");if(!qi.call(Hi.languages,r))throw new Error("Unknown language: `"+r+"` is not registered");n=Hi.languages[r]}return{type:"root",children:ji.highlight.call(Hi,t,n,r)}},Hi.register=function(t){if("function"!=typeof t||!t.displayName)throw new Error("Expected `function` for `syntax`, got `"+t+"`");qi.call(Hi.languages,t.displayName)||t(Hi)},Hi.alias=function(t,e){const n=Hi.languages;let r,i={};"string"==typeof t?e&&(i[t]=e):i=t;for(r in i)if(qi.call(i,r)){const t=i[r],e="string"==typeof t?[t]:t;let o=-1;for(;++o<e.length;)n[e[o]]=n[r]}},Hi.registered=function(t){if("string"!=typeof t)throw new TypeError("Expected `string` for `aliasOrLanguage`, got `"+t+"`");return qi.call(Hi.languages,t)},Hi.listLanguages=function(){const t=Hi.languages,e=[];let n;for(n in t)qi.call(t,n)&&"object"==typeof t[n]&&e.push(n);return e},Hi.util.encode=function(t){return t},Hi.Token.stringify=function t(e,n){if("string"==typeof e)return{type:"text",value:e};if(Array.isArray(e)){const r=[];let i=-1;for(;++i<e.length;)""!==e[i]&&null!==e[i]&&void 0!==e[i]&&r.push(t(e[i],n));return r}const r={type:e.type,content:t(e.content,n),tag:"span",classes:["token",e.type],attributes:{},language:n};e.alias&&r.classes.push(..."string"==typeof e.alias?[e.alias]:e.alias);return Hi.hooks.run("wrap",r),Ei(r.tag+"."+r.classes.join("."),function(t){let e;for(e in t)qi.call(t,e)&&(t[e]=Ii(t[e]));return t}(r.attributes),r.content)},Hi.register(er),Hi.register(nr),Hi.register(rr),Hi.register(ir),Hi.register(or),Hi.register(ar),Hi.register(sr),Hi.register(lr),Hi.register(cr),Hi.register(ur),Hi.register(hr),Hi.register(dr),Hi.register(fr),Hi.register(pr),Hi.register(gr),Hi.register(mr),Hi.register(yr),Hi.register(vr),Hi.register(br),Hi.register(wr),Hi.register(xr),Hi.register(_r),Hi.register(kr),Hi.register(Er),Hi.register(Cr),Hi.register(Sr),Hi.register(Dr),Hi.register(Tr),Hi.register(Ar),Hi.register(Mr),Hi.register(Nr),Hi.register(Or),Hi.register(Fr),Hi.register(Ir),Hi.register(Lr),Hi.register(Br);const Vi=(t,e=[])=>t.flatMap((t=>{var n;return"element"===t.type?Vi(t.children,[...e,...(null==(n=t.properties)?void 0:n.className)||[]]):[{text:t.value,className:e}]}));function Gi(t,e,n){const{highlight:r,listLanguages:i}=n,o=i(),a=[];return(0,Xt.N2)((t=>t.type.name===e))(t).forEach((t=>{let e=t.pos+1;const{language:n}=t.node.attrs;if(!n||!o.includes(n))return;const i=r(t.node.textContent,n);Vi(i.children).forEach((t=>{const n=e+t.text.length;if(t.className.length){const r=ft.p.inline(e,n,{class:t.className.join(" ")});a.push(r)}e=n}))})),ft.EH.create(t,a)}const Xi=((t={})=>{const e=((t,e)=>{for(var n in e||(e={}))Zn.call(e,n)&&tr(t,n,e[n]);if(Jn)for(var n of Jn(e))Qn.call(e,n)&&tr(t,n,e[n]);return t})({nodeName:"fence",configureRefractor:()=>{}},t);return q((()=>function(t){const{nodeName:e,configureRefractor:n}=t;return new z.Sy({key:new z.H$("MILKDOWN_PRISM"),state:{init:(t,{doc:r})=>(n(Hi),Gi(r,e,Hi)),apply:(t,n,r,i)=>{var o,a;const s=i.selection.$head.parent.type.name===e,l=r.selection.$head.parent.type.name===e,c=(0,Xt.N2)((t=>t.type.name===e))(r.doc),u=(0,Xt.N2)((t=>t.type.name===e))(i.doc),h=t.docChanged&&(s||l||c.length!==u.length||(null==(o=c[0])?void 0:o.node.attrs.language)!==(null==(a=u[0])?void 0:a.node.attrs.language)||t.steps.some((t=>{const e=t;return void 0!==e.from&&void 0!==e.to&&c.some((t=>t.pos>=e.from&&t.pos+t.node.nodeSize<=e.to))})));return h?Gi(t.doc,e,Hi):n.map(t.mapping,t.doc)}},props:{decorations(t){return this.getState(t)}}})}(e)))})();function Ki(t){return"object"==typeof t&&null!=t&&1===t.nodeType}function Ji(t,e){return(!e||"hidden"!==t)&&"visible"!==t&&"clip"!==t}function Zi(t,e){if(t.clientHeight<t.scrollHeight||t.clientWidth<t.scrollWidth){var n=getComputedStyle(t,null);return Ji(n.overflowY,e)||Ji(n.overflowX,e)||function(t){var e=function(t){if(!t.ownerDocument||!t.ownerDocument.defaultView)return null;try{return t.ownerDocument.defaultView.frameElement}catch(t){return null}}(t);return!!e&&(e.clientHeight<t.scrollHeight||e.clientWidth<t.scrollWidth)}(t)}return!1}function Qi(t,e,n,r,i,o,a,s){return o<t&&a>e||o>t&&a<e?0:o<=t&&s<=n||a>=e&&s>=n?o-t-r:a>e&&s<n||o<t&&s>n?a-e+i:0}function to(t,e){var n=window,r=e.scrollMode,i=e.block,o=e.inline,a=e.boundary,s=e.skipOverflowHiddenElements,l="function"==typeof a?a:function(t){return t!==a};if(!Ki(t))throw new TypeError("Invalid target");for(var c=document.scrollingElement||document.documentElement,u=[],h=t;Ki(h)&&l(h);){if((h=h.parentElement)===c){u.push(h);break}null!=h&&h===document.body&&Zi(h)&&!Zi(document.documentElement)||null!=h&&Zi(h,s)&&u.push(h)}for(var d=n.visualViewport?n.visualViewport.width:innerWidth,f=n.visualViewport?n.visualViewport.height:innerHeight,p=window.scrollX||pageXOffset,g=window.scrollY||pageYOffset,m=t.getBoundingClientRect(),y=m.height,v=m.width,b=m.top,w=m.right,x=m.bottom,_=m.left,k="start"===i||"nearest"===i?b:"end"===i?x:b+y/2,E="center"===o?_+v/2:"end"===o?w:_,C=[],S=0;S<u.length;S++){var D=u[S],T=D.getBoundingClientRect(),A=T.height,M=T.width,N=T.top,O=T.right,F=T.bottom,I=T.left;if("if-needed"===r&&b>=0&&_>=0&&x<=f&&w<=d&&b>=N&&x<=F&&_>=I&&w<=O)return C;var L=getComputedStyle(D),B=parseInt(L.borderLeftWidth,10),R=parseInt(L.borderTopWidth,10),P=parseInt(L.borderRightWidth,10),z=parseInt(L.borderBottomWidth,10),$=0,j=0,U="offsetWidth"in D?D.offsetWidth-D.clientWidth-B-P:0,Y="offsetHeight"in D?D.offsetHeight-D.clientHeight-R-z:0;if(c===D)$="start"===i?k:"end"===i?k-f:"nearest"===i?Qi(g,g+f,f,R,z,g+k,g+k+y,y):k-f/2,j="start"===o?E:"center"===o?E-d/2:"end"===o?E-d:Qi(p,p+d,d,B,P,p+E,p+E+v,v),$=Math.max(0,$+g),j=Math.max(0,j+p);else{$="start"===i?k-N-R:"end"===i?k-F+z+Y:"nearest"===i?Qi(N,F,A,R,z+Y,k,k+y,y):k-(N+A/2)+Y/2,j="start"===o?E-I-B:"center"===o?E-(I+M/2)+U/2:"end"===o?E-O+P+U:Qi(I,O,M,B,P+U,E,E+v,v);var q=D.scrollLeft,W=D.scrollTop;k+=W-($=Math.max(0,Math.min(W+$,D.scrollHeight-A+Y))),E+=q-(j=Math.max(0,Math.min(q+j,D.scrollWidth-M+U)))}C.push({el:D,top:$,left:j})}return C}function eo(t){return t===Object(t)&&0!==Object.keys(t).length}const no=function(t,e){var n=t.isConnected||t.ownerDocument.documentElement.contains(t);if(eo(e)&&"function"==typeof e.behavior)return e.behavior(n?to(t,e):[]);if(n){var r=function(t){return!1===t?{block:"end",inline:"nearest"}:eo(t)?t:{block:"start",inline:"nearest"}}(e);return function(t,e){void 0===e&&(e="auto");var n="scrollBehavior"in document.body.style;t.forEach((function(t){var r=t.el,i=t.top,o=t.left;r.scroll&&n?r.scroll({top:i,left:o,behavior:e}):(r.scrollTop=i,r.scrollLeft=o)}))}(to(t,r),r.behavior)}};var ro,io=function(){return ro||(ro="performance"in window?performance.now.bind(performance):Date.now),ro()};function oo(t){var e=io(),n=Math.min((e-t.startTime)/t.duration,1),r=t.ease(n),i=t.startX+(t.x-t.startX)*r,o=t.startY+(t.y-t.startY)*r;t.method(i,o),i!==t.x||o!==t.y?requestAnimationFrame((function(){return oo(t)})):t.cb()}function ao(t,e,n,r,i,o){var a,s,l,c;void 0===r&&(r=600),void 0===i&&(i=function(t){return 1+--t*t*t*t*t}),a=t,s=t.scrollLeft,l=t.scrollTop,c=function(e,n){t.scrollLeft=Math.ceil(e),t.scrollTop=Math.ceil(n)},oo({scrollable:a,method:c,startTime:io(),startX:s,startY:l,x:e,y:n,duration:r,ease:i,cb:o})}const so=function(t,e){var n=e||{};return function(t){return t&&!t.behavior||"smooth"===t.behavior}(n)?no(t,{block:n.block,inline:n.inline,scrollMode:n.scrollMode,boundary:n.boundary,behavior:function(t){return Promise.all(t.reduce((function(t,e){var r=e.el,i=e.left,o=e.top,a=r.scrollLeft,s=r.scrollTop;return a===i&&s===o?t:[].concat(t,[new Promise((function(t){return ao(r,i,o,n.duration,n.ease,(function(){return t({el:r,left:[a,i],top:[s,o]})}))}))])}),[]))}}):Promise.resolve(no(t,e))};var lo=Object.getOwnPropertySymbols,co=Object.prototype.hasOwnProperty,uo=Object.prototype.propertyIsEnumerable;const ho=(t,e)=>e.css`
        width: 20.5em;
        max-height: 20.5em;
        overflow-y: auto;
        border-radius: ${t.get(R.dz,"radius")};
        position: absolute;
        background: ${((e,n=1)=>t.get(R.tP,[e,n]))("surface")};

        ${t.get(R.UT,void 0)}
        ${t.get(R.I9,void 0)}
        ${t.get(R.eK,void 0)}

        &.hide {
            display: none;
        }

        ${((t,{css:e})=>{const n=(e,n=1)=>t.get(R.tP,[e,n]);return e`
        .slash-dropdown-item {
            display: flex;
            gap: 2em;
            height: 3.4286em;
            padding: 0 1em;
            align-items: center;
            justify-content: flex-start;
            cursor: pointer;
            line-height: 3.4286em;
            font-family: ${t.get(R.Az,"typography")};
            font-size: 0.875em;

            transition: all 0.2s ease-in-out;

            &,
            .icon {
                color: ${n("neutral",.87)};
                transition: all 0.2s ease-in-out;
            }

            &.hide {
                display: none;
            }

            &.active {
                background: ${n("secondary",.12)};
                &,
                .icon {
                    color: ${n("primary")};
                }
            }
        }
    `})(t,e)}
    `,fo=(t,e,n,r)=>{var i;const o=null!=(i=null==r?void 0:r.textClassName)?i:"text",a=document.createElement("div");a.setAttribute("role","option"),a.classList.add("slash-dropdown-item");const s=t.get(R.kS,n);if(!s)throw new Error("icon not found");const l=document.createElement("span");return l.textContent=e,l.className=o,a.appendChild(s.dom),a.appendChild(l),a},po=(t,e="/")=>{const{nodes:n}=t.get(B.le),r=[{id:"h1",dom:fo(t.get(R.Xc),"Large Heading","h1"),command:()=>t.get(B.Xo).call("TurnIntoHeading",1),keyword:["h1","large heading"],typeName:"heading"},{id:"h2",dom:fo(t.get(R.Xc),"Medium Heading","h2"),command:()=>t.get(B.Xo).call("TurnIntoHeading",2),keyword:["h2","medium heading"],typeName:"heading"},{id:"h3",dom:fo(t.get(R.Xc),"Small Heading","h3"),command:()=>t.get(B.Xo).call("TurnIntoHeading",3),keyword:["h3","small heading"],typeName:"heading"},{id:"bulletList",dom:fo(t.get(R.Xc),"Bullet List","bulletList"),command:()=>t.get(B.Xo).call("WrapInBulletList"),keyword:["bullet list","ul"],typeName:"bullet_list"},{id:"orderedList",dom:fo(t.get(R.Xc),"Ordered List","orderedList"),command:()=>t.get(B.Xo).call("WrapInOrderedList"),keyword:["ordered list","ol"],typeName:"ordered_list"},{id:"taskList",dom:fo(t.get(R.Xc),"Task List","taskList"),command:()=>t.get(B.Xo).call("TurnIntoTaskList"),keyword:["task list","task"],typeName:"task_list_item"},{id:"image",dom:fo(t.get(R.Xc),"Image","image"),command:()=>t.get(B.Xo).call("InsertImage"),keyword:["image"],typeName:"image"},{id:"blockquote",dom:fo(t.get(R.Xc),"Quote","quote"),command:()=>t.get(B.Xo).call("WrapInBlockquote"),keyword:["quote","blockquote"],typeName:"blockquote"},{id:"table",dom:fo(t.get(R.Xc),"Table","table"),command:()=>t.get(B.Xo).call("InsertTable"),keyword:["table"],typeName:"table"},{id:"code",dom:fo(t.get(R.Xc),"Code Fence","code"),command:()=>t.get(B.Xo).call("TurnIntoCodeFence"),keyword:["code"],typeName:"fence"},{id:"divider",dom:fo(t.get(R.Xc),"Divide Line","divider"),command:()=>t.get(B.Xo).call("InsertHr"),keyword:["divider","hr"],typeName:"hr"}],i=e.slice(1).toLocaleLowerCase();return r.filter((t=>!!n[t.typeName]&&t.keyword.some((t=>t.includes(i))))).map((t=>{var e=t,{keyword:n,typeName:r}=e;return((t,e)=>{var n={};for(var r in t)co.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&lo)for(var r of lo(t))e.indexOf(r)<0&&uo.call(t,r)&&(n[r]=t[r]);return n})(e,["keyword","typeName"])}))},go=t=>({content:e,isTopLevel:n})=>n?e?e.startsWith("/")?"/"===e?{placeholder:"Type to filter...",actions:po(t)}:{actions:po(t,e)}:null:{placeholder:"Type / to use the slash commands..."}:null,mo=(t,e)=>({handleKeyDown:(e,n)=>!t.isEmpty()&&(n instanceof KeyboardEvent&&!!["ArrowUp","ArrowDown","Enter"].includes(n.key)),decorations:n=>{const r=(0,Xt.Kk)((({type:t})=>"paragraph"===t.name))(n.selection),i=n.plugins.find((t=>"MILKDOWN_UPLOAD$"===t.key)),o=null==i?void 0:i.getState(n);if(null!=o&&o.find(n.selection.from,n.selection.to).length>0)return void t.clear();if(!r||r.node.childCount>1||n.selection.$from.parentOffset!==r.node.textContent.length||r.node.firstChild&&"text"!==r.node.firstChild.type.name)return void t.clear();const{placeholder:a,actions:s}=t.update({parentNode:n.selection.$from.node(n.selection.$from.depth-1),isTopLevel:1===n.selection.$from.depth,content:r.node.textContent,state:n});if(!a)return null;const l=(t,e)=>{const i=r.pos;return ft.EH.create(n.doc,[ft.p.node(i,i+r.node.nodeSize,{class:e.filter((t=>t)).join(" "),"data-text":t})])},c=e.getStyle((t=>((t,{css:e})=>e`
        position: relative;
        &::before {
            position: absolute;
            cursor: text;
            font-family: ${t.get(R.Az,"typography")};
            font-size: 0.875em;
            color: ${((e,n=1)=>t.get(R.tP,[e,n]))("neutral",.6)};
            content: attr(data-text);
            height: 100%;
            display: flex;
            align-items: center;
        }
    `)(e.themeManager,t))),u=e.getStyle((t=>((t,{css:e})=>e`
    &::before {
        left: 0.5em;
    }
`)(e.themeManager,t)));return s.length?l(a,[c,u,"empty-node","is-slash"]):l(a,[c,"empty-node"])}}),yo=t=>{return{id:t.id,$:t.dom,command:(e=t.command,(t,n,r)=>(r&&(((t,e)=>{const{selection:n}=t,{$from:r}=n,i=t.tr.deleteRange(r.start(),r.pos);null==e||e(i)})(t,n),e()),!0))};var e},vo=(t,e,n,r)=>{const i=e.dom.parentNode;if(!i)return{};const o=((t,e)=>{const n=document.createElement("div");return n.setAttribute("role","listbox"),n.setAttribute("tabindex","-1"),t.themeManager.onFlush((()=>{const e=t.getStyle((e=>ho(t.themeManager,e)));e&&n.classList.add(e)})),n.classList.add(t.getClassName({},e),"hide"),n})(n,r),a=(()=>{let t=!1;return{isLock:()=>t,lock:()=>{t=!0},unlock:()=>{t=!1}}})();i.appendChild(o);const s=(t=>()=>{t.unlock()})(a),l=((t,e,n)=>r=>{const{target:i}=r;if(!(i instanceof HTMLElement))return;if(!e)return;const o=()=>{r.stopPropagation(),r.preventDefault()},{actions:a}=t.get(),s=Object.values(a).find((({$:t})=>t.contains(i)));if(!s){if(t.isEmpty())return;return t.clear(),n.classList.add("hide"),void o()}o(),s.command(e.state,e.dispatch,e)})(t,e,o),c=((t,e,n,r)=>i=>{if(!(i instanceof KeyboardEvent))return;r.isLock()||r.lock();const{key:o}=i;if(t.isEmpty())return;if(!["ArrowDown","ArrowUp","Enter","Escape"].includes(o))return;const{actions:a}=t.get();let s=a.findIndex((({$:t})=>t.classList.contains("active")));s<0&&(s=0);const l=t=>{const e=a[s],n=a[t];e&&n&&(e.$.classList.remove("active"),n.$.classList.add("active"),so(n.$,{scrollMode:"if-needed",block:"nearest",inline:"nearest"}))};if("ArrowDown"===o)return void l(s===a.length-1?0:s+1);if("ArrowUp"===o)return void l(0===s?a.length-1:s-1);if("Escape"===o){if(t.isEmpty())return;return t.clear(),void n.classList.add("hide")}const c=a[s];c&&(c.command(e.state,e.dispatch,e),c.$.classList.remove("active"))})(t,e,o,a),u=((t,e)=>n=>{if(e.isLock())return;const{actions:r}=t.get(),i=r.findIndex((t=>t.$.classList.contains("active"))),o=r[i];o&&i>=0&&o.$.classList.remove("active");const{target:a}=n;a instanceof HTMLElement&&a.classList.add("active")})(t,a),h=t=>{const{target:e}=t;e instanceof HTMLElement&&e.classList.remove("active")};return i.addEventListener("mousemove",s),i.addEventListener("mousedown",l),i.addEventListener("keydown",c),{update:e=>{const n=((t,e,n)=>{const{actions:r}=t.get();if(!r.length)return e.classList.add("hide"),!1;for(e.childNodes.forEach((t=>{t.removeEventListener("mouseenter",n.mouseEnter),t.removeEventListener("mouseleave",n.mouseLeave)}));e.firstChild;)e.firstChild.remove();r.forEach((({$:t})=>{t.classList.remove("active"),t.addEventListener("mouseenter",n.mouseEnter),t.addEventListener("mouseleave",n.mouseLeave),e.appendChild(t)})),e.classList.remove("hide");const i=r[0];return i&&(i.$.classList.add("active"),requestAnimationFrame((()=>{so(i.$,{scrollMode:"if-needed",block:"nearest",inline:"nearest"})}))),!0})(t,o,{mouseEnter:u,mouseLeave:h});n&&((t,e)=>{(0,Xt.q7)(t,e,((t,n,r)=>{const i=e.parentElement;if(!i)throw new Error;let o=t.left-r.left,a=t.bottom-r.top+14+i.scrollTop;if(o<0&&(o=0),r.height+r.top-t.bottom<n.height){const e=t.top-r.top-n.height-14+i.scrollTop;e>0&&(a=e)}return[a,o]}))})(e,o)},destroy:()=>{i.removeEventListener("mousemove",s),i.removeEventListener("mousedown",l),i.removeEventListener("keydown",c),o.remove()}}},bo=(t,e,n)=>{const r=(t=>{const e={placeholder:null,actions:[]};return{get:()=>e,clear:()=>{e.placeholder=null,e.actions=[]},update:n=>{var r,i;const o=t(n);return e.placeholder=null!=(r=null==o?void 0:o.placeholder)?r:null,e.actions=(null!=(i=null==o?void 0:o.actions)?i:[]).map(yo),e},isEmpty:()=>0===e.actions.length}})(e);return new z.Sy({key:new z.H$("MILKDOWN_SLASH"),props:mo(r,t),view:e=>vo(r,e,t,n)})},wo=Z(((t,e)=>{var n;const r=null!=(n=null==e?void 0:e.config)?n:go;return{prosePlugins:(e,n)=>{const i=r(n);return[bo(t,i,"slash-dropdown")]}}})),xo=Y.create([wo()]);var _o=Object.defineProperty,ko=Object.getOwnPropertySymbols,Eo=Object.prototype.hasOwnProperty,Co=Object.prototype.propertyIsEnumerable,So=(t,e,n)=>e in t?_o(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;const Do=(t,e)=>{if(!e)return!1;const{from:n,to:r}=t.selection;return t.doc.rangeHasMark(n,n===r?r+1:r,e)},To=(t,e)=>!(t=>{const{selection:e}=t;if(e instanceof z.Bs)return!!t.doc.textBetween(e.from,e.to);return!1})(t)||(t=>Boolean((0,Xt.Kk)((t=>!!t.type.spec.code))(t.selection)))(t)||Do(t,e),Ao=(t,e,n,r,i)=>{var o;return{$:null==(o=t.get(R.Xc).get(R.kS,e))?void 0:o.dom,command:()=>t.get(B.Xo).call(n),active:t=>Do(t.state,r),disable:t=>To(t.state,i),enable:t=>!!r&&!!t.state.schema.marks[r.name]}},Mo=(t,e,n)=>{const{marks:r}=t,i=Array();return void 0!==n&&n.forEach((t=>{i.push((({icon:t,onClick:e,isHidden:n,isActive:r},i)=>{var o;return{$:"function"==typeof t?t(i):null==(o=i.get(R.Xc).get(R.kS,t))?void 0:o.dom,command:"string"==typeof e?()=>i.get(B.Xo).call(e):e(i),disable:n(i),active:r(i),enable:t=>!n(i)(t)}})(t,e))})),((t,e)=>{for(var n in e||(e={}))Eo.call(e,n)&&So(t,n,e[n]);if(ko)for(var n of ko(e))Co.call(e,n)&&So(t,n,e[n]);return t})({0:Ao(e,"bold","ToggleBold",r.strong,r.code_inline),1:Ao(e,"italic","ToggleItalic",r.em,r.code_inline),2:Ao(e,"strikeThrough","ToggleStrikeThrough",r.strike_through,r.code_inline),3:Ao(e,"code","ToggleInlineCode",r.code_inline,r.link),4:Ao(e,"link","ToggleLink",r.link,r.code_inline)},i)},No=(t,e,n)=>{const r=document.createElement("div");return e.themeManager.onFlush((()=>{const t=e.getStyle((t=>((t,{css:e})=>{const n=(e,n=1)=>t.get(R.tP,[e,n]),r=t.get(R.dz,"lineWidth");return e`
        display: inline-flex;
        cursor: pointer;
        justify-content: space-evenly;
        position: absolute;
        border-radius: ${t.get(R.dz,"radius")};
        z-index: 2;

        ${t.get(R.UT,void 0)}
        ${t.get(R.I9,void 0)}

        overflow: hidden;
        background: ${n("surface")};

        .icon {
            position: relative;
            color: ${n("solid",.87)};

            width: 2em;
            line-height: 2em;
            text-align: center;
            transition: all 0.4s ease-in-out;
            &:hover {
                background-color: ${n("secondary",.12)};
            }
            &.active {
                color: ${n("primary")};
            }
            &:not(:last-child)::after {
                content: '';
                position: absolute;
                top: 0;
                right: calc(-0.5 * ${r});
                width: ${r};
                bottom: 0;
                background: ${n("line")};
            }
        }
        &.hide,
        .hide {
            display: none;
        }
    `})(e.themeManager,t)))||"";t&&r.classList.add(t)})),r.classList.add(e.getClassName({},n)),{dom:r,render:e=>{var n;Object.values(t).filter((t=>t.enable(e)&&null!=t.$)).forEach((({$:t})=>r.appendChild(t))),null==(n=e.dom.parentNode)||n.appendChild(r)}}},Oo=(t,e)=>(Object.values(t).filter((t=>t.enable(e)&&null!=t.$)).forEach((t=>{var n;if(null==(n=t.disable)?void 0:n.call(t,e))return void t.$.classList.add("hide");t.$.classList.remove("hide");t.active(e)?t.$.classList.add("active"):t.$.classList.remove("active")})),((t,e)=>Object.values(t).filter((t=>t.enable(e)&&null!=t.$)).every((({$:t})=>t.classList.contains("hide"))))(t,e)),Fo=(t,e,n,r)=>{const{dom:i,render:o}=No(t,e,r),a=e=>{const n=Object.values(t).find((({$:t})=>e.target instanceof Element&&t.contains(e.target)));n&&(e.stopPropagation(),e.preventDefault(),n.command())},s=()=>{i.classList.add("hide")};return i.addEventListener("mousedown",a),{destroy:()=>{i.removeEventListener("mousedown",a),i.remove()},hide:s,update:e=>{Oo(t,e)?s():((t,e,n)=>{t.classList.remove("hide"),(0,Xt.wI)(e,t,((e,r,i,o)=>{const a=t.parentElement;if(!a)throw new Error;const s=r.left-e.left;let l=e.left-o.left-(i.width-s)/2,c=e.top-o.top-i.height-14+a.scrollTop;return l<0&&(l=0),(e.top-o.top<i.height||n&&o.bottom-e.bottom>i.height)&&(c=e.bottom-o.top+14+a.scrollTop),[c,l]}))})(i,e,n)},render:o}},Io=(t,e,n,r)=>{let i=Fo(t,e,n,r),o=!1;const a=(t,e)=>{const{state:n}=t;if(!t.editable||o)return void i.hide();(null==e?void 0:e.doc.eq(n.doc))&&e.selection.eq(n.selection)||i.update(t)};return{recreate:o=>{i=Fo(t,e,n,r),i.render(o),a(o)},update:a,destroy:()=>{i.destroy()},render:t=>{i.render(t),a(t)},setHide:t=>{o=t}}},Lo=new z.H$("MILKDOWN_TOOLTIP"),Bo=Z(((t,e)=>({id:"tooltip",prosePlugins:(n,r)=>{var i;const o=r.get(B.le),a=Io(Mo(o,r,null==e?void 0:e.items),t,null!=(i=null==e?void 0:e.bottom)&&i,"tooltip");return[new z.Sy({key:Lo,props:{handleKeyDown:()=>(a.setHide(!0),!1),handleClick:t=>(a.setHide(!1),a.update(t),!1),handleDOMEvents:{mousedown:()=>(a.setHide(!1),!1)}},view:t=>(a.recreate(t),{update:a.update,destroy:a.destroy})})]}}))),Ro=Y.create([Bo()]),Po=new z.H$("MILKDOWN_TRAILING"),zo=Z(((t,e)=>({prosePlugins:()=>{var t;const n=null!=(t=null==e?void 0:e.shouldAppend)?t:t=>!!t&&!["heading","paragraph"].includes(t.type.name),r=new z.Sy({key:Po,state:{init:(t,e)=>{const r=e.tr.doc.lastChild;return n(r,e)},apply:(t,e,r,i)=>{if(!t.docChanged)return e;const o=t.doc.lastChild;return n(o,i)}},appendTransaction:(t,n,i)=>{var o,a,s;const{doc:l,tr:c,schema:u}=i,h=null!=(s=null==(o=null==e?void 0:e.getNode)?void 0:o.call(e,i))?s:null==(a=u.nodes.paragraph)?void 0:a.create(),d=r.getState(i),f=l.content.size;if(d&&h)return c.insert(f,h)}});return[r]}}))),$o=Y.create([zo()]),jo=async(t,e)=>{const n=[];for(let e=0;e<t.length;e++){const r=t.item(e);r&&(r.type.includes("image")&&n.push(r))}const{image:r}=e.nodes;if(!r)throw new Error;return(await Promise.all(n.map((t=>{return e=t,new Promise((t=>{const n=new FileReader;n.addEventListener("load",(()=>{t({alt:e.name,src:n.result})}),!1),n.readAsDataURL(e)}));var e})))).map((({alt:t,src:e})=>r.createAndFill({src:e,alt:t})))},Uo=new z.H$("MILKDOWN_UPLOAD"),Yo=Z(((t,e)=>{var n;const r=null!=(n=null==e?void 0:e.uploader)?n:jo;return{prosePlugins:(t,n)=>{const i=n.get(B.le),o=new z.Sy({key:Uo,state:{init:()=>ft.EH.empty,apply(t,e){const r=e.map(t.mapping,t.doc),i=t.getMeta(this);if(!i)return r;if(i.add){const e=document.createElement("span"),o=n.get(R.Xc).get(R.kS,"loading");if(!o)throw new Error("Loading icon is not found");e.appendChild(o.dom);const a=ft.p.widget(i.add.pos,e,{id:i.add.id});return r.add(t.doc,[a])}return i.remove?r.remove(r.find(null,null,(t=>t.id===i.remove.id))):void 0}},props:{decorations(t){return this.getState(t)}}}),a=(t,e,n)=>{var a,s;if(!n||n.length<=0)return!1;const l=Symbol("upload symbol"),{tr:c}=t.state,u=e instanceof DragEvent&&null!=(s=null==(a=t.posAtCoords({left:e.clientX,top:e.clientY}))?void 0:a.pos)?s:c.selection.from;return t.dispatch(c.setMeta(o,{add:{id:l,pos:u}})),r(n,i).then((e=>{const n=((t,e)=>{const n=o.getState(t).find(null,null,(t=>t.id===e));return n.length?n[0].from:-1})(t.state,l);n<0||t.dispatch(t.state.tr.replaceWith(n,n,e).setMeta(o,{remove:{id:l}}))})).catch((t=>{})),!0},s=new z.Sy({props:{handlePaste:(t,n)=>{var r,i;return n instanceof ClipboardEvent&&(!(!(null==e?void 0:e.enableHtmlFileUploader)&&(null==(r=n.clipboardData)?void 0:r.getData("text/html")))&&a(t,n,null==(i=n.clipboardData)?void 0:i.files))},handleDrop:(t,e)=>{var n;return e instanceof DragEvent&&a(t,e,null==(n=e.dataTransfer)?void 0:n.files)}}});return[o,s]}}})),qo=Y.create([Yo()]);var Wo=n(51132);const Ho={}.hasOwnProperty;function Vo(t){return String(t||"").toUpperCase()}function Go(){return t=>{const e=function(t){const e=Object.create(null);if(!t||!t.type)throw new Error("mdast-util-definitions expected node");return(0,Tt.Vn)(t,"definition",(function(t){const n=Vo(t.identifier);n&&!Ho.call(e,n)&&(e[n]=t)})),function(t){const n=Vo(t);return n&&Ho.call(e,n)?e[n]:null}}(t);(0,Tt.Vn)(t,((t,n,r)=>{if("definition"===t.type&&null!==r&&"number"==typeof n)return r.children.splice(n,1),[Wo.AM,n];if("imageReference"===t.type||"linkReference"===t.type){const i=e(t.identifier);if(i&&null!==r&&"number"==typeof n){const e="imageReference"===t.type?{type:"image",url:i.url,title:i.title,alt:t.alt}:{type:"link",url:i.url,title:i.title,children:t.children};return r.children[n]=e,[Wo.AM,n]}}}))}}var Xo=Object.defineProperty,Ko=Object.defineProperties,Jo=Object.getOwnPropertyDescriptors,Zo=Object.getOwnPropertySymbols,Qo=Object.prototype.hasOwnProperty,ta=Object.prototype.propertyIsEnumerable,ea=(t,e,n)=>e in t?Xo(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,na=(t,e)=>{for(var n in e||(e={}))Qo.call(e,n)&&ea(t,n,e[n]);if(Zo)for(var n of Zo(e))ta.call(e,n)&&ea(t,n,e[n]);return t},ra=(t,e)=>Ko(t,Jo(e));const ia={HardBreak:"HardBreak",Blockquote:"Blockquote",BulletList:"BulletList",OrderedList:"OrderedList",CodeFence:"CodeFence",H1:"H1",H2:"H2",H3:"H3",H4:"H4",H5:"H5",H6:"H6",Text:"Text",CodeInline:"CodeInline",Em:"Em",Bold:"Bold",NextListItem:"NextListItem",SinkListItem:"SinkListItem",LiftListItem:"LiftListItem"},oa="code_inline",aa=(0,B.uW)("ToggleInlineCode"),sa=K((t=>({id:oa,schema:()=>({priority:100,code:!0,inclusive:!1,parseDOM:[{tag:"code"}],toDOM:e=>["code",{class:t.getClassName(e.attrs,"code-inline")}],parseMarkdown:{match:t=>"inlineCode"===t.type,runner:(t,e,n)=>{t.openMark(n),t.addText(e.value),t.closeMark(n)}},toMarkdown:{match:t=>t.type.name===oa,runner:(t,e,n)=>{t.withMark(e,"inlineCode",n.text||"")}}}),inputRules:t=>[(0,Xt.j4)(/(?:^|[^`])(`([^`]+)`)$/,t)],commands:t=>[(0,B.ml)(aa,(()=>(0,_t.w9)(t)))],shortcuts:{[ia.CodeInline]:W(aa,"Mod-e")}}))),la="em",ca=(0,B.uW)("ToggleItalic"),ua=K((t=>({id:la,schema:()=>({parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style",getAttrs:t=>"italic"===t}],toDOM:e=>["em",{class:t.getClassName(e.attrs,la)}],parseMarkdown:{match:t=>"emphasis"===t.type,runner:(t,e,n)=>{t.openMark(n),t.next(e.children),t.closeMark(n)}},toMarkdown:{match:t=>t.type.name===la,runner:(t,e)=>{t.withMark(e,"emphasis")}}}),inputRules:t=>[(0,Xt.j4)(/(?:^|[^_])(_([^_]+)_)$/,t),(0,Xt.j4)(/(?:^|[^*])(\*([^*]+)\*)$/,t)],commands:t=>[(0,B.ml)(ca,(()=>(0,_t.w9)(t)))],shortcuts:{[ia.Em]:W(ca,"Mod-i")}}))),ha=new z.H$("MILKDOWN_LINK_INPUT"),da=(0,B.uW)("ToggleLink"),fa=(0,B.uW)("ModifyLink"),pa="link",ga=K(((t,e)=>({id:pa,schema:()=>({attrs:{href:{},title:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:t=>{if(!(t instanceof HTMLElement))throw new Error;return{href:t.getAttribute("href"),title:t.getAttribute("title")}}}],toDOM:e=>["a",ra(na({},e.attrs),{class:t.getClassName(e.attrs,pa)})],parseMarkdown:{match:t=>"link"===t.type,runner:(t,e,n)=>{const r=e.url,i=e.title;t.openMark(n,{href:r,title:i}),t.next(e.children),t.closeMark(n)}},toMarkdown:{match:t=>t.type.name===pa,runner:(t,e)=>{t.withMark(e,"link",void 0,{title:e.attrs.title,url:e.attrs.href})}}}),commands:t=>[(0,B.ml)(da,((e="")=>(0,_t.w9)(t,{href:e}))),(0,B.ml)(fa,((e="")=>(n,r)=>{if(!r)return!1;const{marks:i}=n.schema;let o,a=-1;const{selection:s}=n;if(n.doc.nodesBetween(s.from,s.to,((t,e)=>{if(i.link.isInSet(t.marks))return o=t,a=e,!1})),!o)return!1;const l=o.marks.find((({type:e})=>e===t));if(!l)return!1;const c=a,u=a+o.nodeSize,{tr:h}=n,d=i.link.create(ra(na({},l.attrs),{href:e}));return r(h.removeMark(c,u,l).addMark(c,u,d).setSelection(new z.Bs(h.selection.$anchor)).scrollIntoView()),!0}))],inputRules:(t,e)=>[new kt.VK(/\[(?<text>.*?)]\((?<href>.*?)(?=“|\))"?(?<title>[^"]+)?"?\)/,((n,r,i,o)=>{const[a,s="",l,c]=r,{tr:u}=n;if(a){const n=s||"link";u.replaceWith(i,o,e.get(B.le).text(n)).addMark(i,n.length+i,t.create({title:c,href:l}))}return u}))],prosePlugins:(n,r)=>[new z.Sy({key:ha,view:i=>{var o,a,s;const l=t.themeManager.get("input-chip",{placeholder:null!=(a=null==(o=null==e?void 0:e.input)?void 0:o.placeholder)?a:"Input Web Link",buttonText:null==(s=null==e?void 0:e.input)?void 0:s.buttonText,onUpdate:t=>{r.get(B.Xo).call(fa,t)}});if(!l)return{};const c=t=>{if(!t.editable)return;const e=(t=>{const{selection:e,doc:r}=t.state,{from:i,to:o}=e;return t.hasFocus()&&e.empty&&e instanceof z.Bs&&o<r.content.size&&i<r.content.size&&r.rangeHasMark(i,i===o?o+1:o,n)})(t);e?(l.show(t),l.update((t=>{const{selection:e}=t.state;let r;const{from:i,to:o}=e;if(t.state.doc.nodesBetween(i,i===o?o+1:o,(t=>{if(n.isInSet(t.marks))return r=t,!1})),!r)return;const a=r.marks.find((t=>t.type===n));if(!a)return;return a.attrs.href})(t))):l.hide()};return l.init(i),c(i),{update:(t,e)=>{(null==e?void 0:e.doc.eq(t.state.doc))&&e.selection.eq(t.state.selection)||c(t)},destroy:()=>{l.destroy()}}}})]}))),ma="strong",ya=(0,B.uW)("ToggleBold"),va=K((t=>({id:ma,schema:()=>({parseDOM:[{tag:"b"},{tag:"strong"},{style:"font-style",getAttrs:t=>"bold"===t}],toDOM:e=>["strong",{class:t.getClassName(e.attrs,ma)}],parseMarkdown:{match:t=>"strong"===t.type,runner:(t,e,n)=>{t.openMark(n),t.next(e.children),t.closeMark(n)}},toMarkdown:{match:t=>t.type.name===ma,runner:(t,e)=>{t.withMark(e,"strong")}}}),inputRules:t=>[(0,Xt.j4)(/(?:__)([^_]+)(?:__)$/,t),(0,Xt.j4)(/(?:\*\*)([^*]+)(?:\*\*)$/,t)],commands:t=>[(0,B.ml)(ya,(()=>(0,_t.w9)(t)))],shortcuts:{[ia.Bold]:W(ya,"Mod-b")}}))),ba=[sa(),ua(),va(),ga()],wa="blockquote",xa=(0,B.uW)("WrapInBlockquote"),_a=J((t=>({id:wa,schema:()=>({content:"block+",group:"block",defining:!0,parseDOM:[{tag:"blockquote"}],toDOM:e=>["blockquote",{class:t.getClassName(e.attrs,wa)},0],parseMarkdown:{match:({type:t})=>t===wa,runner:(t,e,n)=>{t.openNode(n).next(e.children).closeNode()}},toMarkdown:{match:t=>t.type.name===wa,runner:(t,e)=>{t.openNode("blockquote").next(e.content).closeNode()}}}),inputRules:t=>[(0,kt.S0)(/^\s*>\s$/,t)],commands:t=>[(0,B.ml)(xa,(()=>(0,_t.ym)(t)))],shortcuts:{[ia.Blockquote]:W(xa,"Mod-Shift-b")}}))),ka=(0,B.uW)("WrapInBulletList"),Ea=J((t=>{const e="bullet_list";return{id:e,schema:()=>({content:"listItem+",group:"block",parseDOM:[{tag:"ul"}],toDOM:e=>["ul",{class:t.getClassName(e.attrs,"bullet-list")},0],parseMarkdown:{match:({type:t,ordered:e})=>"list"===t&&!e,runner:(t,e,n)=>{t.openNode(n).next(e.children).closeNode()}},toMarkdown:{match:t=>t.type.name===e,runner:(t,e)=>{t.openNode("list",void 0,{ordered:!1}).next(e.content).closeNode()}}}),inputRules:t=>[(0,kt.S0)(/^\s*([-+*])\s$/,t)],commands:t=>[(0,B.ml)(ka,(()=>(0,_t.ym)(t)))],shortcuts:{[ia.BulletList]:W(ka,"Mod-Alt-8")}}})),Ca=["","javascript","typescript","bash","sql","json","html","css","c","cpp","java","ruby","python","go","rust","markdown"],Sa=/^```(?<language>[a-z]*)?[\s\n]$/,Da=/^~~~(?<language>[a-z]*)?[\s\n]$/,Ta=(0,B.uW)("TurnIntoCodeFence"),Aa="fence",Ma=J(((t,e)=>{const n=(null==e?void 0:e.languageList)||Ca;return{id:Aa,schema:e=>({content:"text*",group:"block",marks:"",defining:!0,code:!0,attrs:{language:{default:""},fold:{default:!0}},parseDOM:[{tag:"div.code-fence-container",preserveWhitespace:"full",getAttrs:t=>{var e;if(!(t instanceof HTMLElement))throw new Error("Parse DOM error.");return{language:null==(e=t.querySelector("pre"))?void 0:e.dataset.language}},getContent:(t,e)=>{var n,r;if(!(t instanceof HTMLElement))throw new Error("Parse DOM error.");const i=e.text(null!=(r=null==(n=t.querySelector("pre"))?void 0:n.textContent)?r:"");return P.HY.from(i)}},{tag:"pre",preserveWhitespace:"full",getAttrs:t=>{if(!(t instanceof HTMLElement))throw new Error("Parse DOM error.");return{language:t.dataset.language}}}],toDOM:r=>{const i=document.createElement("select");return n.forEach((t=>{const e=document.createElement("option");e.value=t,e.innerText=t||"--",t===r.attrs.language&&(e.selected=!0),i.appendChild(e)})),i.onchange=t=>{const n=t.target;if(!(n instanceof HTMLSelectElement))return;const i=e.get(B.U7);if(!i.editable)return void(n.value=r.attrs.language);const{top:o,left:a}=n.getBoundingClientRect(),s=i.posAtCoords({top:o,left:a});if(!s)return;const{tr:l}=i.state;i.dispatch(l.setNodeMarkup(s.inside,void 0,ra(na({},r.attrs),{language:n.value})))},["div",{class:"code-fence-container"},i,["pre",{"data-language":r.attrs.language,class:t.getClassName(r.attrs,"code-fence")},["code",{spellCheck:"false"},0]]]},parseMarkdown:{match:({type:t})=>"code"===t,runner:(t,e,n)=>{const r=e.lang,i=e.value;t.openNode(n,{language:r}),i&&t.addText(i),t.closeNode()}},toMarkdown:{match:t=>t.type.name===Aa,runner:(t,e)=>{var n;t.addNode("code",void 0,(null==(n=e.content.firstChild)?void 0:n.text)||"",{lang:e.attrs.language})}}}),inputRules:t=>[(0,kt.zK)(Sa,t,(t=>{const[e,n]=t;if(e)return{language:n}})),(0,kt.zK)(Da,t,(t=>{const[e,n]=t;if(e)return{language:n}}))],commands:t=>[(0,B.ml)(Ta,(()=>(0,_t.uJ)(t)))],shortcuts:{[ia.CodeFence]:W(Ta,"Mod-Alt-c")},view:()=>(e,r,i)=>{let o=e;const a=t.themeManager.get("code-fence",{onBlur:()=>{const{tr:t}=r.state;r.dispatch(t.setNodeMarkup(i(),void 0,ra(na({},o.attrs),{fold:!0})))},onFocus:()=>{const{tr:t}=r.state;r.dispatch(t.setNodeMarkup(i(),void 0,ra(na({},o.attrs),{fold:!1})))},onSelectLanguage:t=>{const{tr:e}=r.state;r.dispatch(e.setNodeMarkup(i(),void 0,{fold:!0,language:t}))},editable:()=>r.editable,languageList:n});if(!a)return{};const{dom:s,contentDOM:l,onUpdate:c,onDestroy:u}=a;return c(o),{dom:s,contentDOM:l,update:t=>t.type.name===Aa&&(o=t,c(o),!0),destroy:u}}}})),Na=J((()=>({id:"doc",schema:()=>({content:"block+",parseMarkdown:{match:({type:t})=>"root"===t,runner:(t,e,n)=>{t.injectRoot(e,n)}},toMarkdown:{match:t=>"doc"===t.type.name,runner:(t,e)=>{t.openNode("root"),t.next(e.content)}}})}))),Oa=(0,B.uW)("InsertHardbreak"),Fa=J((t=>({id:"hardbreak",schema:()=>({inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:e=>["br",{class:t.getClassName(e.attrs,"hardbreak")}],parseMarkdown:{match:({type:t})=>"break"===t,runner:(t,e,n)=>{t.addNode(n)}},toMarkdown:{match:t=>"hardbreak"===t.type.name,runner:t=>{t.addNode("break")}}}),commands:t=>[(0,B.ml)(Oa,(()=>(e,n)=>(null==n||n(e.tr.setMeta("hardbreak",!0).replaceSelectionWith(t.create()).scrollIntoView()),!0)))],shortcuts:{[ia.HardBreak]:W(Oa,"Shift-Enter")},prosePlugins:t=>[new z.Sy({key:new z.H$("MILKDOWN_HARDBREAK_MARKS"),appendTransaction:(e,n,r)=>{if(!e.length)return;const[i]=e;if(!i)return;const[o]=i.steps;if(i.getMeta("hardbreak")){if(!(o instanceof ut.Pu))return;const{from:e}=o;return r.tr.setNodeMarkup(e,t,void 0,[])}if(o instanceof ut.WJ){let e=r.tr;const{from:n,to:i}=o;return r.doc.nodesBetween(n,i,((n,r)=>{n.type===t&&(e=e.setNodeMarkup(r,t,void 0,[]))})),e}}})]}))),Ia=Array(6).fill(0).map(((t,e)=>e+1)),La=(0,B.uW)("TurnIntoHeading"),Ba=new z.H$("MILKDOWN_ID"),Ra=t=>t.textContent.replace(/[\p{P}\p{S}]/gu,"").replace(/\s/g,"-").toLowerCase().trim(),Pa=J((t=>{const e="heading";return{id:e,schema:()=>({content:"inline*",group:"block",defining:!0,attrs:{id:{default:""},level:{default:1}},parseDOM:Ia.map((t=>({tag:`h${t}`,getAttrs:e=>{if(!(e instanceof HTMLElement))throw new Error;return{level:t,id:e.id}}}))),toDOM:e=>[`h${e.attrs.level}`,{id:e.attrs.id||Ra(e),class:t.getClassName(e.attrs,`heading h${e.attrs.level}`)},0],parseMarkdown:{match:({type:t})=>t===e,runner:(t,e,n)=>{const r=e.depth;t.openNode(n,{level:r}),t.next(e.children),t.closeNode()}},toMarkdown:{match:t=>t.type.name===e,runner:(t,e)=>{t.openNode("heading",void 0,{depth:e.attrs.level}),t.next(e.content),t.closeNode()}}}),inputRules:t=>Ia.map((e=>(0,kt.zK)(new RegExp(`^(#{1,${e}})\\s$`),t,(()=>({level:e}))))),commands:t=>[(0,B.ml)(La,((e=1)=>(0,_t.uJ)(t,{level:e})))],shortcuts:{[ia.H1]:W(La,"Mod-Alt-1",1),[ia.H2]:W(La,"Mod-Alt-2",2),[ia.H3]:W(La,"Mod-Alt-3",3),[ia.H4]:W(La,"Mod-Alt-4",4),[ia.H5]:W(La,"Mod-Alt-5",5),[ia.H6]:W(La,"Mod-Alt-6",6)},prosePlugins:(t,e)=>{let n=!1;const r=(e,r)=>{const i=e.tr;e.doc.descendants(((e,r)=>{if(e.type===t&&!n){if(0===e.textContent.trim().length)return;const t=e.attrs,n=Ra(e);t.id!==n&&i.setMeta(Ba,!0).setNodeMarkup(r,void 0,ra(na({},t),{id:n}))}})),r(i)};return[new z.Sy({key:Ba,props:{handleDOMEvents:{compositionstart:()=>(n=!0,!1),compositionend:()=>{n=!1;const t=e.get(B.U7);return setTimeout((()=>{r(t.state,(e=>t.dispatch(e)))}),0),!1}}},appendTransaction:(t,e,n)=>{let i=null;return t.every((t=>!t.getMeta(Ba)))&&t.some((t=>t.docChanged))&&r(n,(t=>{i=t})),i}})]}}})),za="hr",$a=(0,B.uW)("InsertHr"),ja=J((t=>({id:za,schema:()=>({group:"block",parseDOM:[{tag:"hr"}],toDOM:e=>["hr",{class:t.getClassName(e.attrs,za)}],parseMarkdown:{match:({type:t})=>"thematicBreak"===t,runner:(t,e,n)=>{t.addNode(n)}},toMarkdown:{match:t=>t.type.name===za,runner:t=>{t.addNode("thematicBreak")}}}),inputRules:t=>[new kt.VK(/^(?:---|___\s|\*\*\*\s)$/,((e,n,r,i)=>{const{tr:o}=e;return n[0]&&o.replaceWith(r-1,i,t.create()),o}))],commands:(t,e)=>[(0,B.ml)($a,(()=>(n,r)=>{if(!r)return!0;const{tr:i,selection:o}=n,a=o.from,s=t.create();if(!s)return!0;const l=i.replaceSelectionWith(s).insert(a,e.get(B.le).node("paragraph")),c=z.Y1.findFrom(l.doc.resolve(a),1,!0);return!c||(r(l.setSelection(c).scrollIntoView()),!0)}))]}))),Ua=(0,B.uW)("ModifyImage"),Ya=(0,B.uW)("InsertImage"),qa="image",Wa=new z.H$("MILKDOWN_IMAGE_INPUT"),Ha=J(((t,e)=>({id:"image",schema:()=>({inline:!0,group:"inline",selectable:!0,draggable:!0,marks:"",atom:!0,defining:!0,isolating:!0,attrs:{src:{default:""},alt:{default:null},title:{default:null}},parseDOM:[{tag:"img[src]",getAttrs:t=>{if(!(t instanceof HTMLElement))throw new Error;return{src:t.getAttribute("src")||"",alt:t.getAttribute("alt"),title:t.getAttribute("title")||t.getAttribute("alt"),width:t.getAttribute("width")}}}],toDOM:e=>["img",ra(na({},e.attrs),{class:t.getClassName(e.attrs,qa)})],parseMarkdown:{match:({type:t})=>t===qa,runner:(t,e,n)=>{const r=e.url,i=e.alt,o=e.title;t.addNode(n,{src:r,alt:i,title:o})}},toMarkdown:{match:t=>t.type.name===qa,runner:(t,e)=>{t.addNode("image",void 0,void 0,{title:e.attrs.title,url:e.attrs.src,alt:e.attrs.alt})}}}),commands:t=>[(0,B.ml)(Ya,((e="")=>(n,r)=>{if(!r)return!0;const{tr:i}=n,o=t.create({src:e});if(!o)return!0;return r(i.replaceSelectionWith(o).scrollIntoView()),!0})),(0,B.ml)(Ua,((e="")=>(n,r)=>{const i=(0,Xt.a1)(n.selection,t);if(!i)return!1;const{tr:o}=n;return null==r||r(o.setNodeMarkup(i.pos,void 0,ra(na({},i.node.attrs),{loading:!0,src:e})).scrollIntoView()),!0}))],inputRules:t=>[new kt.VK(/!\[(?<alt>.*?)]\((?<filename>.*?)\s*(?="|\))"?(?<title>[^"]+)?"?\)/,((e,n,r,i)=>{const[o,a,s="",l]=n,{tr:c}=e;return o&&c.replaceWith(r,i,t.create({src:s,alt:a,title:l})),c}))],view:()=>n=>{var r,i;let o=n;const a=null!=(r=null==e?void 0:e.placeholder)?r:"Add an Image",s=null!=(i=null==e?void 0:e.isBlock)&&i,l=t.themeManager.get("image",{placeholder:a,isBlock:s});if(!l)return{};const{dom:c,onUpdate:u}=l;return u(o),{dom:c,update:t=>t.type.name===qa&&(o=t,u(o),!0),selectNode:()=>{c.classList.add("ProseMirror-selectednode")},deselectNode:()=>{c.classList.remove("ProseMirror-selectednode")}}},prosePlugins:(n,r)=>[new z.Sy({key:Wa,view:i=>{var o,a,s;const l=t.themeManager.get("input-chip",{placeholder:null!=(a=null==(o=null==e?void 0:e.input)?void 0:o.placeholder)?a:"Input Image Link",buttonText:null==(s=null==e?void 0:e.input)?void 0:s.buttonText,onUpdate:t=>{r.get(B.Xo).call(Ua,t)}});if(!l)return{};const c=t=>{if(!t.editable)return;const e=(t=>Boolean(t.hasFocus()&&n&&(0,Xt.a1)(t.state.selection,n)))(t);e?(l.show(t),l.update((t=>{const e=(0,Xt.a1)(t.state.selection,n);if(!e)return;return e.node.attrs.src})(t))):l.hide()};return l.init(i),c(i),{update:(t,e)=>{(null==e?void 0:e.doc.eq(t.state.doc))&&e.selection.eq(t.state.selection)||c(t)},destroy:()=>{l.destroy()}}}})]}))),Va="list_item",Ga=(0,B.uW)("SplitListItem"),Xa=(0,B.uW)("SinkListItem"),Ka=(0,B.uW)("LiftListItem"),Ja=J((t=>({id:Va,schema:()=>({group:"listItem",content:"paragraph block*",defining:!0,parseDOM:[{tag:"li"}],toDOM:e=>["li",{class:t.getClassName(e.attrs,"list-item")},0],parseMarkdown:{match:({type:t,checked:e})=>"listItem"===t&&null===e,runner:(t,e,n)=>{t.openNode(n),t.next(e.children),t.closeNode()}},toMarkdown:{match:t=>t.type.name===Va,runner:(t,e)=>{t.openNode("listItem"),t.next(e.content),t.closeNode()}}}),inputRules:t=>[(0,kt.S0)(/^\s*([-+*])\s$/,t)],commands:t=>[(0,B.ml)(Ga,(()=>An(t))),(0,B.ml)(Xa,(()=>Nn(t))),(0,B.ml)(Ka,(()=>Mn(t)))],shortcuts:{[ia.NextListItem]:W(Ga,"Enter"),[ia.SinkListItem]:W(Xa,"Mod-]"),[ia.LiftListItem]:W(Ka,"Mod-[")}}))),Za=(0,B.uW)("WrapInOrderedList"),Qa="ordered_list",ts=J((t=>({id:Qa,schema:()=>({content:"listItem+",group:"block",attrs:{order:{default:1}},parseDOM:[{tag:"ol",getAttrs:t=>{if(!(t instanceof HTMLElement))throw new Error;return{order:t.hasAttribute("start")?Number(t.getAttribute("start")):1}}}],toDOM:e=>["ol",ra(na({},1===e.attrs.order?{}:e.attrs.order),{class:t.getClassName(e.attrs,"ordered-list")}),0],parseMarkdown:{match:({type:t,ordered:e})=>"list"===t&&!!e,runner:(t,e,n)=>{t.openNode(n).next(e.children).closeNode()}},toMarkdown:{match:t=>t.type.name===Qa,runner:(t,e)=>{t.openNode("list",void 0,{ordered:!0,start:1}),t.next(e.content),t.closeNode()}}}),inputRules:t=>[(0,kt.S0)(/^(\d+)\.\s$/,t,(t=>({order:Number(t[1])})),((t,e)=>e.childCount+e.attrs.order===Number(t[1])))],commands:t=>[(0,B.ml)(Za,(()=>(0,_t.ym)(t)))],shortcuts:{[ia.OrderedList]:W(Za,"Mod-Alt-7")}}))),es=(0,B.uW)("TurnIntoText"),ns="paragraph",rs=J((t=>({id:ns,schema:()=>({content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM:e=>["p",{class:t.getClassName(e.attrs,ns)},0],parseMarkdown:{match:t=>"paragraph"===t.type,runner:(t,e,n)=>{t.openNode(n),e.children?t.next(e.children):t.addText(e.value),t.closeNode()}},toMarkdown:{match:t=>"paragraph"===t.type.name,runner:(t,e)=>{var n;t.openNode("paragraph");1===e.childCount&&"hardbreak"===(null==(n=e.firstChild)?void 0:n.type.name)||t.next(e.content),t.closeNode()}}}),commands:t=>[(0,B.ml)(es,(()=>(0,_t.uJ)(t)))],shortcuts:{[ia.Text]:W(es,"Mod-Alt-0")}}))),is=J((()=>({id:"text",schema:()=>({group:"inline",parseMarkdown:{match:({type:t})=>"text"===t,runner:(t,e)=>{t.addText(e.value)}},toMarkdown:{match:t=>"text"===t.type.name,runner:(t,e)=>{t.addNode("text",void 0,e.text)}}})}))),os=[Na(),rs(),Fa(),_a(),Ma(),Ea(),ts(),Ja(),Pa(),ja(),Ha(),is()];const as=()=>function(t){var e;e=t=>(t=>"html"===t.type)(t)?[]:[t],function t(n,r,i){if((t=>!!t.children)(n)){const e=[];for(let r=0,i=n.children.length;r<i;r++){const i=n.children[r];if(i){const o=t(i,r,n);if(o)for(let t=0,n=o.length;t<n;t++){const n=o[t];n&&e.push(n)}}}n.children=e}return e(n,r,i)}(t,0,null)[0]},ss=new z.H$("MILKDOWN_INLINE_NODES_CURSOR"),ls=new z.Sy({key:ss,state:{init:()=>!1,apply(t){if(!t.selection.empty)return!1;const e=t.selection.$from,n=e.nodeBefore,r=e.nodeAfter;return!(!(n&&r&&n.isInline&&!n.isText&&r.isInline)||r.isText)}},props:{handleDOMEvents:{beforeinput:(t,e)=>{if(ls.getState(t.state)){const n=t.state.selection.from;return e.preventDefault(),t.dispatch(t.state.tr.insertText(e.data||"",n)),!0}return!1}},decorations(t){if(ls.getState(t)){const e=t.selection.$from.pos,n=document.createElement("span"),r=ft.p.widget(e,n,{side:-1}),i=document.createElement("span"),o=ft.p.widget(e,i);return setTimeout((()=>{n.contentEditable="true",i.contentEditable="true"})),ft.EH.create(t.doc,[r,o])}return ft.EH.empty}}}),cs=[Z((()=>({prosePlugins:()=>[ls],remarkPlugins:()=>[Go,as]})))()],us=Y.create([...os,...ba]),hs=Y.create([...cs,...us]),ds={ToggleInlineCode:aa,ToggleItalic:ca,ToggleLink:da,ToggleBold:ya,ModifyLink:fa,ModifyImage:Ua,WrapInBlockquote:xa,WrapInBulletList:ka,WrapInOrderedList:Za,TurnIntoCodeFence:Ta,TurnIntoHeading:La,TurnIntoText:es,InsertHardbreak:Oa,InsertHr:$a,InsertImage:Ya,SplitListItem:Ga,SinkListItem:Xa,LiftListItem:Ka};var fs=n(78438);const ps={tokenize:function(t,e,n){return function(e){return t.consume(e),r};function r(e){return 87===e||119===e?(t.consume(e),i):n(e)}function i(e){return 87===e||119===e?(t.consume(e),o):n(e)}function o(e){return 46===e?(t.consume(e),a):n(e)}function a(t){return null===t||(0,en.Ch)(t)?n(t):e(t)}},partial:!0},gs={tokenize:function(t,e,n){let r,i;return o;function o(e){return 38===e?t.check(vs,s,a)(e):46===e||95===e?t.check(ys,s,a)(e):null===e||(0,en.Av)(e)||(0,en.B8)(e)||45!==e&&(0,en.Xh)(e)?s(e):(t.consume(e),o)}function a(e){return 46===e?(i=r,r=void 0,t.consume(e),o):(95===e&&(r=!0),t.consume(e),o)}function s(t){return i||r?n(t):e(t)}},partial:!0},ms={tokenize:function(t,e){let n=0;return r;function r(a){return 38===a?t.check(vs,e,i)(a):(40===a&&n++,41===a?t.check(ys,o,i)(a):Ss(a)?e(a):Cs(a)?t.check(ys,e,i)(a):(t.consume(a),r))}function i(e){return t.consume(e),r}function o(t){return n--,n<0?e(t):i(t)}},partial:!0},ys={tokenize:function(t,e,n){return function(e){return t.consume(e),r};function r(i){return Cs(i)?(t.consume(i),r):Ss(i)?e(i):n(i)}},partial:!0},vs={tokenize:function(t,e,n){return function(e){return t.consume(e),r};function r(e){return(0,en.jv)(e)?(t.consume(e),r):59===e?(t.consume(e),i):n(e)}function i(t){return Ss(t)?e(t):n(t)}},partial:!0},bs={tokenize:function(t,e,n){const r=this;return function(e){if(87!==e&&119!==e||!Ts(r.previous)||Ns(r.events))return n(e);return t.enter("literalAutolink"),t.enter("literalAutolinkWww"),t.check(ps,t.attempt(gs,t.attempt(ms,i),n),n)(e)};function i(n){return t.exit("literalAutolinkWww"),t.exit("literalAutolink"),e(n)}},previous:Ts},ws={tokenize:function(t,e,n){const r=this;return function(e){if(72!==e&&104!==e||!As(r.previous)||Ns(r.events))return n(e);return t.enter("literalAutolink"),t.enter("literalAutolinkHttp"),t.consume(e),i};function i(e){return 84===e||116===e?(t.consume(e),o):n(e)}function o(e){return 84===e||116===e?(t.consume(e),a):n(e)}function a(e){return 80===e||112===e?(t.consume(e),s):n(e)}function s(e){return 83===e||115===e?(t.consume(e),l):l(e)}function l(e){return 58===e?(t.consume(e),c):n(e)}function c(e){return 47===e?(t.consume(e),u):n(e)}function u(e){return 47===e?(t.consume(e),h):n(e)}function h(e){return null===e||(0,en.Av)(e)||(0,en.B8)(e)||(0,en.Xh)(e)?n(e):t.attempt(gs,t.attempt(ms,d),n)(e)}function d(n){return t.exit("literalAutolinkHttp"),t.exit("literalAutolink"),e(n)}},previous:As},xs={tokenize:function(t,e,n){const r=this;let i,o;return function(e){if(!Ds(e)||!Ms(r.previous)||Ns(r.events))return n(e);return t.enter("literalAutolink"),t.enter("literalAutolinkEmail"),a(e)};function a(e){return Ds(e)?(t.consume(e),a):64===e?(t.consume(e),s):n(e)}function s(e){return 46===e?t.check(ys,h,l)(e):45===e||95===e?t.check(ys,n,c)(e):(0,en.H$)(e)?(!o&&(0,en.pY)(e)&&(o=!0),t.consume(e),s):h(e)}function l(e){return t.consume(e),i=!0,o=void 0,s}function c(e){return t.consume(e),u}function u(e){return 46===e?t.check(ys,n,l)(e):s(e)}function h(r){return i&&!o?(t.exit("literalAutolinkEmail"),t.exit("literalAutolink"),e(r)):n(r)}},previous:Ms},_s={},ks={text:_s};let Es=48;for(;Es<123;)_s[Es]=xs,Es++,58===Es?Es=65:91===Es&&(Es=97);function Cs(t){return 33===t||34===t||39===t||41===t||42===t||44===t||46===t||58===t||59===t||60===t||63===t||95===t||126===t}function Ss(t){return null===t||60===t||(0,en.z3)(t)}function Ds(t){return 43===t||45===t||46===t||95===t||(0,en.H$)(t)}function Ts(t){return null===t||40===t||42===t||95===t||126===t||(0,en.z3)(t)}function As(t){return null===t||!(0,en.jv)(t)}function Ms(t){return 47!==t&&As(t)}function Ns(t){let e=t.length,n=!1;for(;e--;){const r=t[e][1];if(("labelLink"===r.type||"labelImage"===r.type)&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return t.length>0&&!n&&(t[t.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}_s[43]=xs,_s[45]=xs,_s[46]=xs,_s[95]=xs,_s[72]=[xs,ws],_s[104]=[xs,ws],_s[87]=[xs,bs],_s[119]=[xs,bs];var Os=n(16036),Fs=n(36426);const Is={tokenize:function(t,e,n){const r=this;return(0,tn.f)(t,(function(t){const i=r.events[r.events.length-1];return i&&"gfmFootnoteDefinitionIndent"===i[1].type&&4===i[2].sliceSerialize(i[1],!0).length?e(t):n(t)}),"gfmFootnoteDefinitionIndent",5)},partial:!0};function Ls(t,e,n){const r=this;let i=r.events.length;const o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a;for(;i--;){const t=r.events[i][1];if("labelImage"===t.type){a=t;break}if("gfmFootnoteCall"===t.type||"labelLink"===t.type||"label"===t.type||"image"===t.type||"link"===t.type)break}return function(i){if(!a||!a._balanced)return n(i);const s=(0,Fs.d)(r.sliceSerialize({start:a.end,end:r.now()}));if(94!==s.charCodeAt(0)||!o.includes(s.slice(1)))return n(i);return t.enter("gfmFootnoteCallLabelMarker"),t.consume(i),t.exit("gfmFootnoteCallLabelMarker"),e(i)}}function Bs(t,e){let n,r=t.length;for(;r--;)if("labelImage"===t[r][1].type&&"enter"===t[r][0]){n=t[r][1];break}t[r+1][1].type="data",t[r+3][1].type="gfmFootnoteCallLabelMarker";const i={type:"gfmFootnoteCall",start:Object.assign({},t[r+3][1].start),end:Object.assign({},t[t.length-1][1].end)},o={type:"gfmFootnoteCallMarker",start:Object.assign({},t[r+3][1].end),end:Object.assign({},t[r+3][1].end)};o.end.column++,o.end.offset++,o.end._bufferIndex++;const a={type:"gfmFootnoteCallString",start:Object.assign({},o.end),end:Object.assign({},t[t.length-1][1].start)},s={type:"chunkString",contentType:"string",start:Object.assign({},a.start),end:Object.assign({},a.end)},l=[t[r+1],t[r+2],["enter",i,e],t[r+3],t[r+4],["enter",o,e],["exit",o,e],["enter",a,e],["enter",s,e],["exit",s,e],["exit",a,e],t[t.length-2],t[t.length-1],["exit",i,e]];return t.splice(r,t.length-r+1,...l),t}function Rs(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o,a=0;return function(e){return t.enter("gfmFootnoteCall"),t.enter("gfmFootnoteCallLabelMarker"),t.consume(e),t.exit("gfmFootnoteCallLabelMarker"),s};function s(e){return 94!==e?n(e):(t.enter("gfmFootnoteCallMarker"),t.consume(e),t.exit("gfmFootnoteCallMarker"),t.enter("gfmFootnoteCallString"),t.enter("chunkString").contentType="string",l)}function l(s){let u;return null===s||91===s||a++>999?n(s):93===s?o?(t.exit("chunkString"),u=t.exit("gfmFootnoteCallString"),i.includes((0,Fs.d)(r.sliceSerialize(u)))?function(n){return t.enter("gfmFootnoteCallLabelMarker"),t.consume(n),t.exit("gfmFootnoteCallLabelMarker"),t.exit("gfmFootnoteCall"),e}(s):n(s)):n(s):(t.consume(s),(0,en.z3)(s)||(o=!0),92===s?c:l)}function c(e){return 91===e||92===e||93===e?(t.consume(e),a++,l):l(e)}}function Ps(t,e,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o,a,s=0;return function(e){return t.enter("gfmFootnoteDefinition")._container=!0,t.enter("gfmFootnoteDefinitionLabel"),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(e),t.exit("gfmFootnoteDefinitionLabelMarker"),l};function l(e){return 94===e?(t.enter("gfmFootnoteDefinitionMarker"),t.consume(e),t.exit("gfmFootnoteDefinitionMarker"),t.enter("gfmFootnoteDefinitionLabelString"),c):n(e)}function c(e){let i;return null===e||91===e||s>999?n(e):93===e?a?(i=t.exit("gfmFootnoteDefinitionLabelString"),o=(0,Fs.d)(r.sliceSerialize(i)),t.enter("gfmFootnoteDefinitionLabelMarker"),t.consume(e),t.exit("gfmFootnoteDefinitionLabelMarker"),t.exit("gfmFootnoteDefinitionLabel"),d):n(e):(0,en.Ch)(e)?(t.enter("lineEnding"),t.consume(e),t.exit("lineEnding"),s++,c):(t.enter("chunkString").contentType="string",u(e))}function u(e){return null===e||(0,en.Ch)(e)||91===e||93===e||s>999?(t.exit("chunkString"),c(e)):((0,en.z3)(e)||(a=!0),s++,t.consume(e),92===e?h:u)}function h(e){return 91===e||92===e||93===e?(t.consume(e),s++,u):u(e)}function d(e){return 58===e?(t.enter("definitionMarker"),t.consume(e),t.exit("definitionMarker"),(0,tn.f)(t,f,"gfmFootnoteDefinitionWhitespace")):n(e)}function f(t){return i.includes(o)||i.push(o),e(t)}}function zs(t,e,n){return t.check(Os.w,e,t.attempt(Is,e,n))}function $s(t){t.exit("gfmFootnoteDefinition")}var js=n(51345),Us=n(86565),Ys=n(30838);function qs(t={}){let e=t.singleTilde;const n={tokenize:function(t,n,r){const i=this.previous,o=this.events;let a=0;return function(e){if(126===i&&"characterEscape"!==o[o.length-1][1].type)return r(e);return t.enter("strikethroughSequenceTemporary"),s(e)};function s(o){const l=(0,Us.r)(i);if(126===o)return a>1?r(o):(t.consume(o),a++,s);if(a<2&&!e)return r(o);const c=t.exit("strikethroughSequenceTemporary"),u=(0,Us.r)(o);return c._open=!u||2===u&&Boolean(l),c._close=!l||2===l&&Boolean(u),n(o)}},resolveAll:function(t,e){let n=-1;for(;++n<t.length;)if("enter"===t[n][0]&&"strikethroughSequenceTemporary"===t[n][1].type&&t[n][1]._close){let r=n;for(;r--;)if("exit"===t[r][0]&&"strikethroughSequenceTemporary"===t[r][1].type&&t[r][1]._open&&t[n][1].end.offset-t[n][1].start.offset==t[r][1].end.offset-t[r][1].start.offset){t[n][1].type="strikethroughSequence",t[r][1].type="strikethroughSequence";const i={type:"strikethrough",start:Object.assign({},t[r][1].start),end:Object.assign({},t[n][1].end)},o={type:"strikethroughText",start:Object.assign({},t[r][1].end),end:Object.assign({},t[n][1].start)},a=[["enter",i,e],["enter",t[r][1],e],["exit",t[r][1],e],["enter",o,e]];(0,js.d)(a,a.length,0,(0,Ys.C)(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),(0,js.d)(a,a.length,0,[["exit",o,e],["enter",t[n][1],e],["exit",t[n][1],e],["exit",i,e]]),(0,js.d)(t,r-1,n-r+3,a),n=r+a.length-2;break}}n=-1;for(;++n<t.length;)"strikethroughSequenceTemporary"===t[n][1].type&&(t[n][1].type="data");return t}};return null==e&&(e=!0),{text:{126:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}}}const Ws={flow:{null:{tokenize:function(t,e,n){const r=this,i=[];let o,a,s=0;return function(e){if(t.enter("table")._align=i,t.enter("tableHead"),t.enter("tableRow"),124===e)return l(e);return s++,t.enter("temporaryTableCellContent"),h(e)};function l(e){return t.enter("tableCellDivider"),t.consume(e),t.exit("tableCellDivider"),o=!0,c}function c(e){return null===e||(0,en.Ch)(e)?function(e){if(null===e)return n(e);t.exit("tableRow"),t.exit("tableHead");const i=r.interrupt;return r.interrupt=!0,t.attempt({tokenize:T,partial:!0},(function(e){return r.interrupt=i,t.enter("tableDelimiterRow"),f(e)}),(function(t){return r.interrupt=i,n(t)}))(e)}(e):(0,en.xz)(e)?(t.enter("whitespace"),t.consume(e),u):(o&&(o=void 0,s++),124===e?l(e):(t.enter("temporaryTableCellContent"),h(e)))}function u(e){return(0,en.xz)(e)?(t.consume(e),u):(t.exit("whitespace"),c(e))}function h(e){return null===e||124===e||(0,en.z3)(e)?(t.exit("temporaryTableCellContent"),c(e)):(t.consume(e),92===e?d:h)}function d(e){return 92===e||124===e?(t.consume(e),h):h(e)}function f(e){return null===e||(0,en.Ch)(e)?v(e):(0,en.xz)(e)?(t.enter("whitespace"),t.consume(e),p):45===e?(t.enter("tableDelimiterFiller"),t.consume(e),a=!0,i.push("none"),g):58===e?(t.enter("tableDelimiterAlignment"),t.consume(e),t.exit("tableDelimiterAlignment"),i.push("left"),m):124===e?(t.enter("tableCellDivider"),t.consume(e),t.exit("tableCellDivider"),f):n(e)}function p(e){return(0,en.xz)(e)?(t.consume(e),p):(t.exit("whitespace"),f(e))}function g(e){return 45===e?(t.consume(e),g):(t.exit("tableDelimiterFiller"),58===e?(t.enter("tableDelimiterAlignment"),t.consume(e),t.exit("tableDelimiterAlignment"),i[i.length-1]="left"===i[i.length-1]?"center":"right",y):f(e))}function m(e){return 45===e?(t.enter("tableDelimiterFiller"),t.consume(e),a=!0,g):n(e)}function y(e){return null===e||(0,en.Ch)(e)?v(e):(0,en.xz)(e)?(t.enter("whitespace"),t.consume(e),p):124===e?(t.enter("tableCellDivider"),t.consume(e),t.exit("tableCellDivider"),f):n(e)}function v(e){return t.exit("tableDelimiterRow"),a&&s===i.length?null===e?b(e):t.check(Hs,b,t.attempt({tokenize:T,partial:!0},(0,tn.f)(t,w,"linePrefix",4),b))(e):n(e)}function b(n){return t.exit("table"),e(n)}function w(e){return t.enter("tableBody"),x(e)}function x(e){return t.enter("tableRow"),124===e?_(e):(t.enter("temporaryTableCellContent"),C(e))}function _(e){return t.enter("tableCellDivider"),t.consume(e),t.exit("tableCellDivider"),k}function k(e){return null===e||(0,en.Ch)(e)?function(e){if(t.exit("tableRow"),null===e)return D(e);return t.check(Hs,D,t.attempt({tokenize:T,partial:!0},(0,tn.f)(t,x,"linePrefix",4),D))(e)}(e):(0,en.xz)(e)?(t.enter("whitespace"),t.consume(e),E):124===e?_(e):(t.enter("temporaryTableCellContent"),C(e))}function E(e){return(0,en.xz)(e)?(t.consume(e),E):(t.exit("whitespace"),k(e))}function C(e){return null===e||124===e||(0,en.z3)(e)?(t.exit("temporaryTableCellContent"),k(e)):(t.consume(e),92===e?S:C)}function S(e){return 92===e||124===e?(t.consume(e),C):C(e)}function D(e){return t.exit("tableBody"),b(e)}function T(t,e,n){return function(e){return t.enter("lineEnding"),t.consume(e),t.exit("lineEnding"),(0,tn.f)(t,i,"linePrefix")};function i(i){if(r.parser.lazy[r.now().line]||null===i||(0,en.Ch)(i))return n(i);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&"linePrefix"===o[1].type&&o[2].sliceSerialize(o[1],!0).length>=4?n(i):(r._gfmTableDynamicInterruptHack=!0,t.check(r.parser.constructs.flow,(function(t){return r._gfmTableDynamicInterruptHack=!1,n(t)}),(function(t){return r._gfmTableDynamicInterruptHack=!1,e(t)}))(i))}}},resolve:function(t,e){let n,r,i,o,a,s,l,c=-1;for(;++c<t.length;){const u=t[c][1];if(i&&("temporaryTableCellContent"===u.type&&(o=o||c,a=c),("tableCellDivider"===u.type||"tableRow"===u.type)&&a)){const n={type:"tableContent",start:t[o][1].start,end:t[a][1].end},r={type:"chunkText",start:n.start,end:n.end,contentType:"text"};t.splice(o,a-o+1,["enter",n,e],["enter",r,e],["exit",r,e],["exit",n,e]),c-=a-o-3,o=void 0,a=void 0}if("exit"===t[c][0]&&void 0!==s&&s+(l?0:1)<c&&("tableCellDivider"===u.type||"tableRow"===u.type&&(s+3<c||"whitespace"!==t[s][1].type))){const i={type:r?"tableDelimiter":n?"tableHeader":"tableData",start:t[s][1].start,end:t[c][1].end};t.splice(c+("tableCellDivider"===u.type?1:0),0,["exit",i,e]),t.splice(s,0,["enter",i,e]),c+=2,s=c+1,l=!0}"tableRow"===u.type&&(i="enter"===t[c][0],i&&(s=c+1,l=!1)),"tableDelimiterRow"===u.type&&(r="enter"===t[c][0],r&&(s=c+1,l=!1)),"tableHead"===u.type&&(n="enter"===t[c][0])}return t}}}},Hs={tokenize:function(t,e,n){let r=0;return function(e){return t.enter("check"),t.consume(e),i};function i(o){return-1===o||32===o?(t.consume(o),r++,4===r?e:i):null===o||(0,en.z3)(o)?e(o):n(o)}},partial:!0};const Vs={tokenize:function(t,e,n){const r=this;return function(e){if(null!==r.previous||!r._gfmTasklistFirstContentOfListItem)return n(e);return t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(e),t.exit("taskListCheckMarker"),i};function i(e){return(0,en.z3)(e)?(t.enter("taskListCheckValueUnchecked"),t.consume(e),t.exit("taskListCheckValueUnchecked"),o):88===e||120===e?(t.enter("taskListCheckValueChecked"),t.consume(e),t.exit("taskListCheckValueChecked"),o):n(e)}function o(r){return 93===r?(t.enter("taskListCheckMarker"),t.consume(r),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),t.check({tokenize:Xs},e,n)):n(r)}}},Gs={text:{91:Vs}};function Xs(t,e,n){const r=this;return(0,tn.f)(t,(function(t){const i=r.events[r.events.length-1];return(i&&"whitespace"===i[1].type||(0,en.Ch)(t))&&null!==t?e(t):n(t)}),"whitespace")}function Ks(t,e){const n=String(t);if("string"!=typeof e)throw new TypeError("Expected character");let r=0,i=n.indexOf(e);for(;-1!==i;)r++,i=n.indexOf(e,i+e.length);return r}var Js=n(47815),Zs=n(67594);const Qs={}.hasOwnProperty,tl=function(t,e,n,r){let i,o;"string"==typeof e||e instanceof RegExp?(o=[[e,n]],i=r):(o=e,i=n),i||(i={});const a=(0,Zs.O)(i.ignore||[]),s=function(t){const e=[];if("object"!=typeof t)throw new TypeError("Expected array or object as schema");if(Array.isArray(t)){let n=-1;for(;++n<t.length;)e.push([el(t[n][0]),nl(t[n][1])])}else{let n;for(n in t)Qs.call(t,n)&&e.push([el(n),nl(t[n])])}return e}(o);let l=-1;for(;++l<s.length;)(0,Wo.S4)(t,"text",c);return t;function c(t,e){let n,r=-1;for(;++r<e.length;){const t=e[r];if(a(t,n?n.children.indexOf(t):void 0,n))return;n=t}if(n)return function(t,e){const n=e[e.length-1],r=s[l][0],i=s[l][1];let o=0;const a=n.children.indexOf(t);let c,u=[];r.lastIndex=0;let h=r.exec(t.value);for(;h;){c=h.index;const n={index:h.index,input:h.input,stack:[...e,t]};let a=i(...h,n);if("string"==typeof a&&(a=a.length>0?{type:"text",value:a}:void 0),!1===a?c=void 0:(o!==c&&u.push({type:"text",value:t.value.slice(o,c)}),Array.isArray(a)?u.push(...a):a&&u.push(a),o=c+h[0].length),!r.global)break;h=r.exec(t.value)}void 0===c?u=[t]:(o<t.value.length&&u.push({type:"text",value:t.value.slice(o)}),n.children.splice(a,1,...u));return a+u.length}(t,e)}};function el(t){return"string"==typeof t?new RegExp(Js(t),"g"):t}function nl(t){return"function"==typeof t?t:()=>t}const rl="phrasing",il=["autolink","link","image","label"],ol={transforms:[function(t){tl(t,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,ll],[/([-.\w+]+)@([-\w]+(?:\.[-\w]+)+)/g,cl]],{ignore:["link","linkReference"]})}],enter:{literalAutolink:function(t){this.enter({type:"link",title:null,url:"",children:[]},t)},literalAutolinkEmail:sl,literalAutolinkHttp:sl,literalAutolinkWww:sl},exit:{literalAutolink:function(t){this.exit(t)},literalAutolinkEmail:function(t){this.config.exit.autolinkEmail.call(this,t)},literalAutolinkHttp:function(t){this.config.exit.autolinkProtocol.call(this,t)},literalAutolinkWww:function(t){this.config.exit.data.call(this,t);this.stack[this.stack.length-1].url="http://"+this.sliceSerialize(t)}}},al={unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:rl,notInConstruct:il},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:rl,notInConstruct:il},{character:":",before:"[ps]",after:"\\/",inConstruct:rl,notInConstruct:il}]};function sl(t){this.config.enter.autolinkProtocol.call(this,t)}function ll(t,e,n,r,i){let o="";if(!ul(i))return!1;if(/^w/i.test(e)&&(n=e+n,e="",o="http://"),!function(t){const e=t.split(".");if(e.length<2||e[e.length-1]&&(/_/.test(e[e.length-1])||!/[a-zA-Z\d]/.test(e[e.length-1]))||e[e.length-2]&&(/_/.test(e[e.length-2])||!/[a-zA-Z\d]/.test(e[e.length-2])))return!1;return!0}(n))return!1;const a=function(t){const e=/[!"&'),.:;<>?\]}]+$/.exec(t);let n,r,i,o;if(e)for(t=t.slice(0,e.index),o=e[0],n=o.indexOf(")"),r=Ks(t,"("),i=Ks(t,")");-1!==n&&r>i;)t+=o.slice(0,n+1),o=o.slice(n+1),n=o.indexOf(")"),i++;return[t,o]}(n+r);if(!a[0])return!1;const s={type:"link",title:null,url:o+e+a[0],children:[{type:"text",value:e+a[0]}]};return a[1]?[s,{type:"text",value:a[1]}]:s}function cl(t,e,n,r){return!(!ul(r,!0)||/[_-\d]$/.test(n))&&{type:"link",title:null,url:"mailto:"+e+"@"+n,children:[{type:"text",value:e+"@"+n}]}}function ul(t,e){const n=t.input.charCodeAt(t.index-1);return(0===t.index||(0,en.B8)(n)||(0,en.Xh)(n))&&(!e||47!==n)}var hl=n(35484),dl=n(71025),fl=n(25356);function pl(){return t.peek=function(){return"["},{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]}],handlers:{footnoteDefinition:function(t,e,n,r){const i=(0,un.j)(r);let o=i.move("[^");const a=n.enter("footnoteDefinition"),s=n.enter("label");return o+=i.move((0,cn.T)(n,(0,hl.L)(t),{...i.current(),before:o,after:"]"})),s(),o+=i.move("]:"+(t.children&&t.children.length>0?" ":"")),i.shift(4),o+=i.move((0,fl.Q)((0,dl.K)(t,n,i.current()),(function(t,e,n){if(e)return(n?"":"    ")+t;return t}))),a(),o},footnoteReference:t}};function t(t,e,n,r){const i=(0,un.j)(r);let o=i.move("[^");const a=n.enter("footnoteReference"),s=n.enter("reference");return o+=i.move((0,cn.T)(n,(0,hl.L)(t),{...i.current(),before:o,after:"]"})),s(),a(),o+=i.move("]"),o}}var gl=n(3291);const ml={canContainEols:["delete"],enter:{strikethrough:function(t){this.enter({type:"delete",children:[]},t)}},exit:{strikethrough:function(t){this.exit(t)}}},yl={unsafe:[{character:"~",inConstruct:"phrasing"}],handlers:{delete:vl}};function vl(t,e,n,r){const i=(0,un.j)(r),o=n.enter("emphasis");let a=i.move("~~");return a+=(0,gl.p)(t,n,{...i.current(),before:a,after:"~"}),a+=i.move("~~"),o(),a}vl.peek=function(){return"~"};var bl=n(67712);function wl(t){return t.length}function xl(t){const e="string"==typeof t?t.codePointAt(0):0;return 67===e||99===e?99:76===e||108===e?108:82===e||114===e?114:0}const _l={enter:{table:function(t){const e=t._align;this.enter({type:"table",align:e.map((t=>"none"===t?null:t)),children:[]},t),this.setData("inTable",!0)},tableData:El,tableHeader:El,tableRow:function(t){this.enter({type:"tableRow",children:[]},t)}},exit:{codeText:function(t){let e=this.resume();this.getData("inTable")&&(e=e.replace(/\\([\\|])/g,Cl));this.stack[this.stack.length-1].value=e,this.exit(t)},table:function(t){this.exit(t),this.setData("inTable")},tableData:kl,tableHeader:kl,tableRow:kl}};function kl(t){this.exit(t)}function El(t){this.enter({type:"tableCell",children:[]},t)}function Cl(t,e){return"|"===e?e:t}function Sl(t){const e=t||{},n=e.tableCellPadding,r=e.tablePipeAlign,i=e.stringLength,o=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:"\n",inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[\t :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{table:function(t,e,n,r){return s(function(t,e,n){const r=t.children;let i=-1;const o=[],a=e.enter("table");for(;++i<r.length;)o[i]=l(r[i],e,n);return a(),o}(t,n,r),t.align)},tableRow:function(t,e,n,r){const i=s([l(t,n,r)]);return i.slice(0,i.indexOf("\n"))},tableCell:a,inlineCode:function(t,e,n){let r=(0,bl.Y)(t,e,n);n.stack.includes("tableCell")&&(r=r.replace(/\|/g,"\\$&"));return r}}};function a(t,e,n,r){const i=n.enter("tableCell"),a=n.enter("phrasing"),s=(0,gl.p)(t,n,{...r,before:o,after:o});return a(),i(),s}function s(t,e){return function(t,e={}){const n=(e.align||[]).concat(),r=e.stringLength||wl,i=[],o=[],a=[],s=[];let l=0,c=-1;for(;++c<t.length;){const n=[],i=[];let h=-1;for(t[c].length>l&&(l=t[c].length);++h<t[c].length;){const o=null==(u=t[c][h])?"":String(u);if(!1!==e.alignDelimiters){const t=r(o);i[h]=t,(void 0===s[h]||t>s[h])&&(s[h]=t)}n.push(o)}o[c]=n,a[c]=i}var u;let h=-1;if("object"==typeof n&&"length"in n)for(;++h<l;)i[h]=xl(n[h]);else{const t=xl(n);for(;++h<l;)i[h]=t}h=-1;const d=[],f=[];for(;++h<l;){const t=i[h];let n="",r="";99===t?(n=":",r=":"):108===t?n=":":114===t&&(r=":");let o=!1===e.alignDelimiters?1:Math.max(1,s[h]-n.length-r.length);const a=n+"-".repeat(o)+r;!1!==e.alignDelimiters&&(o=n.length+o+r.length,o>s[h]&&(s[h]=o),f[h]=o),d[h]=a}o.splice(1,0,d),a.splice(1,0,f),c=-1;const p=[];for(;++c<o.length;){const t=o[c],n=a[c];h=-1;const r=[];for(;++h<l;){const o=t[h]||"";let a="",c="";if(!1!==e.alignDelimiters){const t=s[h]-(n[h]||0),e=i[h];114===e?a=" ".repeat(t):99===e?t%2?(a=" ".repeat(t/2+.5),c=" ".repeat(t/2-.5)):(a=" ".repeat(t/2),c=a):c=" ".repeat(t)}!1===e.delimiterStart||h||r.push("|"),!1===e.padding||!1===e.alignDelimiters&&""===o||!1===e.delimiterStart&&!h||r.push(" "),!1!==e.alignDelimiters&&r.push(a),r.push(o),!1!==e.alignDelimiters&&r.push(c),!1!==e.padding&&r.push(" "),!1===e.delimiterEnd&&h===l-1||r.push("|")}p.push(!1===e.delimiterEnd?r.join("").replace(/ +$/,""):r.join(""))}return p.join("\n")}(t,{align:e,alignDelimiters:r,padding:n,stringLength:i})}function l(t,e,n){const r=t.children;let i=-1;const o=[],s=e.enter("tableRow");for(;++i<r.length;)o[i]=a(r[i],0,e,n);return s(),o}}var Dl=n(33917);const Tl={exit:{taskListCheckValueChecked:Ml,taskListCheckValueUnchecked:Ml,paragraph:function(t){const e=this.stack[this.stack.length-2],n=this.stack[this.stack.length-1],r=e.children,i=n.children[0];let o,a=-1;if(e&&"listItem"===e.type&&"boolean"==typeof e.checked&&i&&"text"===i.type){for(;++a<r.length;){const t=r[a];if("paragraph"===t.type){o=t;break}}o===n&&(i.value=i.value.slice(1),0===i.value.length?n.children.shift():n.position&&i.position&&"number"==typeof i.position.start.offset&&(i.position.start.column++,i.position.start.offset++,n.position.start=Object.assign({},i.position.start)))}this.exit(t)}}},Al={unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:function(t,e,n,r){const i=t.children[0],o="boolean"==typeof t.checked&&i&&"paragraph"===i.type,a="["+(t.checked?"x":" ")+"] ",s=(0,un.j)(r);o&&s.move(a);let l=(0,Dl.q)(t,e,n,{...r,...s.current()});o&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,(function(t){return t+a})));return l}}};function Ml(t){this.stack[this.stack.length-2].checked="taskListCheckValueChecked"===t.type}function Nl(t={}){const e=this.data();function n(t,n){(e[t]?e[t]:e[t]=[]).push(n)}n("micromarkExtensions",function(t){return(0,fs.W)([ks,{document:{91:{tokenize:Ps,continuation:{tokenize:zs},exit:$s}},text:{91:{tokenize:Rs},93:{add:"after",tokenize:Ls,resolveTo:Bs}}},qs(t),Ws,Gs])}(t)),n("fromMarkdownExtensions",[ol,{enter:{gfmFootnoteDefinition:function(t){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},t)},gfmFootnoteDefinitionLabelString:function(){this.buffer()},gfmFootnoteCall:function(t){this.enter({type:"footnoteReference",identifier:"",label:""},t)},gfmFootnoteCallString:function(){this.buffer()}},exit:{gfmFootnoteDefinition:function(t){this.exit(t)},gfmFootnoteDefinitionLabelString:function(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.label=e,n.identifier=(0,Fs.d)(this.sliceSerialize(t)).toLowerCase()},gfmFootnoteCall:function(t){this.exit(t)},gfmFootnoteCallString:function(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.label=e,n.identifier=(0,Fs.d)(this.sliceSerialize(t)).toLowerCase()}}},ml,_l,Tl]),n("toMarkdownExtensions",function(t){return{extensions:[al,pl(),yl,Sl(t),Al]}}(t))}var Ol=n(62447),Fl=Object.defineProperty,Il=Object.defineProperties,Ll=Object.getOwnPropertyDescriptors,Bl=Object.getOwnPropertySymbols,Rl=Object.prototype.hasOwnProperty,Pl=Object.prototype.propertyIsEnumerable,zl=(t,e,n)=>e in t?Fl(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$l=(t,e)=>{for(var n in e||(e={}))Rl.call(e,n)&&zl(t,n,e[n]);if(Bl)for(var n of Bl(e))Pl.call(e,n)&&zl(t,n,e[n]);return t},jl=(t,e)=>Il(t,Ll(e));const Ul=/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)$/,Yl=q((()=>(0,kt.Hw)({rules:[new kt.VK(Ul,((t,e,n,r)=>{const{schema:i}=t,[o]=e;return o?t.tr.replaceWith(n,r,i.text(o)).addMark(n,o.length+n,i.marks.link.create({href:o})):null}))]}))),ql=t=>`footnote-ref-${t}`,Wl=t=>`footnote-def-${t}`,Hl=new z.H$("MILKDOWN_FOOTNOTE_DEF_INPUT"),Vl=(0,B.uW)("ModifyFootnoteDef"),Gl=J((t=>{const e="footnote_definition",n="footnoteDefinition";return{id:e,schema:r=>({group:"block",content:"block+",defining:!0,attrs:{label:{default:""}},parseDOM:[{tag:`div[data-type="${e}"]`,getAttrs:t=>{if(!(t instanceof HTMLElement))throw new Error;return{label:t.dataset.label}}}],toDOM:n=>{const i=n.attrs.label,o=t.getClassName(n.attrs,"footnote-definition"),a=document.createElement("dt");a.textContent=`[${i}]:`,a.onclick=()=>{const t=r.get(B.U7),e=z.qv.create(t.state.doc,t.state.selection.from-2);t.dispatch(t.state.tr.setSelection(e))};const s=document.createElement("a");return s.href=`#${ql(i)}`,s.contentEditable="false",s.textContent="↩",s.onmousedown=t=>{t.preventDefault()},["div",{class:o,"data-label":i,"data-type":e,id:Wl(i)},["div",{class:"footnote-definition_content"},a,["dd",0]],["div",{class:"footnote-definition_anchor"},s]]},parseMarkdown:{match:({type:t})=>t===n,runner:(t,e,n)=>{t.openNode(n,{label:e.label}).next(e.children).closeNode()}},toMarkdown:{match:t=>t.type.name===e,runner:(t,e)=>{t.openNode(n,void 0,{label:e.attrs.label,identifier:e.attrs.label}).next(e.content).closeNode()}}}),commands:t=>[(0,B.ml)(Vl,((e="")=>(n,r)=>{const i=(0,Xt.a1)(n.selection,t);if(!i)return!1;const{tr:o}=n,a=o.setNodeMarkup(i.pos,void 0,jl($l({},i.node.attrs),{label:e}));return null==r||r(a.setSelection(z.qv.create(a.doc,i.pos))),!0}))],inputRules:t=>[(0,kt.S0)(/(?:\[\^)([^:]+)(?::)$/,t,(t=>{var e;return{label:null!=(e=t[1])?e:"footnote"}}),(()=>!1))],prosePlugins:(e,n)=>[new z.Sy({key:Hl,view:r=>{const i=t.themeManager.get("input-chip",{width:"12em",placeholder:"Input Footnote Label",onUpdate:t=>{n.get(B.Xo).call(Vl,t)},isBindMode:!0});if(!i)return{};const o=t=>{if(!t.editable)return;const n=(t=>Boolean(e&&(0,Xt.a1)(t.state.selection,e)))(t);n?(i.show(t),i.update((t=>{const n=(0,Xt.a1)(t.state.selection,e);if(!n)return;return n.node.attrs.label})(t))):i.hide()};return i.init(r),o(r),{update:(t,e)=>{(null==e?void 0:e.doc.eq(t.state.doc))&&e.selection.eq(t.state.selection)||o(t)},destroy:()=>{i.destroy()}}}})]}})),Xl=(0,B.uW)("ModifyFootnoteRef"),Kl=new z.H$("MILKDOWN_FOOTNOTE_REF_INPUT"),Jl=J((t=>{const e="footnote_reference";return{id:e,schema:t=>({group:"inline",inline:!0,atom:!0,attrs:{label:{default:""}},parseDOM:[{tag:`sup[data-type="${e}"]`,getAttrs:t=>{if(!(t instanceof HTMLElement))throw new Error;return{label:t.dataset.label}}}],toDOM:n=>{const r=n.attrs.label,i=document.createElement("a"),o=`#${Wl(r)}`;return i.href=o,i.textContent=`[${r}]`,i.onclick=e=>{t.get(B.U7).editable&&e.preventDefault()},i.ondblclick=()=>{t.get(B.U7).editable&&(window.location.href=o)},["sup",{"data-label":r,"data-type":e,id:ql(r)},i]},parseMarkdown:{match:({type:t})=>"footnoteReference"===t,runner:(t,e,n)=>{t.addNode(n,{label:e.label})}},toMarkdown:{match:t=>t.type.name===e,runner:(t,e)=>{t.addNode("footnoteReference",void 0,void 0,{label:e.attrs.label,identifier:e.attrs.label})}}}),commands:t=>[(0,B.ml)(Xl,((e="")=>(n,r)=>{const i=(0,Xt.a1)(n.selection,t);if(!i)return!1;const{tr:o}=n,a=o.setNodeMarkup(i.pos,void 0,jl($l({},i.node.attrs),{label:e}));return null==r||r(a.setSelection(z.qv.create(a.doc,i.pos))),!0}))],inputRules:t=>[new kt.VK(/(?:\[\^)([^\]]+)(?:\])$/,((e,n,r,i)=>{const o=e.doc.resolve(r),a=o.index(),s=e.doc.resolve(i);if(!o.parent.canReplaceWith(a,s.index(),t))return null;const l=n[1];return e.tr.replaceRangeWith(r,i,t.create({label:l}))}))],prosePlugins:(e,n)=>{const r=t.themeManager.get("input-chip",{width:"12em",placeholder:"Input Footnote Label",onUpdate:t=>{n.get(B.Xo).call(Xl,t)},isBindMode:!0});if(!r)return[];const i=t=>{if(!t.editable)return;const n=(t=>Boolean(e&&(0,Xt.a1)(t.state.selection,e)))(t);n?(r.show(t),r.update((t=>{const n=(0,Xt.a1)(t.state.selection,e);if(!n)return;return n.node.attrs.label})(t))):r.hide()};return[new z.Sy({key:Kl,view:t=>(r.init(t),i(t),{update:(t,e)=>{(null==e?void 0:e.doc.eq(t.state.doc))&&e.selection.eq(t.state.selection)||i(t)},destroy:()=>{r.destroy()}})})]}}})),Zl=t=>(0,Xt.Kk)((t=>"table"===t.type.spec.tableRole))(t),Ql=(t,e=3,n=3)=>{const{cell:r,header_cell:i,row:o,table:a}=(0,Ol.FW)(t),s=Array(n).fill(0).map((()=>r.createAndFill(null))),l=Array(n).fill(0).map((()=>i.createAndFill(null))),c=Array(e).fill(0).map(((t,e)=>o.create(null,0===e?l:s)));return a.create(null,c)},tc=t=>e=>n=>{const r=Zl(n.selection),i="row"===t;if(r){const t=Ol.rU.get(r.node);if(e>=0&&e<(i?t.height:t.width)){const o=t.positionAt(i?e:t.height-1,i?t.width-1:e,r.node),a=n.doc.resolve(r.start+o),s=i?Ol.Xc.rowSelection:Ol.Xc.colSelection,l=t.positionAt(i?e:0,i?0:e,r.node),c=n.doc.resolve(r.start+l);return(0,Xt.zN)(n.setSelection(s(a,c)))}}return n},ec=t=>{const e=(t=>{const e=Zl(t);if(!e)return;const n=Ol.rU.get(e.node);return n.cellsInRect({left:0,right:n.width,top:0,bottom:n.height}).map((t=>{const n=e.node.nodeAt(t),r=t+e.start;return{pos:r,start:r+1,node:n}}))})(t.selection);if(e&&e[0]){const n=t.doc.resolve(e[0].pos),r=e[e.length-1];if(r){const e=t.doc.resolve(r.pos);return(0,Xt.zN)(t.setSelection(new Ol.Xc(e,n)))}}return t};function nc(t,{map:e,tableStart:n,table:r},i){const o=Array(i).fill(0).reduce(((t,e,n)=>t+r.child(n).nodeSize),n),{cell:a,row:s}=(0,Ol.FW)(r.type.schema),l=Array(e.width).fill(0).map(((t,n)=>{const i=r.nodeAt(e.map[n]);return a.createAndFill({alignment:null==i?void 0:i.attrs.alignment})}));return t.insert(o,s.create(null,l)),t}const rc=t=>t.state.selection,ic=t=>{var e,n,r,i,o,a,s,l;return{0:{$:null==(e=t.get(R.Xc).get(R.kS,"leftArrow"))?void 0:e.dom,command:()=>Ol.I_,disable:t=>!rc(t).isColSelection()},1:{$:null==(n=t.get(R.Xc).get(R.kS,"rightArrow"))?void 0:n.dom,command:()=>Ol.e2,disable:t=>!rc(t).isColSelection()},2:{$:null==(r=t.get(R.Xc).get(R.kS,"upArrow"))?void 0:r.dom,command:()=>(t,e)=>{if(!(0,Ol.Lw)(t))return!1;if(e){const n=(0,Ol.zN)(t);e(nc(t.tr,n,n.top))}return!0},disable:t=>!rc(t).isRowSelection()||"table_header"===rc(t).$head.parent.type.name},3:{$:null==(i=t.get(R.Xc).get(R.kS,"downArrow"))?void 0:i.dom,command:()=>(t,e)=>{if(!(0,Ol.Lw)(t))return!1;if(e){const n=(0,Ol.zN)(t);e(nc(t.tr,n,n.bottom))}return!0},disable:t=>!rc(t).isRowSelection()},4:{$:null==(o=t.get(R.Xc).get(R.kS,"alignLeft"))?void 0:o.dom,command:()=>(0,Ol.wb)("alignment","left"),disable:t=>!rc(t).isColSelection()},5:{$:null==(a=t.get(R.Xc).get(R.kS,"alignCenter"))?void 0:a.dom,command:()=>(0,Ol.wb)("alignment","center"),disable:t=>!rc(t).isColSelection()},6:{$:null==(s=t.get(R.Xc).get(R.kS,"alignRight"))?void 0:s.dom,command:()=>(0,Ol.wb)("alignment","right"),disable:t=>!rc(t).isColSelection()},7:{$:null==(l=t.get(R.Xc).get(R.kS,"delete"))?void 0:l.dom,command:(t,e)=>{const n=rc(e),r=n.isColSelection(),i=n.isRowSelection();return r&&i?Ol.WQ:r?Ol.eA:Ol.qK},disable:t=>{const e=rc(t);return!!e.isRowSelection()&&(!e.isColSelection()&&(t=>{const e=Ol.rU.get(t.$anchorCell.node(-1)),n=t.$anchorCell.start(-1),r=e.cellsInRect({left:0,right:e.width,top:0,bottom:1}),i=e.cellsInRect(e.rectBetween(t.$anchorCell.pos-n,t.$headCell.pos-n));for(let t=0,e=r.length;t<e;t++)if(-1===i.indexOf(r[t]))return!1;return!0})(e))}}}};var oc=(t=>(t.Left="Left",t.Top="Top",t.Point="Point",t))(oc||{});function ac(t,e,n,r=0){return ft.p.widget(e.pos+1,(e=>{var i;const o=document.createElement("div");return o.classList.add((t=>{switch(t){case oc.Left:return"milkdown-cell-left";case oc.Top:return"milkdown-cell-top";case oc.Point:default:return"milkdown-cell-point"}})(n)),n===oc.Point&&o.appendChild(null==(i=t.get(R.Xc).get(R.kS,"select"))?void 0:i.dom),o.addEventListener("mousedown",(t=>{if(e)switch(t.preventDefault(),n){case oc.Point:return void e.dispatch(ec(e.state.tr));case oc.Left:return void e.dispatch(tc("row")(r)(e.state.tr));case oc.Top:return void e.dispatch(tc("col")(r)(e.state.tr))}})),o}))}const sc=(t,e)=>new z.Sy({key:new z.H$("MILKDOWN_TABLE_OP"),props:{decorations:e=>{const n=[],r=(i=0,t=>{const e=Zl(t);if(!e)return;const n=Ol.rU.get(e.node);return i<0||i>=n.width?void 0:n.cellsInRect({left:i,right:i+1,top:0,bottom:n.height}).map((t=>{const n=e.node.nodeAt(t);if(!n)throw new Error;const r=t+e.start;return{pos:r,start:r+1,node:n}}))})(e.selection);var i;if(!r)return null;const o=(a=0,t=>{const e=Zl(t);if(!e)return;const n=Ol.rU.get(e.node);return a<0||a>=n.height?void 0:n.cellsInRect({left:0,right:n.width,top:a,bottom:a+1}).map((t=>{const n=e.node.nodeAt(t);if(!n)throw new Error;const r=t+e.start;return{pos:r,start:r+1,node:n}}))})(e.selection);var a;if(!o)return null;const[s]=r;return n.push(ac(t,s,oc.Point)),r.forEach(((e,r)=>{n.push(ac(t,e,oc.Left,r))})),o.forEach(((e,r)=>{n.push(ac(t,e,oc.Top,r))})),ft.EH.create(e.doc,n)}},view:n=>{var r;const i=Object.fromEntries(Object.entries(ic(t)).filter((([,t])=>null!=t.$))),o=document.createElement("div");e.themeManager.onFlush((()=>{const t=e.getStyle((t=>((t,{css:e,injectGlobal:n})=>{const r=(0,R.XN)(t),i=t.get(R.dz,"radius"),o=t.get(R.dz,"lineWidth");return n`
        .milkdown {
            .tableWrapper {
                table {
                    width: calc(100% - 2em) !important;
                    margin: 1em 0 1em 1em !important;

                    .milkdown-cell-left,
                    .milkdown-cell-point,
                    .milkdown-cell-top {
                        position: absolute;

                        &::after {
                            cursor: pointer;
                            position: absolute;
                            top: 0;
                            left: 0;
                            height: 100%;
                            width: 100%;
                            display: block;
                            transition: all 0.2s ease-in-out;
                            background: ${r("secondary",.12)};
                            content: '';
                        }

                        &:hover::after {
                            background: ${r("secondary",.38)};
                        }
                    }

                    .milkdown-cell-left {
                        left: calc(-6px - 0.5em);
                        top: 0;
                        bottom: 0;
                        width: 0.5em;
                    }

                    .milkdown-cell-top {
                        left: 0;
                        right: 0;
                        top: calc(-6px - 0.5em);
                        height: 0.5em;
                    }

                    .milkdown-cell-point {
                        left: calc(-2px - 1em);
                        top: calc(-2px - 1em);
                        width: 1em;
                        height: 1em;

                        .icon {
                            position: absolute;
                            top: 0;
                            bottom: 0;
                            left: 0;
                            right: 0;
                        }
                    }
                }
            }
        }
    `,e`
        display: inline-flex;
        cursor: pointer;
        z-index: 2;

        justify-content: space-evenly;

        position: absolute;

        border-radius: ${i};

        ${t.get(R.UT,void 0)};
        ${t.get(R.I9,void 0)};

        overflow: hidden;
        background: ${r("surface")};

        .icon {
            position: relative;
            color: ${r("solid",.87)};

            width: 2em;
            line-height: 2em;
            text-align: center;
            transition: all 0.4s ease-in-out;

            &:hover {
                background-color: ${r("secondary",.12)};
            }

            &.active {
                color: ${r("primary")};
            }

            &:not(:last-child)::after {
                content: '';
                position: absolute;
                right: 0;
                top: 0;
                width: ${o};
                bottom: 0;
                background: ${r("line")};
            }
        }

        &.hide,
        .hide {
            display: none;
        }
    `})(e.themeManager,t)));t&&o.classList.add(t)})),o.classList.add("table-tooltip","hide"),Object.values(i).forEach((({$:t})=>o.appendChild(t))),null==(r=n.dom.parentNode)||r.appendChild(o);const a=t=>{n&&(t.stopPropagation(),t.preventDefault(),Object.values(i).forEach((({$:e,command:r})=>{e.contains(t.target)&&r(t,n)(n.state,n.dispatch,n)})))},s=()=>{o.classList.add("hide")};return o.addEventListener("mousedown",a),{update:(t,e)=>{const n=t.state;if((null==e?void 0:e.doc.eq(n.doc))&&e.selection.eq(n.selection))return;n.selection instanceof Ol.Xc&&t.editable?(((t,e)=>{Object.values(t).forEach((t=>{var n;(null==(n=t.disable)?void 0:n.call(t,e))?t.$.classList.add("hide"):t.$.classList.remove("hide")}))})(i,t),Object.values(i).every((({$:t})=>t.classList.contains("hide")))?s():(o.classList.remove("hide"),((t,e)=>{const{selection:n}=t.state,r=n.isColSelection(),i=n.isRowSelection();(0,Xt.q7)(t,e,((t,n,o)=>{const a=e.parentElement;if(!a)throw new Error;let s=i?t.left-o.left-n.width/2-8:t.left-o.left+(t.width-n.width)/2;return s<0&&(s=0),[t.top-o.top-n.height-(r?14:0)-14+a.scrollTop,s]}))})(t,o))):s()},destroy:()=>{o.removeEventListener("mousedown",a),o.remove()}}}}),lc=(0,Ol.V3)({tableGroup:"block",cellContent:"paragraph",cellAttributes:{alignment:{default:"left",getFromDOM:t=>t.style.textAlign||"left",setDOMAttr:(t,e)=>{e.style=`text-align: ${t||"left"}`}}}}),cc={NextCell:"NextCell",PrevCell:"PrevCell",ExitTable:"ExitTable"},uc=(0,B.uW)("PrevCell"),hc=(0,B.uW)("NextCell"),dc=(0,B.uW)("BreakTable"),fc=(0,B.uW)("InsertTable"),pc=new z.H$("MILKDOWN_TABLE_CONTENT_FILTER"),gc=Z((t=>({schema:()=>({node:{table:jl($l({},lc.table),{parseMarkdown:{match:t=>"table"===t.type,runner:(t,e,n)=>{const r=e.align,i=e.children.map(((t,e)=>jl($l({},t),{align:r,isHeader:0===e})));t.openNode(n),t.next(i),t.closeNode()}},toMarkdown:{match:t=>"table"===t.type.name,runner:(t,e)=>{var n;const r=null==(n=e.content.firstChild)?void 0:n.content;if(!r)return;const i=[];r.forEach((t=>{i.push(t.attrs.alignment)})),t.openNode("table",void 0,{align:i}),t.next(e.content),t.closeNode()}}}),table_row:jl($l({},lc.table_row),{parseMarkdown:{match:t=>"tableRow"===t.type,runner:(t,e,n)=>{const r=e.align,i=e.children.map(((t,n)=>jl($l({},t),{align:r[n],isHeader:e.isHeader})));t.openNode(n),t.next(i),t.closeNode()}},toMarkdown:{match:t=>"table_row"===t.type.name,runner:(t,e)=>{t.openNode("tableRow"),t.next(e.content),t.closeNode()}}}),table_cell:jl($l({},lc.table_cell),{parseMarkdown:{match:t=>"tableCell"===t.type&&!t.isHeader,runner:(t,e,n)=>{const r=e.align;t.openNode(n,{alignment:r}).openNode(t.schema.nodes.paragraph).next(e.children).closeNode().closeNode()}},toMarkdown:{match:t=>"table_cell"===t.type.name,runner:(t,e)=>{t.openNode("tableCell").next(e.content).closeNode()}}}),table_header:jl($l({},lc.table_header),{parseMarkdown:{match:t=>"tableCell"===t.type&&!!t.isHeader,runner:(t,e,n)=>{const r=e.align;t.openNode(n,{alignment:r}),t.openNode(t.schema.nodes.paragraph),t.next(e.children),t.closeNode(),t.closeNode()}},toMarkdown:{match:t=>"table_header"===t.type.name,runner:(t,e)=>{t.openNode("tableCell"),t.next(e.content),t.closeNode()}}})}}),inputRules:(t,e)=>[new kt.VK(/^\|\|\s$/,((n,r,i,o)=>{const a=n.doc.resolve(i);if(!a.node(-1).canReplaceWith(a.index(-1),a.indexAfter(-1),t.table))return null;const s=Ql(e.get(B.le)),l=n.tr.replaceRangeWith(i,o,s).scrollIntoView();return l.setSelection(z.Bs.create(l.doc,i+3))}))],commands:(t,e)=>[(0,B.ml)(uc,(()=>(0,Ol.nA)(-1))),(0,B.ml)(hc,(()=>(0,Ol.nA)(1))),(0,B.ml)(dc,(()=>{return t=e.get(B.le).nodes.paragraph,(e,n)=>{if(!(0,Ol.Lw)(e))return!1;const{$head:r}=e.selection,i=r.after(),o=e.tr.replaceWith(i,i,t.createAndFill());return o.setSelection(z.Y1.near(o.doc.resolve(i),1)),null==n||n(o.scrollIntoView()),!0};var t})),(0,B.ml)(fc,(()=>(t,n)=>{const{selection:r,tr:i}=t,{from:o}=r,a=Ql(e.get(B.le)),s=i.replaceSelectionWith(a),l=z.Y1.findFrom(s.doc.resolve(o),1,!0);return l&&(null==n||n(s.setSelection(l))),!0}))],shortcuts:{[cc.NextCell]:W(hc,"Mod-]"),[cc.PrevCell]:W(uc,"Mod-["),[cc.ExitTable]:W(dc,"Mod-Enter")},prosePlugins:(e,n)=>[sc(n,t),(0,Ol.VH)({}),(0,Ol.G3)(),new z.Sy({key:pc,filterTransaction:(t,e)=>{const n=t.getMeta("hardbreak"),[r]=t.steps;if(n&&r){const{from:t}=r,n=e.doc.resolve(t);let i=n.depth,o=!0;for(;i>0;)"table"===n.node(i).type.name&&(o=!1),i--;return o}return!0}})]}))),mc=jl($l($l({},ia),cc),{StrikeThrough:"StrikeThrough",TaskList:"TaskList"}),yc=(0,B.uW)("ToggleStrikeThrough"),vc="strike_through",bc=K((t=>({id:vc,schema:()=>({parseDOM:[{tag:"del"},{style:"text-decoration",getAttrs:t=>"line-through"===t}],toDOM:e=>["del",{class:t.getClassName(e.attrs,"strike-through")}],parseMarkdown:{match:t=>"delete"===t.type,runner:(t,e,n)=>{t.openMark(n),t.next(e.children),t.closeMark(n)}},toMarkdown:{match:t=>t.type.name===vc,runner:(t,e)=>{t.withMark(e,"delete")}}}),inputRules:t=>[(0,Xt.j4)(/(?:~~)([^~]+)(?:~~)$/,t),(0,Xt.j4)(/(?:^|[^~])(~([^~]+)~)$/,t)],commands:t=>[(0,B.ml)(yc,(()=>(0,_t.w9)(t)))],shortcuts:{[mc.StrikeThrough]:W(yc,"Mod-Alt-x")}}))),wc=(0,B.uW)("SplitTaskListItem"),xc=(0,B.uW)("SinkTaskListItem"),_c=(0,B.uW)("LiftTaskListItem"),kc=(0,B.uW)("TurnIntoTaskList"),Ec=J((t=>{const e="task_list_item";return{id:e,schema:n=>({group:"listItem",content:"paragraph block*",defining:!0,priority:60,attrs:{checked:{default:!1}},parseDOM:[{tag:'li[data-type="task-item"]',getAttrs:t=>{if(!(t instanceof HTMLElement))throw new Error;return{checked:"true"===t.dataset.checked}}}],toDOM:e=>{const r=document.createElement("input");return r.type="checkbox",r.checked=e.attrs.checked,r.className=t.getClassName(e.attrs,"task-list-item_checkbox"),r.onchange=t=>{const e=t.target;if(!(e instanceof HTMLInputElement))return;const i=n.get(B.U7);if(!i.editable)return void(r.checked=!r.checked);const{top:o,left:a}=e.getBoundingClientRect(),s=i.posAtCoords({top:o,left:a});if(!s)return;const{tr:l}=i.state;i.dispatch(l.setNodeMarkup(s.inside,void 0,{checked:e.checked}))},["li",{"data-type":"task-item","data-checked":e.attrs.checked?"true":"false",class:t.getClassName(e.attrs,"task-list-item")},r,["span",{class:t.getClassName(e.attrs,"task-list-item_body")},0]]},parseMarkdown:{match:({type:t,checked:e})=>"listItem"===t&&null!==e,runner:(t,e,n)=>{t.openNode(n,{checked:e.checked}),t.next(e.children),t.closeNode()}},toMarkdown:{match:t=>t.type.name===e,runner:(t,e)=>{t.openNode("listItem",void 0,{checked:e.attrs.checked}),t.next(e.content),t.closeNode()}}}),inputRules:t=>[(0,kt.S0)(/^\s*(\[([ |x])\])\s$/,t,(t=>({checked:"x"===t[t.length-1]})))],commands:t=>[(0,B.ml)(wc,(()=>An(t))),(0,B.ml)(xc,(()=>Nn(t))),(0,B.ml)(_c,(()=>Mn(t))),(0,B.ml)(kc,(()=>(0,_t.ym)(t)))],shortcuts:{[mc.NextListItem]:W(wc,"Enter"),[mc.SinkListItem]:W(xc,"Mod-]"),[mc.LiftListItem]:W(_c,"Mod-["),[mc.TaskList]:W(kc,"Mod-Alt-9")},view:()=>(n,r,i)=>{let o=n;const a=t.themeManager.get("task-list-item",{editable:()=>r.editable,onChange:t=>{const{tr:e}=r.state;r.dispatch(e.setNodeMarkup(i(),void 0,{checked:t}))}});if(!a)return{};const{dom:s,contentDOM:l,onUpdate:c}=a;return c(o),{dom:s,contentDOM:l,update:t=>t.type.name===e&&(o=t,c(o),!0)}}}})),Cc=Y.create([...hs,(t=>{const e=()=>async n=>{await n.wait(B.Iq);const r=t(n);n.update(B.CG,(t=>[...t,r])),e.plugin=r};return e})((()=>Nl)),gc(),Yl,bc(),Ec(),Jl(),Gl()]);jl($l({},ds),{ToggleStrikeThrough:yc,TurnIntoTaskList:kc,SinkTaskListItem:xc,LiftTaskListItem:_c,SplitTaskListItem:wc});var Sc=n(45911),Dc=n(96643),Tc=Object.defineProperty,Ac=Object.defineProperties,Mc=Object.getOwnPropertyDescriptors,Nc=Object.getOwnPropertySymbols,Oc=Object.prototype.hasOwnProperty,Fc=Object.prototype.propertyIsEnumerable,Ic=(t,e,n)=>e in t?Tc(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Lc=(t,e)=>{for(var n in e||(e={}))Oc.call(e,n)&&Ic(t,n,e[n]);if(Nc)for(var n of Nc(e))Fc.call(e,n)&&Ic(t,n,e[n]);return t};const Bc=(t,e)=>{t.set("code-fence",(({editable:n,onSelectLanguage:r,onBlur:i,onFocus:o,languageList:a})=>{const s=document.createElement("div"),l=document.createElement("div"),c=document.createElement("ul"),u=document.createElement("pre"),h=document.createElement("code"),d=document.createElement("div");d.className="code-fence_selector";const f=document.createElement("span");d.appendChild(f);const p=t.get(R.kS,"downArrow");n()&&p&&d.appendChild(p.dom),h.spellcheck=!1,l.className="code-fence_selector-wrapper",l.contentEditable="false",l.append(d),l.append(c),u.append(h);const g=document.createElement("div");h.append(g),g.style.whiteSpace="inherit",s.append(l,u),s.classList.add("code-fence"),t.onFlush((()=>{const n=((t,{css:e})=>{const n=(0,R.XN)(t),r=t.get(R.dz,"radius"),i=t.get(R.dz,"lineWidth");return e`
        background-color: ${n("background")};
        color: ${n("neutral")};
        font-size: 0.875em;
        padding: 1.2em 0.4em 1.4em;
        border-radius: ${r};
        font-family: ${t.get(R.Az,"typography")};

        .code-fence_selector-wrapper {
            position: relative;
        }

        .code-fence_selector {
            width: 11.71em;
            box-sizing: border-box;
            border-radius: ${r};
            margin: 0 1.2em 1.2em;
            cursor: pointer;
            background-color: ${n("surface")};
            position: relative;
            display: flex;
            color: ${n("neutral",.87)};
            letter-spacing: 0.5px;
            height: 3em;
            align-items: center;

            ${t.get(R.UT,void 0)};
            ${t.get(R.I9,void 0)};

            & > .icon {
                width: 2em;
                height: 100%;
                display: flex;
                justify-content: center;
                align-items: center;
                color: ${n("solid",.87)};
                border-left: ${i} solid ${n("line")};

                text-align: center;
                transition: all 0.2s ease-in-out;
                &:hover {
                    background: ${n("background")};
                    color: ${n("primary")};
                }
            }

            > span:first-child {
                padding-left: 1em;
                flex: 1;
                font-weight: 500;
            }
        }

        .code-fence_selector-list-item {
            list-style: none;
            line-height: 2;
            padding-left: 1em;
            cursor: pointer;
            margin: 0 !important;
            :hover {
                background: ${n("secondary",.12)};
                color: ${n("primary")};
            }
        }

        .code-fence_selector-list {
            &[data-fold='true'] {
                display: none;
            }

            margin: 0 !important;
            font-weight: 500;
            position: absolute;
            z-index: 1;
            top: 3em;
            box-sizing: border-box;
            left: 1.2em;
            padding: 0.5em 0;
            max-height: 16.75em;
            width: 11.71em;
            background-color: ${n("surface")};
            border-top: none;
            overflow-y: auto;
            display: flex;
            flex-direction: column;

            ${t.get(R.eK,["y"])}
            ${t.get(R.UT,void 0)};
            ${t.get(R.I9,void 0)};
        }
    `})(t,e);n&&s.classList.add(n)})),c.className="code-fence_selector-list",c.addEventListener("mousedown",(t=>{if(t.preventDefault(),t.stopPropagation(),!n())return;const e=t.target;if(!(e instanceof HTMLLIElement))return;const i=e.dataset.value;null!=i&&r(i)})),d.addEventListener("mousedown",(t=>{t.preventDefault(),t.stopPropagation(),n()&&o()}));const m=()=>{n()&&"true"!==c.dataset.fold&&i()};document.addEventListener("mousedown",m),a.forEach((t=>{const e=document.createElement("li");e.className="code-fence_selector-list-item",e.innerText=t||"--",c.appendChild(e),e.setAttribute("data-value",t)}));return{dom:s,contentDOM:g,onUpdate:t=>{s.dataset.language=t.attrs.language,f.innerText=t.attrs.language||"--",c.setAttribute("data-fold",t.attrs.fold?"true":"false")},onDestroy:()=>{s.remove(),document.removeEventListener("mousedown",m)}}}))},Rc=(t,{css:e})=>{const n=(0,R.XN)(t);t.set("image",(({placeholder:r,isBlock:i,onError:o,onLoad:a})=>{const s=e=>{var n;return null==(n=t.get(R.kS,e))?void 0:n.dom},l=document.createElement("span");l.classList.add("image-container"),t.onFlush((()=>{const o=e`
                display: inline-block;
                position: relative;
                text-align: center;
                font-size: 0;
                vertical-align: text-bottom;
                line-height: 1;

                ${i?"\n                width: 100%;\n                margin: 0 auto;\n                ":""}

                &.ProseMirror-selectednode::after {
                    content: '';
                    background: ${n("secondary",.38)};
                    position: absolute;
                    top: 0;
                    left: 0;
                    right: 0;
                    bottom: 0;
                }

                img {
                    max-width: 100%;
                    height: auto;
                    object-fit: contain;
                    margin: 0 2px;
                }
                .icon,
                .placeholder {
                    display: none;
                }

                &.system {
                    width: 100%;
                    padding: 0 2em;
                    font-size: inherit;

                    img {
                        width: 0;
                        height: 0;
                        display: none;
                    }

                    .icon,
                    .placeholder {
                        display: inline;
                    }

                    box-sizing: border-box;
                    height: 3em;
                    background-color: ${n("background")};
                    border-radius: ${t.get(R.dz,"radius")};
                    display: inline-flex;
                    gap: 2em;
                    justify-content: flex-start;
                    align-items: center;
                    .placeholder {
                        margin: 0;
                        line-height: 1;
                        &::before {
                            content: '';
                            font-size: 0.875em;
                            color: ${n("neutral",.6)};
                        }
                    }
                }

                &.empty {
                    .placeholder {
                        &::before {
                            content: '${r}';
                        }
                    }
                }
            `;o&&l.classList.add(o)}));const c=document.createElement("img");l.append(c);let u=s("image");const h=document.createElement("span");h.classList.add("placeholder"),l.append(u,h);const d=t=>{const e=s(t);l.replaceChild(e,u),u=e};return{dom:l,onUpdate:t=>{const{src:e,alt:n,title:r,loading:i,failed:s}=t.attrs;return c.src=e,c.title=r||n,c.alt=n,0===e.length?(l.classList.add("system","empty"),void d("image")):i?void(t=>{l.classList.add("system","loading"),d("loading");const e=document.createElement("img");e.src=t,e.onerror=()=>{null==o||o(e)},e.onload=()=>{null==a||a(e)}})(e):s?(l.classList.remove("loading","empty"),l.classList.add("system","failed"),void d("brokenImage")):void(e.length>0?l.classList.remove("system","empty","loading"):(l.classList.add("system","empty"),d("image")))}}}))},Pc=(t,e)=>{t.set("inner-editor",(({view:n,getPos:r,render:i})=>{const o=((t,e)=>{let n,r=!1;return{isEditing:()=>r,innerView:()=>n,openEditor:(i,o)=>{var a,s;n=new ft.tk(i,{state:z.yy.create({doc:o,plugins:[Be(),(0,$.h)((a=Lc({},_t.YR),s={Backspace:(0,_t.QF)(_t.NE,(e=>{if(!e.selection.empty)return!1;if(n&&n.state.doc.textContent.length>0)return!1;const{dispatch:r,state:i}=t,o=i.schema.nodes.paragraph.create(),a=i.tr.replaceSelectionWith(o);let s=a.selection.from-2;return s<0&&(s=0),r(a.setSelection(z.Bs.create(a.doc,s))),t.focus(),!0})),"Mod-Enter":(e,n)=>{if(n){const{state:e}=t,{to:n}=e.selection,r=e.tr.replaceWith(n,n,e.schema.nodes.paragraph.createAndFill());t.dispatch(r.setSelection(z.Bs.create(r.doc,n))),t.focus()}return!0}},Ac(a,Mc(s)))),(0,$.h)({"Mod-z":Re,"Mod-y":Pe,"Shift-Mod-z":Pe})]}),plugins:[],dispatchTransaction:r=>{if(!n)return;const{state:i,transactions:o}=n.state.applyTransaction(r);if(n.updateState(i),!r.getMeta("fromOutside")){const n=t.state.tr,r=ut.KS.offset(e()+1);o.forEach((t=>{const{steps:e}=t;e.forEach((t=>{const e=t.map(r);if(!e)throw Error("step discarded!");n.step(e)}))})),n.docChanged&&t.dispatch(n)}}}),n.focus();const{state:l}=n;n.dispatch(l.tr.setSelection(z.Bs.create(l.doc,0))),r=!0},closeEditor:()=>{n&&n.destroy(),n=void 0,r=!1}}})(n,r),a=document.createElement("div");a.classList.add("math-block");const s=document.createElement("div"),l=document.createElement("div");let c="",u="",h="";return t.onFlush((()=>{({codeStyle:c,hideCodeStyle:u,previewPanelStyle:h}=((t,{css:e})=>{const n=(0,R.XN)(t),r=t.get(R.dz,"radius"),i=t.get(R.Az,"code");return{codeStyle:e`
        color: ${n("neutral",.87)};
        background-color: ${n("background")};
        border-radius: ${r};
        padding: 1em 2em;
        font-size: 0.875em;
        font-family: ${i};
        overflow: hidden;
        line-height: 1.5;
        .ProseMirror {
            outline: none;
        }
    `,hideCodeStyle:e`
        display: none;
    `,previewPanelStyle:e`
        display: flex;
        justify-content: center;
        padding: 1em 0;
    `}})(t,e)),c&&u&&s.classList.add(c,u),h&&l.classList.add(h)})),a.append(s),{dom:a,preview:l,editor:s,onUpdate:(t,e)=>{var n;if(e){const e=t.attrs.value||t.textContent||"";return s.dataset.value=e,void i(e)}const r=o.innerView();if(r){const e=r.state,n=t.content.findDiffStart(e.doc.content);if(null!=n){const i=t.content.findDiffEnd(e.doc.content);if(i){let{a:o,b:a}=i;const s=n-Math.min(o,a);s>0&&(o+=s,a+=s),r.dispatch(e.tr.replace(n,a,t.slice(n,o)).setMeta("fromOutside",!0))}}}const a=(null==(n=t.content.firstChild)?void 0:n.text)||"";s.dataset.value=a,i(a)},onFocus:t=>{n.editable&&(u&&s.classList.remove(u),o.openEditor(s,t),a.classList.add("ProseMirror-selectednode"))},onBlur:()=>{u&&s.classList.add(u),o.closeEditor(),a.classList.remove("ProseMirror-selectednode")},onDestroy:()=>{l.remove(),s.remove(),a.remove()},stopEvent:t=>{const e=o.innerView(),{target:n}=t,r=n&&(null==e?void 0:e.dom.contains(n));return!(!e||!r)}}}))},zc=(t,e)=>{(0,Xt.wI)(t,e,((e,n,r,i)=>{const o=t.dom.parentElement;if(!o)throw new Error;const a=n.left-e.left;let s=e.left-i.left-(r.width-a)/2;return s<0&&(s=0),[e.bottom-i.top+14+o.scrollTop,s]}))},$c=(t,e)=>{t.set("input-chip",(({isBindMode:n,onUpdate:r,buttonText:i,placeholder:o,width:a="25em",calculatePosition:s=zc})=>{let l=null,c=!1,u="";const h=document.createElement("div");t.onFlush((()=>{const n=((t,{css:e},n)=>{const r=(0,R.XN)(t);return e`
        ${t.get(R.UT,void 0)}
        ${t.get(R.I9,void 0)}

        display: inline-flex;
        justify-content: space-between;
        align-items: center;
        position: absolute;
        background: ${r("surface")};
        border-radius: ${t.get(R.dz,"radius")};
        font-size: 1em;

        height: 3.5em;
        box-sizing: border-box;
        width: ${n.width};
        padding: 0 1em;
        gap: 1em;
        z-index: 2;

        input,
        button {
            all: unset;
        }

        input {
            flex-grow: 1;
            caret-color: ${r("primary")};
            &::placeholder {
                color: ${r("neutral",.6)};
            }
        }

        button {
            cursor: pointer;
            height: 2.25em;
            color: ${r("primary")};
            font-size: 0.875em;
            padding: 0 0.5em;
            font-weight: 500;
            letter-spacing: 1.25px;
            &:hover {
                background-color: ${r("secondary",.12)};
            }
            &.disable {
                color: ${r("neutral",.38)};
                cursor: not-allowed;
                &:hover {
                    background: transparent;
                }
            }
            &.hide {
                display: none;
            }
        }

        &.hide {
            display: none;
        }
    `})(t,e,{width:a});n&&h.classList.add(n)})),h.classList.add("tooltip-input");const d=document.createElement("input");o&&(d.placeholder=o),h.appendChild(d),n||(l=document.createElement("button"),l.innerText=i||"APPLY",h.appendChild(l));const f=()=>{h.classList.add("hide")},p=t=>{const{target:e}=t;if(e instanceof HTMLInputElement)if(u=e.value,l){if(!u)return l.classList.add("disable"),void(c=!0);l.classList.remove("disable"),c=!1}else r(u)},g=t=>{c||(t.stopPropagation(),r(u),f())},m=t=>{"key"in t&&"Enter"===t.key&&(r(u),f())};return{dom:h,init:t=>{const e=t.dom.parentElement;if(!e)throw new Error;d.addEventListener("input",p),d.addEventListener("keydown",m),null==l||l.addEventListener("mousedown",g),e.appendChild(h),f()},show:t=>{h.classList.remove("hide"),s(t,h)},hide:f,destroy:()=>{d.removeEventListener("input",p),d.removeEventListener("keydown",m),null==l||l.removeEventListener("mousedown",g),h.remove()},update:t=>{u=t,d.value=t}}}))},jc=(t,{css:e})=>{const n=(0,R.XN)(t);t.set("task-list-item",(({onChange:r,editable:i})=>{const o=e=>{var n;return null==(n=t.get(R.kS,e))?void 0:n.dom},a=document.createElement("li"),s=document.createElement("label"),l=document.createElement("span"),c=document.createElement("input"),u=document.createElement("div");let h=o("unchecked");s.appendChild(h);return s.append(c,l),a.append(s,u),s.contentEditable="false",c.type="checkbox",i()||(c.disabled=!0,s.style.cursor="not-allowed"),c.onchange=t=>{t.target instanceof HTMLInputElement&&(i()?(t.preventDefault(),r(c.checked)):c.checked=!c.checked)},a.dataset.type="task-item",a.classList.add("task-list-item"),t.onFlush((()=>{const r=e`
                list-style-type: none;
                position: relative;

                & > div {
                    overflow: hidden;
                    padding: 0 2px;
                    width: 100%;
                }

                label {
                    position: absolute;
                    top: 0;
                    left: -2em;
                    display: inline-block;
                    width: 1.5em;
                    height: 1.5em;
                    margin: 0.5em 0;
                    cursor: pointer;
                    input {
                        visibility: hidden;
                    }
                }
                label:before {
                    position: absolute;
                    top: 0;
                    right: 0;
                    bottom: 0;
                    left: 0;
                    border-radius: ${t.get(R.dz,"radius")};
                }
                label:hover:before {
                    background: ${n("background")};
                }
                &[data-checked='true'] {
                    label {
                        color: ${n("primary")};
                    }
                }
                &[data-checked='false'] {
                    label {
                        color: ${n("solid",.87)};
                    }
                }
                .paragraph {
                    margin: 0.5em 0;
                }
            `;r&&a.classList.add(r)})),{dom:a,contentDOM:u,onUpdate:t=>{a.dataset.checked=t.attrs.checked,t.attrs.checked?c.setAttribute("checked","checked"):c.removeAttribute("checked"),(t=>{const e=o(t);s.replaceChild(e,h),h=e})(t.attrs.checked?"checked":"unchecked")}}}))},Uc={h1:{label:"一级标题",icon:"icon-h1"},h2:{label:"二级标题",icon:"icon-h3"},h3:{label:"三级标题",icon:"icon-h3"},loading:{label:"loading",icon:"icon-loading"},quote:{label:"引用",icon:"icon-qmx"},code:{label:"代码块",icon:"icon-code"},table:{label:"表格",icon:"icon-sheet"},divider:{label:"水平线",icon:"icon-line"},image:{label:"上传图片",icon:"icon-picture"},brokenImage:{label:"broken image",icon:"icon-picture"},bulletList:{label:"无序列表",icon:"icon-bullet_list"},orderedList:{label:"有序列表",icon:"icon-ordered_list"},taskList:{label:"任务列表",icon:"icon-task_list"},bold:{label:"粗体",icon:"icon-bold"},italic:{label:"斜体",icon:"icon-tilt"},inlineCode:{label:"inline code",icon:"icon-code"},strikeThrough:{label:"删除线",icon:"icon-strikethrough"},link:{label:"链接",icon:"icon-link"},leftArrow:{label:"left arrow",icon:"icon-plus_left"},rightArrow:{label:"right arrow",icon:"icon-plus_right"},upArrow:{label:"up arrow",icon:"icon-plus_up"},downArrow:{label:"down arrow",icon:"icon-drop_down"},alignLeft:{label:"align left",icon:"icon-align_left"},alignRight:{label:"align right",icon:"icon-align_right"},alignCenter:{label:"align center",icon:"icon-center"},delete:{label:"delete",icon:"icon-delete"},select:{label:"选择",icon:"icon-select"},unchecked:{label:"unchecked",icon:"icon-uncheck"},checked:{label:"checked",icon:"icon-checking"},undo:{label:"撤销",icon:"icon-undo"},redo:{label:"重做",icon:"icon-redo"},liftList:{label:"减少缩进",icon:"icon-left_list"},sinkList:{label:"增加缩进",icon:"icon-right_list"}};var Yc=n(4);const{dark:qc,light:Wc}=Yc,Hc={shadow:"none",line:`rgb(${Wc["--color-m2"]} / 0.08)`,primary:Wc["--color-note-t1"],secondary:Wc["--color-t1"],neutral:Wc["--color-t2"],solid:Wc["--color-t3"],background:Wc["--color-b4"],surface:Wc["--color-b5"]},Vc={shadow:"none",line:`rgb(${qc["--color-m2"]} / 0.08)`,primary:qc["--color-note-t1"],secondary:qc["--color-t1"],neutral:qc["--color-t2"],solid:qc["--color-t3"],background:qc["--color-b4"],surface:qc["--color-b5"]},Gc={typography:["ali-65"],code:["ali-65"]},Xc={radius:"4px",lineWidth:"1px"},Kc=t=>(e,n)=>{const{css:r}=e,i=t?Vc:Hc;n.set(R.tP,(t=>{if(!t)return;const[e,n]=t,r=i[e];return r?"none"===r?"rgba(0,0,0,0)":r.startsWith("rgb")?r:`rgb(${r} / ${n||1})`:void 0})),n.set(R.dz,(t=>{if(t)return Xc[t]})),n.set(R.Az,(t=>{if(t)return Gc[t].join(", ")})),n.set(R.eK,(()=>r`
      scrollbar-width: thin;
      scrollbar-color: rgb(var(--color-t1) / 0.2) transparent;

      &::-webkit-scrollbar {
        width: 6px;
        height: 6px;
      }
      &::-webkit-scrollbar-thumb {
        border-radius: 3px;
        background-color: transparent;
        border: 1px dashed transparent;
        background-clip: padding-box;
        &:hover {
          background-color: rgb(var(--color-t1) / 0.4);
          background-clip: border-box;
        }
      }
      &:hover {
        &::-webkit-scrollbar-thumb {
          background-color: rgb(var(--color-t1) / 0.2);
          &:hover {
            background-color: rgb(var(--color-t1) / 0.4);
            background-clip: border-box;
          }
        }
      }
      &::-webkit-scrollbar-track {
        background-color: transparent;
      }
    `)),n.set(R.I9,(()=>{const t=n.get(R.dz,"lineWidth"),e=t=>n.get(R.tP,["shadow",t]);return r`
      box-shadow: 0 ${t} ${t} ${e(.14)},
        0 2px ${t} ${e(.12)}, 0 ${t} 3px ${e(.2)};
    `})),n.set(R.UT,(t=>{const e=n.get(R.dz,"lineWidth"),i=n.get(R.tP,["line"]);return t?r`
      ${`border-${t}`}: ${e} solid ${i};
    `:r`
        border: ${e} solid ${i};
      `})),n.set(R.kS,(t=>{if(t)return(t=>{const e=Uc[t];if(!e)return;const n=document.createElement("span");return n.className=`icon iconfont ${e.icon}`,{dom:n,label:e.label}})(t)})),n.set(R._G,(()=>{((t,e)=>{const{injectGlobal:n,css:r}=e,i=(0,R.XN)(t),o=t.get(R.dz,"radius"),a=i("line",.1),s=i("secondary",.38),l=r`
    .math-block {
      background-color: rgb(var(--color-m2) / 0.05);
    }
    .ProseMirror-selectednode {
      outline: ${t.get(R.dz,"lineWidth")} solid ${a};
    }

    li.ProseMirror-selectednode {
      outline: none;
    }

    li.ProseMirror-selectednode::after {
      ${t.get(R.UT,void 0)};
    }

    & ::selection {
      background: ${s};
    }
  `,c=r`
    p {
      font-size: 1em;
      line-height: 1.5;
      letter-spacing: 0.5px;
    }
  `,u=r`
    blockquote {
      padding-left: 1.875em;
      line-height: 1.75em;
      border-left: 4px solid rgb(var(--color-note-t2) / 1);
      margin-left: 0;
      margin-right: 0;
      * {
        font-size: 1em;
        line-height: 1.5em;
      }
    }
  `,h=r`
    h1 {
      font-size: 3em;
      line-height: 1.167;
    }
    h2 {
      font-size: 2.5em;
      line-height: 1.2;
    }
    h3 {
      font-size: 2.125em;
      line-height: 1.05;
    }
    h4 {
      font-size: 1.75em;
      line-height: 1.14;
    }
    h5 {
      font-size: 1.5em;
      line-height: 1;
    }
    h6 {
      font-size: 1.25em;
      line-height: 1;
    }
    .heading {
      margin: 1em 0;
      font-weight: 400;
    }
  `,d=r`
    hr {
      height: ${t.get(R.dz,"lineWidth")};
      background-color: ${a};
      border-width: 0;
    }
  `,f=r`
    .list-item,
    .list-item > * {
      margin: 0.5em 0;
    }

    li {
      &::marker {
        color: ${i("primary")};
      }
    }

    .task-list-item {
      display: flex;
      flex-direction: row;
      align-items: flex-start;
      &_checkbox {
        margin: 0.5em 0.5em 0.5em 0;
        height: 1em;
      }
      .icon {
        font-size: 20px;
      }
    }
  `,p=r`
    .code-fence {
      padding-top: 1em;
      padding-bottom: 1.2em;
      background-color: rgb(var(--color-m2) / 0.05);
      .code-fence_selector-list-item:hover {
        background-color: rgb(var(--color-m2) / 0.05);
      }
      pre {
        font-family: ${t.get(R.Az,"code")};
        margin: 0 1.2em !important;
        white-space: pre;
        overflow: auto;
        ${t.get(R.eK,["x"])}

        color: ${i("neutral")};
        font-size: 0.875em;
        border-radius: ${o};

        code {
          line-height: 1.5;
          font-family: ${t.get(R.Az,"code")};
        }
      }
    }
    .code-fence_selector {
      width: 9em;
      height: 2em;
      margin-bottom: 1em;
      margin-left: 0.6em;
      & > span:first-child {
        padding-left: 1em;
      }
      & > .icon {
        opacity: 0.6;
        width: 1.6em;
        font-size: 14px;
        border-left: none;
      }
    }
    .code-fence_selector-list {
      width: 9em;
      top: 2em;
      left: 0.6em;
    }
  `,g=r`
    .image {
      display: inline-block;
      margin: 0 auto;
      object-fit: contain;
      width: 100%;
      position: relative;
      height: auto;
      text-align: center;
    }
  `,m=r`
    .code-inline {
      background-color: rgb(var(--color-note-t2) / 1);
      color: ${i("background")};
      border-radius: ${o};
      font-weight: 500;
      font-family: ${p};
      padding: 0 0.2em;
      font-size: 1.2em;
    }

    .strong {
      font-family: ali-75;
      color: rgb(var(--color-t1) / 1);
    }

    .link,
    a {
      color: rgb(var(--color-note-t2) / 1);
      cursor: pointer;
      text-decoration: underline;
      transition: all 0.2s ease-in-out;
      &:hover {
        color: rgb(var(--color-note-t1) / 1);
        background-color: transparent;
        box-shadow: none;
      }
    }

    .strike-through {
      text-decoration-color: rgb(var(--color-note-t1) / 0.8);
      color: rgb(var(--color-note-t2) / 0.8);
    }
  `,y=r`
    .footnote-definition {
      ${t.get(R.UT,void 0)};
      border-radius: ${t.get(R.dz,"radius")};
      background-color: ${i("background")};
      padding: 1em;
      display: flex;
      flex-direction: row;
      & > .footnote-definition_content {
        flex: 1;
        width: calc(100% - 1em);
        & > dd {
          margin-inline-start: 1em;
        }
        & > dt {
          color: ${i("secondary")};
          font-weight: 500;
        }
      }
      & > .footnote-definition_anchor {
        width: 1em;
      }
    }
  `,v=r`
    /* copy from https://github.com/ProseMirror/prosemirror-tables/blob/master/style/tables.css */
    .tableWrapper {
      overflow-x: auto;
      margin: 0;
      ${t.get(R.eK,["x"])}
      width: 100%;
      * {
        margin: 0;
        box-sizing: border-box;
        font-size: 1em;
      }
    }
    table {
      border-collapse: collapse;
      table-layout: fixed;
      width: 100%;
      overflow: auto;
      border-radius: ${t.get(R.dz,"radius")};
      p {
        line-height: unset;
      }
    }
    tr {
      ${t.get(R.UT,"bottom")};
    }
    td,
    th {
      padding: 0 1em;
      vertical-align: top;
      box-sizing: border-box;
      position: relative;

      min-width: 100px;
      ${t.get(R.UT,void 0)};
      text-align: left;
      line-height: 3;
      height: 3em;
    }
    th {
      background-color: rgb(var(--color-m2) / 0.05);
      font-family: ali-75;
    }
    .column-resize-handle {
      position: absolute;
      right: -2px;
      top: 0;
      bottom: 0;
      z-index: 20;
      pointer-events: none;
      background: ${i("secondary")};
      width: ${t.get(R.dz,"lineWidth")};
    }
    .resize-cursor {
      cursor: ew-resize;
      cursor: col-resize;
    }

    .selectedCell {
      &::after {
        z-index: 2;
        position: absolute;
        content: '';
        left: 0;
        right: 0;
        top: 0;
        bottom: 0;
        background: ${i("secondary",.38)};
        pointer-events: none;
      }

      & ::selection {
        background: transparent;
      }
    }
  `,b=r`
    ol,
    ul {
      padding-left: 40px;
    }
    ol {
      list-style-type: decimal;
    }
    ul {
      list-style-type: disc;
      ul {
        list-style-type: circle;
        ul {
          list-style-type: square;
        }
      }
    }
    .emoji {
      display: inherit;
    }
  `,w=r`
    .milkdown-menu {
      background: rgb(var(--color-b4) / 1);
      border-top: 1px solid rgb(var(--color-m2) / 0.05);
      border-bottom: 1px solid rgb(var(--color-m2) / 0.05);
      border-left: none;
      border-right: none;
      padding: 3px 8px;
      .divider {
        background-color: rgb(var(--color-m2) / 0.08);
      }
      .icon {
        font-size: 24px;
      }
      & > .button {
        border-radius: 6px;
        transition-duration: 200ms;
        background-color: rgb(var(--color-b4) / 1);
        &.active,
        &:hover {
          background-color: rgb(var(--color-m2) / 0.05);
          color: rgb(var(--color-t2) / 1);
          color: rgb(var(--color-note-t1) / 1);
        }
      }
      .menu-selector-wrapper {
        border: none;
        &.fold .menu-selector {
          color: rgb(var(--color-t3) / 1);
        }
        .menu-selector {
          color: rgb(var(--color-t2) / 1);
          background-color: transparent;
          font-size: 14px;
          width: 8em;
          padding: 0 0.25em;
        }
      }
      .menu-selector .icon {
        font-size: inherit;
      }
      .menu-selector-list {
        overflow: hidden;
        border: none;
        background: rgb(var(--color-b5) / 1);
        box-shadow: 0px 2px 14px 0px rgba(0, 0, 0, 0.1);
        border-radius: 8px;
        padding: 0 4px;
      }
      .menu-selector-list-item {
        border-radius: 6px;
        margin: 4px auto;
        &:hover {
          background-color: rgb(var(--color-m2) / 0.05);
          // color: rgb(var(--color-t1) / 1);
        }
      }
    }
  `;(({injectGlobal:t})=>{t`
    /* copy from https://github.com/ProseMirror/@milkdown/prose/blob/master/style/prosemirror.css */
    .ProseMirror {
        position: relative;
    }

    .ProseMirror {
        word-wrap: break-word;
        white-space: pre-wrap;
        white-space: break-spaces;
        -webkit-font-variant-ligatures: none;
        font-variant-ligatures: none;
        font-feature-settings: 'liga' 0; /* the above doesn't seem to work in Edge */
    }

    .ProseMirror pre {
        white-space: pre-wrap;
    }

    .ProseMirror li {
        position: relative;
    }

    .ProseMirror-hideselection *::selection {
        background: transparent;
    }
    .ProseMirror-hideselection *::-moz-selection {
        background: transparent;
    }
    .ProseMirror-hideselection {
        caret-color: transparent;
    }

    .ProseMirror-selectednode {
        outline: 2px solid #8cf;
    }

    /* Make sure li selections wrap around markers */

    li.ProseMirror-selectednode {
        outline: none;
    }

    li.ProseMirror-selectednode:after {
        content: '';
        position: absolute;
        left: -32px;
        right: -2px;
        top: -2px;
        bottom: -2px;
        border: 2px solid #8cf;
        pointer-events: none;
    }

    /* Protect against generic img rules */

    img.ProseMirror-separator {
        display: inline !important;
        border: none !important;
        margin: 0 !important;
    }
`})(e);const x=r`
    .table-tooltip {
      margin-top: 70px;
      margin-left: 36px;
    }
    .tooltip,
    .table-tooltip {
      border: 1px solid rgb(var(--color-m2) / 0.05);
      box-shadow: 0px 2px 14px 0px rgba(0, 0, 0, 0.1);
      border-radius: 8px;
      .icon {
        font-size: 24px;
        line-height: 1.333;
        margin: 4px;
        width: 32px;
        height: 32px;
        border-radius: 4px;
        transition-duration: 150ms;
        &::after {
          background: transparent !important;
        }
        &.active,
        &:hover {
          color: rgb(var(--color-note-t1) / 1);
          background: rgb(var(--color-m2) / 0.05);
        }
      }
    }
    .slash-dropdown {
      box-shadow: 0px 2px 14px 0px rgba(0, 0, 0, 0.1);
      border: none;
      .icon {
        font-size: 20px;
      }
      .slash-dropdown-item.active {
        background: rgb(var(--color-m2) / 0.05);
      }
    }
    .tooltip-input {
      box-shadow: 0px 2px 14px 0px rgba(0, 0, 0, 0.1);
      border: none;
      button {
        border-radius: 4px;
      }
    }
    .milkdown-emoji-filter_item:hover {
      background: rgb(var(--color-m2) / 0.05);
    }
    .table-tooltip .icon-drop_down:before {
      content: \"\\e6e8\";
    }
  `,_=r`
    .paragraph .image-container {
      background-color: rgb(var(--color-m2) / 0.05);
    }
    .ProseMirror-widget .icon,
    .image-container .icon {
      font-size: 36px;
      color: rgb(var(--color-t2) / 0.6);
    }
    .milkdown-cell-point .icon-select:before {
      content: \"\\e6ed\";
      color: rgb(var(--color-t3) / 0.8);
    }
    .tableWrapper table .milkdown-cell-point.ProseMirror-widget::after {
      // background: rgb(28 28 30 / 0);
    }
  `;n`
        .milkdown-menu-wrapper {
            height: 100%;
            ${w}
        }
        .milkdown {
            position: relative;
            height: calc(100% - 64px);
            overflow: auto;
            box-shadow: none;
            color: rgb(var(--color-t2) / 1);
            background-color: rgb(var(--color-b4) / 1);
            ${b}
            ${t.get(R.eK,void 0)}
            ${l};

            ${x}
            ${_}
            .editor {
                min-height: 100%;
                outline: none;
                padding: 1.2em 1.5em 1.5em;
                & > * {
                    margin: 20px 0;
                }

                ${c};
                ${h};
                ${u};
                ${d};
                ${f};
                ${p};
                ${g};

                ${v};
                ${y};

                ${m};
            }
        }
    `})(n,e)})),((t,e)=>{[$c,Rc,Bc,jc,Pc].forEach((n=>{n(t,e)}))})(n,e)},Jc=function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(0,B.LS)(((e,n)=>Kc(t)(e,n)))},Zc=Jc(!1),Qc=Jc(!0),tu=(0,E.Gb)()({h1:{label:"一级标题",icon:"h1"},h2:{label:"二级标题",icon:"h2"},h3:{label:"三级标题",icon:"h3"},bulletList:{label:"无序列表",icon:"bulletList"},orderedList:{label:"有序列表",icon:"orderedList"},taskList:{label:"任务列表",icon:"taskList"},image:{label:"图片链接",icon:"image"},blockquote:{label:"引用",icon:"quote"},table:{label:"表格",icon:"table"},code:{label:"代码块",icon:"code"},divider:{label:"水平线",icon:"divider"}});var eu=n(17319);let nu;const ru=(t,e,n,r,i,o,a,s)=>(nu=B.ML.make().config((r=>{r.set(B.KP,t),r.set(B.Dn,e),r.update(B.i8,(t=>({...t,editable:()=>!n}))),r.get(Je).blur((t=>{const e=t.get(B.U7).state.doc.toJSON(),n=iu(e);o(n)})).markdownUpdated((0,Sc.Z)(((t,e)=>{null==i||i(e)}),300,{leading:!0,trailing:!0})).mounted((t=>{a(t)}))})).use(ve).use(Cc.configure(ga,{input:{placeholder:"请输入链接",buttonText:"确认"}}).configure(Ha,{input:{placeholder:"请输入图片链接",buttonText:"确认"},placeholder:"添加图片"})).use(Qe).use(ct).use(je).use(xt).use(Xi).use(Tn).use(Ge).use(qo.configure(Yo,{enableHtmlFileUploader:!0,uploader:uu})).use(jt).use(Ro).use(xo.configure(wo,{config:t=>e=>{let{content:n,isTopLevel:r}=e;if(!r)return null;if(!n)return{placeholder:"输入“/”可插入内容"};const i=e=>{const{id:n=""}=e,r=tu[n];return r&&(e.dom=fo(t.get(R.Xc),r.label,r.icon)),e};return n.startsWith("/")?"/"===n?{placeholder:"类型筛选",actions:po(t).map(i)}:{actions:po(t,n).map(i)}:null}})).use(r?Qc:Zc).use($o).use(au(s)).use(Xn.configure(Gn,{config:Yn.map((t=>t.map((t=>"select"===t.type&&"Heading"===t.text?{...t,text:"标题",options:[{id:"1",text:tu.h1.label},{id:"2",text:tu.h2.label},{id:"3",text:tu.h3.label},{id:"0",text:"正文"}]}:("image"===t.icon&&(t.key=ou),t)))))})),nu),iu=t=>{let e="";const n=t=>{e.length>50||("text"===t.type?e+=` ${t.text}`:t.content&&t.content.forEach((t=>{n(t)})))};return n(t),e},ou=(0,B.uW)(),au=t=>()=>async e=>{await e.wait(B.rm);e.get(B.Xo).create(ou,(()=>su(t)))},su=t=>()=>{if(!t())return;const e=document.createElement("input");e.type="file",e.click(),e.addEventListener("change",(t=>{cu(t.target.files[0]).then((t=>{const e=nu.action((t=>t.get(B.U7))),n=e.state.tr;n.selection.empty||n.deleteSelection(),nu.action((e=>{const r=e.get(B.U7),i=e.get(B._z)(`![image](${t})`);if(!i)return;const o=r.state;r.dispatch(o.tr.replace(n.selection.from,n.selection.from,new P.p2(i.content,0,0)))}))}))}))},lu=new eu.k,cu=async t=>{if(t.size>5242880)throw eu.R.fail({message:"文件超出限制"}),new Error("limit size");lu.loading({message:"上传中",duration:6e4});const[e,n]=await(0,Dc.E)("user-note-img",t);if(lu.hide(),e)throw eu.R.fail({message:"上传失败"}),new Error(e);return n},uu=async(t,e)=>{const n=[];for(let e=0;e<t.length;e++){const r=t.item(e);r&&(r.type.includes("image")&&n.push(r))}return await Promise.all(n.map((async t=>{const n=await cu(t),r=t.name;return e.nodes.image.createAndFill({src:n,alt:r})})))},hu=(0,l.aZ)({__name:"hi-editor",props:{value:{default:""},isDark:{type:Boolean},beforeUploadImage:null},emits:["update:value","change-desc"],setup(t,e){let{emit:n}=e;const r=t,o=(0,u.iH)(null),a=(0,u.iH)();(0,l.bv)((()=>{setTimeout((()=>{const t=document.querySelector(".milkdown-menu");t&&t.addEventListener("wheel",E.K1)}),20)}));const s=t=>{n("update:value",t)},c=t=>{n("change-desc",t)},h=t=>{o.value=t.get(B.o4)},d=(0,L.jE)((t=>ru(t,r.value,!1,r.isDark,s,c,h,r.beforeUploadImage)));return(0,l.YP)((()=>r.isDark),(()=>{var t;null===(t=o.value)||void 0===t||t.action((t=>{t.get(R.Xc).switch(t,r.isDark?Qc:Zc)}))})),(t,e)=>((0,l.wg)(),(0,l.j4)((0,u.SU)(L.bR),{ref_key:"vueEditorRef",ref:a,class:"hi-editor relative h-full",editor:(0,u.SU)(d),onContextmenu:e[0]||(e[0]=(0,i.withModifiers)((()=>{}),["stop"]))},null,8,["editor"]))}}),du=hu;var fu=n(91294),pu=n(22140);const gu=t=>((0,l.dD)("data-v-31212328"),t=t(),(0,l.Cn)(),t),mu={class:"note-modal-content relative"},yu={class:"flex h-[60px] items-center px-[20px] leading-none"},vu=gu((()=>(0,l._)("button",{class:"change-btn invisible hidden rounded-[6px] bg-color-m2 bg-opacity-10 p-[6px]"},[(0,l._)("i",{class:"icon iconfont icon-toggle_s text-[16px] text-color-note-t1"})],-1))),bu=["readonly","onKeyup"],wu=[gu((()=>(0,l._)("i",{class:"icon iconfont icon-toggle_s text-[16px] text-color-note-t1"},null,-1)))],xu={spellcheck:"false",class:"editor"},_u=(0,l.aZ)({__name:"note-modal-content",emits:["update:hideSideBar"],setup(t,e){let{emit:n}=e;const r=(0,m.useNoteStore)(),o=(0,fu.V)(),a=(0,pu.useUserStore)(),s=(0,u.iH)(),c=(0,l.Fl)({get(){var t;return(null===(t=r.activeItem)||void 0===t?void 0:t.content)||""},set(t){r.activeItem&&r.saveNote({...r.activeItem,content:t})}}),d=(0,l.Fl)({get(){var t;return(null===(t=r.activeItem)||void 0===t?void 0:t.title)||""},set(t){r.activeItem&&r.saveNote({...r.activeItem,title:t})}}),f=()=>!!a.isLogin||(eu.R.warn({message:"请登录后再上传图片",btnText:"去登录",onBtnClick:()=>{a.showLogin(!1)}}),!1),p=t=>{r.activeItem&&r.saveNote({...r.activeItem,desc:t})},g=()=>{var t;null===(t=document.querySelector(".ProseMirror"))||void 0===t||t.focus()},y=(0,l.Fl)((()=>"dark"===o.currentTheme)),v=()=>{n("update:hideSideBar",!1)};return(t,e)=>{const n=du;return(0,l.wg)(),(0,l.iD)("section",mu,[(0,l._)("div",yu,[vu,(0,l.wy)((0,l._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>(0,u.dq)(d)?d.value=t:null),readonly:!(0,u.SU)(r).activeId,spellcheck:"false",class:"note-title-input w-full bg-color-none font-ali-75 text-[24px] text-color-t1",type:"text",onKeyup:(0,i.withKeys)(g,["enter"])},null,40,bu),[[i.vModelText,(0,u.SU)(d)]]),(0,l._)("button",{class:"change-btn hidden rounded-[6px] bg-color-m2 bg-opacity-10 p-[6px]",onClick:v},wu)]),(0,l._)("div",xu,[((0,l.wg)(),(0,l.j4)(n,{key:(0,u.SU)(r).activeId,ref_key:"editorRef",ref:s,value:(0,u.SU)(c),"onUpdate:value":e[1]||(e[1]=t=>(0,u.dq)(c)?c.value=t:null),class:(0,h.normalizeClass)([{"pointer-events-none":!(0,u.SU)(r).activeId}]),"is-dark":(0,u.SU)(y),"before-upload-image":f,onChangeDesc:p},null,8,["value","class","is-dark"]))])])}}}),ku=(0,_.Z)(_u,[["__scopeId","data-v-31212328"]]);var Eu=n(2211);const Cu=t=>((0,l.dD)("data-v-2c47b935"),t=t(),(0,l.Cn)(),t),Su={class:"content flex h-full w-full flex-row-reverse"},Du=Cu((()=>(0,l._)("div",{class:""},null,-1))),Tu=(0,l.aZ)({__name:"widget-note-modal",setup(t){const e=(0,m.useNoteStore)(),{fullScreen:n,setSullScreen:r}=(0,Eu.O)(),i=(0,u.iH)(!0);return(t,o)=>{const c=s.Z,d=a.Z;return(0,l.wg)(),(0,l.j4)(d,{class:"widget-note-modal",ani:"fade",show:(0,u.SU)(e).modalShow},{default:(0,l.w5)((()=>[(0,l.Wm)(c,{"full-screen":(0,u.SU)(n),onOnClose:o[2]||(o[2]=t=>(0,u.SU)(e).setModal(!1)),onOnFullscreen:o[3]||(o[3]=t=>(0,u.SU)(r)(t))},{default:(0,l.w5)((()=>[(0,l._)("div",Su,[(0,l.Wm)(ku,{"hide-side-bar":i.value,"onUpdate:hide-side-bar":o[0]||(o[0]=t=>i.value=t),class:"h-full grow"},null,8,["hide-side-bar"]),(0,l.Wm)(I,{"hide-side-bar":i.value,"onUpdate:hide-side-bar":o[1]||(o[1]=t=>i.value=t),class:(0,h.normalizeClass)(["side-bar-hide h-full w-[300px] border-r-[1px] border-color-m2 border-opacity-[0.08] bg-color-b3",[{"side-bar":!i.value}]])},null,8,["hide-side-bar","class"])])])),_:1},8,["full-screen"]),Du])),_:1},8,["show"])}}}),Au=(0,_.Z)(Tu,[["__scopeId","data-v-2c47b935"]]);var Mu=n(75008);(()=>{const t=(0,E.em)(),e=(0,i.createApp)(Au);(0,Mu.f)(e),e.use(o.M),e.use(r.Z),e.mount(t)})()},47804:(t,e,n)=>{"use strict";n.r(e),n.d(e,{useNoteStore:()=>g});var r=n(94119),i=n(84522),o=n(63477),a=n(24581),s=n(80661),l=n.n(s),c=n(81212),u=n(10435);const h=n(74003).sM?[{id:"note-1",isTop:!1,title:"欢迎使用Wetab笔记",desc:" Wetab笔记，给你更好的笔记体验 这里是 Wetab新标签官网  (邮件点击打开链接) 以下特性可以为你的笔记带来非常棒的体验：",content:'> Wetab笔记，给你更好的笔记体验\n>\n> 这里是[Wetab新标签官网](https://www.wetab.link) (右键点击打开链接)\n\n以下特性可以为你的笔记带来非常棒的体验：\n\n*   [x] 📝 **所见即所得的 Markdown** - 以一种优雅的方式编写 markdown\n\n*   [x] 👍 **Emoji** - 支持 emoji 快捷指令和选择器\n\n*   [x] 💾 **剪贴板** - 支持 markdown 格式的复制粘贴\n\n*   [x] ⌨️ **换行模式** - 你可以使用“Enter”和“Shift + Enter”两种方式进行换行\n\n*   [x] ⚡ **斜线指令** - 在空白处输入状态下通过“/”可以完成丰富的输入指令\n\n*   [x] 🧮 **数学支持** - 你可以完成数学公式的描写\n\n*   [x] 📊 **表格支持** - 拥有流畅的 ui 的表格支持\n\n*   [x] 📰 **图表支持** - 基于[mermaid](https://mermaid-js.github.io/mermaid/#/)的图表支持\n\n***\n\n你可以添加行内代码例如 `inline code` 和代码块：\n\n```javascript\nfunction main() {\n    console.info("Hello world!");\n}\n```\n\n> Tips: 使用`Mod-Enter`来退出块级元素，例如代码块。\n\n***\n\n你可以输入`||`和一个空格来创建表格：\n\n| 表头 1 |   表头 2   |\n| :--- | :------: |\n| 内容 1 | ~~内容 1~~ |\n| 内容 2 | **内容** 2 |\n\n***\n\n数学公式通过 [TeX 表达式](https://en.wikipedia.org/wiki/TeX)支持。\n\n这里我们有行内公式： $E = mc^2$，你可以点击并编辑它。\n\n数学公式块也是支持的。\n\n$$\n\\begin{aligned}\nT( (v_1 + v_2) \\otimes w) &= T(v_1 \\otimes w) + T(v_2 \\otimes w) \\\\\nT( v \\otimes (w_1 + w_2)) &= T(v \\otimes w_1) + T(v \\otimes w_2) \\\\\nT( (\\alpha v) \\otimes w ) &= T( \\alpha ( v \\otimes w) ) \\\\\nT( v \\otimes (\\alpha w) ) &= T( \\alpha ( v \\otimes w) ) \\\\\n\\end{aligned}\n$$\n\n你可以输入`$$`和一个空格来创建数学公式块。\n\n***\n\n使用 [emoji 快捷指令](https://www.webfx.com/tools/emoji-cheat-sheet/) 例如 `:+1:` 来添加 emoji.\n\n在输入时，你也许注意到了 emoji 过滤器，尝试输入`:baby`来查看它。\n\n***\n\n你可以输入 ` ```mermaid ` 来添加图表。\n\n```mermaid\ngraph TD;\n    EditorState--\x3eEditorView;\n    EditorView--\x3eDOMEvent;\n    DOMEvent--\x3eTransaction;\n    Transaction--\x3eEditorState;\n```\n\n***\n\nWetab笔记基于 [Milkdown](https://milkdown.dev/) 完成\n',updateTime:0,editTime:1658976274954},{id:"note-2",isTop:!1,title:"每日语录",desc:" 村上春树曾说过： 我告诉你我爱你 并不是非要和你在一起 只是希望今后的你 在遭遇人生低谷的时候 不要灰心",content:"![](https://static.wetab.link/note-default.png)\n\n村上春树曾说过：\\\n我告诉你我爱你\\\n并不是非要和你在一起\\\n只是希望今后的你\\\n在遭遇人生低谷的时候\\\n不要灰心\\\n至少曾经有人被你的魅力所吸引\\\n曾经是，以后也会是\\\n如果说喜欢是想占有的偏执\\\n爱就是想触碰又收回手的克制\\\n我并不奢望有一天能站在你身边\\\n我只想让你知道\\\n你的光芒曾照亮过我\n",updateTime:0,editTime:1658979804255},{id:"note-3",isTop:!1,title:"时光",desc:" \t\t时光，带着我年少的记忆，不紧不慢的行走着，我紧随着时光的脚步，踱着日月的光辉，一路也就这样往前延伸着……",content:"\n\n&#x9;\t时光，带着我年少的记忆，不紧不慢的行走着，我紧随着时光的脚步，踱着日月的光辉，一路也就这样往前延伸着……\n\n　　\t\t记忆里的昨天，充斥着离别的味道，总是显得寂静黯然，凉凉的微风拂过，带着我的莫名惆怅，似落花有情流水无意的飘散在回忆的长廊，于是也就习惯了深沉的模样，习惯了寂静的枯灯。每当夜幕降临，浓浓的寂寞袭上心头，才知道，指缝中溜走了太多的岁月，尘埃中湮没了太多的往事，无奈中留下了太多的叹息。\n\n&#x9;\t　　也正是这样，我常常在意犹未尽的时候，怀揣着一种感性的思维，写下浮生流年里，那韶光的短暂，低吟浅唱回忆的殇。\n\n　\t\t　记得我小的时候，从不在意光阴的流逝，直到当蹉跎的岁月，恍如一梦，什么也没留下，却带走了匆匆时光时。我才明白什么是珍惜，却为时已晚，只能暗叹，造化弄人。\n\n　　\t\t如今，我们都长大了，那会的时光早已经暗淡成苦涩的味道。奔跑在成长的天空下，留住的甜蜜又有几分？徘徊在这样的夜色里，我渐渐觉得，我对年少的光阴早已变成了缅怀，和蜻蜓的翅膀一样透明，在那不高不低的晚风中时现时隐。\n\n　　\t\t这不就是一场梦吗，年华的齿轮，在不知不觉间领着我们兜兜转转，转转兜兜，是否还记得，生命里最初的那些模样，来的，去的，多少繁华被一夕覆灭，你说记忆有那么多的动情，忘记该有多痛，花儿的枯萎一如光阴般静静流逝，我并不怕失去经历，怕的是再也抓不住年少的曾经。\n\n　　\t\t突然想起了一段歌词：有些故事还没讲完那就算了吧！那些心情在岁月中已经难辨真假，如今这里荒草丛生没有了鲜花，好在曾经拥有你们的春秋和冬夏。他们都老了吧？他们在哪里呀？我们就这样，各自奔天涯。或许，儿时的时光总是在往后无数个岁月年轮的缝隙里穿插交织，极惹人怀念，宛如许久以前心中那只远飞的纸鸢，舞动着当初。\n\n&#x9;\t　　其实也知道，有些东西我们是无能为力的，可还是放不下。最近经常做梦，梦到我又回到了小时候，和伙伴们一同玩耍，天真的笑颜，妩媚着湛蓝的天空；幼嫩的小手，紧握着风筝的童年，这些你还记得吗？\n\n　　\t\t可是，回答我的除了夜色里阵阵凉意的风声，再也无它，是否，时光的方向，就是一个没有人可以回答的话题，只能各自眷恋，各自去回味？\n\n　\t\t　时光，仿佛把我们的故事越拉越长，一个相同的年华，相同的城市，却留下各自不同的故事，在某一个记忆的转瞬之间，编织了共同的青春年少，值得庆幸的是，那些美好的回忆里，还有你我一起走过的足迹，遗憾的是，在通往未知的路上，很多熟悉的你们却再也找不到当初的熟悉。\n\n　　\t\t这样一个薄凉的秋夜，来来去去回想了一整个曾经，犹如一场还未做完的梦，看着梦中生动的画面，感叹着时光的悄然老去，不知不觉有些东西已经永远成为了过去。\n\n　　\t\t早听说，有些事情有些人，终究该学会忘记。浮华丽影里的景象，就像流年，落了一地的碎片，想去捡拾的时候早已力不从心。\n\n&#x9;\t　　我不知我现在在梦着，还是在醒着，至少，我是在思索着，我的年华，我的情。\n",updateTime:0,editTime:1659060190364}]:[{id:"note-1",isTop:!1,title:"Welcome Hitab Notes",desc:" Hitab Notes, giving you a better note-taking experience.",content:'> Hitab Notes, giving you a better note-taking experience.\n>\n> This is [Hitab New Tab official website](https://www.hitab.me/) (right click to open the link).\n\nThe following features can bring a wonderful experience to your note-taking:\n\n*   [x] 📝 **WYSIWYG Markdown** - Write markdown in an elegant way\n\n*   [x] 👍 **Emoji** - Support emoji shortcut and picker\n\n*   [x] 💾 **Clipboard** - Support copy and paste markdown\n\n*   [x] ⌨️ **Newline Mode** - You can use "Enter" or "Shift + Enter" to wrap lines\n\n*   [x] ⚡ **Slash** - In the input state, you can complete rich input instructions by " /" in blank space\n\n*   [x] 🧮 **Math** - You can write math formulas\n\n*   [x] 📊 **Table** - Table support with fluent ui\n\n*   [x] 📰 **Diagram** - Diagram support with [mermaid](https://mermaid-js.github.io/mermaid/#/)\n\n***\n\nYou can add `inline code` and code block:\n\n```javascript\nfunction main() {\n    console.info("Hello world!");\n}\n```\n\n> Tips: use `Mod-Enter` to exit blocks such as code block.\n\n***\n\nYou can type `||` and a `space` to create a table:\n\n| First Header   |    Second Header   |\n| :------------- | :----------------: |\n| Content Cell 1 | ~~Content~~ Cell 1 |\n| Content Cell 2 | **Content Cell 2** |\n\n***\n\nMath is supported by [TeX expression](https://en.wikipedia.org/wiki/TeX).\n\nNow we have some inline math: $E = mc^2$. You can click to edit it.\n\nMath block is also supported.\n\n$$\n\\begin{aligned}\nT( (v_1 + v_2) \\otimes w) &= T(v_1 \\otimes w) + T(v_2 \\otimes w) \\\\\nT( v \\otimes (w_1 + w_2)) &= T(v \\otimes w_1) + T(v \\otimes w_2) \\\\\nT( (\\alpha v) \\otimes w ) &= T( \\alpha ( v \\otimes w) ) \\\\\nT( v \\otimes (\\alpha w) ) &= T( \\alpha ( v \\otimes w) ) \\\\\n\\end{aligned}\n$$\n\nYou can type `$$` and a `space` to create a math block.\n\n***\n\nUse [emoji cheat sheet](https://www.webfx.com/tools/emoji-cheat-sheet/) such as `:+1:` to add emoji\\[^1].\n\nYou may notice the emoji filter while inputting values, try to type `:baby` to see the list.\n\n***\n\nYou can type ` ```mermaid ` to add diagrams.\n\n```mermaid\ngraph TD;\n    EditorState--\x3eEditorView;\n    EditorView--\x3eDOMEvent;\n    DOMEvent--\x3eTransaction;\n    Transaction--\x3eEditorState;\n```\n\n***\n\nHitab Notes are based on [Milkdown](https://milkdown.dev/)\n',updateTime:0,editTime:1658976274954},{id:"note-2",isTop:!1,title:"The Last Rose of Summer",desc:" This is the last rose of summer 　　Left blooming alone",content:"This is the last rose of summer\n\n　　Left blooming alone;\n\n　　All her lovely panions\n\n　　Are faded and gone;\n\n　　No flower of her kindred，&#x20;\n\n　　No rose-bud is nigh，\n\n　　to reflect back her blushes，&#x20;\n\n　　Or give sigh for sigh&#x20;\n\n　　Ill not leave thee， thou lone one!&#x20;\n\n　　To pineon the stem;&#x20;\n\n　　Since the lovely are sleeping&#x20;\n\n　　Go， sleep thou with them\n\n　　thus kindly Is scatter&#x20;\n\n　　Thy leaves oer the bed\n\n　　Where thy mates of the garden\n\n　　Liescentless and dead\n\n　　Soon may I follow，\n\n　　When friendships decay，\n\n　　And from Loves shining circle\n\n　　The gems drop away\n\n　　When true hearts lie withered，\n\n　　And fond ones are flown，\n\n　　O! who wouldinhabit&#x20;\n\n　　This bleak world alone?&#x20;\n",updateTime:0,editTime:1658979804255},{id:"note-3",isTop:!1,title:"Change The Way of Thinking",desc:" If your life feels like it is lacking the power that you want and the motivation that you need, sometimes all you have to do is shift your point of view.",content:"If your life feels like it is lacking the power that you want and the motivation that you need, sometimes all you have to do is shift your point of view.\n\n By training your thoughts to concentrate on the bright side of things, you are more likely to have the incentive to follow through on your goals. You are less likely to be held back by negative ideas that might limit your performance.\n\n Your life can be enhanced, and your happiness enriched, when you choose to change your perspective. Don’t leave your future to chance, or wait for things to get better mysteriously on their own. You must go in the direction of your hopes and aspirations. Begin to build your confidence, and work through problems rather than avoid them. Remember that power is not necessarily control over situations, but the ability to deal with whatever comes your way.\n\n Always believe that good things are possible, and remember that mistakes can be lessons that lead to discoveries. Take your fear and transform it into trust; learn to rise above anxiety and doubt. Turn your “worry hours” into “productive hours”. Take the energy that you have wasted and direct it toward every worthwhile effort that you can be involved in. You will see beautiful things happen when you allow yourself to experience the joys of life. You will find happiness when you addopt positive thinking into your daily routine and make it an important part of your world.\n",updateTime:0,editTime:1659060190364}],d=["rgba(255, 201, 104, 1)","rgba(152, 216, 93, 1)","rgba(255, 118, 118, 1)"],f=l()().year(),p=t=>{const e=l()(t);return(0,o.dG)(e,e.year()!==f&&0===t)},g=(0,u.Q_)(i.BU.note,{syncStorage:{watch:["notes"]},syncCloud:{watch:["notes"]},state:()=>({modalShow:!1,searchValue:"",activeId:"",notes:h}),getters:{activeItem(){if(this.activeId)return this.sidebarList.find((t=>t.id===this.activeId))},homeList(){const t=[...this.notes];return t.length>d.length&&(t.length=d.length),t.map(((t,e)=>({...t,color:d[e],timeStr:p(t.editTime)})))},sidebarList(){return this.notes.filter((t=>t.title.includes(this.searchValue)||t.content.includes(this.searchValue))).map((t=>({...t,timeStr:p(t.editTime)})))}},actions:{setSearchValue(t){this.searchValue=t,this.setActive(this.activeId)},setActive(t){if("number"==typeof t){const e=this.sidebarList.length;this.activeId=0===e?"":1===e||t<0?this.sidebarList[0].id:t>e-1?this.sidebarList[e-1].id:this.sidebarList[t].id}else this.sidebarList.findIndex((e=>e.id===t))>-1?this.activeId=t:this.sidebarList.length>0?this.activeId=this.sidebarList[0].id:this.activeId=""},setModal(t){r.G.setStatus(a.Rm.note,t),t&&!this.activeId&&this.setActive(0),this.modalShow=t},saveNote(t){let e=0;const n=Date.now();if(t.id){if(e=this.notes.findIndex((e=>{let{id:n}=e;return n===t.id})),(0,c.Z)(this.notes[e],t))return e;e>-1&&Object.assign(this.notes[e],{...t,updateTime:n,editTime:n})}else{e=this.notes.length,this.notes.some(((t,n)=>{if(!t.isTop)return e=n,!0}));const r={...t,id:(0,o.kb)("note-"),updateTime:n,editTime:n};this.notes.splice(e,0,r)}return this.notes=[...this.notes],e},deleteNote(t){const e=this.notes.findIndex((e=>{let{id:n}=e;return n===t}));e>-1&&(this.notes.splice(e,1),0===this.notes.length?this.saveNote({title:"新建笔记",content:"",desc:"",isTop:!1}):this.notes=[...this.notes],this.setActive(this.activeId))},setTop(t){const e=this.notes.findIndex((e=>{let{id:n}=e;return n===t}));if(e>-1){const[t]=this.notes.splice(e,1);if(t.isTop){let e=this.notes.findIndex((t=>!1===t.isTop));-1===e&&(e=this.notes.length),this.notes.splice(e,0,{...t,isTop:!1})}else this.notes.splice(0,0,{...t,isTop:!0});this.notes=[...this.notes]}}}})},36586:t=>{"use strict";function e(t){this.content=t}e.prototype={constructor:e,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return-1==e?void 0:this.content[e+1]},update:function(t,n,r){var i=r&&r!=t?this.remove(r):this,o=i.find(t),a=i.content.slice();return-1==o?a.push(r||t,n):(a[o+1]=n,r&&(a[o]=r)),new e(a)},remove:function(t){var n=this.find(t);if(-1==n)return this;var r=this.content.slice();return r.splice(n,2),new e(r)},addToStart:function(t,n){return new e([t,n].concat(this.remove(t).content))},addToEnd:function(t,n){var r=this.remove(t).content.slice();return r.push(t,n),new e(r)},addBefore:function(t,n,r){var i=this.remove(n),o=i.content.slice(),a=i.find(t);return o.splice(-1==a?o.length:a,0,n,r),new e(o)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return(t=e.from(t)).size?new e(t.content.concat(this.subtract(t).content)):this},append:function(t){return(t=e.from(t)).size?new e(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var n=this;t=e.from(t);for(var r=0;r<t.content.length;r+=2)n=n.remove(t.content[r]);return n},get size(){return this.content.length>>1}},e.from=function(t){if(t instanceof e)return t;var n=[];if(t)for(var r in t)n.push(r,t[r]);return new e(n)},t.exports=e},97354:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(26691),i=n(42391),o="undefined"!=typeof navigator&&/Mac|iP(hone|[oa]d)/.test(navigator.platform);function a(t){var e,n,r,i,a=t.split(/-(?!$)/),s=a[a.length-1];"Space"==s&&(s=" ");for(var l=0;l<a.length-1;l++){var c=a[l];if(/^(cmd|meta|m)$/i.test(c))i=!0;else if(/^a(lt)?$/i.test(c))e=!0;else if(/^(c|ctrl|control)$/i.test(c))n=!0;else if(/^s(hift)?$/i.test(c))r=!0;else{if(!/^mod$/i.test(c))throw new Error("Unrecognized modifier name: "+c);o?i=!0:n=!0}}return e&&(s="Alt-"+s),n&&(s="Ctrl-"+s),i&&(s="Meta-"+s),r&&(s="Shift-"+s),s}function s(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),!1!==n&&e.shiftKey&&(t="Shift-"+t),t}function l(t){var e=function(t){var e=Object.create(null);for(var n in t)e[a(n)]=t[n];return e}(t);return function(t,n){var i,o=r.keyName(n),a=1==o.length&&" "!=o,l=e[s(o,n,!a)];if(l&&l(t.state,t.dispatch,t))return!0;if(a&&(n.shiftKey||n.altKey||n.metaKey||o.charCodeAt(0)>127)&&(i=r.base[n.keyCode])&&i!=o){var c=e[s(i,n,!0)];if(c&&c(t.state,t.dispatch,t))return!0}else if(a&&n.shiftKey){var u=e[s(o,n,!0)];if(u&&u(t.state,t.dispatch,t))return!0}return!1}}e.keydownHandler=l,e.keymap=function(t){return new i.Plugin({props:{handleKeyDown:l(t)}})}},19443:(t,e,n)=>{"use strict";function r(){return r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=i(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},r.apply(this,arguments)}function i(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=d(t)););return t}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h(t,e)}function a(t){var e=u();return function(){var n,r=d(t);if(e){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){if(e&&("object"===m(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function l(t){var e="function"==typeof Map?new Map:void 0;return l=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return c(t,arguments,d(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),h(r,t)},l(t)}function c(t,e,n){return c=u()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&h(i,n.prototype),i},c.apply(null,arguments)}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function h(t,e){return h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},h(t,e)}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function g(t,e,n){return e&&p(t.prototype,e),n&&p(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function m(t){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}Object.defineProperty(e,"__esModule",{value:!0});var y=n(36586);var v,b=(v=y)&&"object"===m(v)&&"default"in v?v:{default:v};function w(t,e,n){for(var r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;var i=t.child(r),o=e.child(r);if(i!=o){if(!i.sameMarkup(o))return n;if(i.isText&&i.text!=o.text){for(var a=0;i.text[a]==o.text[a];a++)n++;return n}if(i.content.size||o.content.size){var s=w(i.content,o.content,n+1);if(null!=s)return s}n+=i.nodeSize}else n+=i.nodeSize}}function x(t,e,n,r){for(var i=t.childCount,o=e.childCount;;){if(0==i||0==o)return i==o?null:{a:n,b:r};var a=t.child(--i),s=e.child(--o),l=a.nodeSize;if(a!=s){if(!a.sameMarkup(s))return{a:n,b:r};if(a.isText&&a.text!=s.text){for(var c=0,u=Math.min(a.text.length,s.text.length);c<u&&a.text[a.text.length-c-1]==s.text[s.text.length-c-1];)c++,n--,r--;return{a:n,b:r}}if(a.content.size||s.content.size){var h=x(a.content,s.content,n-1,r-1);if(h)return h}n-=l,r-=l}else n-=l,r-=l}}var _=function(){function t(e,n){if(f(this,t),this.content=e,this.size=n||0,null==n)for(var r=0;r<e.length;r++)this.size+=e[r].nodeSize}return g(t,[{key:"nodesBetween",value:function(t,e,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4?arguments[4]:void 0,o=0,a=0;a<e;o++){var s=this.content[o],l=a+s.nodeSize;if(l>t&&!1!==n(s,r+a,i||null,o)&&s.content.size){var c=a+1;s.nodesBetween(Math.max(0,t-c),Math.min(s.content.size,e-c),n,r+c)}a=l}}},{key:"descendants",value:function(t){this.nodesBetween(0,this.size,t)}},{key:"textBetween",value:function(t,e,n,r){var i="",o=!0;return this.nodesBetween(t,e,(function(a,s){a.isText?(i+=a.text.slice(Math.max(t,s)-s,e-s),o=!n):a.isLeaf?(r?i+="function"==typeof r?r(a):r:a.type.spec.leafText&&(i+=a.type.spec.leafText(a)),o=!n):!o&&a.isBlock&&(i+=n,o=!0)}),0),i}},{key:"append",value:function(e){if(!e.size)return this;if(!this.size)return e;var n=this.lastChild,r=e.firstChild,i=this.content.slice(),o=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),o=1);o<e.content.length;o++)i.push(e.content[o]);return new t(i,this.size+e.size)}},{key:"cut",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.size;if(0==e&&n==this.size)return this;var r=[],i=0;if(n>e)for(var o=0,a=0;a<n;o++){var s=this.content[o],l=a+s.nodeSize;l>e&&((a<e||l>n)&&(s=s.isText?s.cut(Math.max(0,e-a),Math.min(s.text.length,n-a)):s.cut(Math.max(0,e-a-1),Math.min(s.content.size,n-a-1))),r.push(s),i+=s.nodeSize),a=l}return new t(r,i)}},{key:"cutByIndex",value:function(e,n){return e==n?t.empty:0==e&&n==this.content.length?this:new t(this.content.slice(e,n))}},{key:"replaceChild",value:function(e,n){var r=this.content[e];if(r==n)return this;var i=this.content.slice(),o=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new t(i,o)}},{key:"addToStart",value:function(e){return new t([e].concat(this.content),this.size+e.nodeSize)}},{key:"addToEnd",value:function(e){return new t(this.content.concat(e),this.size+e.nodeSize)}},{key:"eq",value:function(t){if(this.content.length!=t.content.length)return!1;for(var e=0;e<this.content.length;e++)if(!this.content[e].eq(t.content[e]))return!1;return!0}},{key:"firstChild",get:function(){return this.content.length?this.content[0]:null}},{key:"lastChild",get:function(){return this.content.length?this.content[this.content.length-1]:null}},{key:"childCount",get:function(){return this.content.length}},{key:"child",value:function(t){var e=this.content[t];if(!e)throw new RangeError("Index "+t+" out of range for "+this);return e}},{key:"maybeChild",value:function(t){return this.content[t]||null}},{key:"forEach",value:function(t){for(var e=0,n=0;e<this.content.length;e++){var r=this.content[e];t(r,n,e),n+=r.nodeSize}}},{key:"findDiffStart",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return w(this,t,e)}},{key:"findDiffEnd",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.size,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.size;return x(this,t,e,n)}},{key:"findIndex",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;if(0==t)return E(0,t);if(t==this.size)return E(this.content.length,t);if(t>this.size||t<0)throw new RangeError("Position ".concat(t," outside of fragment (").concat(this,")"));for(var n=0,r=0;;n++){var i=this.child(n),o=r+i.nodeSize;if(o>=t)return o==t||e>0?E(n+1,o):E(n,r);r=o}}},{key:"toString",value:function(){return"<"+this.toStringInner()+">"}},{key:"toStringInner",value:function(){return this.content.join(", ")}},{key:"toJSON",value:function(){return this.content.length?this.content.map((function(t){return t.toJSON()})):null}}],[{key:"fromJSON",value:function(e,n){if(!n)return t.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new t(n.map(e.nodeFromJSON))}},{key:"fromArray",value:function(e){if(!e.length)return t.empty;for(var n,r=0,i=0;i<e.length;i++){var o=e[i];r+=o.nodeSize,i&&o.isText&&e[i-1].sameMarkup(o)?(n||(n=e.slice(0,i)),n[n.length-1]=o.withText(n[n.length-1].text+o.text)):n&&n.push(o)}return new t(n||e,r)}},{key:"from",value:function(e){if(!e)return t.empty;if(e instanceof t)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new t([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}]),t}();_.empty=new _([],0);var k={index:0,offset:0};function E(t,e){return k.index=t,k.offset=e,k}function C(t,e){if(t===e)return!0;if(!t||"object"!=m(t)||!e||"object"!=m(e))return!1;var n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(var r=0;r<t.length;r++)if(!C(t[r],e[r]))return!1}else{for(var i in t)if(!(i in e)||!C(t[i],e[i]))return!1;for(var o in e)if(!(o in t))return!1}return!0}var S=function(){function t(e,n){f(this,t),this.type=e,this.attrs=n}return g(t,[{key:"addToSet",value:function(t){for(var e,n=!1,r=0;r<t.length;r++){var i=t[r];if(this.eq(i))return t;if(this.type.excludes(i.type))e||(e=t.slice(0,r));else{if(i.type.excludes(this.type))return t;!n&&i.type.rank>this.type.rank&&(e||(e=t.slice(0,r)),e.push(this),n=!0),e&&e.push(i)}}return e||(e=t.slice()),n||e.push(this),e}},{key:"removeFromSet",value:function(t){for(var e=0;e<t.length;e++)if(this.eq(t[e]))return t.slice(0,e).concat(t.slice(e+1));return t}},{key:"isInSet",value:function(t){for(var e=0;e<t.length;e++)if(this.eq(t[e]))return!0;return!1}},{key:"eq",value:function(t){return this==t||this.type==t.type&&C(this.attrs,t.attrs)}},{key:"toJSON",value:function(){var t={type:this.type.name};for(var e in this.attrs){t.attrs=this.attrs;break}return t}}],[{key:"fromJSON",value:function(t,e){if(!e)throw new RangeError("Invalid input for Mark.fromJSON");var n=t.marks[e.type];if(!n)throw new RangeError("There is no mark type ".concat(e.type," in this schema"));return n.create(e.attrs)}},{key:"sameSet",value:function(t,e){if(t==e)return!0;if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].eq(e[n]))return!1;return!0}},{key:"setFrom",value:function(e){if(!e||Array.isArray(e)&&0==e.length)return t.none;if(e instanceof t)return[e];var n=e.slice();return n.sort((function(t,e){return t.type.rank-e.type.rank})),n}}]),t}();S.none=[];var D=function(t){o(n,t);var e=a(n);function n(){return f(this,n),e.apply(this,arguments)}return g(n)}(l(Error)),T=function(){function t(e,n,r){f(this,t),this.content=e,this.openStart=n,this.openEnd=r}return g(t,[{key:"size",get:function(){return this.content.size-this.openStart-this.openEnd}},{key:"insertAt",value:function(e,n){var r=M(this.content,e+this.openStart,n);return r&&new t(r,this.openStart,this.openEnd)}},{key:"removeBetween",value:function(e,n){return new t(A(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}},{key:"eq",value:function(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}},{key:"toString",value:function(){return this.content+"("+this.openStart+","+this.openEnd+")"}},{key:"toJSON",value:function(){if(!this.content.size)return null;var t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}}],[{key:"fromJSON",value:function(e,n){if(!n)return t.empty;var r=n.openStart||0,i=n.openEnd||0;if("number"!=typeof r||"number"!=typeof i)throw new RangeError("Invalid input for Slice.fromJSON");return new t(_.fromJSON(e,n.content),r,i)}},{key:"maxOpen",value:function(e){for(var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=0,i=0,o=e.firstChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.firstChild)r++;for(var a=e.lastChild;a&&!a.isLeaf&&(n||!a.type.spec.isolating);a=a.lastChild)i++;return new t(e,r,i)}}]),t}();function A(t,e,n){var r=t.findIndex(e),i=r.index,o=r.offset,a=t.maybeChild(i),s=t.findIndex(n),l=s.index,c=s.offset;if(o==e||a.isText){if(c!=n&&!t.child(l).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(i!=l)throw new RangeError("Removing non-flat range");return t.replaceChild(i,a.copy(A(a.content,e-o-1,n-o-1)))}function M(t,e,n,r){var i=t.findIndex(e),o=i.index,a=i.offset,s=t.maybeChild(o);if(a==e||s.isText)return r&&!r.canReplace(o,o,n)?null:t.cut(0,e).append(n).append(t.cut(e));var l=M(s.content,e-a-1,n);return l&&t.replaceChild(o,s.copy(l))}function N(t,e,n){if(n.openStart>t.depth)throw new D("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new D("Inconsistent open depths");return O(t,e,n,0)}function O(t,e,n,r){var i=t.index(r),o=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){var a=O(t,e,n,r+1);return o.copy(o.content.replaceChild(i,a))}if(n.content.size){if(n.openStart||n.openEnd||t.depth!=r||e.depth!=r){var s=function(t,e){for(var n=e.depth-t.openStart,r=e.node(n).copy(t.content),i=n-1;i>=0;i--)r=e.node(i).copy(_.from(r));return{start:r.resolveNoCache(t.openStart+n),end:r.resolveNoCache(r.content.size-t.openEnd-n)}}(n,t);return R(o,P(t,s.start,s.end,e,r))}var l=t.parent,c=l.content;return R(l,c.cut(0,t.parentOffset).append(n.content).append(c.cut(e.parentOffset)))}return R(o,z(t,e,r))}function F(t,e){if(!e.type.compatibleContent(t.type))throw new D("Cannot join "+e.type.name+" onto "+t.type.name)}function I(t,e,n){var r=t.node(n);return F(r,e.node(n)),r}function L(t,e){var n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function B(t,e,n,r){var i=(e||t).node(n),o=0,a=e?e.index(n):i.childCount;t&&(o=t.index(n),t.depth>n?o++:t.textOffset&&(L(t.nodeAfter,r),o++));for(var s=o;s<a;s++)L(i.child(s),r);e&&e.depth==n&&e.textOffset&&L(e.nodeBefore,r)}function R(t,e){if(!t.type.validContent(e))throw new D("Invalid content for node "+t.type.name);return t.copy(e)}function P(t,e,n,r,i){var o=t.depth>i&&I(t,e,i+1),a=r.depth>i&&I(n,r,i+1),s=[];return B(null,t,i,s),o&&a&&e.index(i)==n.index(i)?(F(o,a),L(R(o,P(t,e,n,r,i+1)),s)):(o&&L(R(o,z(t,e,i+1)),s),B(e,n,i,s),a&&L(R(a,z(n,r,i+1)),s)),B(r,null,i,s),new _(s)}function z(t,e,n){var r=[];(B(null,t,n,r),t.depth>n)&&L(R(I(t,e,n+1),z(t,e,n+1)),r);return B(e,null,n,r),new _(r)}T.empty=new T(_.empty,0,0);var $=function(){function t(e,n,r){f(this,t),this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}return g(t,[{key:"resolveDepth",value:function(t){return null==t?this.depth:t<0?this.depth+t:t}},{key:"parent",get:function(){return this.node(this.depth)}},{key:"doc",get:function(){return this.node(0)}},{key:"node",value:function(t){return this.path[3*this.resolveDepth(t)]}},{key:"index",value:function(t){return this.path[3*this.resolveDepth(t)+1]}},{key:"indexAfter",value:function(t){return t=this.resolveDepth(t),this.index(t)+(t!=this.depth||this.textOffset?1:0)}},{key:"start",value:function(t){return 0==(t=this.resolveDepth(t))?0:this.path[3*t-1]+1}},{key:"end",value:function(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}},{key:"before",value:function(t){if(!(t=this.resolveDepth(t)))throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]}},{key:"after",value:function(t){if(!(t=this.resolveDepth(t)))throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]+this.path[3*t].nodeSize}},{key:"textOffset",get:function(){return this.pos-this.path[this.path.length-1]}},{key:"nodeAfter",get:function(){var t=this.parent,e=this.index(this.depth);if(e==t.childCount)return null;var n=this.pos-this.path[this.path.length-1],r=t.child(e);return n?t.child(e).cut(n):r}},{key:"nodeBefore",get:function(){var t=this.index(this.depth),e=this.pos-this.path[this.path.length-1];return e?this.parent.child(t).cut(0,e):0==t?null:this.parent.child(t-1)}},{key:"posAtIndex",value:function(t,e){e=this.resolveDepth(e);for(var n=this.path[3*e],r=0==e?0:this.path[3*e-1]+1,i=0;i<t;i++)r+=n.child(i).nodeSize;return r}},{key:"marks",value:function(){var t=this.parent,e=this.index();if(0==t.content.size)return S.none;if(this.textOffset)return t.child(e).marks;var n=t.maybeChild(e-1),r=t.maybeChild(e);if(!n){var i=n;n=r,r=i}for(var o=n.marks,a=0;a<o.length;a++)!1!==o[a].type.spec.inclusive||r&&o[a].isInSet(r.marks)||(o=o[a--].removeFromSet(o));return o}},{key:"marksAcross",value:function(t){var e=this.parent.maybeChild(this.index());if(!e||!e.isInline)return null;for(var n=e.marks,r=t.parent.maybeChild(t.index()),i=0;i<n.length;i++)!1!==n[i].type.spec.inclusive||r&&n[i].isInSet(r.marks)||(n=n[i--].removeFromSet(n));return n}},{key:"sharedDepth",value:function(t){for(var e=this.depth;e>0;e--)if(this.start(e)<=t&&this.end(e)>=t)return e;return 0}},{key:"blockRange",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this,e=arguments.length>1?arguments[1]:void 0;if(t.pos<this.pos)return t.blockRange(this);for(var n=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);n>=0;n--)if(t.pos<=this.end(n)&&(!e||e(this.node(n))))return new q(this,t,n);return null}},{key:"sameParent",value:function(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}},{key:"max",value:function(t){return t.pos>this.pos?t:this}},{key:"min",value:function(t){return t.pos<this.pos?t:this}},{key:"toString",value:function(){for(var t="",e=1;e<=this.depth;e++)t+=(t?"/":"")+this.node(e).type.name+"_"+this.index(e-1);return t+":"+this.parentOffset}}],[{key:"resolve",value:function(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");for(var r=[],i=0,o=n,a=e;;){var s=a.content.findIndex(o),l=s.index,c=s.offset,u=o-c;if(r.push(a,l,i+c),!u)break;if((a=a.child(l)).isText)break;o=u-1,i+=c+1}return new t(n,r,o)}},{key:"resolveCached",value:function(e,n){for(var r=0;r<j.length;r++){var i=j[r];if(i.pos==n&&i.doc==e)return i}var o=j[U]=t.resolve(e,n);return U=(U+1)%Y,o}}]),t}(),j=[],U=0,Y=12,q=function(){function t(e,n,r){f(this,t),this.$from=e,this.$to=n,this.depth=r}return g(t,[{key:"start",get:function(){return this.$from.before(this.depth+1)}},{key:"end",get:function(){return this.$to.after(this.depth+1)}},{key:"parent",get:function(){return this.$from.node(this.depth)}},{key:"startIndex",get:function(){return this.$from.index(this.depth)}},{key:"endIndex",get:function(){return this.$to.indexAfter(this.depth)}}]),t}(),W=Object.create(null),H=function(){function t(e,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:S.none;f(this,t),this.type=e,this.attrs=n,this.marks=i,this.content=r||_.empty}return g(t,[{key:"nodeSize",get:function(){return this.isLeaf?1:2+this.content.size}},{key:"childCount",get:function(){return this.content.childCount}},{key:"child",value:function(t){return this.content.child(t)}},{key:"maybeChild",value:function(t){return this.content.maybeChild(t)}},{key:"forEach",value:function(t){this.content.forEach(t)}},{key:"nodesBetween",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.content.nodesBetween(t,e,n,r,this)}},{key:"descendants",value:function(t){this.nodesBetween(0,this.content.size,t)}},{key:"textContent",get:function(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}},{key:"textBetween",value:function(t,e,n,r){return this.content.textBetween(t,e,n,r)}},{key:"firstChild",get:function(){return this.content.firstChild}},{key:"lastChild",get:function(){return this.content.lastChild}},{key:"eq",value:function(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}},{key:"sameMarkup",value:function(t){return this.hasMarkup(t.type,t.attrs,t.marks)}},{key:"hasMarkup",value:function(t,e,n){return this.type==t&&C(this.attrs,e||t.defaultAttrs||W)&&S.sameSet(this.marks,n||S.none)}},{key:"copy",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e==this.content?this:new t(this.type,this.attrs,e,this.marks)}},{key:"mark",value:function(e){return e==this.marks?this:new t(this.type,this.attrs,this.content,e)}},{key:"cut",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.content.size;return 0==t&&e==this.content.size?this:this.copy(this.content.cut(t,e))}},{key:"slice",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.content.size,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t==e)return T.empty;var r=this.resolve(t),i=this.resolve(e),o=n?0:r.sharedDepth(e),a=r.start(o),s=r.node(o),l=s.content.cut(r.pos-a,i.pos-a);return new T(l,r.depth-o,i.depth-o)}},{key:"replace",value:function(t,e,n){return N(this.resolve(t),this.resolve(e),n)}},{key:"nodeAt",value:function(t){for(var e=this;;){var n=e.content.findIndex(t),r=n.index,i=n.offset;if(!(e=e.maybeChild(r)))return null;if(i==t||e.isText)return e;t-=i+1}}},{key:"childAfter",value:function(t){var e=this.content.findIndex(t),n=e.index,r=e.offset;return{node:this.content.maybeChild(n),index:n,offset:r}}},{key:"childBefore",value:function(t){if(0==t)return{node:null,index:0,offset:0};var e=this.content.findIndex(t),n=e.index,r=e.offset;if(r<t)return{node:this.content.child(n),index:n,offset:r};var i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}},{key:"resolve",value:function(t){return $.resolveCached(this,t)}},{key:"resolveNoCache",value:function(t){return $.resolve(this,t)}},{key:"rangeHasMark",value:function(t,e,n){var r=!1;return e>t&&this.nodesBetween(t,e,(function(t){return n.isInSet(t.marks)&&(r=!0),!r})),r}},{key:"isBlock",get:function(){return this.type.isBlock}},{key:"isTextblock",get:function(){return this.type.isTextblock}},{key:"inlineContent",get:function(){return this.type.inlineContent}},{key:"isInline",get:function(){return this.type.isInline}},{key:"isText",get:function(){return this.type.isText}},{key:"isLeaf",get:function(){return this.type.isLeaf}},{key:"isAtom",get:function(){return this.type.isAtom}},{key:"toString",value:function(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);var t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),G(this.marks,t)}},{key:"contentMatchAt",value:function(t){var e=this.type.contentMatch.matchFragment(this.content,0,t);if(!e)throw new Error("Called contentMatchAt on a node with invalid content");return e}},{key:"canReplace",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_.empty,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:n.childCount,o=this.contentMatchAt(t).matchFragment(n,r,i),a=o&&o.matchFragment(this.content,e);if(!a||!a.validEnd)return!1;for(var s=r;s<i;s++)if(!this.type.allowsMarks(n.child(s).marks))return!1;return!0}},{key:"canReplaceWith",value:function(t,e,n,r){if(r&&!this.type.allowsMarks(r))return!1;var i=this.contentMatchAt(t).matchType(n),o=i&&i.matchFragment(this.content,e);return!!o&&o.validEnd}},{key:"canAppend",value:function(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}},{key:"check",value:function(){if(!this.type.validContent(this.content))throw new RangeError("Invalid content for node ".concat(this.type.name,": ").concat(this.content.toString().slice(0,50)));for(var t=S.none,e=0;e<this.marks.length;e++)t=this.marks[e].addToSet(t);if(!S.sameSet(t,this.marks))throw new RangeError("Invalid collection of marks for node ".concat(this.type.name,": ").concat(this.marks.map((function(t){return t.type.name}))));this.content.forEach((function(t){return t.check()}))}},{key:"toJSON",value:function(){var t={type:this.type.name};for(var e in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map((function(t){return t.toJSON()}))),t}}],[{key:"fromJSON",value:function(t,e){if(!e)throw new RangeError("Invalid input for Node.fromJSON");var n=null;if(e.marks){if(!Array.isArray(e.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=e.marks.map(t.markFromJSON)}if("text"==e.type){if("string"!=typeof e.text)throw new RangeError("Invalid text node in JSON");return t.text(e.text,n)}var r=_.fromJSON(t,e.content);return t.nodeType(e.type).create(e.attrs,r,n)}}]),t}();H.prototype.text=void 0;var V=function(t){o(n,t);var e=a(n);function n(t,r,i,o){var a;if(f(this,n),a=e.call(this,t,r,null,o),!i)throw new RangeError("Empty text nodes are not allowed");return a.text=i,a}return g(n,[{key:"toString",value:function(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):G(this.marks,JSON.stringify(this.text))}},{key:"textContent",get:function(){return this.text}},{key:"textBetween",value:function(t,e){return this.text.slice(t,e)}},{key:"nodeSize",get:function(){return this.text.length}},{key:"mark",value:function(t){return t==this.marks?this:new n(this.type,this.attrs,this.text,t)}},{key:"withText",value:function(t){return t==this.text?this:new n(this.type,this.attrs,t,this.marks)}},{key:"cut",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.text.length;return 0==t&&e==this.text.length?this:this.withText(this.text.slice(t,e))}},{key:"eq",value:function(t){return this.sameMarkup(t)&&this.text==t.text}},{key:"toJSON",value:function(){var t=r(d(n.prototype),"toJSON",this).call(this);return t.text=this.text,t}}]),n}(H);function G(t,e){for(var n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}var X=function(){function t(e){f(this,t),this.validEnd=e,this.next=[],this.wrapCache=[]}return g(t,[{key:"matchType",value:function(t){for(var e=0;e<this.next.length;e++)if(this.next[e].type==t)return this.next[e].next;return null}},{key:"matchFragment",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.childCount,r=this,i=e;r&&i<n;i++)r=r.matchType(t.child(i).type);return r}},{key:"inlineContent",get:function(){return this.next.length&&this.next[0].type.isInline}},{key:"defaultType",get:function(){for(var t=0;t<this.next.length;t++){var e=this.next[t].type;if(!e.isText&&!e.hasRequiredAttrs())return e}return null}},{key:"compatible",value:function(t){for(var e=0;e<this.next.length;e++)for(var n=0;n<t.next.length;n++)if(this.next[e].type==t.next[n].type)return!0;return!1}},{key:"fillBefore",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=[this];function i(o,a){var s=o.matchFragment(t,n);if(s&&(!e||s.validEnd))return _.from(a.map((function(t){return t.createAndFill()})));for(var l=0;l<o.next.length;l++){var c=o.next[l],u=c.type,h=c.next;if(!u.isText&&!u.hasRequiredAttrs()&&-1==r.indexOf(h)){r.push(h);var d=i(h,a.concat(u));if(d)return d}}return null}return i(this,[])}},{key:"findWrapping",value:function(t){for(var e=0;e<this.wrapCache.length;e+=2)if(this.wrapCache[e]==t)return this.wrapCache[e+1];var n=this.computeWrapping(t);return this.wrapCache.push(t,n),n}},{key:"computeWrapping",value:function(t){for(var e=Object.create(null),n=[{match:this,type:null,via:null}];n.length;){var r=n.shift(),i=r.match;if(i.matchType(t)){for(var o=[],a=r;a.type;a=a.via)o.push(a.type);return o.reverse()}for(var s=0;s<i.next.length;s++){var l=i.next[s],c=l.type,u=l.next;c.isLeaf||c.hasRequiredAttrs()||c.name in e||r.type&&!u.validEnd||(n.push({match:c.contentMatch,type:c,via:r}),e[c.name]=!0)}}return null}},{key:"edgeCount",get:function(){return this.next.length}},{key:"edge",value:function(t){if(t>=this.next.length)throw new RangeError("There's no ".concat(t,"th edge in this content match"));return this.next[t]}},{key:"toString",value:function(){var t=[];return function e(n){t.push(n);for(var r=0;r<n.next.length;r++)-1==t.indexOf(n.next[r].next)&&e(n.next[r].next)}(this),t.map((function(e,n){for(var r=n+(e.validEnd?"*":" ")+" ",i=0;i<e.next.length;i++)r+=(i?", ":"")+e.next[i].type.name+"->"+t.indexOf(e.next[i].next);return r})).join("\n")}}],[{key:"parse",value:function(e,n){var r=new K(e,n);if(null==r.next)return t.empty;var i=J(r);r.next&&r.err("Unexpected trailing text");var o=it(function(t){var e=[[]];return i(o(t,0),n()),e;function n(){return e.push([])-1}function r(t,n,r){var i={term:r,to:n};return e[t].push(i),i}function i(t,e){t.forEach((function(t){return t.to=e}))}function o(t,e){if("choice"==t.type)return t.exprs.reduce((function(t,n){return t.concat(o(n,e))}),[]);if("seq"!=t.type){if("star"==t.type){var a=n();return r(e,a),i(o(t.expr,a),a),[r(a)]}if("plus"==t.type){var s=n();return i(o(t.expr,e),s),i(o(t.expr,s),s),[r(s)]}if("opt"==t.type)return[r(e)].concat(o(t.expr,e));if("range"==t.type){for(var l=e,c=0;c<t.min;c++){var u=n();i(o(t.expr,l),u),l=u}if(-1==t.max)i(o(t.expr,l),l);else for(var h=t.min;h<t.max;h++){var d=n();r(l,d),i(o(t.expr,l),d),l=d}return[r(l)]}if("name"==t.type)return[r(e,void 0,t.value)];throw new Error("Unknown expr type")}for(var f=0;;f++){var p=o(t.exprs[f],e);if(f==t.exprs.length-1)return p;i(p,e=n())}}}(i));return function(t,e){for(var n=0,r=[t];n<r.length;n++){for(var i=r[n],o=!i.validEnd,a=[],s=0;s<i.next.length;s++){var l=i.next[s],c=l.type,u=l.next;a.push(c.name),!o||c.isText||c.hasRequiredAttrs()||(o=!1),-1==r.indexOf(u)&&r.push(u)}o&&e.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(o,r),o}}]),t}();X.empty=new X(!0);var K=function(){function t(e,n){f(this,t),this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()}return g(t,[{key:"next",get:function(){return this.tokens[this.pos]}},{key:"eat",value:function(t){return this.next==t&&(this.pos++||!0)}},{key:"err",value:function(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}]),t}();function J(t){var e=[];do{e.push(Z(t))}while(t.eat("|"));return 1==e.length?e[0]:{type:"choice",exprs:e}}function Z(t){var e=[];do{e.push(Q(t))}while(t.next&&")"!=t.next&&"|"!=t.next);return 1==e.length?e[0]:{type:"seq",exprs:e}}function Q(t){for(var e=function(t){if(t.eat("(")){var e=J(t);return t.eat(")")||t.err("Missing closing paren"),e}if(!/\W/.test(t.next)){var n=function(t,e){var n=t.nodeTypes,r=n[e];if(r)return[r];var i=[];for(var o in n){var a=n[o];a.groups.indexOf(e)>-1&&i.push(a)}0==i.length&&t.err("No node type or group '"+e+"' found");return i}(t,t.next).map((function(e){return null==t.inline?t.inline=e.isInline:t.inline!=e.isInline&&t.err("Mixing inline and block content"),{type:"name",value:e}}));return t.pos++,1==n.length?n[0]:{type:"choice",exprs:n}}t.err("Unexpected token '"+t.next+"'")}(t);;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else{if(!t.eat("{"))break;e=et(t,e)}return e}function tt(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");var e=Number(t.next);return t.pos++,e}function et(t,e){var n=tt(t),r=n;return t.eat(",")&&(r="}"!=t.next?tt(t):-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function nt(t,e){return e-t}function rt(t,e){var n=[];return function e(r){var i=t[r];if(1==i.length&&!i[0].term)return e(i[0].to);n.push(r);for(var o=0;o<i.length;o++){var a=i[o],s=a.term,l=a.to;s||-1!=n.indexOf(l)||e(l)}}(e),n.sort(nt)}function it(t){var e=Object.create(null);return function n(r){var i=[];r.forEach((function(e){t[e].forEach((function(e){var n=e.term,r=e.to;if(n){for(var o,a=0;a<i.length;a++)i[a][0]==n&&(o=i[a][1]);rt(t,r).forEach((function(t){o||i.push([n,o=[]]),-1==o.indexOf(t)&&o.push(t)}))}}))}));for(var o=e[r.join(",")]=new X(r.indexOf(t.length-1)>-1),a=0;a<i.length;a++){var s=i[a][1].sort(nt);o.next.push({type:i[a][0],next:e[s.join(",")]||n(s)})}return o}(rt(t,0))}function ot(t){var e=Object.create(null);for(var n in t){var r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function at(t,e){var n=Object.create(null);for(var r in t){var i=e&&e[r];if(void 0===i){var o=t[r];if(!o.hasDefault)throw new RangeError("No value supplied for attribute "+r);i=o.default}n[r]=i}return n}function st(t){var e=Object.create(null);if(t)for(var n in t)e[n]=new ct(t[n]);return e}var lt=function(){function t(e,n,r){f(this,t),this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=st(r.attrs),this.defaultAttrs=ot(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||"text"==e),this.isText="text"==e}return g(t,[{key:"isInline",get:function(){return!this.isBlock}},{key:"isTextblock",get:function(){return this.isBlock&&this.inlineContent}},{key:"isLeaf",get:function(){return this.contentMatch==X.empty}},{key:"isAtom",get:function(){return this.isLeaf||!!this.spec.atom}},{key:"whitespace",get:function(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}},{key:"hasRequiredAttrs",value:function(){for(var t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}},{key:"compatibleContent",value:function(t){return this==t||this.contentMatch.compatible(t.contentMatch)}},{key:"computeAttrs",value:function(t){return!t&&this.defaultAttrs?this.defaultAttrs:at(this.attrs,t)}},{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new H(this,this.computeAttrs(t),_.from(e),S.setFrom(n))}},{key:"createChecked",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;if(e=_.from(e),!this.validContent(e))throw new RangeError("Invalid content for node "+this.name);return new H(this,this.computeAttrs(t),e,S.setFrom(n))}},{key:"createAndFill",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;if(t=this.computeAttrs(t),(e=_.from(e)).size){var r=this.contentMatch.fillBefore(e);if(!r)return null;e=r.append(e)}var i=this.contentMatch.matchFragment(e),o=i&&i.fillBefore(_.empty,!0);return o?new H(this,t,e.append(o),S.setFrom(n)):null}},{key:"validContent",value:function(t){var e=this.contentMatch.matchFragment(t);if(!e||!e.validEnd)return!1;for(var n=0;n<t.childCount;n++)if(!this.allowsMarks(t.child(n).marks))return!1;return!0}},{key:"allowsMarkType",value:function(t){return null==this.markSet||this.markSet.indexOf(t)>-1}},{key:"allowsMarks",value:function(t){if(null==this.markSet)return!0;for(var e=0;e<t.length;e++)if(!this.allowsMarkType(t[e].type))return!1;return!0}},{key:"allowedMarks",value:function(t){if(null==this.markSet)return t;for(var e,n=0;n<t.length;n++)this.allowsMarkType(t[n].type)?e&&e.push(t[n]):e||(e=t.slice(0,n));return e?e.length?e:S.none:t}}],[{key:"compile",value:function(e,n){var r=Object.create(null);e.forEach((function(e,i){return r[e]=new t(e,n,i)}));var i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(var o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}}]),t}(),ct=function(){function t(e){f(this,t),this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default}return g(t,[{key:"isRequired",get:function(){return!this.hasDefault}}]),t}(),ut=function(){function t(e,n,r,i){f(this,t),this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=st(i.attrs),this.excluded=null;var o=ot(this.attrs);this.instance=o?new S(this,o):null}return g(t,[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return!t&&this.instance?this.instance:new S(this,at(this.attrs,t))}},{key:"removeFromSet",value:function(t){for(var e=0;e<t.length;e++)t[e].type==this&&(t=t.slice(0,e).concat(t.slice(e+1)),e--);return t}},{key:"isInSet",value:function(t){for(var e=0;e<t.length;e++)if(t[e].type==this)return t[e]}},{key:"excludes",value:function(t){return this.excluded.indexOf(t)>-1}}],[{key:"compile",value:function(e,n){var r=Object.create(null),i=0;return e.forEach((function(e,o){return r[e]=new t(e,i++,n,o)})),r}}]),t}(),ht=function(){function t(e){f(this,t),this.cached=Object.create(null),this.spec={nodes:b.default.from(e.nodes),marks:b.default.from(e.marks||{}),topNode:e.topNode},this.nodes=lt.compile(this.spec.nodes,this),this.marks=ut.compile(this.spec.marks,this);var n=Object.create(null);for(var r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");var i=this.nodes[r],o=i.spec.content||"",a=i.spec.marks;i.contentMatch=n[o]||(n[o]=X.parse(o,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.markSet="_"==a?null:a?dt(this,a.split(" ")):""!=a&&i.inlineContent?null:[]}for(var s in this.marks){var l=this.marks[s],c=l.spec.excludes;l.excluded=null==c?[l]:""==c?[]:dt(this,c.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}return g(t,[{key:"node",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if("string"==typeof t)t=this.nodeType(t);else{if(!(t instanceof lt))throw new RangeError("Invalid node type: "+t);if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}return t.createChecked(e,n,r)}},{key:"text",value:function(t,e){var n=this.nodes.text;return new V(n,n.defaultAttrs,t,S.setFrom(e))}},{key:"mark",value:function(t,e){return"string"==typeof t&&(t=this.marks[t]),t.create(e)}},{key:"nodeFromJSON",value:function(t){return H.fromJSON(this,t)}},{key:"markFromJSON",value:function(t){return S.fromJSON(this,t)}},{key:"nodeType",value:function(t){var e=this.nodes[t];if(!e)throw new RangeError("Unknown node type: "+t);return e}}]),t}();function dt(t,e){for(var n=[],r=0;r<e.length;r++){var i=e[r],o=t.marks[i],a=o;if(o)n.push(o);else for(var s in t.marks){var l=t.marks[s];("_"==i||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&n.push(a=l)}if(!a)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}var ft=function(){function t(e,n){var r=this;f(this,t),this.schema=e,this.rules=n,this.tags=[],this.styles=[],n.forEach((function(t){t.tag?r.tags.push(t):t.style&&r.styles.push(t)})),this.normalizeLists=!this.tags.some((function(t){if(!/^(ul|ol)\b/.test(t.tag)||!t.node)return!1;var n=e.nodes[t.node];return n.contentMatch.matchType(n)}))}return g(t,[{key:"parse",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new bt(this,e,!1);return n.addAll(t,e.from,e.to),n.finish()}},{key:"parseSlice",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new bt(this,e,!0);return n.addAll(t,e.from,e.to),T.maxOpen(n.finish())}},{key:"matchTag",value:function(t,e,n){for(var r=n?this.tags.indexOf(n)+1:0;r<this.tags.length;r++){var i=this.tags[r];if(wt(t,i.tag)&&(void 0===i.namespace||t.namespaceURI==i.namespace)&&(!i.context||e.matchesContext(i.context))){if(i.getAttrs){var o=i.getAttrs(t);if(!1===o)continue;i.attrs=o||void 0}return i}}}},{key:"matchStyle",value:function(t,e,n,r){for(var i=r?this.styles.indexOf(r)+1:0;i<this.styles.length;i++){var o=this.styles[i],a=o.style;if(!(0!=a.indexOf(t)||o.context&&!n.matchesContext(o.context)||a.length>t.length&&(61!=a.charCodeAt(t.length)||a.slice(t.length+1)!=e))){if(o.getAttrs){var s=o.getAttrs(e);if(!1===s)continue;o.attrs=s||void 0}return o}}}}],[{key:"schemaRules",value:function(t){var e=[];function n(t){for(var n=null==t.priority?50:t.priority,r=0;r<e.length;r++){var i=e[r];if((null==i.priority?50:i.priority)<n)break}e.splice(r,0,t)}var r=function(e){var r=t.marks[e].spec.parseDOM;r&&r.forEach((function(t){n(t=xt(t)),t.mark=e}))};for(var i in t.marks)r(i);var o=function(e){var r=t.nodes[e].spec.parseDOM;r&&r.forEach((function(t){n(t=xt(t)),t.node=e}))};for(var a in t.nodes)o(a);return e}},{key:"fromSchema",value:function(e){return e.cached.domParser||(e.cached.domParser=new t(e,t.schemaRules(e)))}}]),t}(),pt={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},gt={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},mt={ol:!0,ul:!0};function yt(t,e,n){return null!=e?(e?1:0)|("full"===e?2:0):t&&"pre"==t.whitespace?3:-5&n}var vt=function(){function t(e,n,r,i,o,a,s){f(this,t),this.type=e,this.attrs=n,this.marks=r,this.pendingMarks=i,this.solid=o,this.options=s,this.content=[],this.activeMarks=S.none,this.stashMarks=[],this.match=a||(4&s?null:e.contentMatch)}return g(t,[{key:"findWrapping",value:function(t){if(!this.match){if(!this.type)return[];var e=this.type.contentMatch.fillBefore(_.from(t));if(!e){var n,r=this.type.contentMatch;return(n=r.findWrapping(t.type))?(this.match=r,n):null}this.match=this.type.contentMatch.matchFragment(e)}return this.match.findWrapping(t.type)}},{key:"finish",value:function(t){if(!(1&this.options)){var e,n=this.content[this.content.length-1];if(n&&n.isText&&(e=/[ \t\r\n\u000c]+$/.exec(n.text))){var r=n;n.text.length==e[0].length?this.content.pop():this.content[this.content.length-1]=r.withText(r.text.slice(0,r.text.length-e[0].length))}}var i=_.from(this.content);return!t&&this.match&&(i=i.append(this.match.fillBefore(_.empty,!0))),this.type?this.type.create(this.attrs,i,this.marks):i}},{key:"popFromStashMark",value:function(t){for(var e=this.stashMarks.length-1;e>=0;e--)if(t.eq(this.stashMarks[e]))return this.stashMarks.splice(e,1)[0]}},{key:"applyPending",value:function(t){for(var e=0,n=this.pendingMarks;e<n.length;e++){var r=n[e];(this.type?this.type.allowsMarkType(r.type):_t(r.type,t))&&!r.isInSet(this.activeMarks)&&(this.activeMarks=r.addToSet(this.activeMarks),this.pendingMarks=r.removeFromSet(this.pendingMarks))}}},{key:"inlineContext",value:function(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!pt.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}]),t}(),bt=function(){function t(e,n,r){f(this,t),this.parser=e,this.options=n,this.isOpen=r,this.open=0;var i,o=n.topNode,a=yt(null,n.preserveWhitespace,0)|(r?4:0);i=o?new vt(o.type,o.attrs,S.none,S.none,!0,n.topMatch||o.type.contentMatch,a):new vt(r?null:e.schema.topNodeType,null,S.none,S.none,!0,null,a),this.nodes=[i],this.find=n.findPositions,this.needsBlock=!1}return g(t,[{key:"top",get:function(){return this.nodes[this.open]}},{key:"addDOM",value:function(t){if(3==t.nodeType)this.addTextNode(t);else if(1==t.nodeType){var e=t.getAttribute("style"),n=e?this.readStyles(function(t){var e,n=/\s*([\w-]+)\s*:\s*([^;]+)/g,r=[];for(;e=n.exec(t);)r.push(e[1],e[2].trim());return r}(e)):null,r=this.top;if(null!=n)for(var i=0;i<n.length;i++)this.addPendingMark(n[i]);if(this.addElement(t),null!=n)for(var o=0;o<n.length;o++)this.removePendingMark(n[o],r)}}},{key:"addTextNode",value:function(t){var e=t.nodeValue,n=this.top;if(2&n.options||n.inlineContext(t)||/[^ \t\r\n\u000c]/.test(e)){if(1&n.options)e=2&n.options?e.replace(/\r\n?/g,"\n"):e.replace(/\r?\n|\r/g," ");else if(e=e.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(e)&&this.open==this.nodes.length-1){var r=n.content[n.content.length-1],i=t.previousSibling;(!r||i&&"BR"==i.nodeName||r.isText&&/[ \t\r\n\u000c]$/.test(r.text))&&(e=e.slice(1))}e&&this.insertNode(this.parser.schema.text(e)),this.findInText(t)}else this.findInside(t)}},{key:"addElement",value:function(t,e){var n,r=t.nodeName.toLowerCase();mt.hasOwnProperty(r)&&this.parser.normalizeLists&&function(t){for(var e=t.firstChild,n=null;e;e=e.nextSibling){var r=1==e.nodeType?e.nodeName.toLowerCase():null;r&&mt.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):"li"==r?n=e:r&&(n=null)}}(t);var i=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(n=this.parser.matchTag(t,this,e));if(i?i.ignore:gt.hasOwnProperty(r))this.findInside(t),this.ignoreFallback(t);else if(!i||i.skip||i.closeParent){i&&i.closeParent?this.open=Math.max(0,this.open-1):i&&i.skip.nodeType&&(t=i.skip);var o,a=this.top,s=this.needsBlock;if(pt.hasOwnProperty(r))o=!0,a.type||(this.needsBlock=!0);else if(!t.firstChild)return void this.leafFallback(t);this.addAll(t),o&&this.sync(a),this.needsBlock=s}else this.addElementByRule(t,i,!1===i.consuming?n:void 0)}},{key:"leafFallback",value:function(t){"BR"==t.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode("\n"))}},{key:"ignoreFallback",value:function(t){"BR"!=t.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"))}},{key:"readStyles",value:function(t){var e=S.none;t:for(var n=0;n<t.length;n+=2)for(var r=void 0;;){var i=this.parser.matchStyle(t[n],t[n+1],this,r);if(!i)continue t;if(i.ignore)return null;if(e=this.parser.schema.marks[i.mark].create(i.attrs).addToSet(e),!1!==i.consuming)break;r=i}return e}},{key:"addElementByRule",value:function(t,e,n){var r,i,o,a=this;e.node?(i=this.parser.schema.nodes[e.node]).isLeaf?this.insertNode(i.create(e.attrs))||this.leafFallback(t):r=this.enter(i,e.attrs||null,e.preserveWhitespace):(o=this.parser.schema.marks[e.mark].create(e.attrs),this.addPendingMark(o));var s=this.top;if(i&&i.isLeaf)this.findInside(t);else if(n)this.addElement(t,n);else if(e.getContent)this.findInside(t),e.getContent(t,this.parser.schema).forEach((function(t){return a.insertNode(t)}));else{var l=t;"string"==typeof e.contentElement?l=t.querySelector(e.contentElement):"function"==typeof e.contentElement?l=e.contentElement(t):e.contentElement&&(l=e.contentElement),this.findAround(t,l,!0),this.addAll(l)}r&&this.sync(s)&&this.open--,o&&this.removePendingMark(o,s)}},{key:"addAll",value:function(t,e,n){for(var r=e||0,i=e?t.childNodes[e]:t.firstChild,o=null==n?null:t.childNodes[n];i!=o;i=i.nextSibling,++r)this.findAtPoint(t,r),this.addDOM(i);this.findAtPoint(t,r)}},{key:"findPlace",value:function(t){for(var e,n,r=this.open;r>=0;r--){var i=this.nodes[r],o=i.findWrapping(t);if(o&&(!e||e.length>o.length)&&(e=o,n=i,!o.length))break;if(i.solid)break}if(!e)return!1;this.sync(n);for(var a=0;a<e.length;a++)this.enterInner(e[a],null,!1);return!0}},{key:"insertNode",value:function(t){if(t.isInline&&this.needsBlock&&!this.top.type){var e=this.textblockFromContext();e&&this.enterInner(e)}if(this.findPlace(t)){this.closeExtra();var n=this.top;n.applyPending(t.type),n.match&&(n.match=n.match.matchType(t.type));for(var r=n.activeMarks,i=0;i<t.marks.length;i++)n.type&&!n.type.allowsMarkType(t.marks[i].type)||(r=t.marks[i].addToSet(r));return n.content.push(t.mark(r)),!0}return!1}},{key:"enter",value:function(t,e,n){var r=this.findPlace(t.create(e));return r&&this.enterInner(t,e,!0,n),r}},{key:"enterInner",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0;this.closeExtra();var i=this.top;i.applyPending(t),i.match=i.match&&i.match.matchType(t);var o=yt(t,r,i.options);4&i.options&&0==i.content.length&&(o|=4),this.nodes.push(new vt(t,e,i.activeMarks,i.pendingMarks,n,null,o)),this.open++}},{key:"closeExtra",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.nodes.length-1;if(e>this.open){for(;e>this.open;e--)this.nodes[e-1].content.push(this.nodes[e].finish(t));this.nodes.length=this.open+1}}},{key:"finish",value:function(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}},{key:"sync",value:function(t){for(var e=this.open;e>=0;e--)if(this.nodes[e]==t)return this.open=e,!0;return!1}},{key:"currentPos",get:function(){this.closeExtra();for(var t=0,e=this.open;e>=0;e--){for(var n=this.nodes[e].content,r=n.length-1;r>=0;r--)t+=n[r].nodeSize;e&&t++}return t}},{key:"findAtPoint",value:function(t,e){if(this.find)for(var n=0;n<this.find.length;n++)this.find[n].node==t&&this.find[n].offset==e&&(this.find[n].pos=this.currentPos)}},{key:"findInside",value:function(t){if(this.find)for(var e=0;e<this.find.length;e++)null==this.find[e].pos&&1==t.nodeType&&t.contains(this.find[e].node)&&(this.find[e].pos=this.currentPos)}},{key:"findAround",value:function(t,e,n){if(t!=e&&this.find)for(var r=0;r<this.find.length;r++){if(null==this.find[r].pos&&1==t.nodeType&&t.contains(this.find[r].node))e.compareDocumentPosition(this.find[r].node)&(n?2:4)&&(this.find[r].pos=this.currentPos)}}},{key:"findInText",value:function(t){if(this.find)for(var e=0;e<this.find.length;e++)this.find[e].node==t&&(this.find[e].pos=this.currentPos-(t.nodeValue.length-this.find[e].offset))}},{key:"matchesContext",value:function(t){var e=this;if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);var n=t.split("/"),r=this.options.context,i=!(this.isOpen||r&&r.parent.type!=this.nodes[0].type),o=-(r?r.depth+1:0)+(i?0:1);return function t(a,s){for(;a>=0;a--){var l=n[a];if(""==l){if(a==n.length-1||0==a)continue;for(;s>=o;s--)if(t(a-1,s))return!0;return!1}var c=s>0||0==s&&i?e.nodes[s].type:r&&s>=o?r.node(s-o).type:null;if(!c||c.name!=l&&-1==c.groups.indexOf(l))return!1;s--}return!0}(n.length-1,this.open)}},{key:"textblockFromContext",value:function(){var t=this.options.context;if(t)for(var e=t.depth;e>=0;e--){var n=t.node(e).contentMatchAt(t.indexAfter(e)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(var r in this.parser.schema.nodes){var i=this.parser.schema.nodes[r];if(i.isTextblock&&i.defaultAttrs)return i}}},{key:"addPendingMark",value:function(t){var e=function(t,e){for(var n=0;n<e.length;n++)if(t.eq(e[n]))return e[n]}(t,this.top.pendingMarks);e&&this.top.stashMarks.push(e),this.top.pendingMarks=t.addToSet(this.top.pendingMarks)}},{key:"removePendingMark",value:function(t,e){for(var n=this.open;n>=0;n--){var r=this.nodes[n];if(r.pendingMarks.lastIndexOf(t)>-1)r.pendingMarks=t.removeFromSet(r.pendingMarks);else{r.activeMarks=t.removeFromSet(r.activeMarks);var i=r.popFromStashMark(t);i&&r.type&&r.type.allowsMarkType(i.type)&&(r.activeMarks=i.addToSet(r.activeMarks))}if(r==e)break}}}]),t}();function wt(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function xt(t){var e={};for(var n in t)e[n]=t[n];return e}function _t(t,e){var n=e.schema.nodes,r=function(r){var i=n[r];if(!i.allowsMarkType(t))return"continue";var o=[];return function t(n){o.push(n);for(var r=0;r<n.edgeCount;r++){var i=n.edge(r),a=i.type,s=i.next;if(a==e)return!0;if(o.indexOf(s)<0&&t(s))return!0}}(i.contentMatch)?{v:!0}:void 0};for(var i in n){var o=r(i);if("continue"!==o&&"object"===m(o))return o.v}}var kt=function(){function t(e,n){f(this,t),this.nodes=e,this.marks=n}return g(t,[{key:"serializeFragment",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;r||(r=Ct(n).createDocumentFragment());var i=r,o=[];return t.forEach((function(t){if(o.length||t.marks.length){for(var r=0,a=0;r<o.length&&a<t.marks.length;){var s=t.marks[a];if(e.marks[s.type.name]){if(!s.eq(o[r][0])||!1===s.type.spec.spanning)break;r++,a++}else a++}for(;r<o.length;)i=o.pop()[1];for(;a<t.marks.length;){var l=t.marks[a++],c=e.serializeMark(l,t.isInline,n);c&&(o.push([l,i]),i.appendChild(c.dom),i=c.contentDOM||c.dom)}}i.appendChild(e.serializeNodeInner(t,n))})),r}},{key:"serializeNodeInner",value:function(e,n){var r=t.renderSpec(Ct(n),this.nodes[e.type.name](e)),i=r.dom,o=r.contentDOM;if(o){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,o)}return i}},{key:"serializeNode",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.serializeNodeInner(t,e),r=t.marks.length-1;r>=0;r--){var i=this.serializeMark(t.marks[r],t.isInline,e);i&&((i.contentDOM||i.dom).appendChild(n),n=i.dom)}return n}},{key:"serializeMark",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=this.marks[e.type.name];return i&&t.renderSpec(Ct(r),i(e,n))}}],[{key:"renderSpec",value:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if("string"==typeof n)return{dom:e.createTextNode(n)};if(null!=n.nodeType)return{dom:n};if(n.dom&&null!=n.dom.nodeType)return n;var i,o=n[0],a=o.indexOf(" ");a>0&&(r=o.slice(0,a),o=o.slice(a+1));var s=r?e.createElementNS(r,o):e.createElement(o),l=n[1],c=1;if(l&&"object"==m(l)&&null==l.nodeType&&!Array.isArray(l))for(var u in c=2,l)if(null!=l[u]){var h=u.indexOf(" ");h>0?s.setAttributeNS(u.slice(0,h),u.slice(h+1),l[u]):s.setAttribute(u,l[u])}for(var d=c;d<n.length;d++){var f=n[d];if(0===f){if(d<n.length-1||d>c)throw new RangeError("Content hole must be the only child of its parent node");return{dom:s,contentDOM:s}}var p=t.renderSpec(e,f,r),g=p.dom,y=p.contentDOM;if(s.appendChild(g),y){if(i)throw new RangeError("Multiple content holes");i=y}}return{dom:s,contentDOM:i}}},{key:"fromSchema",value:function(e){return e.cached.domSerializer||(e.cached.domSerializer=new t(this.nodesFromSchema(e),this.marksFromSchema(e)))}},{key:"nodesFromSchema",value:function(t){var e=Et(t.nodes);return e.text||(e.text=function(t){return t.text}),e}},{key:"marksFromSchema",value:function(t){return Et(t.marks)}}]),t}();function Et(t){var e={};for(var n in t){var r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function Ct(t){return t.document||window.document}e.ContentMatch=X,e.DOMParser=ft,e.DOMSerializer=kt,e.Fragment=_,e.Mark=S,e.MarkType=ut,e.Node=H,e.NodeRange=q,e.NodeType=lt,e.ReplaceError=D,e.ResolvedPos=$,e.Schema=ht,e.Slice=T},42391:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(){return i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=o(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},i.apply(this,arguments)}function o(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=u(t)););return t}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}function s(t,e){return s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},s(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}function c(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function u(t){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},u(t)}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e,n){return e&&d(t.prototype,e),n&&d(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}Object.defineProperty(e,"__esModule",{value:!0});var p=n(19443),g=n(92843),m=Object.create(null),y=function(){function t(e,n,r){h(this,t),this.$anchor=e,this.$head=n,this.ranges=r||[new v(e.min(n),e.max(n))]}return f(t,[{key:"anchor",get:function(){return this.$anchor.pos}},{key:"head",get:function(){return this.$head.pos}},{key:"from",get:function(){return this.$from.pos}},{key:"to",get:function(){return this.$to.pos}},{key:"$from",get:function(){return this.ranges[0].$from}},{key:"$to",get:function(){return this.ranges[0].$to}},{key:"empty",get:function(){for(var t=this.ranges,e=0;e<t.length;e++)if(t[e].$from.pos!=t[e].$to.pos)return!1;return!0}},{key:"content",value:function(){return this.$from.doc.slice(this.from,this.to,!0)}},{key:"replace",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.Slice.empty,n=e.content.lastChild,r=null,i=0;i<e.openEnd;i++)r=n,n=n.lastChild;for(var o=t.steps.length,a=this.ranges,s=0;s<a.length;s++){var l=a[s],c=l.$from,u=l.$to,h=t.mapping.slice(o);t.replaceRange(h.map(c.pos),h.map(u.pos),s?p.Slice.empty:e),0==s&&T(t,o,(n?n.isInline:r&&r.isTextblock)?-1:1)}}},{key:"replaceWith",value:function(t,e){for(var n=t.steps.length,r=this.ranges,i=0;i<r.length;i++){var o=r[i],a=o.$from,s=o.$to,l=t.mapping.slice(n),c=l.map(a.pos),u=l.map(s.pos);i?t.deleteRange(c,u):(t.replaceRangeWith(c,u,e),T(t,n,e.isInline?-1:1))}}},{key:"getBookmark",value:function(){return x.between(this.$anchor,this.$head).getBookmark()}}],[{key:"findFrom",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t.parent.inlineContent?new x(t):D(t.node(0),t.parent,t.pos,t.index(),e,n);if(r)return r;for(var i=t.depth-1;i>=0;i--){var o=e<0?D(t.node(0),t.node(i),t.before(i+1),t.index(i),e,n):D(t.node(0),t.node(i),t.after(i+1),t.index(i)+1,e,n);if(o)return o}return null}},{key:"near",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.findFrom(t,e)||this.findFrom(t,-e)||new C(t.node(0))}},{key:"atStart",value:function(t){return D(t,t,0,0,1)||new C(t)}},{key:"atEnd",value:function(t){return D(t,t,t.content.size,t.childCount,-1)||new C(t)}},{key:"fromJSON",value:function(t,e){if(!e||!e.type)throw new RangeError("Invalid input for Selection.fromJSON");var n=m[e.type];if(!n)throw new RangeError("No selection type ".concat(e.type," defined"));return n.fromJSON(t,e)}},{key:"jsonID",value:function(t,e){if(t in m)throw new RangeError("Duplicate use of selection JSON ID "+t);return m[t]=e,e.prototype.jsonID=t,e}}]),t}();y.prototype.visible=!0;var v=f((function t(e,n){h(this,t),this.$from=e,this.$to=n})),b=!1;function w(t){b||t.parent.inlineContent||(b=!0)}var x=function(t){a(n,t);var e=l(n);function n(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return h(this,n),w(t),w(r),e.call(this,t,r)}return f(n,[{key:"$cursor",get:function(){return this.$anchor.pos==this.$head.pos?this.$head:null}},{key:"map",value:function(t,e){var r=t.resolve(e.map(this.head));if(!r.parent.inlineContent)return y.near(r);var i=t.resolve(e.map(this.anchor));return new n(i.parent.inlineContent?i:r,r)}},{key:"replace",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.Slice.empty;if(i(u(n.prototype),"replace",this).call(this,t,e),e==p.Slice.empty){var r=this.$from.marksAcross(this.$to);r&&t.ensureMarks(r)}}},{key:"eq",value:function(t){return t instanceof n&&t.anchor==this.anchor&&t.head==this.head}},{key:"getBookmark",value:function(){return new _(this.anchor,this.head)}},{key:"toJSON",value:function(){return{type:"text",anchor:this.anchor,head:this.head}}}],[{key:"fromJSON",value:function(t,e){if("number"!=typeof e.anchor||"number"!=typeof e.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new n(t.resolve(e.anchor),t.resolve(e.head))}},{key:"create",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=t.resolve(e);return new this(r,n==e?r:t.resolve(n))}},{key:"between",value:function(t,e,r){var i=t.pos-e.pos;if(r&&!i||(r=i>=0?1:-1),!e.parent.inlineContent){var o=y.findFrom(e,r,!0)||y.findFrom(e,-r,!0);if(!o)return y.near(e,r);e=o.$head}return t.parent.inlineContent||(0==i||(t=(y.findFrom(t,-r,!0)||y.findFrom(t,r,!0)).$anchor).pos<e.pos!=i<0)&&(t=e),new n(t,e)}}]),n}(y);y.jsonID("text",x);var _=function(){function t(e,n){h(this,t),this.anchor=e,this.head=n}return f(t,[{key:"map",value:function(e){return new t(e.map(this.anchor),e.map(this.head))}},{key:"resolve",value:function(t){return x.between(t.resolve(this.anchor),t.resolve(this.head))}}]),t}(),k=function(t){a(n,t);var e=l(n);function n(t){var r;h(this,n);var i=t.nodeAfter,o=t.node(0).resolve(t.pos+i.nodeSize);return(r=e.call(this,t,o)).node=i,r}return f(n,[{key:"map",value:function(t,e){var r=e.mapResult(this.anchor),i=r.deleted,o=r.pos,a=t.resolve(o);return i?y.near(a):new n(a)}},{key:"content",value:function(){return new p.Slice(p.Fragment.from(this.node),0,0)}},{key:"eq",value:function(t){return t instanceof n&&t.anchor==this.anchor}},{key:"toJSON",value:function(){return{type:"node",anchor:this.anchor}}},{key:"getBookmark",value:function(){return new E(this.anchor)}}],[{key:"fromJSON",value:function(t,e){if("number"!=typeof e.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new n(t.resolve(e.anchor))}},{key:"create",value:function(t,e){return new n(t.resolve(e))}},{key:"isSelectable",value:function(t){return!t.isText&&!1!==t.type.spec.selectable}}]),n}(y);k.prototype.visible=!1,y.jsonID("node",k);var E=function(){function t(e){h(this,t),this.anchor=e}return f(t,[{key:"map",value:function(e){var n=e.mapResult(this.anchor),r=n.deleted,i=n.pos;return r?new _(i,i):new t(i)}},{key:"resolve",value:function(t){var e=t.resolve(this.anchor),n=e.nodeAfter;return n&&k.isSelectable(n)?new k(e):y.near(e)}}]),t}(),C=function(t){a(n,t);var e=l(n);function n(t){return h(this,n),e.call(this,t.resolve(0),t.resolve(t.content.size))}return f(n,[{key:"replace",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.Slice.empty;if(e==p.Slice.empty){t.delete(0,t.doc.content.size);var r=y.atStart(t.doc);r.eq(t.selection)||t.setSelection(r)}else i(u(n.prototype),"replace",this).call(this,t,e)}},{key:"toJSON",value:function(){return{type:"all"}}},{key:"map",value:function(t){return new n(t)}},{key:"eq",value:function(t){return t instanceof n}},{key:"getBookmark",value:function(){return S}}],[{key:"fromJSON",value:function(t){return new n(t)}}]),n}(y);y.jsonID("all",C);var S={map:function(){return this},resolve:function(t){return new C(t)}};function D(t,e,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(e.inlineContent)return x.create(t,n);for(var a=r-(i>0?0:1);i>0?a<e.childCount:a>=0;a+=i){var s=e.child(a);if(s.isAtom){if(!o&&k.isSelectable(s))return k.create(t,n-(i<0?s.nodeSize:0))}else{var l=D(t,s,n+i,i<0?s.childCount:0,i,o);if(l)return l}n+=s.nodeSize*i}return null}function T(t,e,n){var r=t.steps.length-1;if(!(r<e)){var i,o=t.steps[r];if(o instanceof g.ReplaceStep||o instanceof g.ReplaceAroundStep)t.mapping.maps[r].forEach((function(t,e,n,r){null==i&&(i=r)})),t.setSelection(y.near(t.doc.resolve(i),n))}}var A=function(t){a(n,t);var e=l(n);function n(t){var r;return h(this,n),(r=e.call(this,t.doc)).curSelectionFor=0,r.updated=0,r.meta=Object.create(null),r.time=Date.now(),r.curSelection=t.selection,r.storedMarks=t.storedMarks,r}return f(n,[{key:"selection",get:function(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}},{key:"setSelection",value:function(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=-3&(1|this.updated),this.storedMarks=null,this}},{key:"selectionSet",get:function(){return(1&this.updated)>0}},{key:"setStoredMarks",value:function(t){return this.storedMarks=t,this.updated|=2,this}},{key:"ensureMarks",value:function(t){return p.Mark.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}},{key:"addStoredMark",value:function(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}},{key:"removeStoredMark",value:function(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}},{key:"storedMarksSet",get:function(){return(2&this.updated)>0}},{key:"addStep",value:function(t,e){i(u(n.prototype),"addStep",this).call(this,t,e),this.updated=-3&this.updated,this.storedMarks=null}},{key:"setTime",value:function(t){return this.time=t,this}},{key:"replaceSelection",value:function(t){return this.selection.replace(this,t),this}},{key:"replaceSelectionWith",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.selection;return e&&(t=t.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||p.Mark.none))),n.replaceWith(this,t),this}},{key:"deleteSelection",value:function(){return this.selection.replace(this),this}},{key:"insertText",value:function(t,e,n){var r=this.doc.type.schema;if(null==e)return t?this.replaceSelectionWith(r.text(t),!0):this.deleteSelection();if(null==n&&(n=e),n=null==n?e:n,!t)return this.deleteRange(e,n);var i=this.storedMarks;if(!i){var o=this.doc.resolve(e);i=n==e?o.marks():o.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(e,n,r.text(t,i)),this.selection.empty||this.setSelection(y.near(this.selection.$to)),this}},{key:"setMeta",value:function(t,e){return this.meta["string"==typeof t?t:t.key]=e,this}},{key:"getMeta",value:function(t){return this.meta["string"==typeof t?t:t.key]}},{key:"isGeneric",get:function(){for(var t in this.meta)return!1;return!0}},{key:"scrollIntoView",value:function(){return this.updated|=4,this}},{key:"scrolledIntoView",get:function(){return(4&this.updated)>0}}]),n}(g.Transform);function M(t,e){return e&&t?t.bind(e):t}var N=f((function t(e,n,r){h(this,t),this.name=e,this.init=M(n.init,r),this.apply=M(n.apply,r)})),O=[new N("doc",{init:function(t){return t.doc||t.schema.topNodeType.createAndFill()},apply:function(t){return t.doc}}),new N("selection",{init:function(t,e){return t.selection||y.atStart(e.doc)},apply:function(t){return t.selection}}),new N("storedMarks",{init:function(t){return t.storedMarks||null},apply:function(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new N("scrollToSelection",{init:function(){return 0},apply:function(t,e){return t.scrolledIntoView?e+1:e}})],F=f((function t(e,n){var r=this;h(this,t),this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=O.slice(),n&&n.forEach((function(t){if(r.pluginsByKey[t.key])throw new RangeError("Adding different instances of a keyed plugin ("+t.key+")");r.plugins.push(t),r.pluginsByKey[t.key]=t,t.spec.state&&r.fields.push(new N(t.key,t.spec.state,t))}))})),I=function(){function t(e){h(this,t),this.config=e}return f(t,[{key:"schema",get:function(){return this.config.schema}},{key:"plugins",get:function(){return this.config.plugins}},{key:"apply",value:function(t){return this.applyTransaction(t).state}},{key:"filterTransaction",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=0;n<this.config.plugins.length;n++)if(n!=e){var r=this.config.plugins[n];if(r.spec.filterTransaction&&!r.spec.filterTransaction.call(r,t,this))return!1}return!0}},{key:"applyTransaction",value:function(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};for(var e=[t],n=this.applyInner(t),r=null;;){for(var i=!1,o=0;o<this.config.plugins.length;o++){var a=this.config.plugins[o];if(a.spec.appendTransaction){var s=r?r[o].n:0,l=r?r[o].state:this,c=s<e.length&&a.spec.appendTransaction.call(a,s?e.slice(s):e,l,n);if(c&&n.filterTransaction(c,o)){if(c.setMeta("appendedTransaction",t),!r){r=[];for(var u=0;u<this.config.plugins.length;u++)r.push(u<o?{state:n,n:e.length}:{state:this,n:0})}e.push(c),n=n.applyInner(c),i=!0}r&&(r[o]={state:n,n:e.length})}}if(!i)return{state:n,transactions:e}}}},{key:"applyInner",value:function(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");for(var n=new t(this.config),r=this.config.fields,i=0;i<r.length;i++){var o=r[i];n[o.name]=o.apply(e,this[o.name],this,n)}return n}},{key:"tr",get:function(){return new A(this)}},{key:"reconfigure",value:function(e){for(var n=new F(this.schema,e.plugins),r=n.fields,i=new t(n),o=0;o<r.length;o++){var a=r[o].name;i[a]=this.hasOwnProperty(a)?this[a]:r[o].init(e,i)}return i}},{key:"toJSON",value:function(t){var e={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(e.storedMarks=this.storedMarks.map((function(t){return t.toJSON()}))),t&&"object"==r(t))for(var n in t){if("doc"==n||"selection"==n)throw new RangeError("The JSON fields `doc` and `selection` are reserved");var i=t[n],o=i.spec.state;o&&o.toJSON&&(e[n]=o.toJSON.call(i,this[i.key]))}return e}}],[{key:"create",value:function(e){for(var n=new F(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new t(n),i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}},{key:"fromJSON",value:function(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");var i=new F(e.schema,e.plugins),o=new t(i);return i.fields.forEach((function(t){if("doc"==t.name)o.doc=p.Node.fromJSON(e.schema,n.doc);else if("selection"==t.name)o.selection=y.fromJSON(o.doc,n.selection);else if("storedMarks"==t.name)n.storedMarks&&(o.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(var i in r){var a=r[i],s=a.spec.state;if(a.key==t.name&&s&&s.fromJSON&&Object.prototype.hasOwnProperty.call(n,i))return void(o[t.name]=s.fromJSON.call(a,e,n[i],o))}o[t.name]=t.init(e,o)}})),o}}]),t}();function L(t,e,n){for(var r in t){var i=t[r];i instanceof Function?i=i.bind(e):"handleDOMEvents"==r&&(i=L(i,e,{})),n[r]=i}return n}var B=function(){function t(e){h(this,t),this.spec=e,this.props={},e.props&&L(e.props,this,this.props),this.key=e.key?e.key.key:P("plugin")}return f(t,[{key:"getState",value:function(t){return t[this.key]}}]),t}(),R=Object.create(null);function P(t){return t in R?t+"$"+ ++R[t]:(R[t]=0,t+"$")}var z=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"key";h(this,t),this.key=P(e)}return f(t,[{key:"get",value:function(t){return t.config.pluginsByKey[this.key]}},{key:"getState",value:function(t){return t[this.key]}}]),t}();e.AllSelection=C,e.EditorState=I,e.NodeSelection=k,e.Plugin=B,e.PluginKey=z,e.Selection=y,e.SelectionRange=v,e.TextSelection=x,e.Transaction=A},92843:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(t){var e="function"==typeof Map?new Map:void 0;return i=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return o(t,arguments,h(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),s(r,t)},i(t)}function o(t,e,n){return o=u()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&s(i,n.prototype),i},o.apply(null,arguments)}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}function s(t,e){return s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},s(t,e)}function l(t){var e=u();return function(){var n,r=h(t);if(e){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}function c(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function h(t){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},h(t)}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e,n){return e&&f(t.prototype,e),n&&f(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}Object.defineProperty(e,"__esModule",{value:!0});var g=n(19443),m=Math.pow(2,16);function y(t){return 65535&t}var v=function(){function t(e,n,r){d(this,t),this.pos=e,this.delInfo=n,this.recover=r}return p(t,[{key:"deleted",get:function(){return(8&this.delInfo)>0}},{key:"deletedBefore",get:function(){return(5&this.delInfo)>0}},{key:"deletedAfter",get:function(){return(6&this.delInfo)>0}},{key:"deletedAcross",get:function(){return(4&this.delInfo)>0}}]),t}(),b=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(d(this,t),this.ranges=e,this.inverted=n,!e.length&&t.empty)return t.empty}return p(t,[{key:"recover",value:function(t){var e=0,n=y(t);if(!this.inverted)for(var r=0;r<n;r++)e+=this.ranges[3*r+2]-this.ranges[3*r+1];return this.ranges[3*n]+e+function(t){return(t-(65535&t))/m}(t)}},{key:"mapResult",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this._map(t,e,!1)}},{key:"map",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this._map(t,e,!0)}},{key:"_map",value:function(t,e,n){for(var r=0,i=this.inverted?2:1,o=this.inverted?1:2,a=0;a<this.ranges.length;a+=3){var s=this.ranges[a]-(this.inverted?r:0);if(s>t)break;var l=this.ranges[a+i],c=this.ranges[a+o],u=s+l;if(t<=u){var h=s+r+((l?t==s?-1:t==u?1:e:e)<0?0:c);if(n)return h;var d=t==(e<0?s:u)?null:a/3+(t-s)*m,f=t==s?2:t==u?1:4;return(e<0?t!=s:t!=u)&&(f|=8),new v(h,f,d)}r+=c-l}return n?t+r:new v(t+r,0,null)}},{key:"touches",value:function(t,e){for(var n=0,r=y(e),i=this.inverted?2:1,o=this.inverted?1:2,a=0;a<this.ranges.length;a+=3){var s=this.ranges[a]-(this.inverted?n:0);if(s>t)break;var l=this.ranges[a+i];if(t<=s+l&&a==3*r)return!0;n+=this.ranges[a+o]-l}return!1}},{key:"forEach",value:function(t){for(var e=this.inverted?2:1,n=this.inverted?1:2,r=0,i=0;r<this.ranges.length;r+=3){var o=this.ranges[r],a=o-(this.inverted?i:0),s=o+(this.inverted?0:i),l=this.ranges[r+e],c=this.ranges[r+n];t(a,a+l,s,s+c),i+=c-l}}},{key:"invert",value:function(){return new t(this.ranges,!this.inverted)}},{key:"toString",value:function(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}}],[{key:"offset",value:function(e){return 0==e?t.empty:new t(e<0?[0,-e,0]:[0,0,e])}}]),t}();b.empty=new b([]);var w=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;d(this,t),this.maps=e,this.mirror=n,this.from=r,this.to=i}return p(t,[{key:"slice",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.maps.length;return new t(this.maps,this.mirror,e,n)}},{key:"copy",value:function(){return new t(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}},{key:"appendMap",value:function(t,e){this.to=this.maps.push(t),null!=e&&this.setMirror(this.maps.length-1,e)}},{key:"appendMapping",value:function(t){for(var e=0,n=this.maps.length;e<t.maps.length;e++){var r=t.getMirror(e);this.appendMap(t.maps[e],null!=r&&r<e?n+r:void 0)}}},{key:"getMirror",value:function(t){if(this.mirror)for(var e=0;e<this.mirror.length;e++)if(this.mirror[e]==t)return this.mirror[e+(e%2?-1:1)]}},{key:"setMirror",value:function(t,e){this.mirror||(this.mirror=[]),this.mirror.push(t,e)}},{key:"appendMappingInverted",value:function(t){for(var e=t.maps.length-1,n=this.maps.length+t.maps.length;e>=0;e--){var r=t.getMirror(e);this.appendMap(t.maps[e].invert(),null!=r&&r>e?n-r-1:void 0)}}},{key:"invert",value:function(){var e=new t;return e.appendMappingInverted(this),e}},{key:"map",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(this.mirror)return this._map(t,e,!0);for(var n=this.from;n<this.to;n++)t=this.maps[n].map(t,e);return t}},{key:"mapResult",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this._map(t,e,!1)}},{key:"_map",value:function(t,e,n){for(var r=0,i=this.from;i<this.to;i++){var o=this.maps[i].mapResult(t,e);if(null!=o.recover){var a=this.getMirror(i);if(null!=a&&a>i&&a<this.to){i=a,t=this.maps[a].recover(o.recover);continue}}r|=o.delInfo,t=o.pos}return n?t:new v(t,r,null)}}]),t}(),x=Object.create(null),_=function(){function t(){d(this,t)}return p(t,[{key:"getMap",value:function(){return b.empty}},{key:"merge",value:function(t){return null}}],[{key:"fromJSON",value:function(t,e){if(!e||!e.stepType)throw new RangeError("Invalid input for Step.fromJSON");var n=x[e.stepType];if(!n)throw new RangeError("No step type ".concat(e.stepType," defined"));return n.fromJSON(t,e)}},{key:"jsonID",value:function(t,e){if(t in x)throw new RangeError("Duplicate use of step JSON ID "+t);return x[t]=e,e.prototype.jsonID=t,e}}]),t}(),k=function(){function t(e,n){d(this,t),this.doc=e,this.failed=n}return p(t,null,[{key:"ok",value:function(e){return new t(e,null)}},{key:"fail",value:function(e){return new t(null,e)}},{key:"fromReplace",value:function(e,n,r,i){try{return t.ok(e.replace(n,r,i))}catch(e){if(e instanceof g.ReplaceError)return t.fail(e.message);throw e}}}]),t}();function E(t,e,n){for(var r=[],i=0;i<t.childCount;i++){var o=t.child(i);o.content.size&&(o=o.copy(E(o.content,e,o))),o.isInline&&(o=e(o,n,i)),r.push(o)}return g.Fragment.fromArray(r)}var C=function(t){a(n,t);var e=l(n);function n(t,r,i){var o;return d(this,n),(o=e.call(this)).from=t,o.to=r,o.mark=i,o}return p(n,[{key:"apply",value:function(t){var e=this,n=t.slice(this.from,this.to),r=t.resolve(this.from),i=r.node(r.sharedDepth(this.to)),o=new g.Slice(E(n.content,(function(t,n){return t.isAtom&&n.type.allowsMarkType(e.mark.type)?t.mark(e.mark.addToSet(t.marks)):t}),i),n.openStart,n.openEnd);return k.fromReplace(t,this.from,this.to,o)}},{key:"invert",value:function(){return new S(this.from,this.to,this.mark)}},{key:"map",value:function(t){var e=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return e.deleted&&r.deleted||e.pos>=r.pos?null:new n(e.pos,r.pos,this.mark)}},{key:"merge",value:function(t){return t instanceof n&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new n(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}},{key:"toJSON",value:function(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}}],[{key:"fromJSON",value:function(t,e){if("number"!=typeof e.from||"number"!=typeof e.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new n(e.from,e.to,t.markFromJSON(e.mark))}}]),n}(_);_.jsonID("addMark",C);var S=function(t){a(n,t);var e=l(n);function n(t,r,i){var o;return d(this,n),(o=e.call(this)).from=t,o.to=r,o.mark=i,o}return p(n,[{key:"apply",value:function(t){var e=this,n=t.slice(this.from,this.to),r=new g.Slice(E(n.content,(function(t){return t.mark(e.mark.removeFromSet(t.marks))}),t),n.openStart,n.openEnd);return k.fromReplace(t,this.from,this.to,r)}},{key:"invert",value:function(){return new C(this.from,this.to,this.mark)}},{key:"map",value:function(t){var e=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return e.deleted&&r.deleted||e.pos>=r.pos?null:new n(e.pos,r.pos,this.mark)}},{key:"merge",value:function(t){return t instanceof n&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new n(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}},{key:"toJSON",value:function(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}}],[{key:"fromJSON",value:function(t,e){if("number"!=typeof e.from||"number"!=typeof e.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new n(e.from,e.to,t.markFromJSON(e.mark))}}]),n}(_);_.jsonID("removeMark",S);var D=function(t){a(n,t);var e=l(n);function n(t,r,i){var o,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return d(this,n),(o=e.call(this)).from=t,o.to=r,o.slice=i,o.structure=a,o}return p(n,[{key:"apply",value:function(t){return this.structure&&A(t,this.from,this.to)?k.fail("Structure replace would overwrite content"):k.fromReplace(t,this.from,this.to,this.slice)}},{key:"getMap",value:function(){return new b([this.from,this.to-this.from,this.slice.size])}},{key:"invert",value:function(t){return new n(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}},{key:"map",value:function(t){var e=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return e.deletedAcross&&r.deletedAcross?null:new n(e.pos,Math.max(e.pos,r.pos),this.slice)}},{key:"merge",value:function(t){if(!(t instanceof n)||t.structure||this.structure)return null;if(this.from+this.slice.size!=t.from||this.slice.openEnd||t.slice.openStart){if(t.to!=this.from||this.slice.openStart||t.slice.openEnd)return null;var e=this.slice.size+t.slice.size==0?g.Slice.empty:new g.Slice(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new n(t.from,this.to,e,this.structure)}var r=this.slice.size+t.slice.size==0?g.Slice.empty:new g.Slice(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new n(this.from,this.to+(t.to-t.from),r,this.structure)}},{key:"toJSON",value:function(){var t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}}],[{key:"fromJSON",value:function(t,e){if("number"!=typeof e.from||"number"!=typeof e.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new n(e.from,e.to,g.Slice.fromJSON(t,e.slice),!!e.structure)}}]),n}(_);_.jsonID("replace",D);var T=function(t){a(n,t);var e=l(n);function n(t,r,i,o,a,s){var l,c=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return d(this,n),(l=e.call(this)).from=t,l.to=r,l.gapFrom=i,l.gapTo=o,l.slice=a,l.insert=s,l.structure=c,l}return p(n,[{key:"apply",value:function(t){if(this.structure&&(A(t,this.from,this.gapFrom)||A(t,this.gapTo,this.to)))return k.fail("Structure gap-replace would overwrite content");var e=t.slice(this.gapFrom,this.gapTo);if(e.openStart||e.openEnd)return k.fail("Gap is not a flat range");var n=this.slice.insertAt(this.insert,e.content);return n?k.fromReplace(t,this.from,this.to,n):k.fail("Content does not fit in gap")}},{key:"getMap",value:function(){return new b([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}},{key:"invert",value:function(t){var e=this.gapTo-this.gapFrom;return new n(this.from,this.from+this.slice.size+e,this.from+this.insert,this.from+this.insert+e,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}},{key:"map",value:function(t){var e=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),i=t.map(this.gapFrom,-1),o=t.map(this.gapTo,1);return e.deletedAcross&&r.deletedAcross||i<e.pos||o>r.pos?null:new n(e.pos,r.pos,i,o,this.slice,this.insert,this.structure)}},{key:"toJSON",value:function(){var t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}}],[{key:"fromJSON",value:function(t,e){if("number"!=typeof e.from||"number"!=typeof e.to||"number"!=typeof e.gapFrom||"number"!=typeof e.gapTo||"number"!=typeof e.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new n(e.from,e.to,e.gapFrom,e.gapTo,g.Slice.fromJSON(t,e.slice),e.insert,!!e.structure)}}]),n}(_);function A(t,e,n){for(var r=t.resolve(e),i=n-e,o=r.depth;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0)for(var a=r.node(o).maybeChild(r.indexAfter(o));i>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,i--}return!1}function M(t,e,n){return(0==e||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function N(t){return{type:t,attrs:null}}function O(t,e){var n=t.parent,r=t.startIndex,i=t.endIndex,o=n.contentMatchAt(r).findWrapping(e);if(!o)return null;var a=o.length?o[0]:e;return n.canReplaceWith(r,i,a)?o:null}function F(t,e){var n=t.parent,r=t.startIndex,i=t.endIndex,o=n.child(r),a=e.contentMatch.findWrapping(o.type);if(!a)return null;for(var s=(a.length?a[a.length-1]:e).contentMatch,l=r;s&&l<i;l++)s=s.matchType(n.child(l).type);return s&&s.validEnd?a:null}function I(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var o=t.steps.length;t.doc.nodesBetween(e,n,(function(e,n){if(e.isTextblock&&!e.hasMarkup(r,i)&&function(t,e,n){var r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}(t.doc,t.mapping.slice(o).map(n),r)){t.clearIncompatible(t.mapping.slice(o).map(n,1),r);var a=t.mapping.slice(o),s=a.map(n,1),l=a.map(n+e.nodeSize,1);return t.step(new T(s,l,s+1,l-1,new g.Slice(g.Fragment.from(r.create(i,null,e.marks)),0,0),1,!0)),!1}}))}function L(t,e,n,r,i){var o=t.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");n||(n=o.type);var a=n.create(r,null,i||o.marks);if(o.isLeaf)return t.replaceWith(e,e+o.nodeSize,a);if(!n.validContent(o.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new T(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new g.Slice(g.Fragment.from(a),0,0),1,!0))}function B(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=t.doc.resolve(e),o=g.Fragment.empty,a=g.Fragment.empty,s=i.depth,l=i.depth-n,c=n-1;s>l;s--,c--){o=g.Fragment.from(i.node(s).copy(o));var u=r&&r[c];a=g.Fragment.from(u?u.type.create(u.attrs,a):i.node(s).copy(a))}t.step(new D(e,e,new g.Slice(o.append(a),n,n),!0))}function R(t,e){return!(!t||!e||t.isLeaf||!t.canAppend(e))}function P(t,e,n){var r=new D(e-n,e+n,g.Slice.empty,!0);t.step(r)}function z(t,e,n){var r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(0==r.parentOffset)for(var i=r.depth-1;i>=0;i--){var o=r.index(i);if(r.node(i).canReplaceWith(o,o,n))return r.before(i+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(var a=r.depth-1;a>=0;a--){var s=r.indexAfter(a);if(r.node(a).canReplaceWith(s,s,n))return r.after(a+1);if(s<r.node(a).childCount)return null}return null}function $(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:g.Slice.empty;if(e==n&&!r.size)return null;var i=t.resolve(e),o=t.resolve(n);return j(i,o,r)?new D(e,n,r):new U(i,o,r).fit()}function j(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}_.jsonID("replaceAround",T);var U=function(){function t(e,n,r){d(this,t),this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=g.Fragment.empty;for(var i=0;i<=e.depth;i++){var o=e.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(i))})}for(var a=e.depth;a>0;a--)this.placed=g.Fragment.from(e.node(a).copy(this.placed))}return p(t,[{key:"depth",get:function(){return this.frontier.length-1}},{key:"fit",value:function(){for(;this.unplaced.size;){var t=this.findFittable();t?this.placeNodes(t):this.openMore()||this.dropNode()}var e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;for(var o=this.placed,a=r.depth,s=i.depth;a&&s&&1==o.childCount;)o=o.firstChild.content,a--,s--;var l=new g.Slice(o,a,s);return e>-1?new T(r.pos,e,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new D(r.pos,i.pos,l):null}},{key:"findFittable",value:function(){for(var t=1;t<=2;t++)for(var e=this.unplaced.openStart;e>=0;e--)for(var n=null,r=(e?(n=W(this.unplaced.content,e-1).firstChild).content:this.unplaced.content).firstChild,i=this.depth;i>=0;i--){var o=this.frontier[i],a=o.type,s=o.match,l=void 0,c=null;if(1==t&&(r?s.matchType(r.type)||(c=s.fillBefore(g.Fragment.from(r),!1)):n&&a.compatibleContent(n.type)))return{sliceDepth:e,frontierDepth:i,parent:n,inject:c};if(2==t&&r&&(l=s.findWrapping(r.type)))return{sliceDepth:e,frontierDepth:i,parent:n,wrap:l};if(n&&s.matchType(n.type))break}}},{key:"openMore",value:function(){var t=this.unplaced,e=t.content,n=t.openStart,r=t.openEnd,i=W(e,n);return!(!i.childCount||i.firstChild.isLeaf)&&(this.unplaced=new g.Slice(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}},{key:"dropNode",value:function(){var t=this.unplaced,e=t.content,n=t.openStart,r=t.openEnd,i=W(e,n);if(i.childCount<=1&&n>0){var o=e.size-n<=n+i.size;this.unplaced=new g.Slice(Y(e,n-1,1),n-1,o?n-1:r)}else this.unplaced=new g.Slice(Y(e,n,1),n,r)}},{key:"placeNodes",value:function(t){for(var e=t.sliceDepth,n=t.frontierDepth,r=t.parent,i=t.inject,o=t.wrap;this.depth>n;)this.closeFrontierNode();if(o)for(var a=0;a<o.length;a++)this.openFrontierNode(o[a]);var s=this.unplaced,l=r?r.content:s.content,c=s.openStart-e,u=0,h=[],d=this.frontier[n],f=d.match,p=d.type;if(i){for(a=0;a<i.childCount;a++)h.push(i.child(a));f=f.matchFragment(i)}for(var m=l.size+e-(s.content.size-s.openEnd);u<l.childCount;){var y=l.child(u),v=f.matchType(y.type);if(!v)break;(++u>1||0==c||y.content.size)&&(f=v,h.push(H(y.mark(p.allowedMarks(y.marks)),1==u?c:0,u==l.childCount?m:-1)))}var b=u==l.childCount;b||(m=-1),this.placed=q(this.placed,n,g.Fragment.from(h)),this.frontier[n].match=f,b&&m<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(var w=0,x=l;w<m;w++){var _=x.lastChild;this.frontier.push({type:_.type,match:_.contentMatchAt(_.childCount)}),x=_.content}this.unplaced=b?0==e?g.Slice.empty:new g.Slice(Y(s.content,e-1,1),e-1,m<0?s.openEnd:e-1):new g.Slice(Y(s.content,e,u),s.openStart,s.openEnd)}},{key:"mustMoveInline",value:function(){if(!this.$to.parent.isTextblock)return-1;var t,e=this.frontier[this.depth];if(!e.type.isTextblock||!V(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;for(var n=this.$to.depth,r=this.$to.after(n);n>1&&r==this.$to.end(--n);)++r;return r}},{key:"findCloseLevel",value:function(t){t:for(var e=Math.min(this.depth,t.depth);e>=0;e--){var n=this.frontier[e],r=n.match,i=n.type,o=e<t.depth&&t.end(e+1)==t.pos+(t.depth-(e+1)),a=V(t,e,i,r,o);if(a){for(var s=e-1;s>=0;s--){var l=this.frontier[s],c=l.match,u=V(t,s,l.type,c,!0);if(!u||u.childCount)continue t}return{depth:e,fit:a,move:o?t.doc.resolve(t.after(e+1)):t}}}}},{key:"close",value:function(t){var e=this.findCloseLevel(t);if(!e)return null;for(;this.depth>e.depth;)this.closeFrontierNode();e.fit.childCount&&(this.placed=q(this.placed,e.depth,e.fit)),t=e.move;for(var n=e.depth+1;n<=t.depth;n++){var r=t.node(n),i=r.type.contentMatch.fillBefore(r.content,!0,t.index(n));this.openFrontierNode(r.type,r.attrs,i)}return t}},{key:"openFrontierNode",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,r=this.frontier[this.depth];r.match=r.match.matchType(t),this.placed=q(this.placed,this.depth,g.Fragment.from(t.create(e,n))),this.frontier.push({type:t,match:t.contentMatch})}},{key:"closeFrontierNode",value:function(){var t=this.frontier.pop().match.fillBefore(g.Fragment.empty,!0);t.childCount&&(this.placed=q(this.placed,this.frontier.length,t))}}]),t}();function Y(t,e,n){return 0==e?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(Y(t.firstChild.content,e-1,n)))}function q(t,e,n){return 0==e?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(q(t.lastChild.content,e-1,n)))}function W(t,e){for(var n=0;n<e;n++)t=t.firstChild.content;return t}function H(t,e,n){if(e<=0)return t;var r=t.content;return e>1&&(r=r.replaceChild(0,H(r.firstChild,e-1,1==r.childCount?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(g.Fragment.empty,!0)))),t.copy(r)}function V(t,e,n,r,i){var o=t.node(e),a=i?t.indexAfter(e):t.index(e);if(a==o.childCount&&!n.compatibleContent(o.type))return null;var s=r.fillBefore(o.content,!0,a);return s&&!function(t,e,n){for(var r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}(n,o.content,a)?s:null}function G(t){return t.spec.defining||t.spec.definingForContent}function X(t,e,n,r,i){if(e<n){var o=t.firstChild;t=t.replaceChild(0,o.copy(X(o.content,e+1,n,r,o)))}if(e>r){var a=i.contentMatchAt(0),s=a.fillBefore(t).append(t);t=s.append(a.matchFragment(s).fillBefore(g.Fragment.empty,!0))}return t}function K(t,e){for(var n=[],r=Math.min(t.depth,e.depth);r>=0;r--){var i=t.start(r);if(i<t.pos-(t.depth-r)||e.end(r)>e.pos+(e.depth-r)||t.node(r).type.spec.isolating||e.node(r).type.spec.isolating)break;(i==e.start(r)||r==t.depth&&r==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&r&&e.start(r-1)==i-1)&&n.push(r)}return n}e.TransformError=function(t){a(n,t);var e=l(n);function n(){return d(this,n),e.apply(this,arguments)}return p(n)}(i(Error)),e.TransformError=function t(e){var n=Error.call(this,e);return n.__proto__=t.prototype,n},e.TransformError.prototype=Object.create(Error.prototype),e.TransformError.prototype.constructor=e.TransformError,e.TransformError.prototype.name="TransformError";var J=function(){function t(e){d(this,t),this.doc=e,this.steps=[],this.docs=[],this.mapping=new w}return p(t,[{key:"before",get:function(){return this.docs.length?this.docs[0]:this.doc}},{key:"step",value:function(t){var n=this.maybeStep(t);if(n.failed)throw new e.TransformError(n.failed);return this}},{key:"maybeStep",value:function(t){var e=t.apply(this.doc);return e.failed||this.addStep(t,e.doc),e}},{key:"docChanged",get:function(){return this.steps.length>0}},{key:"addStep",value:function(t,e){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=e}},{key:"replace",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g.Slice.empty,r=$(this.doc,t,e,n);return r&&this.step(r),this}},{key:"replaceWith",value:function(t,e,n){return this.replace(t,e,new g.Slice(g.Fragment.from(n),0,0))}},{key:"delete",value:function(t,e){return this.replace(t,e,g.Slice.empty)}},{key:"insert",value:function(t,e){return this.replaceWith(t,t,e)}},{key:"replaceRange",value:function(t,e,n){return function(t,e,n,r){if(!r.size)return t.deleteRange(e,n);var i=t.doc.resolve(e),o=t.doc.resolve(n);if(j(i,o,r))return t.step(new D(e,n,r));var a=K(i,t.doc.resolve(n));0==a[a.length-1]&&a.pop();var s=-(i.depth+1);a.unshift(s);for(var l=i.depth,c=i.pos-1;l>0;l--,c--){var u=i.node(l).type.spec;if(u.defining||u.definingAsContext||u.isolating)break;a.indexOf(l)>-1?s=l:i.before(l)==c&&a.splice(1,0,-l)}for(var h=a.indexOf(s),d=[],f=r.openStart,p=r.content,m=0;;m++){var y=p.firstChild;if(d.push(y),m==r.openStart)break;p=y.content}for(var v=f-1;v>=0;v--){var b=d[v].type,w=G(b);if(w&&i.node(h).type!=b)f=v;else if(w||!b.isTextblock)break}for(var x=r.openStart;x>=0;x--){var _=(x+f+1)%(r.openStart+1),k=d[_];if(k)for(var E=0;E<a.length;E++){var C=a[(E+h)%a.length],S=!0;C<0&&(S=!1,C=-C);var T=i.node(C-1),A=i.index(C-1);if(T.canReplaceWith(A,A,k.type,k.marks))return t.replace(i.before(C),S?o.after(C):n,new g.Slice(X(r.content,0,r.openStart,_),_,r.openEnd))}}for(var M=t.steps.length,N=a.length-1;N>=0&&(t.replace(e,n,r),!(t.steps.length>M));N--){var O=a[N];O<0||(e=i.before(O),n=o.after(O))}}(this,t,e,n),this}},{key:"replaceRangeWith",value:function(t,e,n){return function(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){var i=z(t.doc,e,r.type);null!=i&&(e=n=i)}t.replaceRange(e,n,new g.Slice(g.Fragment.from(r),0,0))}(this,t,e,n),this}},{key:"deleteRange",value:function(t,e){return function(t,e,n){for(var r=t.doc.resolve(e),i=t.doc.resolve(n),o=K(r,i),a=0;a<o.length;a++){var s=o[a],l=a==o.length-1;if(l&&0==s||r.node(s).type.contentMatch.validEnd)return t.delete(r.start(s),i.end(s));if(s>0&&(l||r.node(s-1).canReplace(r.index(s-1),i.indexAfter(s-1))))return t.delete(r.before(s),i.after(s))}for(var c=1;c<=r.depth&&c<=i.depth;c++)if(e-r.start(c)==r.depth-c&&n>r.end(c)&&i.end(c)-n!=i.depth-c)return t.delete(r.before(c),n);t.delete(e,n)}(this,t,e),this}},{key:"lift",value:function(t,e){return function(t,e,n){for(var r=e.$from,i=e.$to,o=e.depth,a=r.before(o+1),s=i.after(o+1),l=a,c=s,u=g.Fragment.empty,h=0,d=o,f=!1;d>n;d--)f||r.index(d)>0?(f=!0,u=g.Fragment.from(r.node(d).copy(u)),h++):l--;for(var p=g.Fragment.empty,m=0,y=o,v=!1;y>n;y--)v||i.after(y+1)<i.end(y)?(v=!0,p=g.Fragment.from(i.node(y).copy(p)),m++):c++;t.step(new T(l,c,a,s,new g.Slice(u.append(p),h,m),u.size-h,!0))}(this,t,e),this}},{key:"join",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return P(this,t,e),this}},{key:"wrap",value:function(t,e){return function(t,e,n){for(var r=g.Fragment.empty,i=n.length-1;i>=0;i--){if(r.size){var o=n[i].type.contentMatch.matchFragment(r);if(!o||!o.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=g.Fragment.from(n[i].type.create(n[i].attrs,r))}var a=e.start,s=e.end;t.step(new T(a,s,a,s,new g.Slice(r,0,0),n.length,!0))}(this,t,e),this}},{key:"setBlockType",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return I(this,t,e,n,r),this}},{key:"setNodeMarkup",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return L(this,t,e,n,r),this}},{key:"split",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2?arguments[2]:void 0;return B(this,t,e,n),this}},{key:"addMark",value:function(t,e,n){return function(t,e,n,r){var i,o,a=[],s=[];t.doc.nodesBetween(e,n,(function(t,l,c){if(t.isInline){var u=t.marks;if(!r.isInSet(u)&&c.type.allowsMarkType(r.type)){for(var h=Math.max(l,e),d=Math.min(l+t.nodeSize,n),f=r.addToSet(u),p=0;p<u.length;p++)u[p].isInSet(f)||(i&&i.to==h&&i.mark.eq(u[p])?i.to=d:a.push(i=new S(h,d,u[p])));o&&o.to==h?o.to=d:s.push(o=new C(h,d,r))}}})),a.forEach((function(e){return t.step(e)})),s.forEach((function(e){return t.step(e)}))}(this,t,e,n),this}},{key:"removeMark",value:function(t,e,n){return function(t,e,n,r){var i=[],o=0;t.doc.nodesBetween(e,n,(function(t,a){if(t.isInline){o++;var s=null;if(r instanceof g.MarkType)for(var l,c=t.marks;l=r.isInSet(c);)(s||(s=[])).push(l),c=l.removeFromSet(c);else r?r.isInSet(t.marks)&&(s=[r]):s=t.marks;if(s&&s.length)for(var u=Math.min(a+t.nodeSize,n),h=0;h<s.length;h++){for(var d=s[h],f=void 0,p=0;p<i.length;p++){var m=i[p];m.step==o-1&&d.eq(i[p].style)&&(f=m)}f?(f.to=u,f.step=o):i.push({style:d,from:Math.max(a,e),to:u,step:o})}}})),i.forEach((function(e){return t.step(new S(e.from,e.to,e.style))}))}(this,t,e,n),this}},{key:"clearIncompatible",value:function(t,e,n){return function(t,e,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n.contentMatch,i=t.doc.nodeAt(e),o=[],a=e+1,s=0;s<i.childCount;s++){var l=i.child(s),c=a+l.nodeSize,u=r.matchType(l.type);if(u){r=u;for(var h=0;h<l.marks.length;h++)n.allowsMarkType(l.marks[h].type)||t.step(new S(a,c,l.marks[h]))}else o.push(new D(a,c,g.Slice.empty));a=c}if(!r.validEnd){var d=r.fillBefore(g.Fragment.empty,!0);t.replace(a,a,new g.Slice(d,0,0))}for(var f=o.length-1;f>=0;f--)t.step(o[f])}(this,t,e,n),this}}]),t}();e.AddMarkStep=C,e.MapResult=v,e.Mapping=w,e.RemoveMarkStep=S,e.ReplaceAroundStep=T,e.ReplaceStep=D,e.Step=_,e.StepMap=b,e.StepResult=k,e.Transform=J,e.canJoin=function(t,e){var n=t.resolve(e),r=n.index();return R(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)},e.canSplit=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0,i=t.resolve(e),o=i.depth-n,a=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!a.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(var s=i.depth-1,l=n-2;s>o;s--,l--){var c=i.node(s),u=i.index(s);if(c.type.spec.isolating)return!1;var h=c.content.cutByIndex(u,c.childCount),d=r&&r[l]||c;if(d!=c&&(h=h.replaceChild(0,d.type.create(d.attrs))),!c.canReplace(u+1,c.childCount)||!d.type.validContent(h))return!1}var f=i.indexAfter(o),p=r&&r[0];return i.node(o).canReplaceWith(f,f,p?p.type:i.node(o+1).type)},e.dropPoint=function(t,e,n){var r=t.resolve(e);if(!n.content.size)return e;for(var i=n.content,o=0;o<n.openStart;o++)i=i.firstChild.content;for(var a=1;a<=(0==n.openStart&&n.size?2:1);a++)for(var s=r.depth;s>=0;s--){var l=s==r.depth?0:r.pos<=(r.start(s+1)+r.end(s+1))/2?-1:1,c=r.index(s)+(l>0?1:0),u=r.node(s),h=!1;if(1==a)h=u.canReplace(c,c,i);else{var d=u.contentMatchAt(c).findWrapping(i.firstChild.type);h=d&&u.canReplaceWith(c,c,d[0])}if(h)return 0==l?r.pos:l<0?r.before(s+1):r.after(s+1)}return null},e.findWrapping=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t,i=O(t,e),o=i&&F(r,e);return o?i.map(N).concat({type:e,attrs:n}).concat(o.map(N)):null},e.insertPoint=z,e.joinPoint=function(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,r=t.resolve(e),i=r.depth;;i--){var o=void 0,a=void 0,s=r.index(i);if(i==r.depth?(o=r.nodeBefore,a=r.nodeAfter):n>0?(o=r.node(i+1),s++,a=r.node(i).maybeChild(s)):(o=r.node(i).maybeChild(s-1),a=r.node(i+1)),o&&!o.isTextblock&&R(o,a)&&r.node(i).canReplace(s,s+1))return e;if(0==i)break;e=n<0?r.before(i):r.after(i)}},e.liftTarget=function(t){for(var e=t.parent.content.cutByIndex(t.startIndex,t.endIndex),n=t.depth;;--n){var r=t.$from.node(n),i=t.$from.index(n),o=t.$to.indexAfter(n);if(n<t.depth&&r.canReplace(i,o,e))return n;if(0==n||r.type.spec.isolating||!M(r,i,o))break}return null},e.replaceStep=$},9222:(t,e,n)=>{"use strict";function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function i(){return i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=o(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},i.apply(this,arguments)}function o(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=h(t)););return t}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}function s(t,e){return s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},s(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h(t);if(e){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}function c(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return u(t)}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},h(t)}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e,n){return e&&f(t.prototype,e),n&&f(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}Object.defineProperty(e,"__esModule",{value:!0});var g=n(42391),m=n(19443),y=n(92843),v="undefined"!=typeof navigator?navigator:null,b="undefined"!=typeof document?document:null,w=v&&v.userAgent||"",x=/Edge\/(\d+)/.exec(w),_=/MSIE \d/.exec(w),k=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(w),E=!!(_||k||x),C=_?document.documentMode:k?+k[1]:x?+x[1]:0,S=!E&&/gecko\/(\d+)/i.test(w);S&&(/Firefox\/(\d+)/.exec(w)||[0,0])[1];var D=!E&&/Chrome\/(\d+)/.exec(w),T=!!D,A=D?+D[1]:0,M=!E&&!!v&&/Apple Computer/.test(v.vendor),N=M&&(/Mobile\/\w+/.test(w)||!!v&&v.maxTouchPoints>2),O=N||!!v&&/Mac/.test(v.platform),F=/Android \d/.test(w),I=!!b&&"webkitFontSmoothing"in b.documentElement.style,L=I?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,B=function(t){for(var e=0;;e++)if(!(t=t.previousSibling))return e},R=function(t){var e=t.assignedSlot||t.parentNode;return e&&11==e.nodeType?e.host:e},P=null,z=function(t,e,n){var r=P||(P=document.createRange());return r.setEnd(t,null==n?t.nodeValue.length:n),r.setStart(t,e||0),r},$=function(t,e,n,r){return n&&(U(t,e,n,r,-1)||U(t,e,n,r,1))},j=/^(img|br|input|textarea|hr)$/i;function U(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:Y(t))){var o=t.parentNode;if(!o||1!=o.nodeType||W(t)||j.test(t.nodeName)||"false"==t.contentEditable)return!1;e=B(t)+(i<0?0:1),t=o}else{if(1!=t.nodeType)return!1;if("false"==(t=t.childNodes[e+(i<0?-1:0)]).contentEditable)return!1;e=i<0?Y(t):0}}}function Y(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function q(t,e,n){for(var r=0==e,i=e==Y(t);r||i;){if(t==n)return!0;var o=B(t);if(!(t=t.parentNode))return!1;r=r&&0==o,i=i&&o==Y(t)}}function W(t){for(var e,n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}var H=function(t){var e=t.isCollapsed;return e&&T&&t.rangeCount&&!t.getRangeAt(0).collapsed&&(e=!1),e};function V(t,e){var n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function G(t){return{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function X(t,e){return"number"==typeof t?t:t[e]}function K(t){var e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function J(t,e,n){for(var r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,o=t.dom.ownerDocument,a=n||t.dom;a;a=R(a))if(1==a.nodeType){var s=a,l=s==o.body,c=l?G(o):K(s),u=0,h=0;if(e.top<c.top+X(r,"top")?h=-(c.top-e.top+X(i,"top")):e.bottom>c.bottom-X(r,"bottom")&&(h=e.bottom-c.bottom+X(i,"bottom")),e.left<c.left+X(r,"left")?u=-(c.left-e.left+X(i,"left")):e.right>c.right-X(r,"right")&&(u=e.right-c.right+X(i,"right")),u||h)if(l)o.defaultView.scrollBy(u,h);else{var d=s.scrollLeft,f=s.scrollTop;h&&(s.scrollTop+=h),u&&(s.scrollLeft+=u);var p=s.scrollLeft-d,g=s.scrollTop-f;e={left:e.left-p,top:e.top-g,right:e.right-p,bottom:e.bottom-g}}if(l)break}}function Z(t){for(var e=[],n=t.ownerDocument,r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=R(r));return e}function Q(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=r.dom,o=r.top,a=r.left;i.scrollTop!=o+e&&(i.scrollTop=o+e),i.scrollLeft!=a&&(i.scrollLeft=a)}}var tt=null;function et(t,e){for(var n,r,i=2e8,o=0,a=e.top,s=e.top,l=t.firstChild,c=0;l;l=l.nextSibling,c++){var u=void 0;if(1==l.nodeType)u=l.getClientRects();else{if(3!=l.nodeType)continue;u=z(l).getClientRects()}for(var h=0;h<u.length;h++){var d=u[h];if(d.top<=a&&d.bottom>=s){a=Math.max(d.bottom,a),s=Math.min(d.top,s);var f=d.left>e.left?d.left-e.left:d.right<e.left?e.left-d.right:0;if(f<i){n=l,i=f,r=f&&3==n.nodeType?{left:d.right<e.left?d.right:d.left,top:e.top}:e,1==l.nodeType&&f&&(o=c+(e.left>=(d.left+d.right)/2?1:0));continue}}!n&&(e.left>=d.right&&e.top>=d.top||e.left>=d.left&&e.top>=d.bottom)&&(o=c+1)}}return n&&3==n.nodeType?function(t,e){for(var n=t.nodeValue.length,r=document.createRange(),i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);var o=ot(r,1);if(o.top!=o.bottom&&nt(e,o))return{node:t,offset:i+(e.left>=(o.left+o.right)/2?1:0)}}return{node:t,offset:0}}(n,r):!n||i&&1==n.nodeType?{node:t,offset:o}:et(n,r)}function nt(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function rt(t,e,n){var r=t.childNodes.length;if(r&&n.top<n.bottom)for(var i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),o=i;;){var a=t.childNodes[o];if(1==a.nodeType)for(var s=a.getClientRects(),l=0;l<s.length;l++){var c=s[l];if(nt(e,c))return rt(a,e,c)}if((o=(o+1)%r)==i)break}return t}function it(t,e){var n,r=t.dom.ownerDocument,i=0;if(r.caretPositionFromPoint)try{var o=r.caretPositionFromPoint(e.left,e.top);o&&(n=o.offsetNode,i=o.offset)}catch(t){}if(!n&&r.caretRangeFromPoint){var a=r.caretRangeFromPoint(e.left,e.top);a&&(n=a.startContainer,i=a.startOffset)}var s,l=(t.root.elementFromPoint?t.root:r).elementFromPoint(e.left,e.top+1);if(!l||!t.dom.contains(1!=l.nodeType?l.parentNode:l)){var c=t.dom.getBoundingClientRect();if(!nt(e,c))return null;if(!(l=rt(t.dom,e,c)))return null}if(M)for(var u=l;n&&u;u=R(u))u.draggable&&(n=void 0);if(l=function(t,e){var n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}(l,e),n){if(S&&1==n.nodeType&&(i=Math.min(i,n.childNodes.length))<n.childNodes.length){var h,d=n.childNodes[i];"IMG"==d.nodeName&&(h=d.getBoundingClientRect()).right<=e.left&&h.bottom>e.top&&i++}n==t.dom&&i==n.childNodes.length-1&&1==n.lastChild.nodeType&&e.top>n.lastChild.getBoundingClientRect().bottom?s=t.state.doc.content.size:0!=i&&1==n.nodeType&&"BR"==n.childNodes[i-1].nodeName||(s=function(t,e,n,r){for(var i=-1,o=e;o!=t.dom;){var a=t.docView.nearestDesc(o,!0);if(!a)return null;if(a.node.isBlock&&a.parent){var s=a.dom.getBoundingClientRect();if(s.left>r.left||s.top>r.top)i=a.posBefore;else{if(!(s.right<r.left||s.bottom<r.top))break;i=a.posAfter}}o=a.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,1)}(t,n,i,e))}null==s&&(s=function(t,e,n){var r=et(e,n),i=r.node,o=r.offset,a=-1;if(1==i.nodeType&&!i.firstChild){var s=i.getBoundingClientRect();a=s.left!=s.right&&n.left>(s.left+s.right)/2?1:-1}return t.docView.posFromDOM(i,o,a)}(t,l,e));var f=t.docView.nearestDesc(l,!0);return{pos:s,inside:f?f.posAtStart-f.border:-1}}function ot(t,e){var n=t.getClientRects();return n.length?n[e<0?0:n.length-1]:t.getBoundingClientRect()}var at=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function st(t,e,n){var r=t.docView.domFromPos(e,n<0?-1:1),i=r.node,o=r.offset,a=I||S;if(3==i.nodeType){if(!a||!at.test(i.nodeValue)&&(n<0?o:o!=i.nodeValue.length)){var s=o,l=o,c=n<0?1:-1;return n<0&&!o?(l++,c=-1):n>=0&&o==i.nodeValue.length?(s--,c=1):n<0?s--:l++,lt(ot(z(i,s,l),c),c<0)}var u=ot(z(i,o,o),n);if(S&&o&&/\s/.test(i.nodeValue[o-1])&&o<i.nodeValue.length){var h=ot(z(i,o-1,o-1),-1);if(h.top==u.top){var d=ot(z(i,o,o+1),-1);if(d.top!=u.top)return lt(d,d.left<h.left)}}return u}if(!t.state.doc.resolve(e).parent.inlineContent){if(o&&(n<0||o==Y(i))){var f=i.childNodes[o-1];if(1==f.nodeType)return ct(f.getBoundingClientRect(),!1)}if(o<Y(i)){var p=i.childNodes[o];if(1==p.nodeType)return ct(p.getBoundingClientRect(),!0)}return ct(i.getBoundingClientRect(),n>=0)}if(o&&(n<0||o==Y(i))){var g=i.childNodes[o-1],m=3==g.nodeType?z(g,Y(g)-(a?0:1)):1!=g.nodeType||"BR"==g.nodeName&&g.nextSibling?null:g;if(m)return lt(ot(m,1),!1)}if(o<Y(i)){for(var y=i.childNodes[o];y.pmViewDesc&&y.pmViewDesc.ignoreForCoords;)y=y.nextSibling;var v=y?3==y.nodeType?z(y,0,a?0:1):1==y.nodeType?y:null:null;if(v)return lt(ot(v,-1),!0)}return lt(ot(3==i.nodeType?z(i):i,-n),n>=0)}function lt(t,e){if(0==t.width)return t;var n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function ct(t,e){if(0==t.height)return t;var n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function ut(t,e,n){var r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}var ht=/[\u0590-\u08ac]/;var dt=null,ft=null,pt=!1;function gt(t,e,n){return dt==e&&ft==n?pt:(dt=e,ft=n,pt="up"==n||"down"==n?function(t,e,n){var r=e.selection,i="up"==n?r.$from:r.$to;return ut(t,e,(function(){for(var e=t.docView.domFromPos(i.pos,"up"==n?-1:1).node;;){var r=t.docView.nearestDesc(e,!0);if(!r)break;if(r.node.isBlock){e=r.dom;break}e=r.dom.parentNode}for(var o=st(t,i.pos,1),a=e.firstChild;a;a=a.nextSibling){var s=void 0;if(1==a.nodeType)s=a.getClientRects();else{if(3!=a.nodeType)continue;s=z(a,0,a.nodeValue.length).getClientRects()}for(var l=0;l<s.length;l++){var c=s[l];if(c.bottom>c.top+1&&("up"==n?o.top-c.top>2*(c.bottom-o.top):c.bottom-o.bottom>2*(o.bottom-c.top)))return!1}}return!0}))}(t,e,n):function(t,e,n){var r=e.selection.$head;if(!r.parent.isTextblock)return!1;var i=r.parentOffset,o=!i,a=i==r.parent.content.size,s=t.domSelection();return ht.test(r.parent.textContent)&&s.modify?ut(t,e,(function(){var e=s.getRangeAt(0),i=s.focusNode,o=s.focusOffset,a=s.caretBidiLevel;s.modify("move",n,"character");var l=!(r.depth?t.docView.domAfterPos(r.before()):t.dom).contains(1==s.focusNode.nodeType?s.focusNode:s.focusNode.parentNode)||i==s.focusNode&&o==s.focusOffset;return s.removeAllRanges(),s.addRange(e),null!=a&&(s.caretBidiLevel=a),l})):"left"==n||"backward"==n?o:a}(t,e,n))}var mt=function(){function t(e,n,r,i){d(this,t),this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=0,r.pmViewDesc=this}return p(t,[{key:"matchesWidget",value:function(t){return!1}},{key:"matchesMark",value:function(t){return!1}},{key:"matchesNode",value:function(t,e,n){return!1}},{key:"matchesHack",value:function(t){return!1}},{key:"parseRule",value:function(){return null}},{key:"stopEvent",value:function(t){return!1}},{key:"size",get:function(){for(var t=0,e=0;e<this.children.length;e++)t+=this.children[e].size;return t}},{key:"border",get:function(){return 0}},{key:"destroy",value:function(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(var t=0;t<this.children.length;t++)this.children[t].destroy()}},{key:"posBeforeChild",value:function(t){for(var e=0,n=this.posAtStart;;e++){var r=this.children[e];if(r==t)return n;n+=r.size}}},{key:"posBefore",get:function(){return this.parent.posBeforeChild(this)}},{key:"posAtStart",get:function(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}},{key:"posAfter",get:function(){return this.posBefore+this.size}},{key:"posAtEnd",get:function(){return this.posAtStart+this.size-2*this.border}},{key:"localPosFromDOM",value:function(t,e,n){if(this.contentDOM&&this.contentDOM.contains(1==t.nodeType?t:t.parentNode)){if(n<0){var r,i;if(t==this.contentDOM)r=t.childNodes[e-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;r=t.previousSibling}for(;r&&(!(i=r.pmViewDesc)||i.parent!=this);)r=r.previousSibling;return r?this.posBeforeChild(i)+i.size:this.posAtStart}var o,a;if(t==this.contentDOM)o=t.childNodes[e];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;o=t.nextSibling}for(;o&&(!(a=o.pmViewDesc)||a.parent!=this);)o=o.nextSibling;return o?this.posBeforeChild(a):this.posAtEnd}var s;if(t==this.dom&&this.contentDOM)s=e>B(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=2&t.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==e)for(var l=t;;l=l.parentNode){if(l==this.dom){s=!1;break}if(l.previousSibling)break}if(null==s&&e==t.childNodes.length)for(var c=t;;c=c.parentNode){if(c==this.dom){s=!0;break}if(c.nextSibling)break}}return(null==s?n>0:s)?this.posAtEnd:this.posAtStart}},{key:"nearestDesc",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!0,r=t;r;r=r.parentNode){var i=this.getDesc(r),o=void 0;if(i&&(!e||i.node)){if(!n||!(o=i.nodeDOM)||(1==o.nodeType?o.contains(1==t.nodeType?t:t.parentNode):o==t))return i;n=!1}}}},{key:"getDesc",value:function(t){for(var e=t.pmViewDesc,n=e;n;n=n.parent)if(n==this)return e}},{key:"posFromDOM",value:function(t,e,n){for(var r=t;r;r=r.parentNode){var i=this.getDesc(r);if(i)return i.localPosFromDOM(t,e,n)}return-1}},{key:"descAt",value:function(t){for(var e=0,n=0;e<this.children.length;e++){var r=this.children[e],i=n+r.size;if(n==t&&i!=n){for(;!r.border&&r.children.length;)r=r.children[0];return r}if(t<i)return r.descAt(t-n-r.border);n=i}}},{key:"domFromPos",value:function(t,e){if(!this.contentDOM)return{node:this.dom,offset:0};for(var n,r=0,i=0,o=0;r<this.children.length;r++){var a=this.children[r],s=o+a.size;if(s>t||a instanceof kt){i=t-o;break}o=s}if(i)return this.children[r].domFromPos(i-this.children[r].border,e);for(;r&&!(n=this.children[r-1]).size&&n instanceof yt&&n.side>=0;r--);if(e<=0){for(var l,c=!0;(l=r?this.children[r-1]:null)&&l.dom.parentNode!=this.contentDOM;r--,c=!1);return l&&e&&c&&!l.border&&!l.domAtom?l.domFromPos(l.size,e):{node:this.contentDOM,offset:l?B(l.dom)+1:0}}for(var u,h=!0;(u=r<this.children.length?this.children[r]:null)&&u.dom.parentNode!=this.contentDOM;r++,h=!1);return u&&h&&!u.border&&!u.domAtom?u.domFromPos(0,e):{node:this.contentDOM,offset:u?B(u.dom):this.contentDOM.childNodes.length}}},{key:"parseRange",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(0==this.children.length)return{node:this.contentDOM,from:t,to:e,fromOffset:0,toOffset:this.contentDOM.childNodes.length};for(var r=-1,i=-1,o=n,a=0;;a++){var s=this.children[a],l=o+s.size;if(-1==r&&t<=l){var c=o+s.border;if(t>=c&&e<=l-s.border&&s.node&&s.contentDOM&&this.contentDOM.contains(s.contentDOM))return s.parseRange(t,e,c);t=o;for(var u=a;u>0;u--){var h=this.children[u-1];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(1)){r=B(h.dom)+1;break}t-=h.size}-1==r&&(r=0)}if(r>-1&&(l>e||a==this.children.length-1)){e=l;for(var d=a+1;d<this.children.length;d++){var f=this.children[d];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(-1)){i=B(f.dom);break}e+=f.size}-1==i&&(i=this.contentDOM.childNodes.length);break}o=l}return{node:this.contentDOM,from:t,to:e,fromOffset:r,toOffset:i}}},{key:"emptyChildAt",value:function(t){if(this.border||!this.contentDOM||!this.children.length)return!1;var e=this.children[t<0?0:this.children.length-1];return 0==e.size||e.emptyChildAt(t)}},{key:"domAfterPos",value:function(t){var e=this.domFromPos(t,0),n=e.node,r=e.offset;if(1!=n.nodeType||r==n.childNodes.length)throw new RangeError("No node after pos "+t);return n.childNodes[r]}},{key:"setSelection",value:function(t,e,n){for(var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=Math.min(t,e),o=Math.max(t,e),a=0,s=0;a<this.children.length;a++){var l=this.children[a],c=s+l.size;if(i>s&&o<c)return l.setSelection(t-s-l.border,e-s-l.border,n,r);s=c}var u=this.domFromPos(t,t?-1:1),h=e==t?u:this.domFromPos(e,e?-1:1),d=n.getSelection(),f=!1;if((S||M)&&t==e){var p=u,g=p.node,m=p.offset;if(3==g.nodeType){if((f=!(!m||"\n"!=g.nodeValue[m-1]))&&m==g.nodeValue.length)for(var y,v=g;v;v=v.parentNode){if(y=v.nextSibling){"BR"==y.nodeName&&(u=h={node:y.parentNode,offset:B(y)+1});break}var b=v.pmViewDesc;if(b&&b.node&&b.node.isBlock)break}}else{var w=g.childNodes[m-1];f=w&&("BR"==w.nodeName||"false"==w.contentEditable)}}if(S&&d.focusNode&&d.focusNode!=h.node&&1==d.focusNode.nodeType){var x=d.focusNode.childNodes[d.focusOffset];x&&"false"==x.contentEditable&&(r=!0)}if(r||f&&M||!$(u.node,u.offset,d.anchorNode,d.anchorOffset)||!$(h.node,h.offset,d.focusNode,d.focusOffset)){var _=!1;if((d.extend||t==e)&&!f){d.collapse(u.node,u.offset);try{t!=e&&d.extend(h.node,h.offset),_=!0}catch(t){if(!(t instanceof DOMException))throw t}}if(!_){if(t>e){var k=u;u=h,h=k}var E=document.createRange();E.setEnd(h.node,h.offset),E.setStart(u.node,u.offset),d.removeAllRanges(),d.addRange(E)}}}},{key:"ignoreMutation",value:function(t){return!this.contentDOM&&"selection"!=t.type}},{key:"contentLost",get:function(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}},{key:"markDirty",value:function(t,e){for(var n=0,r=0;r<this.children.length;r++){var i=this.children[r],o=n+i.size;if(n==o?t<=o&&e>=n:t<o&&e>n){var a=n+i.border,s=o-i.border;if(t>=a&&e<=s)return this.dirty=t==n||e==o?2:1,void(t!=a||e!=s||!i.contentLost&&i.dom.parentNode==this.contentDOM?i.markDirty(t-a,e-a):i.dirty=3);i.dirty=i.dom!=i.contentDOM||i.dom.parentNode!=this.contentDOM||i.children.length?3:2}n=o}this.dirty=2}},{key:"markParentsDirty",value:function(){for(var t=1,e=this.parent;e;e=e.parent,t++){var n=1==t?2:1;e.dirty<n&&(e.dirty=n)}}},{key:"domAtom",get:function(){return!1}},{key:"ignoreForCoords",get:function(){return!1}}]),t}(),yt=function(t){a(n,t);var e=l(n);function n(t,r,i,o){var a;d(this,n);var s,l=r.type.toDOM;if("function"==typeof l&&(l=l(i,(function(){return s?s.parent?s.parent.posBeforeChild(s):void 0:o}))),!r.type.spec.raw){if(1!=l.nodeType){var c=document.createElement("span");c.appendChild(l),l=c}l.contentEditable="false",l.classList.add("ProseMirror-widget")}return(a=e.call(this,t,[],l,null)).widget=r,a.widget=r,s=u(a),a}return p(n,[{key:"matchesWidget",value:function(t){return 0==this.dirty&&t.type.eq(this.widget.type)}},{key:"parseRule",value:function(){return{ignore:!0}}},{key:"stopEvent",value:function(t){var e=this.widget.spec.stopEvent;return!!e&&e(t)}},{key:"ignoreMutation",value:function(t){return"selection"!=t.type||this.widget.spec.ignoreSelection}},{key:"destroy",value:function(){this.widget.type.destroy(this.dom),i(h(n.prototype),"destroy",this).call(this)}},{key:"domAtom",get:function(){return!0}},{key:"side",get:function(){return this.widget.type.side}}]),n}(mt),vt=function(t){a(n,t);var e=l(n);function n(t,r,i,o){var a;return d(this,n),(a=e.call(this,t,[],r,null)).textDOM=i,a.text=o,a}return p(n,[{key:"size",get:function(){return this.text.length}},{key:"localPosFromDOM",value:function(t,e){return t!=this.textDOM?this.posAtStart+(e?this.size:0):this.posAtStart+e}},{key:"domFromPos",value:function(t){return{node:this.textDOM,offset:t}}},{key:"ignoreMutation",value:function(t){return"characterData"===t.type&&t.target.nodeValue==t.oldValue}}]),n}(mt),bt=function(t){a(n,t);var e=l(n);function n(t,r,i,o){var a;return d(this,n),(a=e.call(this,t,[],i,o)).mark=r,a}return p(n,[{key:"parseRule",value:function(){return 3&this.dirty||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM||void 0}}},{key:"matchesMark",value:function(t){return 3!=this.dirty&&this.mark.eq(t)}},{key:"markDirty",value:function(t,e){if(i(h(n.prototype),"markDirty",this).call(this,t,e),0!=this.dirty){for(var r=this.parent;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=0}}},{key:"slice",value:function(t,e,r){var i=n.create(this.parent,this.mark,!0,r),o=this.children,a=this.size;e<a&&(o=Bt(o,e,a,r)),t>0&&(o=Bt(o,0,t,r));for(var s=0;s<o.length;s++)o[s].parent=i;return i.children=o,i}}],[{key:"create",value:function(t,e,r,i){var o=i.nodeViews[e.type.name],a=o&&o(e,i,r);return a&&a.dom||(a=m.DOMSerializer.renderSpec(document,e.type.spec.toDOM(e,r))),new n(t,e,a.dom,a.contentDOM||a.dom)}}]),n}(mt),wt=function(t){a(n,t);var e=l(n);function n(t,r,i,o,a,s,l,c,u){var h;return d(this,n),(h=e.call(this,t,[],a,s)).node=r,h.outerDeco=i,h.innerDeco=o,h.nodeDOM=l,s&&h.updateChildren(c,u),h}return p(n,[{key:"parseRule",value:function(){var t=this;if(this.node.type.spec.reparseInView)return null;var e={node:this.node.type.name,attrs:this.node.attrs};if("pre"==this.node.type.whitespace&&(e.preserveWhitespace="full"),this.contentDOM)if(this.contentLost){for(var n=this.children.length-1;n>=0;n--){var r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=function(){return m.Fragment.empty})}else e.contentElement=this.contentDOM;else e.getContent=function(){return t.node.content};return e}},{key:"matchesNode",value:function(t,e,n){return 0==this.dirty&&t.eq(this.node)&&Ot(e,this.outerDeco)&&n.eq(this.innerDeco)}},{key:"size",get:function(){return this.node.nodeSize}},{key:"border",get:function(){return this.node.isLeaf?0:1}},{key:"updateChildren",value:function(t,e){var n=this,r=this.node.inlineContent,i=e,o=t.composing?this.localCompositionInfo(t,e):null,a=o&&o.pos>-1?o:null,s=o&&o.pos<0,l=new It(this,a&&a.node);!function(t,e,n,r){var i=e.locals(t),o=0;if(0==i.length){for(var a=0;a<t.childCount;a++){var s=t.child(a);r(s,i,e.forChild(o,s),a),o+=s.nodeSize}return}for(var l=0,c=[],u=null,h=0;;){if(l<i.length&&i[l].to==o){for(var d=i[l++],f=void 0;l<i.length&&i[l].to==o;)(f||(f=[d])).push(i[l++]);if(f){f.sort(Lt);for(var p=0;p<f.length;p++)n(f[p],h,!!u)}else n(d,h,!!u)}var g=void 0,m=void 0;if(u)m=-1,g=u,u=null;else{if(!(h<t.childCount))break;m=h,g=t.child(h++)}for(var y=0;y<c.length;y++)c[y].to<=o&&c.splice(y--,1);for(;l<i.length&&i[l].from<=o&&i[l].to>o;)c.push(i[l++]);var v=o+g.nodeSize;if(g.isText){var b=v;l<i.length&&i[l].from<b&&(b=i[l].from);for(var w=0;w<c.length;w++)c[w].to<b&&(b=c[w].to);b<v&&(u=g.cut(b-o),g=g.cut(0,b-o),v=b,m=-1)}r(g,g.isInline&&!g.isLeaf?c.filter((function(t){return!t.inline})):c.slice(),e.forChild(o,g),m),o=v}}(this.node,this.innerDeco,(function(e,o,a){e.spec.marks?l.syncToMarks(e.spec.marks,r,t):e.type.side>=0&&!a&&l.syncToMarks(o==n.node.childCount?m.Mark.none:n.node.child(o).marks,r,t),l.placeWidget(e,t,i)}),(function(e,n,a,c){var u;l.syncToMarks(e.marks,r,t),l.findNodeMatch(e,n,a,c)||s&&t.state.selection.from>i&&t.state.selection.to<i+e.nodeSize&&(u=l.findIndexWithChild(o.node))>-1&&l.updateNodeAt(e,n,a,u,t)||l.updateNextNode(e,n,a,t,c)||l.addNode(e,n,a,t,i),i+=e.nodeSize})),l.syncToMarks([],r,t),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||2==this.dirty)&&(a&&this.protectLocalComposition(t,a),Ct(this.contentDOM,this.children,t),N&&function(t){if("UL"==t.nodeName||"OL"==t.nodeName){var e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}(this.dom))}},{key:"localCompositionInfo",value:function(t,e){var n=t.state.selection,r=n.from,i=n.to;if(!(t.state.selection instanceof g.TextSelection)||r<e||i>e+this.node.content.size)return null;var o=t.domSelection(),a=function(t,e){for(;;){if(3==t.nodeType)return t;if(1==t.nodeType&&e>0){if(t.childNodes.length>e&&3==t.childNodes[e].nodeType)return t.childNodes[e];e=Y(t=t.childNodes[e-1])}else{if(!(1==t.nodeType&&e<t.childNodes.length))return null;t=t.childNodes[e],e=0}}}(o.focusNode,o.focusOffset);if(!a||!this.dom.contains(a.parentNode))return null;if(this.node.inlineContent){var s=a.nodeValue,l=function(t,e,n,r){for(var i=0,o=0;i<t.childCount&&o<=r;){var a=t.child(i++),s=o;if(o+=a.nodeSize,a.isText){for(var l=a.text;i<t.childCount;){var c=t.child(i++);if(o+=c.nodeSize,!c.isText)break;l+=c.text}if(o>=n){var u=s<r?l.lastIndexOf(e,r-s-1):-1;if(u>=0&&u+e.length+s>=n)return s+u;if(n==r&&l.length>=r+e.length-s&&l.slice(r-s,r-s+e.length)==e)return r}}}return-1}(this.node.content,s,r-e,i-e);return l<0?null:{node:a,pos:l,text:s}}return{node:a,pos:-1,text:""}}},{key:"protectLocalComposition",value:function(t,e){var n=e.node,r=e.pos,i=e.text;if(!this.getDesc(n)){for(var o=n;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}var a=new vt(this,o,n,i);t.input.compositionNodes.push(a),this.children=Bt(this.children,r,r+i.length,t,a)}}},{key:"update",value:function(t,e,n,r){return!(3==this.dirty||!t.sameMarkup(this.node))&&(this.updateInner(t,e,n,r),!0)}},{key:"updateInner",value:function(t,e,n,r){this.updateOuterDeco(e),this.node=t,this.innerDeco=n,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=0}},{key:"updateOuterDeco",value:function(t){if(!Ot(t,this.outerDeco)){var e=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=At(this.dom,this.nodeDOM,Tt(this.outerDeco,this.node,e),Tt(t,this.node,e)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}}},{key:"selectNode",value:function(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!0)}},{key:"deselectNode",value:function(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||this.dom.removeAttribute("draggable")}},{key:"domAtom",get:function(){return this.node.isAtom}}],[{key:"create",value:function(t,e,r,i,o,a){var s,l=o.nodeViews[e.type.name],c=l&&l(e,o,(function(){return s?s.parent?s.parent.posBeforeChild(s):void 0:a}),r,i),u=c&&c.dom,h=c&&c.contentDOM;if(e.isText)if(u){if(3!=u.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else u=document.createTextNode(e.text);else if(!u){var d=m.DOMSerializer.renderSpec(document,e.type.spec.toDOM(e));u=d.dom,h=d.contentDOM}h||e.isText||"BR"==u.nodeName||(u.hasAttribute("contenteditable")||(u.contentEditable="false"),e.type.spec.draggable&&(u.draggable=!0));var f=u;return u=Nt(u,r,e),c?s=new Et(t,e,r,i,u,h||null,f,c,o,a+1):e.isText?new _t(t,e,r,i,u,f,o):new n(t,e,r,i,u,h||null,f,o,a+1)}}]),n}(mt);function xt(t,e,n,r,i){return Nt(r,e,t),new wt(void 0,t,e,n,r,r,r,i,0)}var _t=function(t){a(n,t);var e=l(n);function n(t,r,i,o,a,s,l){return d(this,n),e.call(this,t,r,i,o,a,null,s,l,0)}return p(n,[{key:"parseRule",value:function(){for(var t=this.nodeDOM.parentNode;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}},{key:"update",value:function(t,e,n,r){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!t.sameMarkup(this.node))&&(this.updateOuterDeco(e),0==this.dirty&&t.text==this.node.text||t.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=t.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=t,this.dirty=0,!0)}},{key:"inParent",value:function(){for(var t=this.parent.contentDOM,e=this.nodeDOM;e;e=e.parentNode)if(e==t)return!0;return!1}},{key:"domFromPos",value:function(t){return{node:this.nodeDOM,offset:t}}},{key:"localPosFromDOM",value:function(t,e,r){return t==this.nodeDOM?this.posAtStart+Math.min(e,this.node.text.length):i(h(n.prototype),"localPosFromDOM",this).call(this,t,e,r)}},{key:"ignoreMutation",value:function(t){return"characterData"!=t.type&&"selection"!=t.type}},{key:"slice",value:function(t,e,r){var i=this.node.cut(t,e),o=document.createTextNode(i.text);return new n(this.parent,i,this.outerDeco,this.innerDeco,o,o,r)}},{key:"markDirty",value:function(t,e){i(h(n.prototype),"markDirty",this).call(this,t,e),this.dom==this.nodeDOM||0!=t&&e!=this.nodeDOM.nodeValue.length||(this.dirty=3)}},{key:"domAtom",get:function(){return!1}}]),n}(wt),kt=function(t){a(n,t);var e=l(n);function n(){return d(this,n),e.apply(this,arguments)}return p(n,[{key:"parseRule",value:function(){return{ignore:!0}}},{key:"matchesHack",value:function(t){return 0==this.dirty&&this.dom.nodeName==t}},{key:"domAtom",get:function(){return!0}},{key:"ignoreForCoords",get:function(){return"IMG"==this.dom.nodeName}}]),n}(mt),Et=function(t){a(n,t);var e=l(n);function n(t,r,i,o,a,s,l,c,u,h){var f;return d(this,n),(f=e.call(this,t,r,i,o,a,s,l,u,h)).spec=c,f}return p(n,[{key:"update",value:function(t,e,r,o){if(3==this.dirty)return!1;if(this.spec.update){var a=this.spec.update(t,e,r);return a&&this.updateInner(t,e,r,o),a}return!(!this.contentDOM&&!t.isLeaf)&&i(h(n.prototype),"update",this).call(this,t,e,r,o)}},{key:"selectNode",value:function(){this.spec.selectNode?this.spec.selectNode():i(h(n.prototype),"selectNode",this).call(this)}},{key:"deselectNode",value:function(){this.spec.deselectNode?this.spec.deselectNode():i(h(n.prototype),"deselectNode",this).call(this)}},{key:"setSelection",value:function(t,e,r,o){this.spec.setSelection?this.spec.setSelection(t,e,r):i(h(n.prototype),"setSelection",this).call(this,t,e,r,o)}},{key:"destroy",value:function(){this.spec.destroy&&this.spec.destroy(),i(h(n.prototype),"destroy",this).call(this)}},{key:"stopEvent",value:function(t){return!!this.spec.stopEvent&&this.spec.stopEvent(t)}},{key:"ignoreMutation",value:function(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):i(h(n.prototype),"ignoreMutation",this).call(this,t)}}]),n}(wt);function Ct(t,e,n){for(var r=t.firstChild,i=!1,o=0;o<e.length;o++){var a=e[o],s=a.dom;if(s.parentNode==t){for(;s!=r;)r=Ft(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(s,r);if(a instanceof bt){var l=r?r.previousSibling:t.lastChild;Ct(a.contentDOM,a.children,n),r=l?l.nextSibling:t.firstChild}}for(;r;)r=Ft(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}var St=function(t){t&&(this.nodeName=t)};St.prototype=Object.create(null);var Dt=[new St];function Tt(t,e,n){if(0==t.length)return Dt;for(var r=n?Dt[0]:new St,i=[r],o=0;o<t.length;o++){var a=t[o].type.attrs;if(a)for(var s in a.nodeName&&i.push(r=new St(a.nodeName)),a){var l=a[s];null!=l&&(n&&1==i.length&&i.push(r=new St(e.isInline?"span":"div")),"class"==s?r.class=(r.class?r.class+" ":"")+l:"style"==s?r.style=(r.style?r.style+";":"")+l:"nodeName"!=s&&(r[s]=l))}}return i}function At(t,e,n,r){if(n==Dt&&r==Dt)return e;for(var i=e,o=0;o<r.length;o++){var a=r[o],s=n[o];if(o){var l=void 0;s&&s.nodeName==a.nodeName&&i!=t&&(l=i.parentNode)&&l.nodeName.toLowerCase()==a.nodeName||((l=document.createElement(a.nodeName)).pmIsDeco=!0,l.appendChild(i),s=Dt[0]),i=l}Mt(i,s||Dt[0],a)}return i}function Mt(t,e,n){for(var r in e)"class"==r||"style"==r||"nodeName"==r||r in n||t.removeAttribute(r);for(var i in n)"class"!=i&&"style"!=i&&"nodeName"!=i&&n[i]!=e[i]&&t.setAttribute(i,n[i]);if(e.class!=n.class){for(var o=e.class?e.class.split(" ").filter(Boolean):[],a=n.class?n.class.split(" ").filter(Boolean):[],s=0;s<o.length;s++)-1==a.indexOf(o[s])&&t.classList.remove(o[s]);for(var l=0;l<a.length;l++)-1==o.indexOf(a[l])&&t.classList.add(a[l]);0==t.classList.length&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style)for(var c,u=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;c=u.exec(e.style);)t.style.removeProperty(c[1]);n.style&&(t.style.cssText+=n.style)}}function Nt(t,e,n){return At(t,t,Dt,Tt(e,n,1!=t.nodeType))}function Ot(t,e){if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function Ft(t){var e=t.nextSibling;return t.parentNode.removeChild(t),e}var It=function(){function t(e,n){d(this,t),this.lock=n,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=function(t,e){var n=e,r=n.children.length,i=t.childCount,o=new Map,a=[];t:for(;i>0;){for(var s=void 0;;)if(r){var l=n.children[r-1];if(!(l instanceof bt)){s=l,r--;break}n=l,r=l.children.length}else{if(n==e)break t;r=n.parent.children.indexOf(n),n=n.parent}var c=s.node;if(c){if(c!=t.child(i-1))break;--i,o.set(s,i),a.push(s)}}return{index:i,matched:o,matches:a.reverse()}}(e.node.content,e)}return p(t,[{key:"destroyBetween",value:function(t,e){if(t!=e){for(var n=t;n<e;n++)this.top.children[n].destroy();this.top.children.splice(t,e-t),this.changed=!0}}},{key:"destroyRest",value:function(){this.destroyBetween(this.index,this.top.children.length)}},{key:"syncToMarks",value:function(t,e,n){for(var r=0,i=this.stack.length>>1,o=Math.min(i,t.length);r<o&&(r==i-1?this.top:this.stack[r+1<<1]).matchesMark(t[r])&&!1!==t[r].type.spec.spanning;)r++;for(;r<i;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<t.length;){this.stack.push(this.top,this.index+1);for(var a=-1,s=this.index;s<Math.min(this.index+3,this.top.children.length);s++)if(this.top.children[s].matchesMark(t[i])){a=s;break}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{var l=bt.create(this.top,t[i],e,n);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,i++}}},{key:"findNodeMatch",value:function(t,e,n,r){var i,o=-1;if(r>=this.preMatch.index&&(i=this.preMatch.matches[r-this.preMatch.index]).parent==this.top&&i.matchesNode(t,e,n))o=this.top.children.indexOf(i,this.index);else for(var a=this.index,s=Math.min(this.top.children.length,a+5);a<s;a++){var l=this.top.children[a];if(l.matchesNode(t,e,n)&&!this.preMatch.matched.has(l)){o=a;break}}return!(o<0)&&(this.destroyBetween(this.index,o),this.index++,!0)}},{key:"updateNodeAt",value:function(t,e,n,r,i){var o=this.top.children[r];return 3==o.dirty&&o.dom==o.contentDOM&&(o.dirty=2),!!o.update(t,e,n,i)&&(this.destroyBetween(this.index,r),this.index=r+1,!0)}},{key:"findIndexWithChild",value:function(t){for(;;){var e=t.parentNode;if(!e)return-1;if(e==this.top.contentDOM){var n=t.pmViewDesc;if(n)for(var r=this.index;r<this.top.children.length;r++)if(this.top.children[r]==n)return r;return-1}t=e}}},{key:"updateNextNode",value:function(t,e,n,r,i){for(var o=this.index;o<this.top.children.length;o++){var a=this.top.children[o];if(a instanceof wt){var s=this.preMatch.matched.get(a);if(null!=s&&s!=i)return!1;var l=a.dom;if(!(this.lock&&(l==this.lock||1==l.nodeType&&l.contains(this.lock.parentNode))&&!(t.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==t.text&&3!=a.dirty&&Ot(e,a.outerDeco)))&&a.update(t,e,n,r))return this.destroyBetween(this.index,o),a.dom!=l&&(this.changed=!0),this.index++,!0;break}}return!1}},{key:"addNode",value:function(t,e,n,r,i){this.top.children.splice(this.index++,0,wt.create(this.top,t,e,n,r,i)),this.changed=!0}},{key:"placeWidget",value:function(t,e,n){var r=this.index<this.top.children.length?this.top.children[this.index]:null;if(!r||!r.matchesWidget(t)||t!=r.widget&&r.widget.type.toDOM.parentNode){var i=new yt(this.top,t,e,n);this.top.children.splice(this.index++,0,i),this.changed=!0}else this.index++}},{key:"addTextblockHacks",value:function(){for(var t=this.top.children[this.index-1],e=this.top;t instanceof bt;)t=(e=t).children[e.children.length-1];t&&t instanceof _t&&!/\n$/.test(t.node.text)||((M||T)&&t&&"false"==t.dom.contentEditable&&this.addHackNode("IMG",e),this.addHackNode("BR",this.top))}},{key:"addHackNode",value:function(t,e){if(e==this.top&&this.index<e.children.length&&e.children[this.index].matchesHack(t))this.index++;else{var n=document.createElement(t);"IMG"==t&&(n.className="ProseMirror-separator",n.alt=""),"BR"==t&&(n.className="ProseMirror-trailingBreak");var r=new kt(this.top,[],n,null);e!=this.top?e.children.push(r):e.children.splice(this.index++,0,r),this.changed=!0}}}]),t}();function Lt(t,e){return t.type.side-e.type.side}function Bt(t,e,n,r,i){for(var o=[],a=0,s=0;a<t.length;a++){var l=t[a],c=s,u=s+=l.size;c>=n||u<=e?o.push(l):(c<e&&o.push(l.slice(0,e-c,r)),i&&(o.push(i),i=void 0),u>n&&o.push(l.slice(n-c,l.size,r)))}return o}function Rt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=t.domSelection(),r=t.state.doc;if(!n.focusNode)return null;var i=t.docView.nearestDesc(n.focusNode),o=i&&0==i.size,a=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(a<0)return null;var s,l,c=r.resolve(a);if(H(n)){for(s=c;i&&!i.node;)i=i.parent;var u=i.node;if(i&&u.isAtom&&g.NodeSelection.isSelectable(u)&&i.parent&&(!u.isInline||!q(n.focusNode,n.focusOffset,i.dom))){var h=i.posBefore;l=new g.NodeSelection(a==h?c:r.resolve(h))}}else{var d=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(d<0)return null;s=r.resolve(d)}if(!l){var f="pointer"==e||t.state.selection.head<c.pos&&!o?1:-1;l=Gt(t,s,c,f)}return l}function Pt(t){return t.editable?t.hasFocus():Kt(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function zt(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.state.selection;if(Ht(t,n),Pt(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&T){var r=t.domSelection(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&$(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset))return t.input.mouseDown.delayedSelectionSync=!0,void t.domObserver.setCurSelection()}if(t.domObserver.disconnectSelection(),t.cursorWrapper)Wt(t);else{var o,a,s=n.anchor,l=n.head;!$t||n instanceof g.TextSelection||(n.$from.parent.inlineContent||(o=jt(t,n.from)),n.empty||n.$from.parent.inlineContent||(a=jt(t,n.to))),t.docView.setSelection(s,l,t.root,e),$t&&(o&&Yt(o),a&&Yt(a)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&qt(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}var $t=M||T&&A<63;function jt(t,e){var n=t.docView.domFromPos(e,0),r=n.node,i=n.offset,o=i<r.childNodes.length?r.childNodes[i]:null,a=i?r.childNodes[i-1]:null;if(M&&o&&"false"==o.contentEditable)return Ut(o);if(!(o&&"false"!=o.contentEditable||a&&"false"!=a.contentEditable)){if(o)return Ut(o);if(a)return Ut(a)}}function Ut(t){return t.contentEditable="true",M&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function Yt(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function qt(t){var e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);var n=t.domSelection(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=function(){n.anchorNode==r&&n.anchorOffset==i||(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout((function(){Pt(t)&&!t.state.selection.visible||t.dom.classList.remove("ProseMirror-hideselection")}),20))})}function Wt(t){var e=t.domSelection(),n=document.createRange(),r=t.cursorWrapper.dom,i="IMG"==r.nodeName;i?n.setEnd(r.parentNode,B(r)+1):n.setEnd(r,0),n.collapse(!1),e.removeAllRanges(),e.addRange(n),!i&&!t.state.selection.visible&&E&&C<=11&&(r.disabled=!0,r.disabled=!1)}function Ht(t,e){if(e instanceof g.NodeSelection){var n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(Vt(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else Vt(t)}function Vt(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function Gt(t,e,n,r){return t.someProp("createSelectionBetween",(function(r){return r(t,e,n)}))||g.TextSelection.between(e,n,r)}function Xt(t){return(!t.editable||t.root.activeElement==t.dom)&&Kt(t)}function Kt(t){var e=t.domSelection();if(!e.anchorNode)return!1;try{return t.dom.contains(3==e.anchorNode.nodeType?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(3==e.focusNode.nodeType?e.focusNode.parentNode:e.focusNode))}catch(t){return!1}}function Jt(t,e){var n=t.selection,r=n.$anchor,i=n.$head,o=e>0?r.max(i):r.min(i),a=o.parent.inlineContent?o.depth?t.doc.resolve(e>0?o.after():o.before()):null:o;return a&&g.Selection.findFrom(a,e)}function Zt(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function Qt(t,e,n){var r=t.state.selection;if(!(r instanceof g.TextSelection)){if(r instanceof g.NodeSelection&&r.node.isInline)return Zt(t,new g.TextSelection(e>0?r.$to:r.$from));var i=Jt(t.state,e);return!!i&&Zt(t,i)}if(!r.empty||n.indexOf("s")>-1)return!1;if(t.endOfTextblock(e>0?"right":"left")){var o=Jt(t.state,e);return!!(o&&o instanceof g.NodeSelection)&&Zt(t,o)}if(!(O&&n.indexOf("m")>-1)){var a,s=r.$head,l=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter;if(!l||l.isText)return!1;var c=e<0?s.pos-l.nodeSize:s.pos;return!!(l.isAtom||(a=t.docView.descAt(c))&&!a.contentDOM)&&(g.NodeSelection.isSelectable(l)?Zt(t,new g.NodeSelection(e<0?t.state.doc.resolve(s.pos-l.nodeSize):s)):!!I&&Zt(t,new g.TextSelection(t.state.doc.resolve(e<0?c:c+l.nodeSize))))}}function te(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function ee(t){var e=t.pmViewDesc;return e&&0==e.size&&(t.nextSibling||"BR"!=t.nodeName)}function ne(t){var e=t.domSelection(),n=e.focusNode,r=e.focusOffset;if(n){var i,o,a=!1;for(S&&1==n.nodeType&&r<te(n)&&ee(n.childNodes[r])&&(a=!0);;)if(r>0){if(1!=n.nodeType)break;var s=n.childNodes[r-1];if(ee(s))i=n,o=--r;else{if(3!=s.nodeType)break;r=(n=s).nodeValue.length}}else{if(ie(n))break;for(var l=n.previousSibling;l&&ee(l);)i=n.parentNode,o=B(l),l=l.previousSibling;if(l)r=te(n=l);else{if((n=n.parentNode)==t.dom)break;r=0}}a?oe(t,e,n,r):i&&oe(t,e,i,o)}}function re(t){var e=t.domSelection(),n=e.focusNode,r=e.focusOffset;if(n){for(var i,o,a=te(n);;)if(r<a){if(1!=n.nodeType)break;if(!ee(n.childNodes[r]))break;i=n,o=++r}else{if(ie(n))break;for(var s=n.nextSibling;s&&ee(s);)i=s.parentNode,o=B(s)+1,s=s.nextSibling;if(s)r=0,a=te(n=s);else{if((n=n.parentNode)==t.dom)break;r=a=0}}i&&oe(t,e,i,o)}}function ie(t){var e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function oe(t,e,n,r){if(H(e)){var i=document.createRange();i.setEnd(n,r),i.setStart(n,r),e.removeAllRanges(),e.addRange(i)}else e.extend&&e.extend(n,r);t.domObserver.setCurSelection();var o=t.state;setTimeout((function(){t.state==o&&zt(t)}),50)}function ae(t,e,n){var r=t.state.selection;if(r instanceof g.TextSelection&&!r.empty||n.indexOf("s")>-1)return!1;if(O&&n.indexOf("m")>-1)return!1;var i=r.$from,o=r.$to;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){var a=Jt(t.state,e);if(a&&a instanceof g.NodeSelection)return Zt(t,a)}if(!i.parent.inlineContent){var s=e<0?i:o,l=r instanceof g.AllSelection?g.Selection.near(s,e):g.Selection.findFrom(s,e);return!!l&&Zt(t,l)}return!1}function se(t,e){if(!(t.state.selection instanceof g.TextSelection))return!0;var n=t.state.selection,r=n.$head,i=n.$anchor,o=n.empty;if(!r.sameParent(i))return!0;if(!o)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;var a=!r.textOffset&&(e<0?r.nodeBefore:r.nodeAfter);if(a&&!a.isText){var s=t.state.tr;return e<0?s.delete(r.pos-a.nodeSize,r.pos):s.delete(r.pos,r.pos+a.nodeSize),t.dispatch(s),!0}return!1}function le(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function ce(t,e){var n=e.keyCode,r=function(t){var e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}(e);return 8==n||O&&72==n&&"c"==r?se(t,-1)||ne(t):46==n||O&&68==n&&"c"==r?se(t,1)||re(t):13==n||27==n||(37==n||O&&66==n&&"c"==r?Qt(t,-1,r)||ne(t):39==n||O&&70==n&&"c"==r?Qt(t,1,r)||re(t):38==n||O&&80==n&&"c"==r?ae(t,-1,r)||ne(t):40==n||O&&78==n&&"c"==r?function(t){if(!M||t.state.selection.$head.parentOffset>0)return!1;var e=t.domSelection(),n=e.focusNode,r=e.focusOffset;if(n&&1==n.nodeType&&0==r&&n.firstChild&&"false"==n.firstChild.contentEditable){var i=n.firstChild;le(t,i,"true"),setTimeout((function(){return le(t,i,"false")}),20)}return!1}(t)||ae(t,1,r)||re(t):r==(O?"m":"c")&&(66==n||73==n||89==n||90==n))}function ue(t,e){for(var n=[],r=e.content,i=e.openStart,o=e.openEnd;i>1&&o>1&&1==r.childCount&&1==r.firstChild.childCount;){i--,o--;var a=r.firstChild;n.push(a.type.name,a.attrs!=a.type.defaultAttrs?a.attrs:null),r=a.content}var s=t.someProp("clipboardSerializer")||m.DOMSerializer.fromSchema(t.state.schema),l=we(),c=l.createElement("div");c.appendChild(s.serializeFragment(r,{document:l}));for(var u,h=c.firstChild,d=0;h&&1==h.nodeType&&(u=ve[h.nodeName.toLowerCase()]);){for(var f=u.length-1;f>=0;f--){for(var p=l.createElement(u[f]);c.firstChild;)p.appendChild(c.firstChild);c.appendChild(p),d++}h=c.firstChild}return h&&1==h.nodeType&&h.setAttribute("data-pm-slice","".concat(i," ").concat(o).concat(d?" -".concat(d):""," ").concat(JSON.stringify(n))),{dom:c,text:t.someProp("clipboardTextSerializer",(function(t){return t(e)}))||e.content.textBetween(0,e.content.size,"\n\n")}}function he(t,e,n,i,o){var a,s,l=o.parent.type.spec.code;if(!n&&!e)return null;var c=e&&(i||l||!n);if(c){if(t.someProp("transformPastedText",(function(t){e=t(e,l||i)})),l)return e?new m.Slice(m.Fragment.from(t.state.schema.text(e.replace(/\r\n?/g,"\n"))),0,0):m.Slice.empty;var u=t.someProp("clipboardTextParser",(function(t){return t(e,o,i)}));if(u)s=u;else{var h=o.marks(),d=t.state.schema,f=m.DOMSerializer.fromSchema(d);a=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach((function(t){var e=a.appendChild(document.createElement("p"));t&&e.appendChild(f.serializeNode(d.text(t,h)))}))}}else t.someProp("transformPastedHTML",(function(t){n=t(n)})),a=function(t){var e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));var n,r=we().createElement("div"),i=/<([a-z][^>\s]+)/i.exec(t);(n=i&&ve[i[1].toLowerCase()])&&(t=n.map((function(t){return"<"+t+">"})).join("")+t+n.map((function(t){return"</"+t+">"})).reverse().join(""));if(r.innerHTML=t,n)for(var o=0;o<n.length;o++)r=r.querySelector(n[o])||r;return r}(n),I&&function(t){for(var e=t.querySelectorAll(T?"span:not([class]):not([style])":"span.Apple-converted-space"),n=0;n<e.length;n++){var r=e[n];1==r.childNodes.length&&" "==r.textContent&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}(a);var p=a&&a.querySelector("[data-pm-slice]"),g=p&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(p.getAttribute("data-pm-slice")||"");if(g&&g[3])for(var y=+g[3];y>0&&a.firstChild;y--)a=a.firstChild;if(!s){var v=t.someProp("clipboardParser")||t.someProp("domParser")||m.DOMParser.fromSchema(t.state.schema);s=v.parseSlice(a,{preserveWhitespace:!(!c&&!g),context:o,ruleFromNode:function(t){return"BR"!=t.nodeName||t.nextSibling||!t.parentNode||de.test(t.parentNode.nodeName)?null:{ignore:!0}}})}if(g)s=function(t,e){if(!t.size)return t;var n,r=t.content.firstChild.type.schema;try{n=JSON.parse(e)}catch(e){return t}for(var i=t.content,o=t.openStart,a=t.openEnd,s=n.length-2;s>=0;s-=2){var l=r.nodes[n[s]];if(!l||l.hasRequiredAttrs())break;i=m.Fragment.from(l.create(n[s+1],i)),o++,a++}return new m.Slice(i,o,a)}(ye(s,+g[1],+g[2]),g[4]);else if(s=m.Slice.maxOpen(function(t,e){if(t.childCount<2)return t;for(var n=function(n){var r=e.node(n).contentMatchAt(e.index(n)),i=void 0,o=[];if(t.forEach((function(t){if(o){var e,n=r.findWrapping(t.type);if(!n)return o=null;if(e=o.length&&i.length&&pe(n,i,t,o[o.length-1],0))o[o.length-1]=e;else{o.length&&(o[o.length-1]=ge(o[o.length-1],i.length));var a=fe(t,n);o.push(a),r=r.matchType(a.type),i=n}}})),o)return{v:m.Fragment.from(o)}},i=e.depth;i>=0;i--){var o=n(i);if("object"===r(o))return o.v}return t}(s.content,o),!0),s.openStart||s.openEnd){for(var b=0,w=0,x=s.content.firstChild;b<s.openStart&&!x.type.spec.isolating;b++,x=x.firstChild);for(var _=s.content.lastChild;w<s.openEnd&&!_.type.spec.isolating;w++,_=_.lastChild);s=ye(s,b,w)}return t.someProp("transformPasted",(function(t){s=t(s)})),s}var de=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function fe(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=e.length-1;r>=n;r--)t=e[r].create(null,m.Fragment.from(t));return t}function pe(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){var o=pe(t,e,n,r.lastChild,i+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(m.Fragment.from(fe(n,t,i+1))))}}function ge(t,e){if(0==e)return t;var n=t.content.replaceChild(t.childCount-1,ge(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(m.Fragment.empty,!0);return t.copy(n.append(r))}function me(t,e,n,r,i,o){var a=e<0?t.firstChild:t.lastChild,s=a.content;return i<r-1&&(s=me(s,e,n,r,i+1,o)),i>=n&&(s=e<0?a.contentMatchAt(0).fillBefore(s,t.childCount>1||o<=i).append(s):s.append(a.contentMatchAt(a.childCount).fillBefore(m.Fragment.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,a.copy(s))}function ye(t,e,n){return e<t.openStart&&(t=new m.Slice(me(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new m.Slice(me(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}var ve={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},be=null;function we(){return be||(be=document.implementation.createHTMLDocument("title"))}var xe={},_e={},ke=p((function t(){d(this,t),this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}));function Ee(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function Ce(t){t.someProp("handleDOMEvents",(function(e){for(var n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=function(e){return Se(t,e)})}))}function Se(t,e){return t.someProp("handleDOMEvents",(function(n){var r=n[e.type];return!!r&&(r(t,e)||e.defaultPrevented)}))}function De(t){return{left:t.clientX,top:t.clientY}}function Te(t,e,n,i,o){if(-1==i)return!1;for(var a=t.state.doc.resolve(i),s=function(r){if(t.someProp(e,(function(e){return r>a.depth?e(t,n,a.nodeAfter,a.before(r),o,!0):e(t,n,a.node(r),a.before(r),o,!1)})))return{v:!0}},l=a.depth+1;l>0;l--){var c=s(l);if("object"===r(c))return c.v}return!1}function Ae(t,e,n){t.focused||t.focus();var r=t.state.tr.setSelection(e);"pointer"==n&&r.setMeta("pointer",!0),t.dispatch(r)}function Me(t,e,n,r,i){return Te(t,"handleClickOn",e,n,r)||t.someProp("handleClick",(function(n){return n(t,e,r)}))||(i?function(t,e){if(-1==e)return!1;var n,r,i=t.state.selection;i instanceof g.NodeSelection&&(n=i.node);for(var o=t.state.doc.resolve(e),a=o.depth+1;a>0;a--){var s=a>o.depth?o.nodeAfter:o.node(a);if(g.NodeSelection.isSelectable(s)){r=n&&i.$from.depth>0&&a>=i.$from.depth&&o.before(i.$from.depth+1)==i.$from.pos?o.before(i.$from.depth):o.before(a);break}}return null!=r&&(Ae(t,g.NodeSelection.create(t.state.doc,r),"pointer"),!0)}(t,n):function(t,e){if(-1==e)return!1;var n=t.state.doc.resolve(e),r=n.nodeAfter;return!!(r&&r.isAtom&&g.NodeSelection.isSelectable(r))&&(Ae(t,new g.NodeSelection(n),"pointer"),!0)}(t,n))}function Ne(t,e,n,r){return Te(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",(function(n){return n(t,e,r)}))}function Oe(t,e,n,r){return Te(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",(function(n){return n(t,e,r)}))||function(t,e,n){if(0!=n.button)return!1;var r=t.state.doc;if(-1==e)return!!r.inlineContent&&(Ae(t,g.TextSelection.create(r,0,r.content.size),"pointer"),!0);for(var i=r.resolve(e),o=i.depth+1;o>0;o--){var a=o>i.depth?i.nodeAfter:i.node(o),s=i.before(o);if(a.inlineContent)Ae(t,g.TextSelection.create(r,s+1,s+1+a.content.size),"pointer");else{if(!g.NodeSelection.isSelectable(a))continue;Ae(t,g.NodeSelection.create(r,s),"pointer")}return!0}}(t,n,r)}function Fe(t){return $e(t)}_e.keydown=function(t,e){var n=e;if(t.input.shiftKey=16==n.keyCode||n.shiftKey,!Be(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!F||!T||13!=n.keyCode))if(229!=n.keyCode&&t.domObserver.forceFlush(),!N||13!=n.keyCode||n.ctrlKey||n.altKey||n.metaKey)t.someProp("handleKeyDown",(function(e){return e(t,n)}))||ce(t,n)?n.preventDefault():Ee(t,"key");else{var r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout((function(){t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",(function(e){return e(t,V(13,"Enter"))})),t.input.lastIOSEnter=0)}),200)}},_e.keyup=function(t,e){16==e.keyCode&&(t.input.shiftKey=!1)},_e.keypress=function(t,e){var n=e;if(!(Be(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||O&&n.metaKey))if(t.someProp("handleKeyPress",(function(e){return e(t,n)})))n.preventDefault();else{var r=t.state.selection;if(!(r instanceof g.TextSelection&&r.$from.sameParent(r.$to))){var i=String.fromCharCode(n.charCode);t.someProp("handleTextInput",(function(e){return e(t,r.$from.pos,r.$to.pos,i)}))||t.dispatch(t.state.tr.insertText(i).scrollIntoView()),n.preventDefault()}}};var Ie=O?"metaKey":"ctrlKey";xe.mousedown=function(t,e){var n=e;t.input.shiftKey=n.shiftKey;var r=Fe(t),i=Date.now(),o="singleClick";i-t.input.lastClick.time<500&&function(t,e){var n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}(n,t.input.lastClick)&&!n[Ie]&&("singleClick"==t.input.lastClick.type?o="doubleClick":"doubleClick"==t.input.lastClick.type&&(o="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:o};var a=t.posAtCoords(De(n));a&&("singleClick"==o?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new Le(t,a,n,!!r)):("doubleClick"==o?Ne:Oe)(t,a.pos,a.inside,n)?n.preventDefault():Ee(t,"pointer"))};var Le=function(){function t(e,n,r,i){var o,a,s=this;if(d(this,t),this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[Ie],this.allowDefault=r.shiftKey,n.inside>-1)o=e.state.doc.nodeAt(n.inside),a=n.inside;else{var l=e.state.doc.resolve(n.pos);o=l.parent,a=l.depth?l.before():0}var c=i?null:r.target,u=c?e.docView.nearestDesc(c,!0):null;this.target=u?u.dom:null;var h=e.state.selection;(0==r.button&&o.type.spec.draggable&&!1!==o.type.spec.selectable||h instanceof g.NodeSelection&&h.from<=a&&h.to>a)&&(this.mightDrag={node:o,pos:a,addAttr:!(!this.target||this.target.draggable),setUneditable:!(!this.target||!S||this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout((function(){s.view.input.mouseDown==s&&s.target.setAttribute("contentEditable","false")}),20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Ee(e,"pointer")}return p(t,[{key:"done",value:function(){var t=this;this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout((function(){return zt(t.view)})),this.view.input.mouseDown=null}},{key:"up",value:function(t){if(this.done(),this.view.dom.contains(t.target)){var e=this.pos;this.view.state.doc!=this.startDoc&&(e=this.view.posAtCoords(De(t))),this.allowDefault||!e?Ee(this.view,"pointer"):Me(this.view,e.pos,e.inside,t,this.selectNode)?t.preventDefault():0==t.button&&(this.flushed||M&&this.mightDrag&&!this.mightDrag.node.isAtom||T&&!(this.view.state.selection instanceof g.TextSelection)&&Math.min(Math.abs(e.pos-this.view.state.selection.from),Math.abs(e.pos-this.view.state.selection.to))<=2)?(Ae(this.view,g.Selection.near(this.view.state.doc.resolve(e.pos)),"pointer"),t.preventDefault()):Ee(this.view,"pointer")}}},{key:"move",value:function(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0),Ee(this.view,"pointer"),0==t.buttons&&this.done()}}]),t}();function Be(t,e){return!!t.composing||!!(M&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500)&&(t.input.compositionEndedAt=-2e8,!0)}xe.touchdown=function(t){Fe(t),Ee(t,"pointer")},xe.contextmenu=function(t){return Fe(t)};var Re=F?5e3:-1;function Pe(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout((function(){return $e(t)}),e))}function ze(t){var e;for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=((e=document.createEvent("Event")).initEvent("event",!0,!0),e.timeStamp));t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function $e(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!(F&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),ze(t),e||t.docView&&t.docView.dirty){var n=Rt(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):t.updateState(t.state),!0}return!1}}_e.compositionstart=_e.compositionupdate=function(t){if(!t.composing){t.domObserver.flush();var e=t.state,n=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some((function(t){return!1===t.type.spec.inclusive}))))t.markCursor=t.state.storedMarks||n.marks(),$e(t,!0),t.markCursor=null;else if($e(t),S&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length)for(var r=t.domSelection(),i=r.focusNode,o=r.focusOffset;i&&1==i.nodeType&&0!=o;){var a=o<0?i.lastChild:i.childNodes[o-1];if(!a)break;if(3==a.nodeType){r.collapse(a,a.nodeValue.length);break}i=a,o=-1}t.input.composing=!0}Pe(t,Re)},_e.compositionend=function(t,e){t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,Pe(t,20))};var je=E&&C<15||N&&L<604;function Ue(t,e,n,r){var i=he(t,e,n,t.input.shiftKey,t.state.selection.$from);if(t.someProp("handlePaste",(function(e){return e(t,r,i||m.Slice.empty)})))return!0;if(!i)return!1;var o=function(t){return 0==t.openStart&&0==t.openEnd&&1==t.content.childCount?t.content.firstChild:null}(i),a=o?t.state.tr.replaceSelectionWith(o,t.input.shiftKey):t.state.tr.replaceSelection(i);return t.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}xe.copy=_e.cut=function(t,e){var n=e,r=t.state.selection,i="cut"==n.type;if(!r.empty){var o=je?null:n.clipboardData,a=ue(t,r.content()),s=a.dom,l=a.text;o?(n.preventDefault(),o.clearData(),o.setData("text/html",s.innerHTML),o.setData("text/plain",l)):function(t,e){if(t.dom.parentNode){var n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";var r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout((function(){n.parentNode&&n.parentNode.removeChild(n),t.focus()}),50)}}(t,s),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))}},_e.paste=function(t,e){var n=e;if(!t.composing||F){var r=je?null:n.clipboardData;r&&Ue(t,r.getData("text/plain"),r.getData("text/html"),n)?n.preventDefault():function(t,e){if(t.dom.parentNode){var n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout((function(){t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Ue(t,r.value,null,e):Ue(t,r.textContent,r.innerHTML,e)}),50)}}(t,n)}};var Ye=p((function t(e,n){d(this,t),this.slice=e,this.move=n})),qe=O?"altKey":"ctrlKey";for(var We in xe.dragstart=function(t,e){var n=e,r=t.input.mouseDown;if(r&&r.done(),n.dataTransfer){var i=t.state.selection,o=i.empty?null:t.posAtCoords(De(n));if(o&&o.pos>=i.from&&o.pos<=(i instanceof g.NodeSelection?i.to-1:i.to));else if(r&&r.mightDrag)t.dispatch(t.state.tr.setSelection(g.NodeSelection.create(t.state.doc,r.mightDrag.pos)));else if(n.target&&1==n.target.nodeType){var a=t.docView.nearestDesc(n.target,!0);a&&a.node.type.spec.draggable&&a!=t.docView&&t.dispatch(t.state.tr.setSelection(g.NodeSelection.create(t.state.doc,a.posBefore)))}var s=t.state.selection.content(),l=ue(t,s),c=l.dom,u=l.text;n.dataTransfer.clearData(),n.dataTransfer.setData(je?"Text":"text/html",c.innerHTML),n.dataTransfer.effectAllowed="copyMove",je||n.dataTransfer.setData("text/plain",u),t.dragging=new Ye(s,!n[qe])}},xe.dragend=function(t){var e=t.dragging;window.setTimeout((function(){t.dragging==e&&(t.dragging=null)}),50)},_e.dragover=_e.dragenter=function(t,e){return e.preventDefault()},_e.drop=function(t,e){var n=e,r=t.dragging;if(t.dragging=null,n.dataTransfer){var i=t.posAtCoords(De(n));if(i){var o=t.state.doc.resolve(i.pos);if(o){var a=r&&r.slice;a?t.someProp("transformPasted",(function(t){a=t(a)})):a=he(t,n.dataTransfer.getData(je?"Text":"text/plain"),je?null:n.dataTransfer.getData("text/html"),!1,o);var s=!(!r||n[qe]);if(t.someProp("handleDrop",(function(e){return e(t,n,a||m.Slice.empty,s)})))n.preventDefault();else if(a){n.preventDefault();var l=a?y.dropPoint(t.state.doc,o.pos,a):o.pos;null==l&&(l=o.pos);var c=t.state.tr;s&&c.deleteSelection();var u=c.mapping.map(l),h=0==a.openStart&&0==a.openEnd&&1==a.content.childCount,d=c.doc;if(h?c.replaceRangeWith(u,u,a.content.firstChild):c.replaceRange(u,u,a),!c.doc.eq(d)){var f=c.doc.resolve(u);if(h&&g.NodeSelection.isSelectable(a.content.firstChild)&&f.nodeAfter&&f.nodeAfter.sameMarkup(a.content.firstChild))c.setSelection(new g.NodeSelection(f));else{var p=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((function(t,e,n,r){return p=r})),c.setSelection(Gt(t,f,c.doc.resolve(p)))}t.focus(),t.dispatch(c.setMeta("uiEvent","drop"))}}}}}},xe.focus=function(t){t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout((function(){t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelection())&&zt(t)}),20))},xe.blur=function(t,e){var n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)},xe.beforeinput=function(t,e){if(T&&F&&"deleteContentBackward"==e.inputType){t.domObserver.flushSoon();var n=t.input.domChangeCount;setTimeout((function(){if(t.input.domChangeCount==n&&(t.dom.blur(),t.focus(),!t.someProp("handleKeyDown",(function(e){return e(t,V(8,"Backspace"))})))){var e=t.state.selection.$cursor;e&&e.pos>0&&t.dispatch(t.state.tr.delete(e.pos-1,e.pos).scrollIntoView())}}),50)}},_e)xe[We]=_e[We];function He(t,e){if(t==e)return!0;for(var n in t)if(t[n]!==e[n])return!1;for(var r in e)if(!(r in t))return!1;return!0}var Ve=function(){function t(e,n){d(this,t),this.toDOM=e,this.spec=n||Ze,this.side=this.spec.side||0}return p(t,[{key:"map",value:function(t,e,n,r){var i=t.mapResult(e.from+r,this.side<0?-1:1),o=i.pos;return i.deleted?null:new Ke(o-n,o-n,this)}},{key:"valid",value:function(){return!0}},{key:"eq",value:function(e){return this==e||e instanceof t&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&He(this.spec,e.spec))}},{key:"destroy",value:function(t){this.spec.destroy&&this.spec.destroy(t)}}]),t}(),Ge=function(){function t(e,n){d(this,t),this.attrs=e,this.spec=n||Ze}return p(t,[{key:"map",value:function(t,e,n,r){var i=t.map(e.from+r,this.spec.inclusiveStart?-1:1)-n,o=t.map(e.to+r,this.spec.inclusiveEnd?1:-1)-n;return i>=o?null:new Ke(i,o,this)}},{key:"valid",value:function(t,e){return e.from<e.to}},{key:"eq",value:function(e){return this==e||e instanceof t&&He(this.attrs,e.attrs)&&He(this.spec,e.spec)}},{key:"destroy",value:function(){}}],[{key:"is",value:function(e){return e.type instanceof t}}]),t}(),Xe=function(){function t(e,n){d(this,t),this.attrs=e,this.spec=n||Ze}return p(t,[{key:"map",value:function(t,e,n,r){var i=t.mapResult(e.from+r,1);if(i.deleted)return null;var o=t.mapResult(e.to+r,-1);return o.deleted||o.pos<=i.pos?null:new Ke(i.pos-n,o.pos-n,this)}},{key:"valid",value:function(t,e){var n,r=t.content.findIndex(e.from),i=r.index,o=r.offset;return o==e.from&&!(n=t.child(i)).isText&&o+n.nodeSize==e.to}},{key:"eq",value:function(e){return this==e||e instanceof t&&He(this.attrs,e.attrs)&&He(this.spec,e.spec)}},{key:"destroy",value:function(){}}]),t}(),Ke=function(){function t(e,n,r){d(this,t),this.from=e,this.to=n,this.type=r}return p(t,[{key:"copy",value:function(e,n){return new t(e,n,this.type)}},{key:"eq",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.type.eq(t.type)&&this.from+e==t.from&&this.to+e==t.to}},{key:"map",value:function(t,e,n){return this.type.map(t,this,e,n)}},{key:"spec",get:function(){return this.type.spec}},{key:"inline",get:function(){return this.type instanceof Ge}}],[{key:"widget",value:function(e,n,r){return new t(e,e,new Ve(n,r))}},{key:"inline",value:function(e,n,r,i){return new t(e,n,new Ge(r,i))}},{key:"node",value:function(e,n,r,i){return new t(e,n,new Xe(r,i))}}]),t}(),Je=[],Ze={},Qe=function(){function t(e,n){d(this,t),this.local=e.length?e:Je,this.children=n.length?n:Je}return p(t,[{key:"find",value:function(t,e,n){var r=[];return this.findInner(null==t?0:t,null==e?1e9:e,r,0,n),r}},{key:"findInner",value:function(t,e,n,r,i){for(var o=0;o<this.local.length;o++){var a=this.local[o];a.from<=e&&a.to>=t&&(!i||i(a.spec))&&n.push(a.copy(a.from+r,a.to+r))}for(var s=0;s<this.children.length;s+=3)if(this.children[s]<e&&this.children[s+1]>t){var l=this.children[s]+1;this.children[s+2].findInner(t-l,e-l,n,r+l,i)}}},{key:"map",value:function(t,e,n){return this==tn||0==t.maps.length?this:this.mapInner(t,e,0,0,n||Ze)}},{key:"mapInner",value:function(e,n,r,i,o){for(var a,s=0;s<this.local.length;s++){var l=this.local[s].map(e,r,i);l&&l.type.valid(n,l)?(a||(a=[])).push(l):o.onRemove&&o.onRemove(this.local[s].spec)}return this.children.length?nn(this.children,a||[],e,n,r,i,o):a?new t(a.sort(ln),Je):tn}},{key:"add",value:function(e,n){return n.length?this==tn?t.create(e,n):this.addInner(e,n,0):this}},{key:"addInner",value:function(e,n,r){var i,o=this,a=0;e.forEach((function(t,e){var s,l=e+r;if(s=on(n,t,l)){for(i||(i=o.children.slice());a<i.length&&i[a]<e;)a+=3;i[a]==e?i[a+2]=i[a+2].addInner(t,s,l+1):i.splice(a,0,e,e+t.nodeSize,sn(s,t,l+1,Ze)),a+=3}}));for(var s=rn(a?an(n):n,-r),l=0;l<s.length;l++)s[l].type.valid(e,s[l])||s.splice(l--,1);return new t(s.length?this.local.concat(s).sort(ln):this.local,i||this.children)}},{key:"remove",value:function(t){return 0==t.length||this==tn?this:this.removeInner(t,0)}},{key:"removeInner",value:function(e,n){for(var r=this.children,i=this.local,o=0;o<r.length;o+=3){for(var a,s=void 0,l=r[o]+n,c=r[o+1]+n,u=0;u<e.length;u++)(a=e[u])&&a.from>l&&a.to<c&&(e[u]=null,(s||(s=[])).push(a));if(s){r==this.children&&(r=this.children.slice());var h=r[o+2].removeInner(s,l+1);h!=tn?r[o+2]=h:(r.splice(o,3),o-=3)}}if(i.length)for(var d,f=0;f<e.length;f++)if(d=e[f])for(var p=0;p<i.length;p++)i[p].eq(d,n)&&(i==this.local&&(i=this.local.slice()),i.splice(p--,1));return r==this.children&&i==this.local?this:i.length||r.length?new t(i,r):tn}},{key:"forChild",value:function(e,n){if(this==tn)return this;if(n.isLeaf)return t.empty;for(var r,i,o=0;o<this.children.length;o+=3)if(this.children[o]>=e){this.children[o]==e&&(r=this.children[o+2]);break}for(var a=e+1,s=a+n.content.size,l=0;l<this.local.length;l++){var c=this.local[l];if(c.from<s&&c.to>a&&c.type instanceof Ge){var u=Math.max(a,c.from)-a,h=Math.min(s,c.to)-a;u<h&&(i||(i=[])).push(c.copy(u,h))}}if(i){var d=new t(i.sort(ln),Je);return r?new en([d,r]):d}return r||tn}},{key:"eq",value:function(e){if(this==e)return!0;if(!(e instanceof t)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(var n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(var r=0;r<this.children.length;r+=3)if(this.children[r]!=e.children[r]||this.children[r+1]!=e.children[r+1]||!this.children[r+2].eq(e.children[r+2]))return!1;return!0}},{key:"locals",value:function(t){return cn(this.localsInner(t))}},{key:"localsInner",value:function(t){if(this==tn)return Je;if(t.inlineContent||!this.local.some(Ge.is))return this.local;for(var e=[],n=0;n<this.local.length;n++)this.local[n].type instanceof Ge||e.push(this.local[n]);return e}}],[{key:"create",value:function(t,e){return e.length?sn(e,t,0,Ze):tn}}]),t}();Qe.empty=new Qe([],[]),Qe.removeOverlap=cn;var tn=Qe.empty,en=function(){function t(e){d(this,t),this.members=e}return p(t,[{key:"map",value:function(e,n){var r=this.members.map((function(t){return t.map(e,n,Ze)}));return t.from(r)}},{key:"forChild",value:function(e,n){if(n.isLeaf)return Qe.empty;for(var r=[],i=0;i<this.members.length;i++){var o=this.members[i].forChild(e,n);o!=tn&&(o instanceof t?r=r.concat(o.members):r.push(o))}return t.from(r)}},{key:"eq",value:function(e){if(!(e instanceof t)||e.members.length!=this.members.length)return!1;for(var n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}},{key:"locals",value:function(t){for(var e,n=!0,r=0;r<this.members.length;r++){var i=this.members[r].localsInner(t);if(i.length)if(e){n&&(e=e.slice(),n=!1);for(var o=0;o<i.length;o++)e.push(i[o])}else e=i}return e?cn(n?e:e.sort(ln)):Je}}],[{key:"from",value:function(e){switch(e.length){case 0:return tn;case 1:return e[0];default:return new t(e)}}}]),t}();function nn(t,e,n,r,i,o,a){for(var s=t.slice(),l=function(t,e,n,r){for(var a=0;a<s.length;a+=3){var l=s[a+1],c=void 0;if(!(l<0||t>l+o)){var u=s[a]+o;e>=u?s[a+1]=t<=u?-2:-1:n>=i&&(c=r-n-(e-t))&&(s[a]+=c,s[a+1]+=c)}}},c=0;c<n.maps.length;c++)n.maps[c].forEach(l);for(var u=!1,h=0;h<s.length;h+=3)if(s[h+1]<0){if(-2==s[h+1]){u=!0,s[h+1]=-1;continue}var d=n.map(t[h]+o),f=d-i;if(f<0||f>=r.content.size){u=!0;continue}var p=n.map(t[h+1]+o,-1)-i,g=r.content.findIndex(f),m=g.index,y=g.offset,v=r.maybeChild(m);if(v&&y==f&&y+v.nodeSize==p){var b=s[h+2].mapInner(n,v,d+1,t[h]+o+1,a);b!=tn?(s[h]=f,s[h+1]=p,s[h+2]=b):(s[h+1]=-2,u=!0)}else u=!0}if(u){var w=function(t,e,n,r,i,o,a){function s(t,e){for(var o=0;o<t.local.length;o++){var l=t.local[o].map(r,i,e);l?n.push(l):a.onRemove&&a.onRemove(t.local[o].spec)}for(var c=0;c<t.children.length;c+=3)s(t.children[c+2],t.children[c]+e+1)}for(var l=0;l<t.length;l+=3)-1==t[l+1]&&s(t[l+2],e[l]+o+1);return n}(s,t,e,n,i,o,a),x=sn(w,r,0,a);e=x.local;for(var _=0;_<s.length;_+=3)s[_+1]<0&&(s.splice(_,3),_-=3);for(var k=0,E=0;k<x.children.length;k+=3){for(var C=x.children[k];E<s.length&&s[E]<C;)E+=3;s.splice(E,0,x.children[k],x.children[k+1],x.children[k+2])}}return new Qe(e.sort(ln),s)}function rn(t,e){if(!e||!t.length)return t;for(var n=[],r=0;r<t.length;r++){var i=t[r];n.push(new Ke(i.from+e,i.to+e,i.type))}return n}function on(t,e,n){if(e.isLeaf)return null;for(var r,i=n+e.nodeSize,o=null,a=0;a<t.length;a++)(r=t[a])&&r.from>n&&r.to<i&&((o||(o=[])).push(r),t[a]=null);return o}function an(t){for(var e=[],n=0;n<t.length;n++)null!=t[n]&&e.push(t[n]);return e}function sn(t,e,n,r){var i=[],o=!1;e.forEach((function(e,a){var s=on(t,e,a+n);if(s){o=!0;var l=sn(s,e,n+a+1,r);l!=tn&&i.push(a,a+e.nodeSize,l)}}));for(var a=rn(o?an(t):t,-n).sort(ln),s=0;s<a.length;s++)a[s].type.valid(e,a[s])||(r.onRemove&&r.onRemove(a[s].spec),a.splice(s--,1));return a.length||i.length?new Qe(a,i):tn}function ln(t,e){return t.from-e.from||t.to-e.to}function cn(t){for(var e=t,n=0;n<e.length-1;n++){var r=e[n];if(r.from!=r.to)for(var i=n+1;i<e.length;i++){var o=e[i];if(o.from!=r.from){o.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,o.from),un(e,i,r.copy(o.from,r.to)));break}o.to!=r.to&&(e==t&&(e=t.slice()),e[i]=o.copy(o.from,r.to),un(e,i+1,o.copy(r.to,o.to)))}}return e}function un(t,e,n){for(;e<t.length&&ln(n,t[e])>0;)e++;t.splice(e,0,n)}function hn(t){var e=[];return t.someProp("decorations",(function(n){var r=n(t.state);r&&r!=tn&&e.push(r)})),t.cursorWrapper&&e.push(Qe.create(t.state.doc,[t.cursorWrapper.deco])),en.from(e)}var dn={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},fn=E&&C<=11,pn=function(){function t(){d(this,t),this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}return p(t,[{key:"set",value:function(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}},{key:"clear",value:function(){this.anchorNode=this.focusNode=null}},{key:"eq",value:function(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}}]),t}(),gn=function(){function t(e,n){var r=this;d(this,t),this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new pn,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver((function(t){for(var e=0;e<t.length;e++)r.queue.push(t[e]);E&&C<=11&&t.some((function(t){return"childList"==t.type&&t.removedNodes.length||"characterData"==t.type&&t.oldValue.length>t.target.nodeValue.length}))?r.flushSoon():r.flush()})),fn&&(this.onCharData=function(t){r.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),r.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}return p(t,[{key:"flushSoon",value:function(){var t=this;this.flushingSoon<0&&(this.flushingSoon=window.setTimeout((function(){t.flushingSoon=-1,t.flush()}),20))}},{key:"forceFlush",value:function(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}},{key:"start",value:function(){this.observer&&this.observer.observe(this.view.dom,dn),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}},{key:"stop",value:function(){var t=this;if(this.observer){var e=this.observer.takeRecords();if(e.length){for(var n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout((function(){return t.flush()}),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}},{key:"connectSelection",value:function(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}},{key:"disconnectSelection",value:function(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}},{key:"suppressSelectionUpdates",value:function(){var t=this;this.suppressingSelectionUpdates=!0,setTimeout((function(){return t.suppressingSelectionUpdates=!1}),50)}},{key:"onSelectionChange",value:function(){if(Xt(this.view)){if(this.suppressingSelectionUpdates)return zt(this.view);if(E&&C<=11&&!this.view.state.selection.empty){var t=this.view.domSelection();if(t.focusNode&&$(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}},{key:"setCurSelection",value:function(){this.currentSelection.set(this.view.domSelection())}},{key:"ignoreSelectionChange",value:function(t){if(0==t.rangeCount)return!0;var e=t.getRangeAt(0).commonAncestorContainer,n=this.view.docView.nearestDesc(e);return n&&n.ignoreMutation({type:"selection",target:3==e.nodeType?e.parentNode:e})?(this.setCurSelection(),!0):void 0}},{key:"flush",value:function(){if(this.view.docView&&!(this.flushingSoon>-1)){var t=this.observer?this.observer.takeRecords():[];this.queue.length&&(t=this.queue.concat(t),this.queue.length=0);var e=this.view.domSelection(),n=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(e)&&Xt(this.view)&&!this.ignoreSelectionChange(e),r=-1,i=-1,o=!1,a=[];if(this.view.editable)for(var s=0;s<t.length;s++){var l=this.registerMutation(t[s],a);l&&(r=r<0?l.from:Math.min(l.from,r),i=i<0?l.to:Math.max(l.to,i),l.typeOver&&(o=!0))}if(S&&a.length>1){var c=a.filter((function(t){return"BR"==t.nodeName}));if(2==c.length){var u=c[0],h=c[1];u.parentNode&&u.parentNode.parentNode==h.parentNode?h.remove():u.remove()}}(r>-1||n)&&(r>-1&&(this.view.docView.markDirty(r,i),function(t){if(mn)return;mn=!0,getComputedStyle(t.dom).whiteSpace}(this.view)),this.handleDOMChange(r,i,o,a),this.view.docView&&this.view.docView.dirty?this.view.updateState(this.view.state):this.currentSelection.eq(e)||zt(this.view),this.currentSelection.set(e))}}},{key:"registerMutation",value:function(t,e){if(e.indexOf(t.target)>-1)return null;var n=this.view.docView.nearestDesc(t.target);if("attributes"==t.type&&(n==this.view.docView||"contenteditable"==t.attributeName||"style"==t.attributeName&&!t.oldValue&&!t.target.getAttribute("style")))return null;if(!n||n.ignoreMutation(t))return null;if("childList"==t.type){for(var r=0;r<t.addedNodes.length;r++)e.push(t.addedNodes[r]);if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(t.target))return{from:n.posBefore,to:n.posAfter};var i=t.previousSibling,o=t.nextSibling;if(E&&C<=11&&t.addedNodes.length)for(var a=0;a<t.addedNodes.length;a++){var s=t.addedNodes[a],l=s.previousSibling,c=s.nextSibling;(!l||Array.prototype.indexOf.call(t.addedNodes,l)<0)&&(i=l),(!c||Array.prototype.indexOf.call(t.addedNodes,c)<0)&&(o=c)}var u=i&&i.parentNode==t.target?B(i)+1:0,h=n.localPosFromDOM(t.target,u,-1),d=o&&o.parentNode==t.target?B(o):t.target.childNodes.length;return{from:h,to:n.localPosFromDOM(t.target,d,1)}}return"attributes"==t.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:{from:n.posAtStart,to:n.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}}}]),t}(),mn=!1;function yn(t){var e=t.pmViewDesc;if(e)return e.parseRule();if("BR"==t.nodeName&&t.parentNode){if(M&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){var n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}if(t.parentNode.lastChild==t||M&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if("IMG"==t.nodeName&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}function vn(t,e,n,r,i){if(e<0){var o=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,a=Rt(t,o);if(a&&!t.state.selection.eq(a)){var s=t.state.tr.setSelection(a);"pointer"==o?s.setMeta("pointer",!0):"key"==o&&s.scrollIntoView(),t.dispatch(s)}}else{var l=t.state.doc.resolve(e),c=l.sharedDepth(n);e=l.before(c+1),n=t.state.doc.resolve(n).after(c+1);var u=t.state.selection,h=function(t,e,n){var r,i=t.docView.parseRange(e,n),o=i.node,a=i.fromOffset,s=i.toOffset,l=i.from,c=i.to,u=t.domSelection(),h=u.anchorNode;if(h&&t.dom.contains(1==h.nodeType?h:h.parentNode)&&(r=[{node:h,offset:u.anchorOffset}],H(u)||r.push({node:u.focusNode,offset:u.focusOffset})),T&&8===t.input.lastKeyCode)for(var d=s;d>a;d--){var f=o.childNodes[d-1],p=f.pmViewDesc;if("BR"==f.nodeName&&!p){s=d;break}if(!p||p.size)break}var g=t.state.doc,y=t.someProp("domParser")||m.DOMParser.fromSchema(t.state.schema),v=g.resolve(l),b=null,w=y.parse(o,{topNode:v.parent,topMatch:v.parent.contentMatchAt(v.index()),topOpen:!0,from:a,to:s,preserveWhitespace:"pre"!=v.parent.type.whitespace||"full",findPositions:r,ruleFromNode:yn,context:v});if(r&&null!=r[0].pos){var x=r[0].pos,_=r[1]&&r[1].pos;null==_&&(_=x),b={anchor:x+l,head:_+l}}return{doc:w,sel:b,from:l,to:c}}(t,e,n);if(T&&t.cursorWrapper&&h.sel&&h.sel.anchor==t.cursorWrapper.deco.from){var d=t.cursorWrapper.deco.type.toDOM.nextSibling,f=d&&d.nodeValue?d.nodeValue.length:1;h.sel={anchor:h.sel.anchor+f,head:h.sel.anchor+f}}var p,y,v=t.state.doc,b=v.slice(h.from,h.to);8===t.input.lastKeyCode&&Date.now()-100<t.input.lastKeyCodeTime?(p=t.state.selection.to,y="end"):(p=t.state.selection.from,y="start"),t.input.lastKeyCode=null;var w=function(t,e,n,r,i){var o=t.findDiffStart(e,n);if(null==o)return null;var a=t.findDiffEnd(e,n+t.size,n+e.size),s=a.a,l=a.b;if("end"==i){r-=s+Math.max(0,o-Math.min(s,l))-o}if(s<o&&t.size<e.size){l=(o-=r<=o&&r>=s?o-r:0)+(l-s),s=o}else if(l<o){s=(o-=r<=o&&r>=l?o-r:0)+(s-l),l=o}return{start:o,endA:s,endB:l}}(b.content,h.doc.content,h.from,p,y);if((N&&t.input.lastIOSEnter>Date.now()-225||F)&&i.some((function(t){return"DIV"==t.nodeName||"P"==t.nodeName}))&&(!w||w.endA>=w.endB)&&t.someProp("handleKeyDown",(function(e){return e(t,V(13,"Enter"))})))t.input.lastIOSEnter=0;else{if(!w){if(!(r&&u instanceof g.TextSelection&&!u.empty&&u.$head.sameParent(u.$anchor))||t.composing||h.sel&&h.sel.anchor!=h.sel.head){if(h.sel){var x=bn(t,t.state.doc,h.sel);x&&!x.eq(t.state.selection)&&t.dispatch(t.state.tr.setSelection(x))}return}w={start:u.from,endA:u.to,endB:u.to}}t.input.domChangeCount++,t.state.selection.from<t.state.selection.to&&w.start==w.endB&&t.state.selection instanceof g.TextSelection&&(w.start>t.state.selection.from&&w.start<=t.state.selection.from+2&&t.state.selection.from>=h.from?w.start=t.state.selection.from:w.endA<t.state.selection.to&&w.endA>=t.state.selection.to-2&&t.state.selection.to<=h.to&&(w.endB+=t.state.selection.to-w.endA,w.endA=t.state.selection.to)),E&&C<=11&&w.endB==w.start+1&&w.endA==w.start&&w.start>h.from&&"  "==h.doc.textBetween(w.start-h.from-1,w.start-h.from+1)&&(w.start--,w.endA--,w.endB--);var _,k=h.doc.resolveNoCache(w.start-h.from),S=h.doc.resolveNoCache(w.endB-h.from),D=v.resolve(w.start),A=k.sameParent(S)&&k.parent.inlineContent&&D.end()>=w.endA;if((N&&t.input.lastIOSEnter>Date.now()-225&&(!A||i.some((function(t){return"DIV"==t.nodeName||"P"==t.nodeName})))||!A&&k.pos<h.doc.content.size&&(_=g.Selection.findFrom(h.doc.resolve(k.pos+1),1,!0))&&_.head==S.pos)&&t.someProp("handleKeyDown",(function(e){return e(t,V(13,"Enter"))})))t.input.lastIOSEnter=0;else if(t.state.selection.anchor>w.start&&function(t,e,n,r,i){if(!r.parent.isTextblock||n-e<=i.pos-r.pos||wn(r,!0,!1)<i.pos)return!1;var o=t.resolve(e);if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;var a=t.resolve(wn(o,!0,!0));return!(!a.parent.isTextblock||a.pos>n||wn(a,!0,!1)<n)&&r.parent.content.cut(r.parentOffset).eq(a.parent.content)}(v,w.start,w.endA,k,S)&&t.someProp("handleKeyDown",(function(e){return e(t,V(8,"Backspace"))})))F&&T&&t.domObserver.suppressSelectionUpdates();else{T&&F&&w.endB==w.start&&(t.input.lastAndroidDelete=Date.now()),F&&!A&&k.start()!=S.start()&&0==S.parentOffset&&k.depth==S.depth&&h.sel&&h.sel.anchor==h.sel.head&&h.sel.head==w.endA&&(w.endB-=2,S=h.doc.resolveNoCache(w.endB-h.from),setTimeout((function(){t.someProp("handleKeyDown",(function(e){return e(t,V(13,"Enter"))}))}),20));var M,O,I,L=w.start,B=w.endA;if(A)if(k.pos==S.pos)E&&C<=11&&0==k.parentOffset&&(t.domObserver.suppressSelectionUpdates(),setTimeout((function(){return zt(t)}),20)),M=t.state.tr.delete(L,B),O=v.resolve(w.start).marksAcross(v.resolve(w.endA));else if(w.endA==w.endB&&(I=function(t,e){for(var n,r,i,o=t.firstChild.marks,a=e.firstChild.marks,s=o,l=a,c=0;c<a.length;c++)s=a[c].removeFromSet(s);for(var u=0;u<o.length;u++)l=o[u].removeFromSet(l);if(1==s.length&&0==l.length)r=s[0],n="add",i=function(t){return t.mark(r.addToSet(t.marks))};else{if(0!=s.length||1!=l.length)return null;r=l[0],n="remove",i=function(t){return t.mark(r.removeFromSet(t.marks))}}for(var h=[],d=0;d<e.childCount;d++)h.push(i(e.child(d)));if(m.Fragment.from(h).eq(t))return{mark:r,type:n}}(k.parent.content.cut(k.parentOffset,S.parentOffset),D.parent.content.cut(D.parentOffset,w.endA-D.start()))))M=t.state.tr,"add"==I.type?M.addMark(L,B,I.mark):M.removeMark(L,B,I.mark);else if(k.parent.child(k.index()).isText&&k.index()==S.index()-(S.textOffset?0:1)){var R=k.parent.textBetween(k.parentOffset,S.parentOffset);if(t.someProp("handleTextInput",(function(e){return e(t,L,B,R)})))return;M=t.state.tr.insertText(R,L,B)}if(M||(M=t.state.tr.replace(L,B,h.doc.slice(w.start-h.from,w.endB-h.from))),h.sel){var P=bn(t,M.doc,h.sel);P&&!(T&&F&&t.composing&&P.empty&&(w.start!=w.endB||t.input.lastAndroidDelete<Date.now()-100)&&(P.head==L||P.head==M.mapping.map(B)-1)||E&&P.empty&&P.head==L)&&M.setSelection(P)}O&&M.ensureMarks(O),t.dispatch(M.scrollIntoView())}}}}function bn(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:Gt(t,e.resolve(n.anchor),e.resolve(n.head))}function wn(t,e,n){for(var r=t.depth,i=e?t.end():t.pos;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n)for(var o=t.node(r).maybeChild(t.indexAfter(r));o&&!o.isLeaf;)o=o.firstChild,i++;return i}var xn=ue,_n=he,kn=$e,En=function(){function t(e,n){var r=this;d(this,t),this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new ke,this.prevDirectPlugins=[],this.pluginViews=[],this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(An),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):"function"==typeof e?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Dn(this),Sn(this),this.nodeViews=Tn(this),this.docView=xt(this.state.doc,Cn(this),hn(this),this.dom,this),this.domObserver=new gn(this,(function(t,e,n,i){return vn(r,t,e,n,i)})),this.domObserver.start(),function(t){var e=function(e){var n=xe[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=function(e){!function(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(var n=e.target;n!=t.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}(t,e)||Se(t,e)||!t.editable&&e.type in _e||n(t,e)})};for(var n in xe)e(n);M&&t.dom.addEventListener("input",(function(){return null})),Ce(t)}(this),this.updatePluginViews()}return p(t,[{key:"composing",get:function(){return this.input.composing}},{key:"props",get:function(){if(this._props.state!=this.state){var t=this._props;for(var e in this._props={},t)this._props[e]=t[e];this._props.state=this.state}return this._props}},{key:"update",value:function(t){t.handleDOMEvents!=this._props.handleDOMEvents&&Ce(this),this._props=t,t.plugins&&(t.plugins.forEach(An),this.directPlugins=t.plugins),this.updateStateInner(t.state,!0)}},{key:"setProps",value:function(t){var e={};for(var n in this._props)e[n]=this._props[n];for(var r in e.state=this.state,t)e[r]=t[r];this.update(e)}},{key:"updateState",value:function(t){this.updateStateInner(t,this.state.plugins!=t.plugins)}},{key:"updateStateInner",value:function(t,e){var n=this,r=this.state,i=!1,o=!1;if(t.storedMarks&&this.composing&&(ze(this),o=!0),this.state=t,e){var a=Tn(this);(function(t,e){var n=0,r=0;for(var i in t){if(t[i]!=e[i])return!0;n++}for(var o in e)r++;return n!=r})(a,this.nodeViews)&&(this.nodeViews=a,i=!0),Ce(this)}this.editable=Dn(this),Sn(this);var s=hn(this),l=Cn(this),c=e?"reset":t.scrollToSelection>r.scrollToSelection?"to selection":"preserve",u=i||!this.docView.matchesNode(t.doc,l,s);!u&&t.selection.eq(r.selection)||(o=!0);var h,d,f,p,m,y,v,b,w,x,_,k="preserve"==c&&o&&null==this.dom.style.overflowAnchor&&function(t){for(var e,n,r=t.dom.getBoundingClientRect(),i=Math.max(0,r.top),o=(r.left+r.right)/2,a=i+1;a<Math.min(innerHeight,r.bottom);a+=5){var s=t.root.elementFromPoint(o,a);if(s&&s!=t.dom&&t.dom.contains(s)){var l=s.getBoundingClientRect();if(l.top>=i-20){e=s,n=l.top;break}}}return{refDOM:e,refTop:n,stack:Z(t.dom)}}(this);if(o){this.domObserver.stop();var C=u&&(E||T)&&!this.composing&&!r.selection.empty&&!t.selection.empty&&(p=r.selection,m=t.selection,y=Math.min(p.$anchor.sharedDepth(p.head),m.$anchor.sharedDepth(m.head)),p.$anchor.start(y)!=m.$anchor.start(y));if(u){var S=T?this.trackWrites=this.domSelection().focusNode:null;!i&&this.docView.update(t.doc,l,s,this)||(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=xt(t.doc,l,s,this.dom,this)),S&&!this.trackWrites&&(C=!0)}C||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelection())&&(h=this,d=h.docView.domFromPos(h.state.selection.anchor,0),f=h.domSelection(),$(d.node,d.offset,f.anchorNode,f.anchorOffset)))?zt(this,C):(Ht(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}if(this.updatePluginViews(r),"reset"==c)this.dom.scrollTop=0;else if("to selection"==c){var D=this.domSelection().focusNode;if(this.someProp("handleScrollToSelection",(function(t){return t(n)})));else if(t.selection instanceof g.NodeSelection){var A=this.docView.domAfterPos(t.selection.from);1==A.nodeType&&J(this,A.getBoundingClientRect(),D)}else J(this,this.coordsAtPos(t.selection.head,1),D)}else k&&(b=(v=k).refDOM,w=v.refTop,x=v.stack,_=b?b.getBoundingClientRect().top:0,Q(x,0==_?0:_-w))}},{key:"destroyPluginViews",value:function(){for(var t;t=this.pluginViews.pop();)t.destroy&&t.destroy()}},{key:"updatePluginViews",value:function(t){if(t&&t.plugins==this.state.plugins&&this.directPlugins==this.prevDirectPlugins)for(var e=0;e<this.pluginViews.length;e++){var n=this.pluginViews[e];n.update&&n.update(this,t)}else{this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(var r=0;r<this.directPlugins.length;r++){var i=this.directPlugins[r];i.spec.view&&this.pluginViews.push(i.spec.view(this))}for(var o=0;o<this.state.plugins.length;o++){var a=this.state.plugins[o];a.spec.view&&this.pluginViews.push(a.spec.view(this))}}}},{key:"someProp",value:function(t,e){var n,r=this._props&&this._props[t];if(null!=r&&(n=e?e(r):r))return n;for(var i=0;i<this.directPlugins.length;i++){var o=this.directPlugins[i].props[t];if(null!=o&&(n=e?e(o):o))return n}var a=this.state.plugins;if(a)for(var s=0;s<a.length;s++){var l=a[s].props[t];if(null!=l&&(n=e?e(l):l))return n}}},{key:"hasFocus",value:function(){return this.root.activeElement==this.dom}},{key:"focus",value:function(){this.domObserver.stop(),this.editable&&function(t){if(t.setActive)return t.setActive();if(tt)return t.focus(tt);var e=Z(t);t.focus(null==tt?{get preventScroll(){return tt={preventScroll:!0},!0}}:void 0),tt||(tt=!1,Q(e,0))}(this.dom),zt(this),this.domObserver.start()}},{key:"root",get:function(){var t=this,e=this._root;if(null==e)for(var n=function(e){if(9==e.nodeType||11==e.nodeType&&e.host)return e.getSelection||(Object.getPrototypeOf(e).getSelection=function(){return e.ownerDocument.getSelection()}),{v:t._root=e}},i=this.dom.parentNode;i;i=i.parentNode){var o=n(i);if("object"===r(o))return o.v}return e||document}},{key:"posAtCoords",value:function(t){return it(this,t)}},{key:"coordsAtPos",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return st(this,t,e)}},{key:"domAtPos",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.docView.domFromPos(t,e)}},{key:"nodeDOM",value:function(t){var e=this.docView.descAt(t);return e?e.nodeDOM:null}},{key:"posAtDOM",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,r=this.docView.posFromDOM(t,e,n);if(null==r)throw new RangeError("DOM position not inside the editor");return r}},{key:"endOfTextblock",value:function(t,e){return gt(this,e||this.state,t)}},{key:"destroy",value:function(){this.docView&&(!function(t){for(var e in t.domObserver.stop(),t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],hn(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}},{key:"isDestroyed",get:function(){return null==this.docView}},{key:"dispatchEvent",value:function(t){return function(t,e){Se(t,e)||!xe[e.type]||!t.editable&&e.type in _e||xe[e.type](t,e)}(this,t)}},{key:"dispatch",value:function(t){var e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))}},{key:"domSelection",value:function(){return this.root.getSelection()}}]),t}();function Cn(t){var e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),e.translate="no",t.someProp("attributes",(function(n){if("function"==typeof n&&(n=n(t.state)),n)for(var r in n)"class"==r&&(e.class+=" "+n[r]),"style"==r?e.style=(e.style?e.style+";":"")+n[r]:e[r]||"contenteditable"==r||"nodeName"==r||(e[r]=String(n[r]))})),[Ke.node(0,t.state.doc.content.size,e)]}function Sn(t){if(t.markCursor){var e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:Ke.widget(t.state.selection.head,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function Dn(t){return!t.someProp("editable",(function(e){return!1===e(t.state)}))}function Tn(t){var e=Object.create(null);function n(t){for(var n in t)Object.prototype.hasOwnProperty.call(e,n)||(e[n]=t[n])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function An(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}e.Decoration=Ke,e.DecorationSet=Qe,e.EditorView=En,e.__endComposition=kn,e.__parseFromClipboard=_n,e.__serializeForClipboard=xn},26691:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});for(var n={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},r={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},i="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),o="undefined"!=typeof navigator&&/Apple Computer/.test(navigator.vendor),a="undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),s="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),l="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),c=i&&(s||+i[1]<57)||a&&s,u=0;u<10;u++)n[48+u]=n[96+u]=String(u);for(u=1;u<=24;u++)n[u+111]="F"+u;for(u=65;u<=90;u++)n[u]=String.fromCharCode(u+32),r[u]=String.fromCharCode(u);for(var h in n)r.hasOwnProperty(h)||(r[h]=n[h]);e.base=n,e.keyName=function(t){var e=!(c&&(t.ctrlKey||t.altKey||t.metaKey)||(o||l)&&t.shiftKey&&t.key&&1==t.key.length)&&t.key||(t.shiftKey?r:n)[t.keyCode]||t.key||"Unidentified";return"Esc"==e&&(e="Escape"),"Del"==e&&(e="Delete"),"Left"==e&&(e="ArrowLeft"),"Up"==e&&(e="ArrowUp"),"Right"==e&&(e="ArrowRight"),"Down"==e&&(e="ArrowDown"),e},e.shift=r},10233:(t,e,n)=>{"use strict";n.d(e,{rm:()=>bi,ML:()=>_i,$B:()=>hi,Iq:()=>Nr,R3:()=>zr,vc:()=>Zr,MT:()=>Dr,Xo:()=>yi,ml:()=>gi,uW:()=>mi,Dn:()=>ti,o4:()=>Fr,U7:()=>si,i8:()=>li,tQ:()=>Ir,ZP:()=>Yr,pB:()=>Ur,_z:()=>Hr,ZV:()=>Lr,CG:()=>Br,KP:()=>ci,le:()=>$r,Ck:()=>Kr,LS:()=>Mr,z6:()=>Rr});var r={};n.r(r),n.d(r,{attentionMarkers:()=>nn,contentInitial:()=>Ke,disable:()=>rn,document:()=>Xe,flow:()=>Ze,flowInitial:()=>Je,insideSpan:()=>en,string:()=>Qe,text:()=>tn});var i,o,a,s,l,c,u,h,d,f,p,g,m=n(61395),y=n(18872),v=n(3047),b=n(68241),w=n(18610),x=n(84148),_=n(86527),k=n(32737),E=Object.defineProperty,C=Object.defineProperties,S=Object.getOwnPropertyDescriptors,D=Object.getOwnPropertySymbols,T=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable,M=(t,e,n)=>e in t?E(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,N=(t,e)=>{for(var n in e||(e={}))T.call(e,n)&&M(t,n,e[n]);if(D)for(var n of D(e))A.call(e,n)&&M(t,n,e[n]);return t},O=(t,e)=>C(t,S(e)),F=(t,e)=>{var n={};for(var r in t)T.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&D)for(var r of D(t))e.indexOf(r)<0&&A.call(t,r)&&(n[r]=t[r]);return n},I=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},L=(t,e,n)=>(((t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)})(t,e,"access private method"),n);const B=()=>{const t=t=>t.elements.length,e=e=>e.elements[t(e)-1];return{size:t,top:e,push:t=>n=>{var r;null==(r=e(t))||r.push(n)},open:t=>e=>{t.elements.push(e)},close:t=>{const e=t.elements.pop();if(!e)throw(0,y.qw)();return e}}},{size:R,push:P,top:z,open:$,close:j}=B(),U=t=>t.isText,Y=t=>(e,n)=>$(t)(((t,e,n)=>{const r={type:t,content:e,attrs:n,push:(...t)=>((t,e,...n)=>{t.content.push(e,...n)})(r,...t),pop:()=>(t=>t.content.pop())(r)};return r})(e,[],n)),q=t=>(e,n,r)=>{const i=e.createAndFill(n,r,t.marks);if(!i)throw(0,y.Vh)(e,n,r);return P(t)(i),i},W=t=>()=>{t.marks=k.vc.none;const e=j(t);return q(t)(e.type,e.attrs,e.content)},H=t=>(e,n)=>{const r=e.create(n);t.marks=r.addToSet(t.marks)},V=t=>e=>{t.marks=e.removeFromSet(t.marks)},G=t=>e=>{const n=z(t);if(!n)throw(0,y.qw)();const r=n.pop(),i=t.schema.text(e,t.marks);if(!r)return void n.push(i);const o=((t,e,n)=>{if(U(e)&&U(n)&&k.vc.sameSet(e.marks,n.marks))return t.text(e.text+n.text,e.marks)})(t.schema,r,i);o?n.push(o):n.push(r,i)},X=t=>()=>{let e=null;do{e=W(t)()}while(R(t));return e};class K{constructor(t,e,n){I(this,i),I(this,a),this.stack=t,this.schema=e,this.specMap=n,this.run=(t,e)=>{const n=t.runSync(t.parse(e));return this.next(n),this},this.next=(t=[])=>([t].flat().forEach((t=>L(this,a,s).call(this,t))),this),this.toDoc=()=>this.stack.build(),this.injectRoot=(t,e,n)=>(this.stack.openNode(e,n),this.next(t.children),this),this.addText=(t="")=>(this.stack.addText(t),this),this.addNode=(...t)=>(this.stack.addNode(...t),this),this.openNode=(...t)=>(this.stack.openNode(...t),this),this.closeNode=(...t)=>(this.stack.closeNode(...t),this),this.openMark=(...t)=>(this.stack.openMark(...t),this),this.closeMark=(...t)=>(this.stack.closeMark(...t),this)}}i=new WeakSet,o=function(t){const e=Object.values(this.specMap).find((e=>e.match(t)));if(!e)throw(0,y.y$)(t);return e},a=new WeakSet,s=function(t){const{key:e,runner:n,is:r}=L(this,i,o).call(this,t);n(this,t,this.schema["node"===r?"nodes":"marks"][e])};const J=(t,e,n)=>r=>{const i=new K((t=>{const e={marks:[],elements:[],schema:t};return{build:X(e),openMark:H(e),closeMark:V(e),addText:G(e),openNode:Y(e),addNode:q(e),closeNode:W(e)}})(t),t,e);return i.run(n,r),i.toDoc()},Z=(t,e,n,r={})=>{const i={type:t,children:e,props:r,value:n,push:(...t)=>((t,e,...n)=>{t.children||(t.children=[]),t.children.push(e,...n)})(i,...t),pop:()=>(t=>{var e;return null==(e=t.children)?void 0:e.pop()})(i)};return i},{size:Q,push:tt,open:et,close:nt}=B(),rt=t=>{const{children:e}=t;return e?(t.children=e.reduce(((t,e,n)=>{if(0===n)return[e];const r=t[t.length-1];if(r&&e.isMark&&e.type===r.type){const n=e,{children:i}=n,o=F(n,["children"]),a=r,{children:s}=a,l=F(a,["children"]);if(i&&s&&JSON.stringify(o)===JSON.stringify(l)){const e=O(N({},l),{children:[...s,...i]});return t.slice(0,-1).concat(rt(e))}}return t.concat(e)}),[]),t):t},it=t=>(e,n,r)=>et(t)(Z(e,[],n,r)),ot=t=>(e,n,r,i)=>{const o=Z(e,n,r,i),a=rt((t=>{const e=O(N({},t.props),{type:t.type});return t.children&&(e.children=t.children),t.value&&(e.value=t.value),e})(o));return tt(t)(a),a},at=t=>()=>{const e=nt(t);return ot(t)(e.type,e.children,e.value,e.props)},st=t=>(e,n,r,i)=>{e.isInSet(t.marks)||(t.marks=e.addToSet(t.marks),it(t)(n,r,O(N({},i),{isMark:!0})))},lt=t=>e=>e.isInSet(t.marks)?(t.marks=e.type.removeFromSet(t.marks),at(t)()):null,ct=t=>()=>{let e=null;do{e=at(t)()}while(Q(t));return e};class ut{constructor(t,e,n){I(this,l),I(this,u),I(this,d),I(this,p),this.stack=t,this.schema=e,this.specMap=n,this.toString=t=>t.stringify(this.stack.build()),this.next=t=>{return e=t,Object.prototype.hasOwnProperty.call(e,"size")?(t.forEach((t=>{L(this,p,g).call(this,t)})),this):(L(this,p,g).call(this,t),this);var e},this.addNode=(...t)=>(this.stack.addNode(...t),this),this.openNode=(...t)=>(this.stack.openNode(...t),this),this.closeNode=(...t)=>(this.stack.closeNode(...t),this),this.withMark=(...t)=>(this.stack.openMark(...t),this)}run(t){return this.next(t),this}}l=new WeakSet,c=function(t){const e=Object.entries(this.specMap).map((([t,e])=>N({key:t},e))).find((e=>e.match(t)));if(!e)throw(0,y.OO)(t.type);return e},u=new WeakSet,h=function(t){const{runner:e}=L(this,l,c).call(this,t);e(this,t)},d=new WeakSet,f=function(t,e){const{runner:n}=L(this,l,c).call(this,t);return n(this,t,e)},p=new WeakSet,g=function(t){const{marks:e}=t,n=t=>{var e;return null!=(e=t.type.spec.priority)?e:50};[...e].sort(((t,e)=>n(t)-n(e))).every((e=>!L(this,d,f).call(this,e,t)))&&L(this,u,h).call(this,t),e.forEach((t=>this.stack.closeMark(t)))};const ht=(t,e,n)=>r=>{const i=new ut((()=>{const t={marks:[],elements:[]};return{build:ct(t),openMark:st(t),closeMark:lt(t),openNode:it(t),addNode:ot(t),closeNode:at(t)}})(),t,e);return i.run(r),i.toString(n)};function dt(t){if(t)throw t}var ft=n(99813),pt=n(22388),gt=n(1100);function mt(){const t=[],e={run:function(...e){let n=-1;const r=e.pop();if("function"!=typeof r)throw new TypeError("Expected function as last argument, not "+r);!function i(o,...a){const s=t[++n];let l=-1;if(o)r(o);else{for(;++l<e.length;)null!==a[l]&&void 0!==a[l]||(a[l]=e[l]);e=a,s?function(t,e){let n;return r;function r(...e){const r=t.length>e.length;let a;r&&e.push(i);try{a=t.apply(this,e)}catch(t){const e=t;if(r&&n)throw e;return i(e)}r||(a instanceof Promise?a.then(o,i):a instanceof Error?i(a):o(a))}function i(t,...r){n||(n=!0,e(t,...r))}function o(t){i(null,t)}}(s,i)(...a):r(null,...a)}}(null,...e)},use:function(n){if("function"!=typeof n)throw new TypeError("Expected `middelware` to be a function, not "+n);return t.push(n),e}};return e}function yt(t){return t&&"object"==typeof t?"position"in t||"type"in t?bt(t.position):"start"in t||"end"in t?bt(t):"line"in t||"column"in t?vt(t):"":""}function vt(t){return wt(t&&t.line)+":"+wt(t&&t.column)}function bt(t){return vt(t&&t.start)+"-"+vt(t&&t.end)}function wt(t){return t&&"number"==typeof t?t:1}class xt extends Error{constructor(t,e,n){const r=[null,null];let i={start:{line:null,column:null},end:{line:null,column:null}};if(super(),"string"==typeof e&&(n=e,e=void 0),"string"==typeof n){const t=n.indexOf(":");-1===t?r[1]=n:(r[0]=n.slice(0,t),r[1]=n.slice(t+1))}e&&("type"in e||"position"in e?e.position&&(i=e.position):"start"in e||"end"in e?i=e:("line"in e||"column"in e)&&(i.start=e)),this.name=yt(e)||"1:1",this.message="object"==typeof t?t.message:t,this.stack="object"==typeof t?t.stack:"",this.reason=this.message,this.fatal,this.line=i.start.line,this.column=i.start.column,this.source=r[0],this.ruleId=r[1],this.position=i,this.actual,this.expected,this.file,this.url,this.note}}xt.prototype.file="",xt.prototype.name="",xt.prototype.reason="",xt.prototype.message="",xt.prototype.stack="",xt.prototype.fatal=null,xt.prototype.column=null,xt.prototype.line=null,xt.prototype.source=null,xt.prototype.ruleId=null,xt.prototype.position=null;const _t={basename:function(t,e){if(void 0!==e&&"string"!=typeof e)throw new TypeError('"ext" argument must be a string');kt(t);let n,r=0,i=-1,o=t.length;if(void 0===e||0===e.length||e.length>t.length){for(;o--;)if(47===t.charCodeAt(o)){if(n){r=o+1;break}}else i<0&&(n=!0,i=o+1);return i<0?"":t.slice(r,i)}if(e===t)return"";let a=-1,s=e.length-1;for(;o--;)if(47===t.charCodeAt(o)){if(n){r=o+1;break}}else a<0&&(n=!0,a=o+1),s>-1&&(t.charCodeAt(o)===e.charCodeAt(s--)?s<0&&(i=o):(s=-1,i=a));r===i?i=a:i<0&&(i=t.length);return t.slice(r,i)},dirname:function(t){if(kt(t),0===t.length)return".";let e,n=-1,r=t.length;for(;--r;)if(47===t.charCodeAt(r)){if(e){n=r;break}}else e||(e=!0);return n<0?47===t.charCodeAt(0)?"/":".":1===n&&47===t.charCodeAt(0)?"//":t.slice(0,n)},extname:function(t){kt(t);let e,n=t.length,r=-1,i=0,o=-1,a=0;for(;n--;){const s=t.charCodeAt(n);if(47!==s)r<0&&(e=!0,r=n+1),46===s?o<0?o=n:1!==a&&(a=1):o>-1&&(a=-1);else if(e){i=n+1;break}}if(o<0||r<0||0===a||1===a&&o===r-1&&o===i+1)return"";return t.slice(o,r)},join:function(...t){let e,n=-1;for(;++n<t.length;)kt(t[n]),t[n]&&(e=void 0===e?t[n]:e+"/"+t[n]);return void 0===e?".":function(t){kt(t);const e=47===t.charCodeAt(0);let n=function(t,e){let n,r,i="",o=0,a=-1,s=0,l=-1;for(;++l<=t.length;){if(l<t.length)n=t.charCodeAt(l);else{if(47===n)break;n=47}if(47===n){if(a===l-1||1===s);else if(a!==l-1&&2===s){if(i.length<2||2!==o||46!==i.charCodeAt(i.length-1)||46!==i.charCodeAt(i.length-2))if(i.length>2){if(r=i.lastIndexOf("/"),r!==i.length-1){r<0?(i="",o=0):(i=i.slice(0,r),o=i.length-1-i.lastIndexOf("/")),a=l,s=0;continue}}else if(i.length>0){i="",o=0,a=l,s=0;continue}e&&(i=i.length>0?i+"/..":"..",o=2)}else i.length>0?i+="/"+t.slice(a+1,l):i=t.slice(a+1,l),o=l-a-1;a=l,s=0}else 46===n&&s>-1?s++:s=-1}return i}(t,!e);0!==n.length||e||(n=".");n.length>0&&47===t.charCodeAt(t.length-1)&&(n+="/");return e?"/"+n:n}(e)},sep:"/"};function kt(t){if("string"!=typeof t)throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const Et={cwd:function(){return"/"}};function Ct(t){return null!==t&&"object"==typeof t&&t.href&&t.origin}function St(t){if("string"==typeof t)t=new URL(t);else if(!Ct(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if("file:"!==t.protocol){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return function(t){if(""!==t.hostname){const t=new TypeError('File URL host must be "localhost" or empty on darwin');throw t.code="ERR_INVALID_FILE_URL_HOST",t}const e=t.pathname;let n=-1;for(;++n<e.length;)if(37===e.charCodeAt(n)&&50===e.charCodeAt(n+1)){const t=e.charCodeAt(n+2);if(70===t||102===t){const t=new TypeError("File URL path must not include encoded / characters");throw t.code="ERR_INVALID_FILE_URL_PATH",t}}return decodeURIComponent(e)}(t)}const Dt=["history","path","basename","stem","extname","dirname"];class Tt{constructor(t){let e;e=t?"string"==typeof t||ft(t)?{value:t}:Ct(t)?{path:t}:t:{},this.data={},this.messages=[],this.history=[],this.cwd=Et.cwd(),this.value,this.stored,this.result,this.map;let n,r=-1;for(;++r<Dt.length;){const t=Dt[r];t in e&&void 0!==e[t]&&(this[t]="history"===t?[...e[t]]:e[t])}for(n in e)Dt.includes(n)||(this[n]=e[n])}get path(){return this.history[this.history.length-1]}set path(t){Ct(t)&&(t=St(t)),Mt(t,"path"),this.path!==t&&this.history.push(t)}get dirname(){return"string"==typeof this.path?_t.dirname(this.path):void 0}set dirname(t){Nt(this.basename,"dirname"),this.path=_t.join(t||"",this.basename)}get basename(){return"string"==typeof this.path?_t.basename(this.path):void 0}set basename(t){Mt(t,"basename"),At(t,"basename"),this.path=_t.join(this.dirname||"",t)}get extname(){return"string"==typeof this.path?_t.extname(this.path):void 0}set extname(t){if(At(t,"extname"),Nt(this.dirname,"extname"),t){if(46!==t.charCodeAt(0))throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=_t.join(this.dirname,this.stem+(t||""))}get stem(){return"string"==typeof this.path?_t.basename(this.path,this.extname):void 0}set stem(t){Mt(t,"stem"),At(t,"stem"),this.path=_t.join(this.dirname||"",t+(this.extname||""))}toString(t){return(this.value||"").toString(t)}message(t,e,n){const r=new xt(t,e,n);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}info(t,e,n){const r=this.message(t,e,n);return r.fatal=null,r}fail(t,e,n){const r=this.message(t,e,n);throw r.fatal=!0,r}}function At(t,e){if(t&&t.includes(_t.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+_t.sep+"`")}function Mt(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function Nt(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}const Ot=function t(){const e=mt(),n=[];let r,i={},o=-1;return a.data=function(t,e){if("string"==typeof t)return 2===arguments.length?(Rt("data",r),i[t]=e,a):Ft.call(i,t)&&i[t]||null;if(t)return Rt("data",r),i=t,a;return i},a.Parser=void 0,a.Compiler=void 0,a.freeze=function(){if(r)return a;for(;++o<n.length;){const[t,...r]=n[o];if(!1===r[0])continue;!0===r[0]&&(r[0]=void 0);const i=t.call(a,...r);"function"==typeof i&&e.use(i)}return r=!0,o=Number.POSITIVE_INFINITY,a},a.attachers=n,a.use=function(t,...e){let o;if(Rt("use",r),null==t);else if("function"==typeof t)u(t,...e);else{if("object"!=typeof t)throw new TypeError("Expected usable value, not `"+t+"`");Array.isArray(t)?c(t):l(t)}o&&(i.settings=Object.assign(i.settings||{},o));return a;function s(t){if("function"==typeof t)u(t);else{if("object"!=typeof t)throw new TypeError("Expected usable value, not `"+t+"`");if(Array.isArray(t)){const[e,...n]=t;u(e,...n)}else l(t)}}function l(t){c(t.plugins),t.settings&&(o=Object.assign(o||{},t.settings))}function c(t){let e=-1;if(null==t);else{if(!Array.isArray(t))throw new TypeError("Expected a list of plugins, not `"+t+"`");for(;++e<t.length;){s(t[e])}}}function u(t,e){let r,i=-1;for(;++i<n.length;)if(n[i][0]===t){r=n[i];break}r?(gt(r[1])&&gt(e)&&(e=pt(!0,r[1],e)),r[1]=e):n.push([...arguments])}},a.parse=function(t){a.freeze();const e=$t(t),n=a.Parser;if(Lt("parse",n),It(n,"parse"))return new n(String(e),e).parse();return n(String(e),e)},a.stringify=function(t,e){a.freeze();const n=$t(e),r=a.Compiler;if(Bt("stringify",r),Pt(t),It(r,"compile"))return new r(t,n).compile();return r(t,n)},a.run=function(t,n,r){Pt(t),a.freeze(),r||"function"!=typeof n||(r=n,n=void 0);if(!r)return new Promise(i);function i(i,o){function a(e,n,a){n=n||t,e?o(e):i?i(n):r(null,n,a)}e.run(t,$t(n),a)}i(null,r)},a.runSync=function(t,e){let n,r;return a.run(t,e,i),zt("runSync","run",r),n;function i(t,e){dt(t),n=e,r=!0}},a.process=function(t,e){if(a.freeze(),Lt("process",a.Parser),Bt("process",a.Compiler),!e)return new Promise(n);function n(n,r){const i=$t(t);function o(t,i){t||!i?r(t):n?n(i):e(null,i)}a.run(a.parse(i),i,((t,e,n)=>{if(!t&&e&&n){const i=a.stringify(e,n);null==i||("string"==typeof(r=i)||ft(r)?n.value=i:n.result=i),o(t,n)}else o(t);var r}))}n(null,e)},a.processSync=function(t){let e;a.freeze(),Lt("processSync",a.Parser),Bt("processSync",a.Compiler);const n=$t(t);return a.process(n,r),zt("processSync","process",e),n;function r(t){e=!0,dt(t)}},a;function a(){const e=t();let r=-1;for(;++r<n.length;)e.use(...n[r]);return e.data(pt(!0,{},i)),e}}().freeze(),Ft={}.hasOwnProperty;function It(t,e){return"function"==typeof t&&t.prototype&&(function(t){let e;for(e in t)if(Ft.call(t,e))return!0;return!1}(t.prototype)||e in t.prototype)}function Lt(t,e){if("function"!=typeof e)throw new TypeError("Cannot `"+t+"` without `Parser`")}function Bt(t,e){if("function"!=typeof e)throw new TypeError("Cannot `"+t+"` without `Compiler`")}function Rt(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Pt(t){if(!gt(t)||"string"!=typeof t.type)throw new TypeError("Expected node, got `"+t+"`")}function zt(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function $t(t){return function(t){return Boolean(t&&"object"==typeof t&&"message"in t&&"messages"in t)}(t)?t:new Tt(t)}function jt(t,e){var{includeImageAlt:n=!0}=e||{};return Ut(t,n)}function Ut(t,e){return t&&"object"==typeof t&&(t.value||(e?t.alt:"")||"children"in t&&Yt(t.children,e)||Array.isArray(t)&&Yt(t,e))||""}function Yt(t,e){for(var n=[],r=-1;++r<t.length;)n[r]=Ut(t[r],e);return n.join("")}var qt=n(78438),Wt=n(12101),Ht=n(34290);const Vt={tokenize:function(t){const e=t.attempt(this.parser.constructs.contentInitial,(function(n){if(null===n)return void t.consume(n);return t.enter("lineEnding"),t.consume(n),t.exit("lineEnding"),(0,Wt.f)(t,e,"linePrefix")}),(function(e){return t.enter("paragraph"),r(e)}));let n;return e;function r(e){const r=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=r),n=r,i(e)}function i(e){return null===e?(t.exit("chunkText"),t.exit("paragraph"),void t.consume(e)):(0,Ht.Ch)(e)?(t.consume(e),t.exit("chunkText"),r):(t.consume(e),i)}}};var Gt=n(51345);const Xt={tokenize:function(t){const e=this,n=[];let r,i,o,a=0;return s;function s(r){if(a<n.length){const i=n[a];return e.containerState=i[1],t.attempt(i[0].continuation,l,c)(r)}return c(r)}function l(t){if(a++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,r&&v();const n=e.events.length;let i,o=n;for(;o--;)if("exit"===e.events[o][0]&&"chunkFlow"===e.events[o][1].type){i=e.events[o][1].end;break}y(a);let s=n;for(;s<e.events.length;)e.events[s][1].end=Object.assign({},i),s++;return(0,Gt.d)(e.events,o+1,0,e.events.slice(n)),e.events.length=s,c(t)}return s(t)}function c(i){if(a===n.length){if(!r)return d(i);if(r.currentConstruct&&r.currentConstruct.concrete)return p(i);e.interrupt=Boolean(r.currentConstruct&&!r._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(Kt,u,h)(i)}function u(t){return r&&v(),y(a),d(t)}function h(t){return e.parser.lazy[e.now().line]=a!==n.length,o=e.now().offset,p(t)}function d(n){return e.containerState={},t.attempt(Kt,f,p)(n)}function f(t){return a++,n.push([e.currentConstruct,e.containerState]),d(t)}function p(n){return null===n?(r&&v(),y(0),void t.consume(n)):(r=r||e.parser.flow(e.now()),t.enter("chunkFlow",{contentType:"flow",previous:i,_tokenizer:r}),g(n))}function g(n){return null===n?(m(t.exit("chunkFlow"),!0),y(0),void t.consume(n)):(0,Ht.Ch)(n)?(t.consume(n),m(t.exit("chunkFlow")),a=0,e.interrupt=void 0,s):(t.consume(n),g)}function m(t,n){const s=e.sliceStream(t);if(n&&s.push(null),t.previous=i,i&&(i.next=t),i=t,r.defineSkip(t.start),r.write(s),e.parser.lazy[t.start.line]){let t=r.events.length;for(;t--;)if(r.events[t][1].start.offset<o&&(!r.events[t][1].end||r.events[t][1].end.offset>o))return;const n=e.events.length;let i,s,l=n;for(;l--;)if("exit"===e.events[l][0]&&"chunkFlow"===e.events[l][1].type){if(i){s=e.events[l][1].end;break}i=!0}for(y(a),t=n;t<e.events.length;)e.events[t][1].end=Object.assign({},s),t++;(0,Gt.d)(e.events,l+1,0,e.events.slice(n)),e.events.length=t}}function y(r){let i=n.length;for(;i-- >r;){const r=n[i];e.containerState=r[1],r[0].exit.call(e,t)}n.length=r}function v(){r.write([null]),i=void 0,r=void 0,e.containerState._closeFlow=void 0}}},Kt={tokenize:function(t,e,n){return(0,Wt.f)(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}};var Jt=n(16036);function Zt(t){const e={};let n,r,i,o,a,s,l,c=-1;for(;++c<t.length;){for(;c in e;)c=e[c];if(n=t[c],c&&"chunkFlow"===n[1].type&&"listItemPrefix"===t[c-1][1].type&&(s=n[1]._tokenizer.events,i=0,i<s.length&&"lineEndingBlank"===s[i][1].type&&(i+=2),i<s.length&&"content"===s[i][1].type))for(;++i<s.length&&"content"!==s[i][1].type;)"chunkText"===s[i][1].type&&(s[i][1]._isInFirstContentOfListItem=!0,i++);if("enter"===n[0])n[1].contentType&&(Object.assign(e,Qt(t,c)),c=e[c],l=!0);else if(n[1]._container){for(i=c,r=void 0;i--&&(o=t[i],"lineEnding"===o[1].type||"lineEndingBlank"===o[1].type);)"enter"===o[0]&&(r&&(t[r][1].type="lineEndingBlank"),o[1].type="lineEnding",r=i);r&&(n[1].end=Object.assign({},t[r][1].start),a=t.slice(r,c),a.unshift(n),(0,Gt.d)(t,r,c-r+1,a))}}return!l}function Qt(t,e){const n=t[e][1],r=t[e][2];let i=e-1;const o=[],a=n._tokenizer||r.parser[n.contentType](n.start),s=a.events,l=[],c={};let u,h,d=-1,f=n,p=0,g=0;const m=[g];for(;f;){for(;t[++i][1]!==f;);o.push(i),f._tokenizer||(u=r.sliceStream(f),f.next||u.push(null),h&&a.defineSkip(f.start),f._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(u),f._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),h=f,f=f.next}for(f=n;++d<s.length;)"exit"===s[d][0]&&"enter"===s[d-1][0]&&s[d][1].type===s[d-1][1].type&&s[d][1].start.line!==s[d][1].end.line&&(g=d+1,m.push(g),f._tokenizer=void 0,f.previous=void 0,f=f.next);for(a.events=[],f?(f._tokenizer=void 0,f.previous=void 0):m.pop(),d=m.length;d--;){const e=s.slice(m[d],m[d+1]),n=o.pop();l.unshift([n,n+e.length-1]),(0,Gt.d)(t,n,2,e)}for(d=-1;++d<l.length;)c[p+l[d][0]]=p+l[d][1],p+=l[d][1]-l[d][0]-1;return c}const te={tokenize:function(t,e){let n;return function(e){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),r(e)};function r(e){return null===e?i(e):(0,Ht.Ch)(e)?t.check(ee,o,i)(e):(t.consume(e),r)}function i(n){return t.exit("chunkContent"),t.exit("content"),e(n)}function o(e){return t.consume(e),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,r}},resolve:function(t){return Zt(t),t}},ee={tokenize:function(t,e,n){const r=this;return function(e){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(e),t.exit("lineEnding"),(0,Wt.f)(t,i,"linePrefix")};function i(i){if(null===i||(0,Ht.Ch)(i))return n(i);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&"linePrefix"===o[1].type&&o[2].sliceSerialize(o[1],!0).length>=4?e(i):t.interrupt(r.parser.constructs.flow,n,e)(i)}},partial:!0};const ne={tokenize:function(t){const e=this,n=t.attempt(Jt.w,(function(r){if(null===r)return void t.consume(r);return t.enter("lineEndingBlank"),t.consume(r),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}),t.attempt(this.parser.constructs.flowInitial,r,(0,Wt.f)(t,t.attempt(this.parser.constructs.flow,r,t.attempt(te,r)),"linePrefix")));return n;function r(r){if(null!==r)return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),e.currentConstruct=void 0,n;t.consume(r)}}};const re={resolveAll:se()},ie=ae("string"),oe=ae("text");function ae(t){return{tokenize:function(e){const n=this,r=this.parser.constructs[t],i=e.attempt(r,o,a);return o;function o(t){return l(t)?i(t):a(t)}function a(t){if(null!==t)return e.enter("data"),e.consume(t),s;e.consume(t)}function s(t){return l(t)?(e.exit("data"),i(t)):(e.consume(t),s)}function l(t){if(null===t)return!0;const e=r[t];let i=-1;if(e)for(;++i<e.length;){const t=e[i];if(!t.previous||t.previous.call(n,n.previous))return!0}return!1}},resolveAll:se("text"===t?le:void 0)}}function se(t){return function(e,n){let r,i=-1;for(;++i<=e.length;)void 0===r?e[i]&&"data"===e[i][1].type&&(r=i,i++):e[i]&&"data"===e[i][1].type||(i!==r+2&&(e[r][1].end=e[i-1][1].end,e.splice(r+2,i-r-2),i=r+2),r=void 0);return t?t(e,n):e}}function le(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||"lineEnding"===t[n][1].type)&&"data"===t[n-1][1].type){const r=t[n-1][1],i=e.sliceStream(r);let o,a=i.length,s=-1,l=0;for(;a--;){const t=i[a];if("string"==typeof t){for(s=t.length;32===t.charCodeAt(s-1);)l++,s--;if(s)break;s=-1}else if(-2===t)o=!0,l++;else if(-1!==t){a++;break}}if(l){const i={type:n===t.length||o||l<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-l,offset:r.end.offset-l,_index:r.start._index+a,_bufferIndex:a?s:r.start._bufferIndex+s},end:Object.assign({},r.end)};r.end=Object.assign({},i.start),r.start.offset===r.end.offset?Object.assign(r,i):(t.splice(n,0,["enter",i,e],["exit",i,e]),n+=2)}n++}return t}var ce=n(30838);function ue(t,e,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},o=[];let a=[],s=[],l=!0;const c={consume:function(t){(0,Ht.Ch)(t)?(r.line++,r.column=1,r.offset+=-3===t?2:1,w()):-1!==t&&(r.column++,r.offset++);r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++));u.previous=t,l=!0},enter:function(t,e){const n=e||{};return n.type=t,n.start=p(),u.events.push(["enter",n,u]),s.push(n),n},exit:function(t){const e=s.pop();return e.end=p(),u.events.push(["exit",e,u]),e},attempt:v((function(t,e){b(t,e.from)})),check:v(y),interrupt:v(y,{interrupt:!0})},u={previous:null,code:null,containerState:{},events:[],parser:t,sliceStream:f,sliceSerialize:function(t,e){return function(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const o=t[n];let a;if("string"==typeof o)a=o;else switch(o){case-5:a="\r";break;case-4:a="\n";break;case-3:a="\r\n";break;case-2:a=e?" ":"\t";break;case-1:if(!e&&i)continue;a=" ";break;default:a=String.fromCharCode(o)}i=-2===o,r.push(a)}return r.join("")}(f(t),e)},now:p,defineSkip:function(t){i[t.line]=t.column,w()},write:function(t){if(a=(0,Gt.V)(a,t),g(),null!==a[a.length-1])return[];return b(e,0),u.events=(0,ce.C)(o,u.events,u),u.events}};let h,d=e.tokenize.call(u,c);return e.resolveAll&&o.push(e),u;function f(t){return function(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,o=e.end._bufferIndex;let a;n===i?a=[t[n].slice(r,o)]:(a=t.slice(n,i),r>-1&&(a[0]=a[0].slice(r)),o>0&&a.push(t[i].slice(0,o)));return a}(a,t)}function p(){return Object.assign({},r)}function g(){let t;for(;r._index<a.length;){const e=a[r._index];if("string"==typeof e)for(t=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===t&&r._bufferIndex<e.length;)m(e.charCodeAt(r._bufferIndex));else m(e)}}function m(t){l=void 0,h=t,d=d(t)}function y(t,e){e.restore()}function v(t,e){return function(n,i,o){let a,h,d,f;return Array.isArray(n)?g(n):"tokenize"in n?g([n]):function(t){return e;function e(e){const n=null!==e&&t[e],r=null!==e&&t.null;return g([...Array.isArray(n)?n:n?[n]:[],...Array.isArray(r)?r:r?[r]:[]])(e)}}(n);function g(t){return a=t,h=0,0===t.length?o:m(t[h])}function m(t){return function(n){f=function(){const t=p(),e=u.previous,n=u.currentConstruct,i=u.events.length,o=Array.from(s);return{restore:a,from:i};function a(){r=t,u.previous=e,u.currentConstruct=n,u.events.length=i,s=o,w()}}(),d=t,t.partial||(u.currentConstruct=t);if(t.name&&u.parser.constructs.disable.null.includes(t.name))return v(n);return t.tokenize.call(e?Object.assign(Object.create(u),e):u,c,y,v)(n)}}function y(e){return l=!0,t(d,f),i}function v(t){return l=!0,f.restore(),++h<a.length?m(a[h]):o}}}function b(t,e){t.resolveAll&&!o.includes(t)&&o.push(t),t.resolve&&(0,Gt.d)(u.events,e,u.events.length-e,t.resolve(u.events.slice(e),u)),t.resolveTo&&(u.events=t.resolveTo(u.events,u))}function w(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}const he={name:"thematicBreak",tokenize:function(t,e,n){let r,i=0;return function(e){return t.enter("thematicBreak"),r=e,o(e)};function o(s){return s===r?(t.enter("thematicBreakSequence"),a(s)):(0,Ht.xz)(s)?(0,Wt.f)(t,o,"whitespace")(s):i<3||null!==s&&!(0,Ht.Ch)(s)?n(s):(t.exit("thematicBreak"),e(s))}function a(e){return e===r?(t.consume(e),i++,a):(t.exit("thematicBreakSequence"),o(e))}}};const de={name:"list",tokenize:function(t,e,n){const r=this,i=r.events[r.events.length-1];let o=i&&"linePrefix"===i[1].type?i[2].sliceSerialize(i[1],!0).length:0,a=0;return function(e){const i=r.containerState.type||(42===e||43===e||45===e?"listUnordered":"listOrdered");if("listUnordered"===i?!r.containerState.marker||e===r.containerState.marker:(0,Ht.pY)(e)){if(r.containerState.type||(r.containerState.type=i,t.enter(i,{_container:!0})),"listUnordered"===i)return t.enter("listItemPrefix"),42===e||45===e?t.check(he,n,l)(e):l(e);if(!r.interrupt||49===e)return t.enter("listItemPrefix"),t.enter("listItemValue"),s(e)}return n(e)};function s(e){return(0,Ht.pY)(e)&&++a<10?(t.consume(e),s):(!r.interrupt||a<2)&&(r.containerState.marker?e===r.containerState.marker:41===e||46===e)?(t.exit("listItemValue"),l(e)):n(e)}function l(e){return t.enter("listItemMarker"),t.consume(e),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||e,t.check(Jt.w,r.interrupt?n:c,t.attempt(fe,h,u))}function c(t){return r.containerState.initialBlankLine=!0,o++,h(t)}function u(e){return(0,Ht.xz)(e)?(t.enter("listItemPrefixWhitespace"),t.consume(e),t.exit("listItemPrefixWhitespace"),h):n(e)}function h(n){return r.containerState.size=o+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(n)}},continuation:{tokenize:function(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(Jt.w,(function(n){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,(0,Wt.f)(t,e,"listItemIndent",r.containerState.size+1)(n)}),(function(n){if(r.containerState.furtherBlankLines||!(0,Ht.xz)(n))return r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,i(n);return r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(pe,e,i)(n)}));function i(i){return r.containerState._closeFlow=!0,r.interrupt=void 0,(0,Wt.f)(t,t.attempt(de,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(i)}}},exit:function(t){t.exit(this.containerState.type)}},fe={tokenize:function(t,e,n){const r=this;return(0,Wt.f)(t,(function(t){const i=r.events[r.events.length-1];return!(0,Ht.xz)(t)&&i&&"listItemPrefixWhitespace"===i[1].type?e(t):n(t)}),"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5)},partial:!0},pe={tokenize:function(t,e,n){const r=this;return(0,Wt.f)(t,(function(t){const i=r.events[r.events.length-1];return i&&"listItemIndent"===i[1].type&&i[2].sliceSerialize(i[1],!0).length===r.containerState.size?e(t):n(t)}),"listItemIndent",r.containerState.size+1)},partial:!0};const ge={name:"blockQuote",tokenize:function(t,e,n){const r=this;return function(e){if(62===e){const n=r.containerState;return n.open||(t.enter("blockQuote",{_container:!0}),n.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(e),t.exit("blockQuoteMarker"),i}return n(e)};function i(n){return(0,Ht.xz)(n)?(t.enter("blockQuotePrefixWhitespace"),t.consume(n),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(n))}},continuation:{tokenize:function(t,e,n){return(0,Wt.f)(t,t.attempt(ge,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}},exit:function(t){t.exit("blockQuote")}};function me(t,e,n,r,i,o,a,s,l){const c=l||Number.POSITIVE_INFINITY;let u=0;return function(e){if(60===e)return t.enter(r),t.enter(i),t.enter(o),t.consume(e),t.exit(o),h;if(null===e||41===e||(0,Ht.Av)(e))return n(e);return t.enter(r),t.enter(a),t.enter(s),t.enter("chunkString",{contentType:"string"}),p(e)};function h(n){return 62===n?(t.enter(o),t.consume(n),t.exit(o),t.exit(i),t.exit(r),e):(t.enter(s),t.enter("chunkString",{contentType:"string"}),d(n))}function d(e){return 62===e?(t.exit("chunkString"),t.exit(s),h(e)):null===e||60===e||(0,Ht.Ch)(e)?n(e):(t.consume(e),92===e?f:d)}function f(e){return 60===e||62===e||92===e?(t.consume(e),d):d(e)}function p(i){return 40===i?++u>c?n(i):(t.consume(i),p):41===i?u--?(t.consume(i),p):(t.exit("chunkString"),t.exit(s),t.exit(a),t.exit(r),e(i)):null===i||(0,Ht.z3)(i)?u?n(i):(t.exit("chunkString"),t.exit(s),t.exit(a),t.exit(r),e(i)):(0,Ht.Av)(i)?n(i):(t.consume(i),92===i?g:p)}function g(e){return 40===e||41===e||92===e?(t.consume(e),p):p(e)}}function ye(t,e,n,r,i,o){const a=this;let s,l=0;return function(e){return t.enter(r),t.enter(i),t.consume(e),t.exit(i),t.enter(o),c};function c(h){return null===h||91===h||93===h&&!s||94===h&&!l&&"_hiddenFootnoteSupport"in a.parser.constructs||l>999?n(h):93===h?(t.exit(o),t.enter(i),t.consume(h),t.exit(i),t.exit(r),e):(0,Ht.Ch)(h)?(t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),c):(t.enter("chunkString",{contentType:"string"}),u(h))}function u(e){return null===e||91===e||93===e||(0,Ht.Ch)(e)||l++>999?(t.exit("chunkString"),c(e)):(t.consume(e),s=s||!(0,Ht.xz)(e),92===e?h:u)}function h(e){return 91===e||92===e||93===e?(t.consume(e),l++,u):u(e)}}function ve(t,e,n,r,i,o){let a;return function(e){return t.enter(r),t.enter(i),t.consume(e),t.exit(i),a=40===e?41:e,s};function s(n){return n===a?(t.enter(i),t.consume(n),t.exit(i),t.exit(r),e):(t.enter(o),l(n))}function l(e){return e===a?(t.exit(o),s(a)):null===e?n(e):(0,Ht.Ch)(e)?(t.enter("lineEnding"),t.consume(e),t.exit("lineEnding"),(0,Wt.f)(t,l,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),c(e))}function c(e){return e===a||null===e||(0,Ht.Ch)(e)?(t.exit("chunkString"),l(e)):(t.consume(e),92===e?u:c)}function u(e){return e===a||92===e?(t.consume(e),c):c(e)}}function be(t,e){let n;return function r(i){if((0,Ht.Ch)(i))return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r;if((0,Ht.xz)(i))return(0,Wt.f)(t,r,n?"linePrefix":"lineSuffix")(i);return e(i)}}var we=n(36426);const xe={name:"definition",tokenize:function(t,e,n){const r=this;let i;return function(e){return t.enter("definition"),ye.call(r,t,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(e)};function o(e){return i=(0,we.d)(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),58===e?(t.enter("definitionMarker"),t.consume(e),t.exit("definitionMarker"),be(t,me(t,t.attempt(_e,(0,Wt.f)(t,a,"whitespace"),(0,Wt.f)(t,a,"whitespace")),n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString"))):n(e)}function a(o){return null===o||(0,Ht.Ch)(o)?(t.exit("definition"),r.parser.defined.includes(i)||r.parser.defined.push(i),e(o)):n(o)}}},_e={tokenize:function(t,e,n){return function(e){return(0,Ht.z3)(e)?be(t,r)(e):n(e)};function r(e){return 34===e||39===e||40===e?ve(t,(0,Wt.f)(t,i,"whitespace"),n,"definitionTitle","definitionTitleMarker","definitionTitleString")(e):n(e)}function i(t){return null===t||(0,Ht.Ch)(t)?e(t):n(t)}},partial:!0};const ke={name:"codeIndented",tokenize:function(t,e,n){const r=this;return function(e){return t.enter("codeIndented"),(0,Wt.f)(t,i,"linePrefix",5)(e)};function i(t){const e=r.events[r.events.length-1];return e&&"linePrefix"===e[1].type&&e[2].sliceSerialize(e[1],!0).length>=4?o(t):n(t)}function o(e){return null===e?s(e):(0,Ht.Ch)(e)?t.attempt(Ee,o,s)(e):(t.enter("codeFlowValue"),a(e))}function a(e){return null===e||(0,Ht.Ch)(e)?(t.exit("codeFlowValue"),o(e)):(t.consume(e),a)}function s(n){return t.exit("codeIndented"),e(n)}}},Ee={tokenize:function(t,e,n){const r=this;return i;function i(e){return r.parser.lazy[r.now().line]?n(e):(0,Ht.Ch)(e)?(t.enter("lineEnding"),t.consume(e),t.exit("lineEnding"),i):(0,Wt.f)(t,o,"linePrefix",5)(e)}function o(t){const o=r.events[r.events.length-1];return o&&"linePrefix"===o[1].type&&o[2].sliceSerialize(o[1],!0).length>=4?e(t):(0,Ht.Ch)(t)?i(t):n(t)}},partial:!0};const Ce={name:"headingAtx",tokenize:function(t,e,n){const r=this;let i=0;return function(e){return t.enter("atxHeading"),t.enter("atxHeadingSequence"),o(e)};function o(s){return 35===s&&i++<6?(t.consume(s),o):null===s||(0,Ht.z3)(s)?(t.exit("atxHeadingSequence"),r.interrupt?e(s):a(s)):n(s)}function a(n){return 35===n?(t.enter("atxHeadingSequence"),s(n)):null===n||(0,Ht.Ch)(n)?(t.exit("atxHeading"),e(n)):(0,Ht.xz)(n)?(0,Wt.f)(t,a,"whitespace")(n):(t.enter("atxHeadingText"),l(n))}function s(e){return 35===e?(t.consume(e),s):(t.exit("atxHeadingSequence"),a(e))}function l(e){return null===e||35===e||(0,Ht.z3)(e)?(t.exit("atxHeadingText"),a(e)):(t.consume(e),l)}},resolve:function(t,e){let n,r,i=t.length-2,o=3;"whitespace"===t[o][1].type&&(o+=2);i-2>o&&"whitespace"===t[i][1].type&&(i-=2);"atxHeadingSequence"===t[i][1].type&&(o===i-1||i-4>o&&"whitespace"===t[i-2][1].type)&&(i-=o+1===i?2:4);i>o&&(n={type:"atxHeadingText",start:t[o][1].start,end:t[i][1].end},r={type:"chunkText",start:t[o][1].start,end:t[i][1].end,contentType:"text"},(0,Gt.d)(t,o,i-o+1,[["enter",n,e],["enter",r,e],["exit",r,e],["exit",n,e]]));return t}};const Se={name:"setextUnderline",tokenize:function(t,e,n){const r=this;let i,o,a=r.events.length;for(;a--;)if("lineEnding"!==r.events[a][1].type&&"linePrefix"!==r.events[a][1].type&&"content"!==r.events[a][1].type){o="paragraph"===r.events[a][1].type;break}return function(e){if(!r.parser.lazy[r.now().line]&&(r.interrupt||o))return t.enter("setextHeadingLine"),t.enter("setextHeadingLineSequence"),i=e,s(e);return n(e)};function s(e){return e===i?(t.consume(e),s):(t.exit("setextHeadingLineSequence"),(0,Wt.f)(t,l,"lineSuffix")(e))}function l(r){return null===r||(0,Ht.Ch)(r)?(t.exit("setextHeadingLine"),e(r)):n(r)}},resolveTo:function(t,e){let n,r,i,o=t.length;for(;o--;)if("enter"===t[o][0]){if("content"===t[o][1].type){n=o;break}"paragraph"===t[o][1].type&&(r=o)}else"content"===t[o][1].type&&t.splice(o,1),i||"definition"!==t[o][1].type||(i=o);const a={type:"setextHeading",start:Object.assign({},t[r][1].start),end:Object.assign({},t[t.length-1][1].end)};t[r][1].type="setextHeadingText",i?(t.splice(r,0,["enter",a,e]),t.splice(i+1,0,["exit",t[n][1],e]),t[n][1].end=Object.assign({},t[i][1].end)):t[n][1]=a;return t.push(["exit",a,e]),t}};const De=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Te=["pre","script","style","textarea"],Ae={name:"htmlFlow",tokenize:function(t,e,n){const r=this;let i,o,a,s,l;return function(e){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(e),c};function c(s){return 33===s?(t.consume(s),u):47===s?(t.consume(s),f):63===s?(t.consume(s),i=3,r.interrupt?e:I):(0,Ht.jv)(s)?(t.consume(s),a=String.fromCharCode(s),o=!0,p):n(s)}function u(o){return 45===o?(t.consume(o),i=2,h):91===o?(t.consume(o),i=5,a="CDATA[",s=0,d):(0,Ht.jv)(o)?(t.consume(o),i=4,r.interrupt?e:I):n(o)}function h(i){return 45===i?(t.consume(i),r.interrupt?e:I):n(i)}function d(i){return i===a.charCodeAt(s++)?(t.consume(i),s===a.length?r.interrupt?e:S:d):n(i)}function f(e){return(0,Ht.jv)(e)?(t.consume(e),a=String.fromCharCode(e),p):n(e)}function p(s){return null===s||47===s||62===s||(0,Ht.z3)(s)?47!==s&&o&&Te.includes(a.toLowerCase())?(i=1,r.interrupt?e(s):S(s)):De.includes(a.toLowerCase())?(i=6,47===s?(t.consume(s),g):r.interrupt?e(s):S(s)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(s):o?y(s):m(s)):45===s||(0,Ht.H$)(s)?(t.consume(s),a+=String.fromCharCode(s),p):n(s)}function g(i){return 62===i?(t.consume(i),r.interrupt?e:S):n(i)}function m(e){return(0,Ht.xz)(e)?(t.consume(e),m):E(e)}function y(e){return 47===e?(t.consume(e),E):58===e||95===e||(0,Ht.jv)(e)?(t.consume(e),v):(0,Ht.xz)(e)?(t.consume(e),y):E(e)}function v(e){return 45===e||46===e||58===e||95===e||(0,Ht.H$)(e)?(t.consume(e),v):b(e)}function b(e){return 61===e?(t.consume(e),w):(0,Ht.xz)(e)?(t.consume(e),b):y(e)}function w(e){return null===e||60===e||61===e||62===e||96===e?n(e):34===e||39===e?(t.consume(e),l=e,x):(0,Ht.xz)(e)?(t.consume(e),w):(l=null,_(e))}function x(e){return null===e||(0,Ht.Ch)(e)?n(e):e===l?(t.consume(e),k):(t.consume(e),x)}function _(e){return null===e||34===e||39===e||60===e||61===e||62===e||96===e||(0,Ht.z3)(e)?b(e):(t.consume(e),_)}function k(t){return 47===t||62===t||(0,Ht.xz)(t)?y(t):n(t)}function E(e){return 62===e?(t.consume(e),C):n(e)}function C(e){return(0,Ht.xz)(e)?(t.consume(e),C):null===e||(0,Ht.Ch)(e)?S(e):n(e)}function S(e){return 45===e&&2===i?(t.consume(e),M):60===e&&1===i?(t.consume(e),N):62===e&&4===i?(t.consume(e),L):63===e&&3===i?(t.consume(e),I):93===e&&5===i?(t.consume(e),F):!(0,Ht.Ch)(e)||6!==i&&7!==i?null===e||(0,Ht.Ch)(e)?D(e):(t.consume(e),S):t.check(Me,L,D)(e)}function D(e){return t.exit("htmlFlowData"),T(e)}function T(e){return null===e?B(e):(0,Ht.Ch)(e)?t.attempt({tokenize:A,partial:!0},T,B)(e):(t.enter("htmlFlowData"),S(e))}function A(t,e,n){return function(e){return t.enter("lineEnding"),t.consume(e),t.exit("lineEnding"),i};function i(t){return r.parser.lazy[r.now().line]?n(t):e(t)}}function M(e){return 45===e?(t.consume(e),I):S(e)}function N(e){return 47===e?(t.consume(e),a="",O):S(e)}function O(e){return 62===e&&Te.includes(a.toLowerCase())?(t.consume(e),L):(0,Ht.jv)(e)&&a.length<8?(t.consume(e),a+=String.fromCharCode(e),O):S(e)}function F(e){return 93===e?(t.consume(e),I):S(e)}function I(e){return 62===e?(t.consume(e),L):45===e&&2===i?(t.consume(e),I):S(e)}function L(e){return null===e||(0,Ht.Ch)(e)?(t.exit("htmlFlowData"),B(e)):(t.consume(e),L)}function B(n){return t.exit("htmlFlow"),e(n)}},resolveTo:function(t){let e=t.length;for(;e--&&("enter"!==t[e][0]||"htmlFlow"!==t[e][1].type););e>1&&"linePrefix"===t[e-2][1].type&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2));return t},concrete:!0},Me={tokenize:function(t,e,n){return function(r){return t.exit("htmlFlowData"),t.enter("lineEndingBlank"),t.consume(r),t.exit("lineEndingBlank"),t.attempt(Jt.w,e,n)}},partial:!0};const Ne={name:"codeFenced",tokenize:function(t,e,n){const r=this,i={tokenize:function(t,e,n){let r=0;return(0,Wt.f)(t,i,"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function i(e){return t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),o(e)}function o(e){return e===l?(t.consume(e),r++,o):r<c?n(e):(t.exit("codeFencedFenceSequence"),(0,Wt.f)(t,a,"whitespace")(e))}function a(r){return null===r||(0,Ht.Ch)(r)?(t.exit("codeFencedFence"),e(r)):n(r)}},partial:!0},o={tokenize:function(t,e,n){const r=this;return i;function i(e){return t.enter("lineEnding"),t.consume(e),t.exit("lineEnding"),o}function o(t){return r.parser.lazy[r.now().line]?n(t):e(t)}},partial:!0},a=this.events[this.events.length-1],s=a&&"linePrefix"===a[1].type?a[2].sliceSerialize(a[1],!0).length:0;let l,c=0;return function(e){return t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),l=e,u(e)};function u(e){return e===l?(t.consume(e),c++,u):(t.exit("codeFencedFenceSequence"),c<3?n(e):(0,Wt.f)(t,h,"whitespace")(e))}function h(e){return null===e||(0,Ht.Ch)(e)?g(e):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),d(e))}function d(e){return null===e||(0,Ht.z3)(e)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),(0,Wt.f)(t,f,"whitespace")(e)):96===e&&e===l?n(e):(t.consume(e),d)}function f(e){return null===e||(0,Ht.Ch)(e)?g(e):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),p(e))}function p(e){return null===e||(0,Ht.Ch)(e)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),g(e)):96===e&&e===l?n(e):(t.consume(e),p)}function g(n){return t.exit("codeFencedFence"),r.interrupt?e(n):m(n)}function m(e){return null===e?v(e):(0,Ht.Ch)(e)?t.attempt(o,t.attempt(i,v,s?(0,Wt.f)(t,m,"linePrefix",s+1):m),v)(e):(t.enter("codeFlowValue"),y(e))}function y(e){return null===e||(0,Ht.Ch)(e)?(t.exit("codeFlowValue"),m(e)):(t.consume(e),y)}function v(n){return t.exit("codeFenced"),e(n)}},concrete:!0};var Oe=n(29584);const Fe={name:"characterReference",tokenize:function(t,e,n){const r=this;let i,o,a=0;return function(e){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(e),t.exit("characterReferenceMarker"),s};function s(e){return 35===e?(t.enter("characterReferenceMarkerNumeric"),t.consume(e),t.exit("characterReferenceMarkerNumeric"),l):(t.enter("characterReferenceValue"),i=31,o=Ht.H$,c(e))}function l(e){return 88===e||120===e?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(e),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),i=6,o=Ht.AF,c):(t.enter("characterReferenceValue"),i=7,o=Ht.pY,c(e))}function c(s){let l;return 59===s&&a?(l=t.exit("characterReferenceValue"),o!==Ht.H$||(0,Oe.T)(r.sliceSerialize(l))?(t.enter("characterReferenceMarker"),t.consume(s),t.exit("characterReferenceMarker"),t.exit("characterReference"),e):n(s)):o(s)&&a++<i?(t.consume(s),c):n(s)}}};const Ie={name:"characterEscape",tokenize:function(t,e,n){return function(e){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(e),t.exit("escapeMarker"),r};function r(r){return(0,Ht.sR)(r)?(t.enter("characterEscapeValue"),t.consume(r),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(r)}}};const Le={name:"lineEnding",tokenize:function(t,e){return function(n){return t.enter("lineEnding"),t.consume(n),t.exit("lineEnding"),(0,Wt.f)(t,e,"linePrefix")}}};const Be={name:"labelEnd",tokenize:function(t,e,n){const r=this;let i,o,a=r.events.length;for(;a--;)if(("labelImage"===r.events[a][1].type||"labelLink"===r.events[a][1].type)&&!r.events[a][1]._balanced){i=r.events[a][1];break}return function(e){if(!i)return n(e);return i._inactive?l(e):(o=r.parser.defined.includes((0,we.d)(r.sliceSerialize({start:i.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(e),t.exit("labelMarker"),t.exit("labelEnd"),s)};function s(n){return 40===n?t.attempt(Re,e,o?e:l)(n):91===n?t.attempt(Pe,e,o?t.attempt(ze,e,l):l)(n):o?e(n):l(n)}function l(t){return i._balanced=!0,n(t)}},resolveTo:function(t,e){let n,r,i,o,a=t.length,s=0;for(;a--;)if(n=t[a][1],r){if("link"===n.type||"labelLink"===n.type&&n._inactive)break;"enter"===t[a][0]&&"labelLink"===n.type&&(n._inactive=!0)}else if(i){if("enter"===t[a][0]&&("labelImage"===n.type||"labelLink"===n.type)&&!n._balanced&&(r=a,"labelLink"!==n.type)){s=2;break}}else"labelEnd"===n.type&&(i=a);const l={type:"labelLink"===t[r][1].type?"link":"image",start:Object.assign({},t[r][1].start),end:Object.assign({},t[t.length-1][1].end)},c={type:"label",start:Object.assign({},t[r][1].start),end:Object.assign({},t[i][1].end)},u={type:"labelText",start:Object.assign({},t[r+s+2][1].end),end:Object.assign({},t[i-2][1].start)};return o=[["enter",l,e],["enter",c,e]],o=(0,Gt.V)(o,t.slice(r+1,r+s+3)),o=(0,Gt.V)(o,[["enter",u,e]]),o=(0,Gt.V)(o,(0,ce.C)(e.parser.constructs.insideSpan.null,t.slice(r+s+4,i-3),e)),o=(0,Gt.V)(o,[["exit",u,e],t[i-2],t[i-1],["exit",c,e]]),o=(0,Gt.V)(o,t.slice(i+1)),o=(0,Gt.V)(o,[["exit",l,e]]),(0,Gt.d)(t,r,t.length,o),t},resolveAll:function(t){let e,n=-1;for(;++n<t.length;)e=t[n][1],"labelImage"!==e.type&&"labelLink"!==e.type&&"labelEnd"!==e.type||(t.splice(n+1,"labelImage"===e.type?4:2),e.type="data",n++);return t}},Re={tokenize:function(t,e,n){return function(e){return t.enter("resource"),t.enter("resourceMarker"),t.consume(e),t.exit("resourceMarker"),be(t,r)};function r(e){return 41===e?a(e):me(t,i,n,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(e)}function i(e){return(0,Ht.z3)(e)?be(t,o)(e):a(e)}function o(e){return 34===e||39===e||40===e?ve(t,be(t,a),n,"resourceTitle","resourceTitleMarker","resourceTitleString")(e):a(e)}function a(r){return 41===r?(t.enter("resourceMarker"),t.consume(r),t.exit("resourceMarker"),t.exit("resource"),e):n(r)}}},Pe={tokenize:function(t,e,n){const r=this;return function(e){return ye.call(r,t,i,n,"reference","referenceMarker","referenceString")(e)};function i(t){return r.parser.defined.includes((0,we.d)(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(t):n(t)}}},ze={tokenize:function(t,e,n){return function(e){return t.enter("reference"),t.enter("referenceMarker"),t.consume(e),t.exit("referenceMarker"),r};function r(r){return 93===r?(t.enter("referenceMarker"),t.consume(r),t.exit("referenceMarker"),t.exit("reference"),e):n(r)}}};const $e={name:"labelStartImage",tokenize:function(t,e,n){const r=this;return function(e){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(e),t.exit("labelImageMarker"),i};function i(e){return 91===e?(t.enter("labelMarker"),t.consume(e),t.exit("labelMarker"),t.exit("labelImage"),o):n(e)}function o(t){return 94===t&&"_hiddenFootnoteSupport"in r.parser.constructs?n(t):e(t)}},resolveAll:Be.resolveAll};var je=n(86565);const Ue={name:"attention",tokenize:function(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=(0,je.r)(r);let o;return function(e){return t.enter("attentionSequence"),o=e,a(e)};function a(s){if(s===o)return t.consume(s),a;const l=t.exit("attentionSequence"),c=(0,je.r)(s),u=!c||2===c&&i||n.includes(s),h=!i||2===i&&c||n.includes(r);return l._open=Boolean(42===o?u:u&&(i||!h)),l._close=Boolean(42===o?h:h&&(c||!u)),e(s)}},resolveAll:function(t,e){let n,r,i,o,a,s,l,c,u=-1;for(;++u<t.length;)if("enter"===t[u][0]&&"attentionSequence"===t[u][1].type&&t[u][1]._close)for(n=u;n--;)if("exit"===t[n][0]&&"attentionSequence"===t[n][1].type&&t[n][1]._open&&e.sliceSerialize(t[n][1]).charCodeAt(0)===e.sliceSerialize(t[u][1]).charCodeAt(0)){if((t[n][1]._close||t[u][1]._open)&&(t[u][1].end.offset-t[u][1].start.offset)%3&&!((t[n][1].end.offset-t[n][1].start.offset+t[u][1].end.offset-t[u][1].start.offset)%3))continue;s=t[n][1].end.offset-t[n][1].start.offset>1&&t[u][1].end.offset-t[u][1].start.offset>1?2:1;const h=Object.assign({},t[n][1].end),d=Object.assign({},t[u][1].start);Ye(h,-s),Ye(d,s),o={type:s>1?"strongSequence":"emphasisSequence",start:h,end:Object.assign({},t[n][1].end)},a={type:s>1?"strongSequence":"emphasisSequence",start:Object.assign({},t[u][1].start),end:d},i={type:s>1?"strongText":"emphasisText",start:Object.assign({},t[n][1].end),end:Object.assign({},t[u][1].start)},r={type:s>1?"strong":"emphasis",start:Object.assign({},o.start),end:Object.assign({},a.end)},t[n][1].end=Object.assign({},o.start),t[u][1].start=Object.assign({},a.end),l=[],t[n][1].end.offset-t[n][1].start.offset&&(l=(0,Gt.V)(l,[["enter",t[n][1],e],["exit",t[n][1],e]])),l=(0,Gt.V)(l,[["enter",r,e],["enter",o,e],["exit",o,e],["enter",i,e]]),l=(0,Gt.V)(l,(0,ce.C)(e.parser.constructs.insideSpan.null,t.slice(n+1,u),e)),l=(0,Gt.V)(l,[["exit",i,e],["enter",a,e],["exit",a,e],["exit",r,e]]),t[u][1].end.offset-t[u][1].start.offset?(c=2,l=(0,Gt.V)(l,[["enter",t[u][1],e],["exit",t[u][1],e]])):c=0,(0,Gt.d)(t,n-1,u-n+3,l),u=n+l.length-c-2;break}u=-1;for(;++u<t.length;)"attentionSequence"===t[u][1].type&&(t[u][1].type="data");return t}};function Ye(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const qe={name:"autolink",tokenize:function(t,e,n){let r=1;return function(e){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(e),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),i};function i(e){return(0,Ht.jv)(e)?(t.consume(e),o):(0,Ht.n9)(e)?l(e):n(e)}function o(t){return 43===t||45===t||46===t||(0,Ht.H$)(t)?a(t):l(t)}function a(e){return 58===e?(t.consume(e),s):(43===e||45===e||46===e||(0,Ht.H$)(e))&&r++<32?(t.consume(e),a):l(e)}function s(e){return 62===e?(t.exit("autolinkProtocol"),d(e)):null===e||32===e||60===e||(0,Ht.Av)(e)?n(e):(t.consume(e),s)}function l(e){return 64===e?(t.consume(e),r=0,c):(0,Ht.n9)(e)?(t.consume(e),l):n(e)}function c(t){return(0,Ht.H$)(t)?u(t):n(t)}function u(e){return 46===e?(t.consume(e),r=0,c):62===e?(t.exit("autolinkProtocol").type="autolinkEmail",d(e)):h(e)}function h(e){return(45===e||(0,Ht.H$)(e))&&r++<63?(t.consume(e),45===e?h:u):n(e)}function d(n){return t.enter("autolinkMarker"),t.consume(n),t.exit("autolinkMarker"),t.exit("autolink"),e}}};const We={name:"htmlText",tokenize:function(t,e,n){const r=this;let i,o,a,s;return function(e){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(e),l};function l(e){return 33===e?(t.consume(e),c):47===e?(t.consume(e),_):63===e?(t.consume(e),w):(0,Ht.jv)(e)?(t.consume(e),C):n(e)}function c(e){return 45===e?(t.consume(e),u):91===e?(t.consume(e),o="CDATA[",a=0,g):(0,Ht.jv)(e)?(t.consume(e),b):n(e)}function u(e){return 45===e?(t.consume(e),h):n(e)}function h(e){return null===e||62===e?n(e):45===e?(t.consume(e),d):f(e)}function d(t){return null===t||62===t?n(t):f(t)}function f(e){return null===e?n(e):45===e?(t.consume(e),p):(0,Ht.Ch)(e)?(s=f,F(e)):(t.consume(e),f)}function p(e){return 45===e?(t.consume(e),L):f(e)}function g(e){return e===o.charCodeAt(a++)?(t.consume(e),a===o.length?m:g):n(e)}function m(e){return null===e?n(e):93===e?(t.consume(e),y):(0,Ht.Ch)(e)?(s=m,F(e)):(t.consume(e),m)}function y(e){return 93===e?(t.consume(e),v):m(e)}function v(e){return 62===e?L(e):93===e?(t.consume(e),v):m(e)}function b(e){return null===e||62===e?L(e):(0,Ht.Ch)(e)?(s=b,F(e)):(t.consume(e),b)}function w(e){return null===e?n(e):63===e?(t.consume(e),x):(0,Ht.Ch)(e)?(s=w,F(e)):(t.consume(e),w)}function x(t){return 62===t?L(t):w(t)}function _(e){return(0,Ht.jv)(e)?(t.consume(e),k):n(e)}function k(e){return 45===e||(0,Ht.H$)(e)?(t.consume(e),k):E(e)}function E(e){return(0,Ht.Ch)(e)?(s=E,F(e)):(0,Ht.xz)(e)?(t.consume(e),E):L(e)}function C(e){return 45===e||(0,Ht.H$)(e)?(t.consume(e),C):47===e||62===e||(0,Ht.z3)(e)?S(e):n(e)}function S(e){return 47===e?(t.consume(e),L):58===e||95===e||(0,Ht.jv)(e)?(t.consume(e),D):(0,Ht.Ch)(e)?(s=S,F(e)):(0,Ht.xz)(e)?(t.consume(e),S):L(e)}function D(e){return 45===e||46===e||58===e||95===e||(0,Ht.H$)(e)?(t.consume(e),D):T(e)}function T(e){return 61===e?(t.consume(e),A):(0,Ht.Ch)(e)?(s=T,F(e)):(0,Ht.xz)(e)?(t.consume(e),T):S(e)}function A(e){return null===e||60===e||61===e||62===e||96===e?n(e):34===e||39===e?(t.consume(e),i=e,M):(0,Ht.Ch)(e)?(s=A,F(e)):(0,Ht.xz)(e)?(t.consume(e),A):(t.consume(e),i=void 0,O)}function M(e){return e===i?(t.consume(e),N):null===e?n(e):(0,Ht.Ch)(e)?(s=M,F(e)):(t.consume(e),M)}function N(t){return 62===t||47===t||(0,Ht.z3)(t)?S(t):n(t)}function O(e){return null===e||34===e||39===e||60===e||61===e||96===e?n(e):62===e||(0,Ht.z3)(e)?S(e):(t.consume(e),O)}function F(e){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(e),t.exit("lineEnding"),(0,Wt.f)(t,I,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function I(e){return t.enter("htmlTextData"),s(e)}function L(r){return 62===r?(t.consume(r),t.exit("htmlTextData"),t.exit("htmlText"),e):n(r)}}};const He={name:"labelStartLink",tokenize:function(t,e,n){const r=this;return function(e){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(e),t.exit("labelMarker"),t.exit("labelLink"),i};function i(t){return 94===t&&"_hiddenFootnoteSupport"in r.parser.constructs?n(t):e(t)}},resolveAll:Be.resolveAll};const Ve={name:"hardBreakEscape",tokenize:function(t,e,n){return function(e){return t.enter("hardBreakEscape"),t.enter("escapeMarker"),t.consume(e),r};function r(r){return(0,Ht.Ch)(r)?(t.exit("escapeMarker"),t.exit("hardBreakEscape"),e(r)):n(r)}}};const Ge={name:"codeText",tokenize:function(t,e,n){let r,i,o=0;return function(e){return t.enter("codeText"),t.enter("codeTextSequence"),a(e)};function a(e){return 96===e?(t.consume(e),o++,a):(t.exit("codeTextSequence"),s(e))}function s(e){return null===e?n(e):96===e?(i=t.enter("codeTextSequence"),r=0,c(e)):32===e?(t.enter("space"),t.consume(e),t.exit("space"),s):(0,Ht.Ch)(e)?(t.enter("lineEnding"),t.consume(e),t.exit("lineEnding"),s):(t.enter("codeTextData"),l(e))}function l(e){return null===e||32===e||96===e||(0,Ht.Ch)(e)?(t.exit("codeTextData"),s(e)):(t.consume(e),l)}function c(n){return 96===n?(t.consume(n),r++,c):r===o?(t.exit("codeTextSequence"),t.exit("codeText"),e(n)):(i.type="codeTextData",l(n))}},resolve:function(t){let e,n,r=t.length-4,i=3;if(!("lineEnding"!==t[i][1].type&&"space"!==t[i][1].type||"lineEnding"!==t[r][1].type&&"space"!==t[r][1].type))for(e=i;++e<r;)if("codeTextData"===t[e][1].type){t[i][1].type="codeTextPadding",t[r][1].type="codeTextPadding",i+=2,r-=2;break}e=i-1,r++;for(;++e<=r;)void 0===n?e!==r&&"lineEnding"!==t[e][1].type&&(n=e):e!==r&&"lineEnding"!==t[e][1].type||(t[n][1].type="codeTextData",e!==n+2&&(t[n][1].end=t[e-1][1].end,t.splice(n+2,e-n-2),r-=e-n-2,e=n+2),n=void 0);return t},previous:function(t){return 96!==t||"characterEscape"===this.events[this.events.length-1][1].type}};const Xe={42:de,43:de,45:de,48:de,49:de,50:de,51:de,52:de,53:de,54:de,55:de,56:de,57:de,62:ge},Ke={91:xe},Je={[-2]:ke,[-1]:ke,32:ke},Ze={35:Ce,42:he,45:[Se,he],60:Ae,61:Se,95:he,96:Ne,126:Ne},Qe={38:Fe,92:Ie},tn={[-5]:Le,[-4]:Le,[-3]:Le,33:$e,38:Fe,42:Ue,60:[qe,We],91:He,92:[Ve,Ie],93:Be,95:Ue,96:Ge},en={null:[Ue,re]},nn={null:[42,95]},rn={null:[]};const on=/[\0\t\n\r]/g;var an=n(7900),sn=n(88713);const ln={}.hasOwnProperty,cn=function(t,e,n){return"string"!=typeof e&&(n=e,e=void 0),function(t={}){const e=un({transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:l(rt),autolinkProtocol:T,autolinkEmail:T,atxHeading:l(Q),blockQuote:l(G),characterEscape:T,characterReference:T,codeFenced:l(X),codeFencedFenceInfo:c,codeFencedFenceMeta:c,codeIndented:l(X,c),codeText:l(K,c),codeTextData:T,data:T,codeFlowValue:T,definition:l(J),definitionDestinationString:c,definitionLabelString:c,definitionTitleString:c,emphasis:l(Z),hardBreakEscape:l(tt),hardBreakTrailing:l(tt),htmlFlow:l(et,c),htmlFlowData:T,htmlText:l(et,c),htmlTextData:T,image:l(nt),label:c,link:l(rt),listItem:l(ot),listItemValue:g,listOrdered:l(it,p),listUnordered:l(it),paragraph:l(at),reference:U,referenceString:c,resourceDestinationString:c,resourceTitleString:c,setextHeading:l(Q),strong:l(st),thematicBreak:l(ct)},exit:{atxHeading:h(),atxHeadingSequence:E,autolink:h(),autolinkEmail:V,autolinkProtocol:H,blockQuote:h(),characterEscapeValue:A,characterReferenceMarkerHexadecimal:q,characterReferenceMarkerNumeric:q,characterReferenceValue:W,codeFenced:h(b),codeFencedFence:v,codeFencedFenceInfo:m,codeFencedFenceMeta:y,codeFlowValue:A,codeIndented:h(w),codeText:h(I),codeTextData:A,data:A,definition:h(),definitionDestinationString:k,definitionLabelString:x,definitionTitleString:_,emphasis:h(),hardBreakEscape:h(N),hardBreakTrailing:h(N),htmlFlow:h(O),htmlFlowData:A,htmlText:h(F),htmlTextData:A,image:h(B),label:P,labelText:R,lineEnding:M,link:h(L),listItem:h(),listOrdered:h(),listUnordered:h(),paragraph:h(),referenceString:Y,resourceDestinationString:z,resourceTitleString:$,resource:j,setextHeading:h(D),setextHeadingLineSequence:S,setextHeadingText:C,strong:h(),thematicBreak:h()}},t.mdastExtensions||[]),n={};return r;function r(t){let n={type:"root",children:[]};const r=[],l=[],h={stack:[n],tokenStack:r,config:e,enter:u,exit:d,buffer:c,resume:f,setData:o,getData:a};let p=-1;for(;++p<t.length;)if("listOrdered"===t[p][1].type||"listUnordered"===t[p][1].type)if("enter"===t[p][0])l.push(p);else{p=i(t,l.pop(),p)}for(p=-1;++p<t.length;){const n=e[t[p][0]];ln.call(n,t[p][1].type)&&n[t[p][1].type].call(Object.assign({sliceSerialize:t[p][2].sliceSerialize},h),t[p][1])}if(r.length>0){const t=r[r.length-1];(t[1]||dn).call(h,void 0,t[0])}for(n.position={start:s(t.length>0?t[0][1].start:{line:1,column:1,offset:0}),end:s(t.length>0?t[t.length-2][1].end:{line:1,column:1,offset:0})},p=-1;++p<e.transforms.length;)n=e.transforms[p](n)||n;return n}function i(t,e,n){let r,i,o,a,s=e-1,l=-1,c=!1;for(;++s<=n;){const e=t[s];if("listUnordered"===e[1].type||"listOrdered"===e[1].type||"blockQuote"===e[1].type?("enter"===e[0]?l++:l--,a=void 0):"lineEndingBlank"===e[1].type?"enter"===e[0]&&(!r||a||l||o||(o=s),a=void 0):"linePrefix"===e[1].type||"listItemValue"===e[1].type||"listItemMarker"===e[1].type||"listItemPrefix"===e[1].type||"listItemPrefixWhitespace"===e[1].type||(a=void 0),!l&&"enter"===e[0]&&"listItemPrefix"===e[1].type||-1===l&&"exit"===e[0]&&("listUnordered"===e[1].type||"listOrdered"===e[1].type)){if(r){let a=s;for(i=void 0;a--;){const e=t[a];if("lineEnding"===e[1].type||"lineEndingBlank"===e[1].type){if("exit"===e[0])continue;i&&(t[i][1].type="lineEndingBlank",c=!0),e[1].type="lineEnding",i=a}else if("linePrefix"!==e[1].type&&"blockQuotePrefix"!==e[1].type&&"blockQuotePrefixWhitespace"!==e[1].type&&"blockQuoteMarker"!==e[1].type&&"listItemIndent"!==e[1].type)break}o&&(!i||o<i)&&(r._spread=!0),r.end=Object.assign({},i?t[i][1].start:e[1].end),t.splice(i||s,0,["exit",r,e[2]]),s++,n++}"listItemPrefix"===e[1].type&&(r={type:"listItem",_spread:!1,start:Object.assign({},e[1].start)},t.splice(s,0,["enter",r,e[2]]),s++,n++,o=void 0,a=!0)}}return t[e][1]._spread=c,n}function o(t,e){n[t]=e}function a(t){return n[t]}function s(t){return{line:t.line,column:t.column,offset:t.offset}}function l(t,e){return n;function n(n){u.call(this,t(n),n),e&&e.call(this,n)}}function c(){this.stack.push({type:"fragment",children:[]})}function u(t,e,n){return this.stack[this.stack.length-1].children.push(t),this.stack.push(t),this.tokenStack.push([e,n]),t.position={start:s(e.start)},t}function h(t){return e;function e(e){t&&t.call(this,e),d.call(this,e)}}function d(t,e){const n=this.stack.pop(),r=this.tokenStack.pop();if(!r)throw new Error("Cannot close `"+t.type+"` ("+yt({start:t.start,end:t.end})+"): it’s not open");if(r[0].type!==t.type)if(e)e.call(this,t,r[0]);else{(r[1]||dn).call(this,t,r[0])}return n.position.end=s(t.end),n}function f(){return jt(this.stack.pop())}function p(){o("expectingFirstListItemValue",!0)}function g(t){if(a("expectingFirstListItemValue")){this.stack[this.stack.length-2].start=Number.parseInt(this.sliceSerialize(t),10),o("expectingFirstListItemValue")}}function m(){const t=this.resume();this.stack[this.stack.length-1].lang=t}function y(){const t=this.resume();this.stack[this.stack.length-1].meta=t}function v(){a("flowCodeInside")||(this.buffer(),o("flowCodeInside",!0))}function b(){const t=this.resume();this.stack[this.stack.length-1].value=t.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),o("flowCodeInside")}function w(){const t=this.resume();this.stack[this.stack.length-1].value=t.replace(/(\r?\n|\r)$/g,"")}function x(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.label=e,n.identifier=(0,we.d)(this.sliceSerialize(t)).toLowerCase()}function _(){const t=this.resume();this.stack[this.stack.length-1].title=t}function k(){const t=this.resume();this.stack[this.stack.length-1].url=t}function E(t){const e=this.stack[this.stack.length-1];if(!e.depth){const n=this.sliceSerialize(t).length;e.depth=n}}function C(){o("setextHeadingSlurpLineEnding",!0)}function S(t){this.stack[this.stack.length-1].depth=61===this.sliceSerialize(t).charCodeAt(0)?1:2}function D(){o("setextHeadingSlurpLineEnding")}function T(t){const e=this.stack[this.stack.length-1];let n=e.children[e.children.length-1];n&&"text"===n.type||(n=lt(),n.position={start:s(t.start)},e.children.push(n)),this.stack.push(n)}function A(t){const e=this.stack.pop();e.value+=this.sliceSerialize(t),e.position.end=s(t.end)}function M(t){const n=this.stack[this.stack.length-1];if(a("atHardBreak")){return n.children[n.children.length-1].position.end=s(t.end),void o("atHardBreak")}!a("setextHeadingSlurpLineEnding")&&e.canContainEols.includes(n.type)&&(T.call(this,t),A.call(this,t))}function N(){o("atHardBreak",!0)}function O(){const t=this.resume();this.stack[this.stack.length-1].value=t}function F(){const t=this.resume();this.stack[this.stack.length-1].value=t}function I(){const t=this.resume();this.stack[this.stack.length-1].value=t}function L(){const t=this.stack[this.stack.length-1];a("inReference")?(t.type+="Reference",t.referenceType=a("referenceType")||"shortcut",delete t.url,delete t.title):(delete t.identifier,delete t.label),o("referenceType")}function B(){const t=this.stack[this.stack.length-1];a("inReference")?(t.type+="Reference",t.referenceType=a("referenceType")||"shortcut",delete t.url,delete t.title):(delete t.identifier,delete t.label),o("referenceType")}function R(t){const e=this.stack[this.stack.length-2],n=this.sliceSerialize(t);e.label=(0,sn.v)(n),e.identifier=(0,we.d)(n).toLowerCase()}function P(){const t=this.stack[this.stack.length-1],e=this.resume(),n=this.stack[this.stack.length-1];o("inReference",!0),"link"===n.type?n.children=t.children:n.alt=e}function z(){const t=this.resume();this.stack[this.stack.length-1].url=t}function $(){const t=this.resume();this.stack[this.stack.length-1].title=t}function j(){o("inReference")}function U(){o("referenceType","collapsed")}function Y(t){const e=this.resume(),n=this.stack[this.stack.length-1];n.label=e,n.identifier=(0,we.d)(this.sliceSerialize(t)).toLowerCase(),o("referenceType","full")}function q(t){o("characterReferenceType",t.type)}function W(t){const e=this.sliceSerialize(t),n=a("characterReferenceType");let r;n?(r=(0,an.o)(e,"characterReferenceMarkerNumeric"===n?10:16),o("characterReferenceType")):r=(0,Oe.T)(e);const i=this.stack.pop();i.value+=r,i.position.end=s(t.end)}function H(t){A.call(this,t);this.stack[this.stack.length-1].url=this.sliceSerialize(t)}function V(t){A.call(this,t);this.stack[this.stack.length-1].url="mailto:"+this.sliceSerialize(t)}function G(){return{type:"blockquote",children:[]}}function X(){return{type:"code",lang:null,meta:null,value:""}}function K(){return{type:"inlineCode",value:""}}function J(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Z(){return{type:"emphasis",children:[]}}function Q(){return{type:"heading",depth:void 0,children:[]}}function tt(){return{type:"break"}}function et(){return{type:"html",value:""}}function nt(){return{type:"image",title:null,url:"",alt:null}}function rt(){return{type:"link",title:null,url:"",children:[]}}function it(t){return{type:"list",ordered:"listOrdered"===t.type,start:null,spread:t._spread,children:[]}}function ot(t){return{type:"listItem",spread:t._spread,checked:null,children:[]}}function at(){return{type:"paragraph",children:[]}}function st(){return{type:"strong",children:[]}}function lt(){return{type:"text",value:""}}function ct(){return{type:"thematicBreak"}}}(n)(function(t){for(;!Zt(t););return t}(function(t={}){const e={defined:[],lazy:{},constructs:(0,qt.W)([r].concat(t.extensions||[])),content:n(Vt),document:n(Xt),flow:n(ne),string:n(ie),text:n(oe)};return e;function n(t){return function(n){return ue(e,t,n)}}}(n).document().write(function(){let t,e=1,n="",r=!0;return function(i,o,a){const s=[];let l,c,u,h,d;for(i=n+i.toString(o),u=0,n="",r&&(65279===i.charCodeAt(0)&&u++,r=void 0);u<i.length;){if(on.lastIndex=u,l=on.exec(i),h=l&&void 0!==l.index?l.index:i.length,d=i.charCodeAt(h),!l){n=i.slice(u);break}if(10===d&&u===h&&t)s.push(-3),t=void 0;else switch(t&&(s.push(-5),t=void 0),u<h&&(s.push(i.slice(u,h)),e+=h-u),d){case 0:s.push(65533),e++;break;case 9:for(c=4*Math.ceil(e/4),s.push(-2);e++<c;)s.push(-1);break;case 10:s.push(-4),e=1;break;default:t=!0,e=1}u=h+1}return a&&(t&&s.push(-5),n&&s.push(n),s.push(null)),s}}()(t,e,!0))))};function un(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?un(t,r):hn(t,r)}return t}function hn(t,e){let n;for(n in e)if(ln.call(e,n)){const r="canContainEols"===n||"transforms"===n,i=(ln.call(t,n)?t[n]:void 0)||(t[n]=r?[]:{}),o=e[n];o&&(r?t[n]=[...i,...o]:Object.assign(i,o))}}function dn(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+yt({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+yt({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+yt({start:e.start,end:e.end})+") is still open")}const fn=function(t){Object.assign(this,{Parser:e=>{const n=this.data("settings");return cn(e,Object.assign({},n,t,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})};var pn={}.hasOwnProperty;function gn(t,e){let n,r=-1;if(e.extensions)for(;++r<e.extensions.length;)gn(t,e.extensions[r]);for(n in e)"extensions"===n||("unsafe"===n||"join"===n?t[n]=[...t[n]||[],...e[n]||[]]:"handlers"===n?t[n]=Object.assign(t[n],e[n]||{}):t.options[n]=e[n]);return t}var mn=n(71025),yn=n(25356),vn=n(16201);function bn(t,e,n){return">"+(n?"":" ")+t}var wn=n(72416);function xn(t,e,n,r){let i=-1;for(;++i<n.unsafe.length;)if("\n"===n.unsafe[i].character&&(0,wn.P)(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return"\\\n"}var _n=n(30406);function kn(t,e){return Boolean(!e.options.fences&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}var En=n(96471);function Cn(t,e,n){return(n?"":"    ")+t}var Sn=n(35484);function Dn(t){const e=t.options.quote||'"';if('"'!==e&&"'"!==e)throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}var Tn=n(3291);function An(t,e,n,r){const i=function(t){const e=t.options.emphasis||"*";if("*"!==e&&"_"!==e)throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}(n),o=n.enter("emphasis"),a=(0,vn.j)(r);let s=a.move(i);return s+=a.move((0,Tn.p)(t,n,{before:s,after:i,...a.current()})),s+=a.move(i),o(),s}An.peek=function(t,e,n){return n.options.emphasis||"*"};var Mn=n(76708),Nn=n(51132);function On(t,e){let n=!1;return(0,Mn.Vn)(t,(t=>{if("value"in t&&/\r?\n|\r/.test(t.value)||"break"===t.type)return n=!0,Nn.BK})),Boolean((!t.depth||t.depth<3)&&jt(t)&&(e.options.setext||n))}function Fn(t){return t.value||""}function In(t,e,n,r){const i=Dn(n),o='"'===i?"Quote":"Apostrophe",a=n.enter("image");let s=n.enter("label");const l=(0,vn.j)(r);let c=l.move("![");return c+=l.move((0,En.T)(n,t.alt,{before:c,after:"]",...l.current()})),c+=l.move("]("),s(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(s=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move((0,En.T)(n,t.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(s=n.enter("destinationRaw"),c+=l.move((0,En.T)(n,t.url,{before:c,after:t.title?" ":")",...l.current()}))),s(),t.title&&(s=n.enter("title"+o),c+=l.move(" "+i),c+=l.move((0,En.T)(n,t.title,{before:c,after:i,...l.current()})),c+=l.move(i),s()),c+=l.move(")"),a(),c}function Ln(t,e,n,r){const i=t.referenceType,o=n.enter("imageReference");let a=n.enter("label");const s=(0,vn.j)(r);let l=s.move("![");const c=(0,En.T)(n,t.alt,{before:l,after:"]",...s.current()});l+=s.move(c+"]["),a();const u=n.stack;n.stack=[],a=n.enter("reference");const h=(0,En.T)(n,(0,Sn.L)(t),{before:l,after:"]",...s.current()});return a(),n.stack=u,o(),"full"!==i&&c&&c===h?"shortcut"===i?l=l.slice(0,-1):l+=s.move("]"):l+=s.move(h+"]"),l}Fn.peek=function(){return"<"},In.peek=function(){return"!"},Ln.peek=function(){return"!"};var Bn=n(67712);function Rn(t,e){const n=jt(t);return Boolean(!e.options.resourceLink&&t.url&&!t.title&&t.children&&1===t.children.length&&"text"===t.children[0].type&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}function Pn(t,e,n,r){const i=Dn(n),o='"'===i?"Quote":"Apostrophe",a=(0,vn.j)(r);let s,l;if(Rn(t,n)){const e=n.stack;n.stack=[],s=n.enter("autolink");let r=a.move("<");return r+=a.move((0,Tn.p)(t,n,{before:r,after:">",...a.current()})),r+=a.move(">"),s(),n.stack=e,r}s=n.enter("link"),l=n.enter("label");let c=a.move("[");return c+=a.move((0,Tn.p)(t,n,{before:c,after:"](",...a.current()})),c+=a.move("]("),l(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(l=n.enter("destinationLiteral"),c+=a.move("<"),c+=a.move((0,En.T)(n,t.url,{before:c,after:">",...a.current()})),c+=a.move(">")):(l=n.enter("destinationRaw"),c+=a.move((0,En.T)(n,t.url,{before:c,after:t.title?" ":")",...a.current()}))),l(),t.title&&(l=n.enter("title"+o),c+=a.move(" "+i),c+=a.move((0,En.T)(n,t.title,{before:c,after:i,...a.current()})),c+=a.move(i),l()),c+=a.move(")"),s(),c}function zn(t,e,n,r){const i=t.referenceType,o=n.enter("linkReference");let a=n.enter("label");const s=(0,vn.j)(r);let l=s.move("[");const c=(0,Tn.p)(t,n,{before:l,after:"]",...s.current()});l+=s.move(c+"]["),a();const u=n.stack;n.stack=[],a=n.enter("reference");const h=(0,En.T)(n,(0,Sn.L)(t),{before:l,after:"]",...s.current()});return a(),n.stack=u,o(),"full"!==i&&c&&c===h?"shortcut"===i?l=l.slice(0,-1):l+=s.move("]"):l+=s.move(h+"]"),l}Pn.peek=function(t,e,n){return Rn(t,n)?"<":"["},zn.peek=function(){return"["};var $n=n(95559);function jn(t){const e=t.options.bulletOrdered||".";if("."!==e&&")"!==e)throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function Un(t){const e=t.options.rule||"*";if("*"!==e&&"-"!==e&&"_"!==e)throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}var Yn=n(33917);function qn(t,e,n,r){const i=function(t){const e=t.options.strong||"*";if("*"!==e&&"_"!==e)throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}(n),o=n.enter("strong"),a=(0,vn.j)(r);let s=a.move(i+i);return s+=a.move((0,Tn.p)(t,n,{before:s,after:i,...a.current()})),s+=a.move(i+i),o(),s}qn.peek=function(t,e,n){return n.options.strong||"*"};const Wn={blockquote:function(t,e,n,r){const i=n.enter("blockquote"),o=(0,vn.j)(r);o.move("> "),o.shift(2);const a=(0,yn.Q)((0,mn.K)(t,n,o.current()),bn);return i(),a},break:xn,code:function(t,e,n,r){const i=function(t){const e=t.options.fence||"`";if("`"!==e&&"~"!==e)throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}(n),o=t.value||"",a="`"===i?"GraveAccent":"Tilde";if(kn(t,n)){const t=n.enter("codeIndented"),e=(0,yn.Q)(o,Cn);return t(),e}const s=(0,vn.j)(r),l=i.repeat(Math.max((0,_n.J)(o,i)+1,3)),c=n.enter("codeFenced");let u=s.move(l);if(t.lang){const e=n.enter("codeFencedLang"+a);u+=s.move((0,En.T)(n,t.lang,{before:u,after:" ",encode:["`"],...s.current()})),e()}if(t.lang&&t.meta){const e=n.enter("codeFencedMeta"+a);u+=s.move(" "),u+=s.move((0,En.T)(n,t.meta,{before:u,after:"\n",encode:["`"],...s.current()})),e()}return u+=s.move("\n"),o&&(u+=s.move(o+"\n")),u+=s.move(l),c(),u},definition:function(t,e,n,r){const i=Dn(n),o='"'===i?"Quote":"Apostrophe",a=n.enter("definition");let s=n.enter("label");const l=(0,vn.j)(r);let c=l.move("[");return c+=l.move((0,En.T)(n,(0,Sn.L)(t),{before:c,after:"]",...l.current()})),c+=l.move("]: "),s(),!t.url||/[\0- \u007F]/.test(t.url)?(s=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move((0,En.T)(n,t.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(s=n.enter("destinationRaw"),c+=l.move((0,En.T)(n,t.url,{before:c,after:t.title?" ":"\n",...l.current()}))),s(),t.title&&(s=n.enter("title"+o),c+=l.move(" "+i),c+=l.move((0,En.T)(n,t.title,{before:c,after:i,...l.current()})),c+=l.move(i),s()),a(),c},emphasis:An,hardBreak:xn,heading:function(t,e,n,r){const i=Math.max(Math.min(6,t.depth||1),1),o=(0,vn.j)(r);if(On(t,n)){const e=n.enter("headingSetext"),r=n.enter("phrasing"),a=(0,Tn.p)(t,n,{...o.current(),before:"\n",after:"\n"});return r(),e(),a+"\n"+(1===i?"=":"-").repeat(a.length-(Math.max(a.lastIndexOf("\r"),a.lastIndexOf("\n"))+1))}const a="#".repeat(i),s=n.enter("headingAtx"),l=n.enter("phrasing");o.move(a+" ");let c=(0,Tn.p)(t,n,{before:"# ",after:"\n",...o.current()});return/^[\t ]/.test(c)&&(c="&#x"+c.charCodeAt(0).toString(16).toUpperCase()+";"+c.slice(1)),c=c?a+" "+c:a,n.options.closeAtx&&(c+=" "+a),l(),s(),c},html:Fn,image:In,imageReference:Ln,inlineCode:Bn.Y,link:Pn,linkReference:zn,list:function(t,e,n,r){const i=n.enter("list"),o=n.bulletCurrent;let a=t.ordered?jn(n):(0,$n.g)(n);const s=t.ordered?function(t){const e=jn(t),n=t.options.bulletOrderedOther;if(!n)return"."===e?")":".";if("."!==n&&")"!==n)throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOrderedOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bulletOrdered` (`"+e+"`) and `bulletOrderedOther` (`"+n+"`) to be different");return n}(n):function(t){const e=(0,$n.g)(t),n=t.options.bulletOther;if(!n)return"*"===e?"-":"*";if("*"!==n&&"+"!==n&&"-"!==n)throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}(n),l=n.bulletLastUsed;let c=!1;if(e&&(t.ordered?n.options.bulletOrderedOther:n.options.bulletOther)&&l&&a===l&&(c=!0),!t.ordered){const e=t.children?t.children[0]:void 0;if("*"!==a&&"-"!==a||!e||e.children&&e.children[0]||"list"!==n.stack[n.stack.length-1]||"listItem"!==n.stack[n.stack.length-2]||"list"!==n.stack[n.stack.length-3]||"listItem"!==n.stack[n.stack.length-4]||0!==n.indexStack[n.indexStack.length-1]||0!==n.indexStack[n.indexStack.length-2]||0!==n.indexStack[n.indexStack.length-3]||(c=!0),Un(n)===a&&e){let e=-1;for(;++e<t.children.length;){const n=t.children[e];if(n&&"listItem"===n.type&&n.children&&n.children[0]&&"thematicBreak"===n.children[0].type){c=!0;break}}}}c&&(a=s),n.bulletCurrent=a;const u=(0,mn.K)(t,n,r);return n.bulletLastUsed=a,n.bulletCurrent=o,i(),u},listItem:Yn.q,paragraph:function(t,e,n,r){const i=n.enter("paragraph"),o=n.enter("phrasing"),a=(0,Tn.p)(t,n,r);return o(),i(),a},root:function(t,e,n,r){return(0,mn.K)(t,n,r)},strong:qn,text:function(t,e,n,r){return(0,En.T)(n,t.value,r)},thematicBreak:function(t,e,n){const r=(Un(n)+(n.options.ruleSpaces?" ":"")).repeat(function(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}(n));return n.options.ruleSpaces?r.slice(0,-1):r}},Hn=[function(t,e,n,r){if("code"===e.type&&kn(e,r)&&("list"===t.type||t.type===e.type&&kn(t,r)))return!1;if("list"===t.type&&t.type===e.type&&Boolean(t.ordered)===Boolean(e.ordered)&&!(t.ordered?r.options.bulletOrderedOther:r.options.bulletOther))return!1;if("spread"in n&&"boolean"==typeof n.spread){if("paragraph"===t.type&&(t.type===e.type||"definition"===e.type||"heading"===e.type&&On(e,r)))return;return n.spread?1:0}}];const Vn=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"],Gn=[{character:"\t",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"\t",before:"[\\r\\n]",inConstruct:"phrasing"},{character:"\t",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"\r",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:"\n",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:" ",after:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",before:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"!",after:"\\[",inConstruct:"phrasing",notInConstruct:Vn},{character:'"',inConstruct:"titleQuote"},{atBreak:!0,character:"#"},{character:"#",inConstruct:"headingAtx",after:"(?:[\r\n]|$)"},{character:"&",after:"[#A-Za-z]",inConstruct:"phrasing"},{character:"'",inConstruct:"titleApostrophe"},{character:"(",inConstruct:"destinationRaw"},{before:"\\]",character:"(",inConstruct:"phrasing",notInConstruct:Vn},{atBreak:!0,before:"\\d+",character:")"},{character:")",inConstruct:"destinationRaw"},{atBreak:!0,character:"*"},{character:"*",inConstruct:"phrasing",notInConstruct:Vn},{atBreak:!0,character:"+"},{atBreak:!0,character:"-"},{atBreak:!0,before:"\\d+",character:".",after:"(?:[ \t\r\n]|$)"},{atBreak:!0,character:"<",after:"[!/?A-Za-z]"},{character:"<",after:"[!/?A-Za-z]",inConstruct:"phrasing",notInConstruct:Vn},{character:"<",inConstruct:"destinationLiteral"},{atBreak:!0,character:"="},{atBreak:!0,character:">"},{character:">",inConstruct:"destinationLiteral"},{atBreak:!0,character:"["},{character:"[",inConstruct:"phrasing",notInConstruct:Vn},{character:"[",inConstruct:["label","reference"]},{character:"\\",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"]",inConstruct:["label","reference"]},{atBreak:!0,character:"_"},{character:"_",inConstruct:"phrasing",notInConstruct:Vn},{atBreak:!0,character:"`"},{character:"`",inConstruct:["codeFencedLangGraveAccent","codeFencedMetaGraveAccent"]},{character:"`",inConstruct:"phrasing",notInConstruct:Vn},{atBreak:!0,character:"~"}];function Xn(t,e={}){const n={enter:function(t){return n.stack.push(t),function(){n.stack.pop()}},stack:[],unsafe:[],join:[],handlers:{},options:{},indexStack:[]};gn(n,{unsafe:Gn,join:Hn,handlers:Wn}),gn(n,e),n.options.tightDefinitions&&gn(n,{join:[Zn]}),n.handle=function(t,e){var n=e||{};function r(e){var n=r.invalid,i=r.handlers;if(e&&pn.call(e,t)&&(n=pn.call(i,e[t])?i[e[t]]:r.unknown),n)return n.apply(this,arguments)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}("type",{invalid:Kn,unknown:Jn,handlers:n.handlers});let r=n.handle(t,null,n,{before:"\n",after:"\n",now:{line:1,column:1},lineShift:0});return r&&10!==r.charCodeAt(r.length-1)&&13!==r.charCodeAt(r.length-1)&&(r+="\n"),r}function Kn(t){throw new Error("Cannot handle value `"+t+"`, expected node")}function Jn(t){throw new Error("Cannot handle unknown node `"+t.type+"`")}function Zn(t,e){if("definition"===t.type&&t.type===e.type)return 0}const Qn=function(t){Object.assign(this,{Compiler:e=>{const n=this.data("settings");return Xn(e,Object.assign({},n,t,{extensions:this.data("toMarkdownExtensions")||[]}))}})},tr=Ot().use(fn).use(Qn).freeze();var er,nr,rr,ir,or,ar,sr,lr,cr,ur=n(49951),hr=Object.defineProperty,dr=Object.defineProperties,fr=Object.getOwnPropertyDescriptors,pr=Object.getOwnPropertySymbols,gr=Object.prototype.hasOwnProperty,mr=Object.prototype.propertyIsEnumerable,yr=(t,e,n)=>e in t?hr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,vr=(t,e)=>{for(var n in e||(e={}))gr.call(e,n)&&yr(t,n,e[n]);if(pr)for(var n of pr(e))mr.call(e,n)&&yr(t,n,e[n]);return t},br=(t,e)=>dr(t,fr(e)),wr=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},xr=(t,e,n)=>(wr(t,e,"read from private field"),n?n.call(t):e.get(t)),_r=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},kr=(t,e,n,r)=>(wr(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);const Er=(0,m.eF)("ConfigReady"),Cr=(0,m.oM)([],"themeTimer"),Sr=(0,m.eF)("ThemeEnvironmentReady"),Dr=(0,m.eF)("ThemeReady"),Tr=new v.H$("MILKDOWN_THEME_RESET"),Ar=t=>{const e=(0,ur.eQ)();return t.inject(ur.oL).inject(ur.ev).inject(ur.Xc,e).inject(Cr,[Er]).record(Dr).record(Sr),async t=>{await t.waitTimers(Cr);const n=(0,ur.Rv)(t.get(ur.oL));ur.lt.forEach((t=>{e.inject(t)})),t.set(ur.ev,n),t.done(Sr),await t.wait(Nr),t.update(Lr,(t=>t.concat(new v.Sy({key:Tr,view:()=>(e.runExecutor(),{destroy:()=>{n.flush()}})}))))}},Mr=t=>{let e=null;const n=()=>async n=>{await n.wait(Sr);const r=n.get(ur.ev),i=n.get(ur.Xc);i.setExecutor((()=>{null==t||t(r,i),null==e||e(r,i),ur.lt.forEach((t=>{i.has(t)})),i.get(ur._G,void 0)})),n.done(Dr)};return n.override=t=>(e=t,n),n},Nr=(0,m.eF)("InitReady"),Or=(0,m.oM)([],"initTimer"),Fr=(0,m.oM)({},"editor"),Ir=(0,m.oM)([],"inputRules"),Lr=(0,m.oM)([],"prosePlugins"),Br=(0,m.oM)([],"remarkPlugins"),Rr=(0,m.oM)([],"nodeView"),Pr=(0,m.oM)(tr(),"remark"),zr=(0,m.eF)("schemaReady"),$r=(0,m.oM)({},"schema"),jr=(0,m.oM)([],"schemaTimer"),Ur=(0,m.oM)([],"nodes"),Yr=(0,m.oM)([],"marks"),qr=t=>{var e;return br(vr({},t),{parseDOM:null==(e=t.parseDOM)?void 0:e.map((e=>vr({priority:t.priority},e)))})},Wr=t=>(t.inject($r).inject(Ur).inject(Yr).inject(jr,[Nr]).record(zr),async t=>{await t.waitTimers(jr);const e=t.get(Pr),n=t.get(Br).reduce(((t,e)=>t.use(e)),e);t.set(Pr,n);const r=Object.fromEntries(t.get(Ur).map((([t,e])=>[t,qr(e)]))),i=Object.fromEntries(t.get(Yr).map((([t,e])=>[t,qr(e)])));t.set($r,new k.V_({nodes:r,marks:i})),t.done(zr)}),Hr=(0,m.oM)((()=>null),"parser"),Vr=(0,m.oM)([],"parserTimer"),Gr=(0,m.eF)("ParserReady"),Xr=t=>(t.inject(Hr).inject(Vr,[zr]).record(Gr),async t=>{await t.waitTimers(Vr);const e=t.get(Ur),n=t.get(Yr),r=t.get(Pr),i=t.get($r),o=[...e.map((([t,e])=>vr({id:t},e))).map((t=>br(vr({},t),{is:"node"}))),...n.map((([t,e])=>vr({id:t},e))).map((t=>br(vr({},t),{is:"mark"})))],a=Object.fromEntries(o.map((({id:t,parseMarkdown:e,is:n})=>[t,br(vr({},e),{is:n,key:t})])));t.set(Hr,J(i,a,r)),t.done(Gr)}),Kr=(0,m.oM)((()=>""),"serializer"),Jr=(0,m.oM)([],"serializerTimer"),Zr=(0,m.eF)("SerializerReady"),Qr=t=>(t.inject(Kr).inject(Jr,[zr]).record(Zr),async t=>{await t.waitTimers(Jr);const e=t.get(Ur),n=t.get(Yr),r=t.get(Pr),i=t.get($r),o=[...e,...n],a=Object.fromEntries(o.map((([t,e])=>[t,e.toMarkdown])));t.set(Kr,ht(i,a,r)),t.done(Zr)}),ti=(0,m.oM)("","defaultValue"),ei=(0,m.oM)({},"editorState"),ni=(0,m.oM)((t=>t),"stateOptions"),ri=(0,m.oM)([],"editorStateTimer"),ii=(0,m.eF)("EditorStateReady"),oi=new v.H$("MILKDOWN_STATE_TRACKER"),ai=t=>(t.inject(ti).inject(ei).inject(ni).inject(ri,[Gr,Zr,bi]).record(ii),async t=>{await t.waitTimers(ri);const e=t.get($r),n=t.get(Hr),r=t.get(Ir),i=t.get(ni),o=t.get(Lr),a=((t,e,n)=>{if("string"==typeof t)return e(t);if("html"===t.type)return k.aw.fromSchema(n).parse(t.dom);if("json"===t.type)return k.NB.fromJSON(n,t.value);throw(0,y.rf)(t)})(t.get(ti),n,e),s=[...o,new v.Sy({key:oi,state:{init:()=>{},apply:(e,n,r,i)=>{t.set(ei,i)}}}),(0,w.NJ)({rules:r}),(0,_.h)(x.YR)];t.set(Lr,s);const l=i({schema:e,doc:a,plugins:s}),c=v.yy.create(l);t.set(ei,c),t.done(ii)}),si=(0,m.oM)({},"editorView"),li=(0,m.oM)({},"editorViewOptions"),ci=(0,m.oM)(null,"root"),ui=(0,m.oM)([],"editorViewTimer"),hi=(0,m.eF)("EditorViewReady"),di=new v.H$("MILKDOWN_VIEW_CLEAR"),fi=t=>(t.inject(ci,document.body).inject(si).inject(li).inject(ui,[ii]).record(hi),async t=>{await t.wait(Nr);const e=t.get(ci)||document.body,n="string"==typeof e?document.querySelector(e):e;t.update(Lr,(t=>[new v.Sy({key:di,view:t=>{const e=n?(t=>{const e=document.createElement("div");return e.className="milkdown",t.appendChild(e),e})(n):void 0;return(()=>{if(e&&n){const r=t.dom;n.replaceChild(e,r),e.appendChild(r)}})(),{destroy:()=>{(null==e?void 0:e.parentNode)&&(null==e||e.parentNode.replaceChild(t.dom,e)),null==e||e.remove()}}}}),...t])),await t.waitTimers(ui);const r=t.get(ei),i=t.get(li),o=Object.fromEntries(t.get(Rr)),a=new b.tk(n,vr({state:r,nodeViews:o,plugins:[]},i));var s;(s=a.dom).classList.add("editor"),s.setAttribute("role","textbox"),t.set(si,a),t.done(hi)});class pi{constructor(){_r(this,er,void 0),_r(this,nr,void 0),kr(this,er,(0,m.fH)()),kr(this,nr,null),this.setCtx=t=>{kr(this,nr,t)}}create(t,e){return t(xr(this,er).sliceMap,e)}get(t){return xr(this,er).getSlice(t).get()}call(t,e){if(null==xr(this,nr))throw(0,y.gq)();const n=this.get(t)(e),r=xr(this,nr).get(si);return n(r.state,r.dispatch,r)}}er=new WeakMap,nr=new WeakMap;const gi=(t,e)=>[t,e],mi=(t="cmdKey")=>(0,m.oM)((()=>()=>!1),t),yi=(0,m.oM)({},"commands"),vi=(0,m.oM)([],"commandsTimer"),bi=(0,m.eF)("CommandsReady"),wi=t=>{const e=new pi;return t.inject(yi,e).inject(vi,[zr]).record(bi),async t=>{await t.waitTimers(vi),t.done(bi),await t.wait(hi),e.setCtx(t)}},xi=class{constructor(){_r(this,rr,void 0),_r(this,ir,void 0),_r(this,or,void 0),_r(this,ar,void 0),_r(this,sr,void 0),_r(this,lr,void 0),_r(this,cr,void 0),kr(this,rr,(0,m.fH)()),kr(this,ir,(0,m.xj)()),kr(this,or,new Set),kr(this,ar,[]),kr(this,sr,new m.A7(xr(this,rr),xr(this,ir))),kr(this,lr,new m.SU(xr(this,rr),xr(this,ir))),kr(this,cr,(()=>{const t=[Ar,Wr,Xr,Qr,wi,ai,fi,(e=this,t=>(t.inject(Fr,e).inject(Lr).inject(Br).inject(Ir).inject(Rr).inject(Pr,tr()).inject(Or,[Dr]).record(Nr),async t=>{await t.waitTimers(Or),t.done(Nr)}))];var e;const n=(t=>e=>(e.record(Er),async e=>{await t(e),e.done(Er)}))((async t=>{await Promise.all(xr(this,ar).map((e=>e(t))))}));this.use(t.concat(n))})),this.use=t=>([t].flat().forEach((t=>{xr(this,or).add(t(xr(this,lr)))})),this),this.config=t=>(xr(this,ar).push(t),this),this.create=async()=>(xr(this,cr).call(this),await Promise.all([...xr(this,or)].map((t=>t(xr(this,sr))))),this),this.action=t=>t(xr(this,sr))}static make(){return new xi}get ctx(){return xr(this,sr)}};let _i=xi;rr=new WeakMap,ir=new WeakMap,or=new WeakMap,ar=new WeakMap,sr=new WeakMap,lr=new WeakMap,cr=new WeakMap},61395:(t,e,n)=>{"use strict";n.d(e,{A7:()=>w,SU:()=>x,eF:()=>k,fH:()=>y,oM:()=>b,xj:()=>_});var r,i,o,a,s=n(18872),l=Object.defineProperty,c=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable,d=(t,e,n)=>e in t?l(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,f=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},p=(t,e,n)=>(f(t,e,"read from private field"),n?n.call(t):e.get(t)),g=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},m=(t,e,n,r)=>(f(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);const y=()=>{const t=new Map;return{getSlice:e=>{const n="string"==typeof e?[...t.values()].find((t=>t.name===e)):t.get(e.id);if(!n){const t="string"==typeof e?e:e.sliceName;throw(0,s.KE)(t)}return n},sliceMap:t}},v=t=>Array.isArray(t)?[...t]:"object"==typeof t?((t,e)=>{for(var n in e||(e={}))u.call(e,n)&&d(t,n,e[n]);if(c)for(var n of c(e))h.call(e,n)&&d(t,n,e[n]);return t})({},t):t,b=(t,e)=>{const n=Symbol("Context"),r=(r,i=v(t))=>{let o=i;const a={name:e,id:n,set:t=>{o=t},get:()=>o,update:t=>{o=t(o)}};return r.set(n,a),a};return r.sliceName=e,r.id=n,r._typeInfo=()=>{throw(0,s.S1)()},r};class w{constructor(t,e){g(this,r,void 0),g(this,i,void 0),this.use=t=>p(this,r).getSlice(t),this.get=t=>this.use(t).get(),this.set=(t,e)=>this.use(t).set(e),this.update=(t,e)=>this.use(t).update(e),this.timing=t=>p(this,i).get(t),this.wait=t=>this.timing(t)(),this.done=t=>this.timing(t).done(),this.waitTimers=async t=>{await Promise.all(this.get(t).map((t=>this.wait(t))))},m(this,r,t),m(this,i,e)}}r=new WeakMap,i=new WeakMap;class x{constructor(t,e){g(this,o,void 0),g(this,a,void 0),this.inject=(t,e)=>(t(p(this,o).sliceMap,e),this),this.record=t=>(t(p(this,a).store),this),m(this,o,t),m(this,a,e)}}o=new WeakMap,a=new WeakMap;const _=()=>{const t=new Map;return{store:t,get:e=>{const n=t.get(e.id);if(!n)throw(0,s._O)();return n}}},k=(t,e=3e3)=>{const n=Symbol("Timer"),r=r=>{let i,o=!1;const a=Symbol(t),s=()=>o?Promise.resolve(void 0):new Promise(((n,r)=>{i=t=>{t instanceof CustomEvent&&t.detail.id===a&&(o=!0,n())},setTimeout((()=>{r(`Timing ${t} timeout.`),removeEventListener(t,i)}),e),addEventListener(t,i)}));return s.done=()=>{const e=new CustomEvent(t,{detail:{id:a}});dispatchEvent(e),removeEventListener(t,i)},r.set(n,s),s};return r.id=n,r}},49951:(t,e,n)=>{"use strict";n.d(e,{UT:()=>Rt,tP:()=>zt,Az:()=>$t,_G:()=>jt,kS:()=>Ut,eK:()=>Ht,I9:()=>Vt,dz:()=>Gt,eQ:()=>Bt,oL:()=>Nt,ev:()=>Ot,XN:()=>Jt,Rv:()=>Mt,lt:()=>Kt,Xc:()=>Lt});var r=function(){function t(t){var e=this;this._insertTag=function(t){var n;n=0===e.tags.length?e.insertionPoint?e.insertionPoint.nextSibling:e.prepend?e.container.firstChild:e.before:e.tags[e.tags.length-1].nextSibling,e.container.insertBefore(t,n),e.tags.push(t)},this.isSpeedy=void 0===t.speedy||t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(t){t.forEach(this._insertTag)},e.insert=function(t){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),void 0!==t.nonce&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}(this));var e=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}(e);try{n.insertRule(t,n.cssRules.length)}catch(t){0}}else e.appendChild(document.createTextNode(t));this.ctr++},e.flush=function(){this.tags.forEach((function(t){return t.parentNode&&t.parentNode.removeChild(t)})),this.tags=[],this.ctr=0},t}(),i=Math.abs,o=String.fromCharCode,a=Object.assign;function s(t){return t.trim()}function l(t,e,n){return t.replace(e,n)}function c(t,e){return t.indexOf(e)}function u(t,e){return 0|t.charCodeAt(e)}function h(t,e,n){return t.slice(e,n)}function d(t){return t.length}function f(t){return t.length}function p(t,e){return e.push(t),t}var g=1,m=1,y=0,v=0,b=0,w="";function x(t,e,n,r,i,o,a){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:g,column:m,length:a,return:""}}function _(t,e){return a(x("",null,null,"",null,null,0),t,{length:-t.length},e)}function k(){return b=v>0?u(w,--v):0,m--,10===b&&(m=1,g--),b}function E(){return b=v<y?u(w,v++):0,m++,10===b&&(m=1,g++),b}function C(){return u(w,v)}function S(){return v}function D(t,e){return h(w,t,e)}function T(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function A(t){return g=m=1,y=d(w=t),v=0,[]}function M(t){return w="",t}function N(t){return s(D(v-1,I(91===t?t+2:40===t?t+1:t)))}function O(t){for(;(b=C())&&b<33;)E();return T(t)>2||T(b)>3?"":" "}function F(t,e){for(;--e&&E()&&!(b<48||b>102||b>57&&b<65||b>70&&b<97););return D(t,S()+(e<6&&32==C()&&32==E()))}function I(t){for(;E();)switch(b){case t:return v;case 34:case 39:34!==t&&39!==t&&I(b);break;case 40:41===t&&I(t);break;case 92:E()}return v}function L(t,e){for(;E()&&t+b!==57&&(t+b!==84||47!==C()););return"/*"+D(e,v-1)+"*"+o(47===t?t:E())}function B(t){for(;!T(C());)E();return D(t,v)}var R="-ms-",P="-moz-",z="-webkit-",$="comm",j="rule",U="decl",Y="@keyframes";function q(t,e){for(var n="",r=f(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function W(t,e,n,r){switch(t.type){case"@import":case U:return t.return=t.return||t.value;case $:return"";case Y:return t.return=t.value+"{"+q(t.children,r)+"}";case j:t.value=t.props.join(",")}return d(n=q(t.children,r))?t.return=t.value+"{"+n+"}":""}function H(t,e){switch(function(t,e){return(((e<<2^u(t,0))<<2^u(t,1))<<2^u(t,2))<<2^u(t,3)}(t,e)){case 5103:return z+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return z+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return z+t+P+t+R+t+t;case 6828:case 4268:return z+t+R+t+t;case 6165:return z+t+R+"flex-"+t+t;case 5187:return z+t+l(t,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+t;case 5443:return z+t+R+"flex-item-"+l(t,/flex-|-self/,"")+t;case 4675:return z+t+R+"flex-line-pack"+l(t,/align-content|flex-|-self/,"")+t;case 5548:return z+t+R+l(t,"shrink","negative")+t;case 5292:return z+t+R+l(t,"basis","preferred-size")+t;case 6060:return z+"box-"+l(t,"-grow","")+z+t+R+l(t,"grow","positive")+t;case 4554:return z+l(t,/([^-])(transform)/g,"$1-webkit-$2")+t;case 6187:return l(l(l(t,/(zoom-|grab)/,z+"$1"),/(image-set)/,z+"$1"),t,"")+t;case 5495:case 3959:return l(t,/(image-set\([^]*)/,z+"$1$`$1");case 4968:return l(l(t,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+z+t+t;case 4095:case 3583:case 4068:case 2532:return l(t,/(.+)-inline(.+)/,z+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(d(t)-1-e>6)switch(u(t,e+1)){case 109:if(45!==u(t,e+4))break;case 102:return l(t,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1"+P+(108==u(t,e+3)?"$3":"$2-$3"))+t;case 115:return~c(t,"stretch")?H(l(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(115!==u(t,e+1))break;case 6444:switch(u(t,d(t)-3-(~c(t,"!important")&&10))){case 107:return l(t,":",":"+z)+t;case 101:return l(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+z+(45===u(t,14)?"inline-":"")+"box$3$1"+z+"$2$3$1"+R+"$2box$3")+t}break;case 5936:switch(u(t,e+11)){case 114:return z+t+R+l(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return z+t+R+l(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return z+t+R+l(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return z+t+R+t+t}return t}function V(t){return M(G("",null,null,null,[""],t=A(t),0,[0],t))}function G(t,e,n,r,i,a,s,u,h){for(var f=0,g=0,m=s,y=0,v=0,b=0,w=1,x=1,_=1,D=0,T="",A=i,M=a,I=r,R=T;x;)switch(b=D,D=E()){case 40:if(108!=b&&58==R.charCodeAt(m-1)){-1!=c(R+=l(N(D),"&","&\f"),"&\f")&&(_=-1);break}case 34:case 39:case 91:R+=N(D);break;case 9:case 10:case 13:case 32:R+=O(b);break;case 92:R+=F(S()-1,7);continue;case 47:switch(C()){case 42:case 47:p(K(L(E(),S()),e,n),h);break;default:R+="/"}break;case 123*w:u[f++]=d(R)*_;case 125*w:case 59:case 0:switch(D){case 0:case 125:x=0;case 59+g:v>0&&d(R)-m&&p(v>32?J(R+";",r,n,m-1):J(l(R," ","")+";",r,n,m-2),h);break;case 59:R+=";";default:if(p(I=X(R,e,n,f,g,i,u,T,A=[],M=[],m),a),123===D)if(0===g)G(R,e,I,I,A,a,m,u,M);else switch(y){case 100:case 109:case 115:G(t,I,I,r&&p(X(t,I,I,0,0,i,u,T,i,A=[],m),M),i,M,m,u,r?A:M);break;default:G(R,I,I,I,[""],M,0,u,M)}}f=g=v=0,w=_=1,T=R="",m=s;break;case 58:m=1+d(R),v=b;default:if(w<1)if(123==D)--w;else if(125==D&&0==w++&&125==k())continue;switch(R+=o(D),D*w){case 38:_=g>0?1:(R+="\f",-1);break;case 44:u[f++]=(d(R)-1)*_,_=1;break;case 64:45===C()&&(R+=N(E())),y=C(),g=m=d(T=R+=B(S())),D++;break;case 45:45===b&&2==d(R)&&(w=0)}}return a}function X(t,e,n,r,o,a,c,u,d,p,g){for(var m=o-1,y=0===o?a:[""],v=f(y),b=0,w=0,_=0;b<r;++b)for(var k=0,E=h(t,m+1,m=i(w=c[b])),C=t;k<v;++k)(C=s(w>0?y[k]+" "+E:l(E,/&\f/g,y[k])))&&(d[_++]=C);return x(t,e,n,0===o?j:u,d,p,g)}function K(t,e,n){return x(t,e,n,$,o(b),h(t,2,-2),0)}function J(t,e,n,r){return x(t,e,n,U,h(t,0,r),h(t,r+1,-1),r)}var Z=function(t,e,n){for(var r=0,i=0;r=i,i=C(),38===r&&12===i&&(e[n]=1),!T(i);)E();return D(t,v)},Q=function(t,e){return M(function(t,e){var n=-1,r=44;do{switch(T(r)){case 0:38===r&&12===C()&&(e[n]=1),t[n]+=Z(v-1,e,n);break;case 2:t[n]+=N(r);break;case 4:if(44===r){t[++n]=58===C()?"&\f":"",e[n]=t[n].length;break}default:t[n]+=o(r)}}while(r=E());return t}(A(t),e))},tt=new WeakMap,et=function(t){if("rule"===t.type&&t.parent&&!(t.length<1)){for(var e=t.value,n=t.parent,r=t.column===n.column&&t.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==t.props.length||58===e.charCodeAt(0)||tt.get(n))&&!r){tt.set(t,!0);for(var i=[],o=Q(e,i),a=n.props,s=0,l=0;s<o.length;s++)for(var c=0;c<a.length;c++,l++)t.props[l]=i[s]?o[s].replace(/&\f/g,a[c]):a[c]+" "+o[s]}}},nt=function(t){if("decl"===t.type){var e=t.value;108===e.charCodeAt(0)&&98===e.charCodeAt(2)&&(t.return="",t.value="")}},rt=[function(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case U:t.return=H(t.value,t.length);break;case Y:return q([_(t,{value:l(t.value,"@","@"+z)})],r);case j:if(t.length)return function(t,e){return t.map(e).join("")}(t.props,(function(e){switch(function(t,e){return(t=e.exec(t))?t[0]:t}(e,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return q([_(t,{props:[l(e,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return q([_(t,{props:[l(e,/:(plac\w+)/,":-webkit-input-$1")]}),_(t,{props:[l(e,/:(plac\w+)/,":-moz-$1")]}),_(t,{props:[l(e,/:(plac\w+)/,R+"input-$1")]})],r)}return""}))}}];const it=function(t){var e=t.key;if("css"===e){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(t){-1!==t.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(t),t.setAttribute("data-s",""))}))}var i=t.stylisPlugins||rt;var o,a,s={},l=[];o=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+e+' "]'),(function(t){for(var e=t.getAttribute("data-emotion").split(" "),n=1;n<e.length;n++)s[e[n]]=!0;l.push(t)}));var c,u,h,d,p=[W,(d=function(t){c.insert(t)},function(t){t.root||(t=t.return)&&d(t)})],g=(u=[et,nt].concat(i,p),h=f(u),function(t,e,n,r){for(var i="",o=0;o<h;o++)i+=u[o](t,e,n,r)||"";return i});a=function(t,e,n,r){c=n,q(V(t?t+"{"+e.styles+"}":e.styles),g),r&&(m.inserted[e.name]=!0)};var m={key:e,sheet:new r({key:e,container:o,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:s,registered:{},insert:a};return m.sheet.hydrate(l),m};var ot,at,st,lt,ct=n(61395),ut=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},ht=(t,e,n)=>(ut(t,e,"read from private field"),n?n.call(t):e.get(t)),dt=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)};var ft={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function pt(t){var e=Object.create(null);return function(n){return void 0===e[n]&&(e[n]=t(n)),e[n]}}var gt=/[A-Z]|^ms/g,mt=/_EMO_([^_]+?)_([^]*?)_EMO_/g,yt=function(t){return 45===t.charCodeAt(1)},vt=function(t){return null!=t&&"boolean"!=typeof t},bt=pt((function(t){return yt(t)?t:t.replace(gt,"-$&").toLowerCase()})),wt=function(t,e){switch(t){case"animation":case"animationName":if("string"==typeof e)return e.replace(mt,(function(t,e,n){return _t={name:e,styles:n,next:_t},e}))}return 1===ft[t]||yt(t)||"number"!=typeof e||0===e?e:e+"px"};function xt(t,e,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return _t={name:n.name,styles:n.styles,next:_t},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)_t={name:r.name,styles:r.styles,next:_t},r=r.next;return n.styles+";"}return function(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=xt(t,e,n[i])+";";else for(var o in n){var a=n[o];if("object"!=typeof a)null!=e&&void 0!==e[a]?r+=o+"{"+e[a]+"}":vt(a)&&(r+=bt(o)+":"+wt(o,a)+";");else if(!Array.isArray(a)||"string"!=typeof a[0]||null!=e&&void 0!==e[a[0]]){var s=xt(t,e,a);switch(o){case"animation":case"animationName":r+=bt(o)+":"+s+";";break;default:r+=o+"{"+s+"}"}}else for(var l=0;l<a.length;l++)vt(a[l])&&(r+=bt(o)+":"+wt(o,a[l])+";")}return r}(t,e,n);case"function":if(void 0!==t){var i=_t,o=n(t);return _t=i,xt(t,e,o)}}if(null==e)return n;var a=e[n];return void 0!==a?a:n}var _t,kt=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Et=function(t,e,n){if(1===t.length&&"object"==typeof t[0]&&null!==t[0]&&void 0!==t[0].styles)return t[0];var r=!0,i="";_t=void 0;var o=t[0];null==o||void 0===o.raw?(r=!1,i+=xt(n,e,o)):i+=o[0];for(var a=1;a<t.length;a++)i+=xt(n,e,t[a]),r&&(i+=o[a]);kt.lastIndex=0;for(var s,l="";null!==(s=kt.exec(i));)l+="-"+s[1];var c=function(t){for(var e,n=0,r=0,i=t.length;i>=4;++r,i-=4)e=1540483477*(65535&(e=255&t.charCodeAt(r)|(255&t.charCodeAt(++r))<<8|(255&t.charCodeAt(++r))<<16|(255&t.charCodeAt(++r))<<24))+(59797*(e>>>16)<<16),n=1540483477*(65535&(e^=e>>>24))+(59797*(e>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&t.charCodeAt(r+2))<<16;case 2:n^=(255&t.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&t.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+l;return{name:c,styles:i,next:_t}};function Ct(t,e,n){var r="";return n.split(" ").forEach((function(n){void 0!==t[n]?e.push(t[n]+";"):r+=n+" "})),r}var St=function(t,e,n){!function(t,e,n){var r=t.key+"-"+e.name;!1===n&&void 0===t.registered[r]&&(t.registered[r]=e.styles)}(t,e,n);var r=t.key+"-"+e.name;if(void 0===t.inserted[e.name]){var i=e;do{t.insert(e===i?"."+r:"",i,t.sheet,!0),i=i.next}while(void 0!==i)}};function Dt(t,e){if(void 0===t.inserted[e.name])return t.insert("",e,t.sheet,!0)}function Tt(t,e,n){var r=[],i=Ct(t,r,n);return r.length<2?n:i+e(r)}var At=function t(e){for(var n="",r=0;r<e.length;r++){var i=e[r];if(null!=i){var o=void 0;switch(typeof i){case"boolean":break;case"object":if(Array.isArray(i))o=t(i);else for(var a in o="",i)i[a]&&a&&(o&&(o+=" "),o+=a);break;default:o=i}o&&(n&&(n+=" "),n+=o)}}return n};const Mt=t=>function(t){var e=it(t);e.sheet.speedy=function(t){this.isSpeedy=t},e.compat=!0;var n=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Et(n,e.registered,void 0);return St(e,i,!1),e.key+"-"+i.name};return{css:n,cx:function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return Tt(e.registered,n,At(r))},injectGlobal:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Et(n,e.registered);Dt(e,i)},keyframes:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Et(n,e.registered),o="animation-"+i.name;return Dt(e,{name:i.name,styles:"@keyframes "+o+"{"+i.styles+"}"}),o},hydrate:function(t){t.forEach((function(t){e.inserted[t]=!0}))},flush:function(){e.registered={},e.inserted={},e.sheet.flush()},sheet:e.sheet,cache:e,getRegisteredStyles:Ct.bind(null,e.registered),merge:Tt.bind(null,e.registered,n)}}(t),Nt=(0,ct.oM)({key:"milkdown"},"EmotionConfig"),Ot=(0,ct.oM)({},"Emotion"),Ft=t=>(0,ct.oM)((()=>null),t);class It{constructor(){dt(this,ot,(0,ct.fH)()),dt(this,at,new Map),dt(this,st,new Set),dt(this,lt,(()=>{}))}inject(t){t(ht(this,ot).sliceMap)}has(t){const e="string"==typeof t?t:t.sliceName;if(ht(this,at).has(e))return!0;return null!=ht(this,ot).getSlice(t).get()(null)}set(t,e){const n="string"==typeof t?t:t.sliceName;ht(this,at).set(n,e)}get(t,e){const n="string"==typeof t?t:t.sliceName,r=ht(this,at).get(n);if(r){ht(this,ot).getSlice(t).set(r),ht(this,at).delete(t)}return ht(this,ot).getSlice(t).get()(e)}onFlush(t,e=!0){ht(this,st).has(t)||ht(this,st).add(t),e&&t()}async switch(t,e){t.get(Ot).flush(),await e(t)(t),this.runExecutor(),ht(this,st).forEach((t=>t()))}flush(t){t.get(Ot).flush(),this.runExecutor(),ht(this,st).forEach((t=>t()))}setExecutor(t){var e,n,r,i;t(),r=t,ut(e=this,n=lt,"write to private field"),i?i.call(e,r):n.set(e,r)}runExecutor(){ht(this,lt).call(this)}}ot=new WeakMap,at=new WeakMap,st=new WeakMap,lt=new WeakMap;const Lt=(0,ct.oM)(new It,"themeManager"),Bt=()=>new It,Rt=Ft("border"),Pt=Ft("code-fence"),zt=Ft("color"),$t=Ft("font"),jt=Ft("global"),Ut=Ft("icon"),Yt=Ft("image"),qt=Ft("inner-editor"),Wt=Ft("input-chip"),Ht=Ft("scrollbar"),Vt=Ft("shadow"),Gt=Ft("size"),Xt=Ft("task-list-item"),Kt=[zt,Gt,$t,Ht,Vt,Rt,Ut,jt,Pt,Yt,qt,Xt,Wt],Jt=t=>(e,n=1)=>t.get(zt,[e,n])},18872:(t,e,n)=>{"use strict";n.d(e,{KE:()=>a,OO:()=>d,S1:()=>l,Vh:()=>c,Wf:()=>p,_O:()=>s,gq:()=>f,qw:()=>u,rf:()=>o,y$:()=>h});const r=(t,e)=>"function"==typeof e?"[Function]":e,i=t=>JSON.stringify(t,r),o=t=>new Error(`Doc type error, unsupported type: ${i(t)}`),a=t=>new Error(`Context "${t}" not found, do you forget to inject it?`),s=()=>new Error("Timer not found, do you forget to record it?"),l=()=>new Error("Should not call a context out of the plugin."),c=(...t)=>{const e=t.reduce(((t,e)=>{if(!e)return t;const n=t=>Array.isArray(t)?t.map((t=>n(t))).join(", "):t.toJSON?i(t.toJSON()):t.spec?i(t.spec):t.toString();return`${t}, ${n(e)}`}),"Create prosemirror node from remark failed in parser");return new Error(e)},u=()=>new Error("Stack over flow, cannot pop on an empty stack."),h=t=>new Error(`Cannot match target parser for node: ${i(t)}.`),d=t=>new Error(`Cannot match target serializer for node: ${i(t)}.`),f=()=>new Error("You're trying to call a command before editor view initialized, make sure to get commandManager from ctx after editor view has been initialized"),p=()=>new Error("It seems that no theme found in editor, please make sure you have use theme in front of all plugins.\nIf you prefer to use an empty theme, you can use `themeFactory({})`.")},18610:(t,e,n)=>{"use strict";n.d(e,{Kk:()=>f,N2:()=>d,NJ:()=>s,a1:()=>p,j4:()=>l,q7:()=>c,wI:()=>u,zN:()=>h});var r=n(3047),i=n(94704);function o(t,e,n,r,i,o){if(t.composing)return!1;const a=t.state,s=a.doc.resolve(e);if(s.parent.type.spec.code)return!1;const l=s.parent.textBetween(Math.max(0,s.parentOffset-500),s.parentOffset,void 0,"￼")+r;for(let s=0;s<i.length;s++){const c=i[s].match.exec(l),u=c&&c[0]&&i[s].handler(a,c,e-(c[0].length-r.length),n);if(u)return t.dispatch(u.setMeta(o,{transform:u,from:e,to:n,text:r})),!0}return!1}const a=new r.H$("MILKDOWN_CUSTOM_INPUTRULES"),s=({rules:t})=>{const e=new r.Sy({key:a,isInputRules:!0,state:{init:()=>null,apply(t,e){const n=t.getMeta(this);return n||(t.selectionSet||t.docChanged?null:e)}},props:{handleTextInput:(n,r,i,a)=>o(n,r,i,a,t,e),handleDOMEvents:{compositionend:n=>(setTimeout((()=>{const{$cursor:r}=n.state.selection;r&&o(n,r.pos,r.pos,"",t,e)})),!1)},handleKeyDown(n,r){if("Enter"!==r.key)return!1;const{$cursor:i}=n.state.selection;return!!i&&o(n,i.pos,i.pos,"\n",t,e)}}});return e};function l(t,e){return new i.VK(t,((t,n,r,i)=>{const{tr:o}=t,a=n.length;let s=r,l=i;if(n[a-1]){const c=n[0],u=n[a-1],h=n[a-2],d=r+c.indexOf(h),f=d+h.length-1,p=d+h.lastIndexOf(u),g=p+u.length,m=function(t,e,n){let r=[];return n.doc.nodesBetween(t,e,((t,e)=>{r=[...r,...t.marks.map((n=>({start:e,end:e+t.nodeSize,mark:n})))]})),r}(r,i,t).filter((t=>t.mark.type.excludes(e))).filter((t=>t.end>d));if(m.length)return null;g<f&&o.delete(g,f),p>d&&o.delete(d,p),s=d,l=s+u.length}return o.addMark(s,l,e.create()),o.removeStoredMark(e),o}))}const c=(t,e,n)=>{var r;const i=t.state,{from:o}=i.selection,{node:a}=t.domAtPos(o),s=a instanceof Text?a.parentElement:a;if(!(s instanceof HTMLElement))throw new Error;const l=s.getBoundingClientRect(),c=e.getBoundingClientRect(),u=null==(r=e.parentElement)?void 0:r.getBoundingClientRect();if(!u)throw new Error;const[h,d]=n(l,c,u);e.style.top=h+"px",e.style.left=d+"px"},u=(t,e,n)=>{const r=t.state,{from:i,to:o}=r.selection,a=t.coordsAtPos(i),s=t.coordsAtPos(o),l=e.getBoundingClientRect(),c=e.parentElement;if(!c)throw new Error;const u=c.getBoundingClientRect(),[h,d]=n(a,s,l,u);e.style.top=h+"px",e.style.left=d+"px"},h=t=>Object.assign(Object.create(t),t).setTime(Date.now()),d=t=>(e,n)=>((t,e=!0)=>{const n=[];return t.descendants(((t,r)=>{if(n.push({node:t,pos:r}),!e)return!1})),n})(e,n).filter((e=>t(e.node))),f=t=>e=>(t=>e=>{for(let n=e.depth;n>0;n--){const r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}})(t)(e.$from),p=(t,e)=>{if(!(t instanceof r.qv))return;const{node:n,$from:i}=t;return((t,e)=>Array.isArray(t)&&t.indexOf(e.type)>-1||e.type===t)(e,n)?{node:n,pos:i.pos,start:i.start(i.depth),depth:i.depth}:void 0}},29584:(t,e,n)=>{"use strict";n.d(e,{T:()=>i});const r=document.createElement("i");function i(t){const e="&"+t+";";r.innerHTML=e;const n=r.textContent;return(59!==n.charCodeAt(n.length-1)||"semi"===t)&&(n!==e&&n)}},30406:(t,e,n)=>{"use strict";function r(t,e){const n=String(t);let r=n.indexOf(e),i=r,o=0,a=0;if("string"!=typeof e||1!==e.length)throw new Error("Expected character");for(;-1!==r;)r===i?++o>a&&(a=o):o=1,i=r+1,r=n.indexOf(e,i);return a}n.d(e,{J:()=>r})},67712:(t,e,n)=>{"use strict";n.d(e,{Y:()=>i});var r=n(73138);function i(t,e,n){let i=t.value||"",o="`",a=-1;for(;new RegExp("(^|[^`])"+o+"([^`]|$)").test(i);)o+="`";for(/[^ \r\n]/.test(i)&&(/^[ \r\n]/.test(i)&&/[ \r\n]$/.test(i)||/^`|`$/.test(i))&&(i=" "+i+" ");++a<n.unsafe.length;){const t=n.unsafe[a],e=(0,r.T)(t);let o;if(t.atBreak)for(;o=e.exec(i);){let t=o.index;10===i.charCodeAt(t)&&13===i.charCodeAt(t-1)&&t--,i=i.slice(0,t)+" "+i.slice(o.index+1)}}return o+i+o}i.peek=function(){return"`"}},33917:(t,e,n)=>{"use strict";n.d(e,{q:()=>s});var r=n(95559);var i=n(71025),o=n(25356),a=n(16201);function s(t,e,n,s){const l=function(t){const e=t.options.listItemIndent||"tab";if(1===e||"1"===e)return"one";if("tab"!==e&&"one"!==e&&"mixed"!==e)throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}(n);let c=n.bulletCurrent||(0,r.g)(n);e&&"list"===e.type&&e.ordered&&(c=("number"==typeof e.start&&e.start>-1?e.start:1)+(!1===n.options.incrementListMarker?0:e.children.indexOf(t))+c);let u=c.length+1;("tab"===l||"mixed"===l&&(e&&"list"===e.type&&e.spread||t.spread))&&(u=4*Math.ceil(u/4));const h=(0,a.j)(s);h.move(c+" ".repeat(u-c.length)),h.shift(u);const d=n.enter("listItem"),f=(0,o.Q)((0,i.K)(t,n,h.current()),(function(t,e,n){if(e)return(n?"":" ".repeat(u))+t;return(n?c:c+" ".repeat(u-c.length))+t}));return d(),f}},35484:(t,e,n)=>{"use strict";n.d(e,{L:()=>i});var r=n(88713);function i(t){return t.label||!t.identifier?t.label||"":(0,r.v)(t.identifier)}},95559:(t,e,n)=>{"use strict";function r(t){const e=t.options.bullet||"*";if("*"!==e&&"+"!==e&&"-"!==e)throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}n.d(e,{g:()=>r})},71025:(t,e,n)=>{"use strict";n.d(e,{K:()=>i});var r=n(16201);function i(t,e,n){const i=e.indexStack,o=t.children||[],a=(0,r.j)(n),s=[];let l=-1;for(i.push(-1);++l<o.length;){const n=o[l];i[i.length-1]=l,s.push(a.move(e.handle(n,t,e,{before:"\n",after:"\n",...a.current()}))),"list"!==n.type&&(e.bulletLastUsed=void 0),l<o.length-1&&s.push(a.move(c(n,o[l+1])))}return i.pop(),s.join("");function c(n,r){let i=e.join.length;for(;i--;){const o=e.join[i](n,r,t,e);if(!0===o||1===o)break;if("number"==typeof o)return"\n".repeat(1+o);if(!1===o)return"\n\n\x3c!----\x3e\n\n"}return"\n\n"}}},3291:(t,e,n)=>{"use strict";n.d(e,{p:()=>i});var r=n(16201);function i(t,e,n){const i=e.indexStack,o=t.children||[],a=[];let s=-1,l=n.before;i.push(-1);let c=(0,r.j)(n);for(;++s<o.length;){const u=o[s];let h;if(i[i.length-1]=s,s+1<o.length){let n=e.handle.handlers[o[s+1].type];n&&n.peek&&(n=n.peek),h=n?n(o[s+1],t,e,{before:"",after:"",...c.current()}).charAt(0):""}else h=n.after;a.length>0&&("\r"===l||"\n"===l)&&"html"===u.type&&(a[a.length-1]=a[a.length-1].replace(/(\r?\n|\r)$/," "),l=" ",c=(0,r.j)(n),c.move(a.join(""))),a.push(c.move(e.handle(u,t,e,{...c.current(),before:l,after:h}))),l=a[a.length-1].slice(-1)}return i.pop(),a.join("")}},25356:(t,e,n)=>{"use strict";n.d(e,{Q:()=>i});const r=/\r?\n|\r/g;function i(t,e){const n=[];let i,o=0,a=0;for(;i=r.exec(t);)s(t.slice(o,i.index)),n.push(i[0]),o=i.index+i[0].length,a++;return s(t.slice(o)),n.join("");function s(t){n.push(e(t,a,!t))}}},73138:(t,e,n)=>{"use strict";function r(t){if(!t._compiled){const e=(t.atBreak?"[\\r\\n][\\t ]*":"")+(t.before?"(?:"+t.before+")":"");t._compiled=new RegExp((e?"("+e+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(t.character)?"\\":"")+t.character+(t.after?"(?:"+t.after+")":""),"g")}return t._compiled}n.d(e,{T:()=>r})},72416:(t,e,n)=>{"use strict";function r(t,e){return i(t,e.inConstruct,!0)&&!i(t,e.notInConstruct,!1)}function i(t,e,n){if(!e)return n;"string"==typeof e&&(e=[e]);let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}n.d(e,{P:()=>r})},96471:(t,e,n)=>{"use strict";n.d(e,{T:()=>o});var r=n(73138),i=n(72416);function o(t,e,n){const o=(n.before||"")+(e||"")+(n.after||""),l=[],c=[],u={};let h=-1;for(;++h<t.unsafe.length;){const e=t.unsafe[h];if(!(0,i.P)(t.stack,e))continue;const n=(0,r.T)(e);let a;for(;a=n.exec(o);){const t="before"in e||Boolean(e.atBreak),n="after"in e,r=a.index+(t?a[1].length:0);l.includes(r)?(u[r].before&&!t&&(u[r].before=!1),u[r].after&&!n&&(u[r].after=!1)):(l.push(r),u[r]={before:t,after:n})}}l.sort(a);let d=n.before?n.before.length:0;const f=o.length-(n.after?n.after.length:0);for(h=-1;++h<l.length;){const t=l[h];t<d||t>=f||(t+1<f&&l[h+1]===t+1&&u[t].after&&!u[t+1].before&&!u[t+1].after||l[h-1]===t-1&&u[t].before&&!u[t-1].before&&!u[t-1].after||(d!==t&&c.push(s(o.slice(d,t),"\\")),d=t,!/[!-/:-@[-`{-~]/.test(o.charAt(t))||n.encode&&n.encode.includes(o.charAt(t))?(c.push("&#x"+o.charCodeAt(t).toString(16).toUpperCase()+";"),d++):c.push("\\")))}return c.push(s(o.slice(d,f),n.after)),c.join("")}function a(t,e){return t-e}function s(t,e){const n=/\\(?=[!-/:-@[-`{-~])/g,r=[],i=[],o=t+e;let a,s=-1,l=0;for(;a=n.exec(o);)r.push(a.index);for(;++s<r.length;)l!==r[s]&&i.push(t.slice(l,r[s])),i.push("\\"),l=r[s];return i.push(t.slice(l)),i.join("")}},16201:(t,e,n)=>{"use strict";function r(t){const e=t||{},n=e.now||{};let r=e.lineShift||0,i=n.line||1,o=n.column||1;return{move:function(t=""){const e=t.split(/\r?\n|\r/g),n=e[e.length-1];return i+=e.length-1,o=1===e.length?o+n.length:1+n.length+r,t},current:function(){return{now:{line:i,column:o},lineShift:r}},shift:function(t){r+=t}}}n.d(e,{j:()=>r})},16036:(t,e,n)=>{"use strict";n.d(e,{w:()=>o});var r=n(12101),i=n(34290);const o={tokenize:function(t,e,n){return(0,r.f)(t,(function(t){return null===t||(0,i.Ch)(t)?e(t):n(t)}),"linePrefix")},partial:!0}},12101:(t,e,n)=>{"use strict";n.d(e,{f:()=>i});var r=n(34290);function i(t,e,n,i){const o=i?i-1:Number.POSITIVE_INFINITY;let a=0;return function(i){if((0,r.xz)(i))return t.enter(n),s(i);return e(i)};function s(i){return(0,r.xz)(i)&&a++<o?(t.consume(i),s):(t.exit(n),e(i))}}},34290:(t,e,n)=>{"use strict";n.d(e,{jv:()=>r,H$:()=>a,n9:()=>l,Av:()=>c,pY:()=>i,AF:()=>o,sR:()=>s,Ch:()=>h,z3:()=>u,xz:()=>d,Xh:()=>p,B8:()=>f});const r=g(/[A-Za-z]/),i=g(/\d/),o=g(/[\dA-Fa-f]/),a=g(/[\dA-Za-z]/),s=g(/[!-/:-@[-`{-~]/),l=g(/[#-'*+\--9=?A-Z^-~]/);function c(t){return null!==t&&(t<32||127===t)}function u(t){return null!==t&&(t<0||32===t)}function h(t){return null!==t&&t<-2}function d(t){return-2===t||-1===t||32===t}const f=g(/\s/),p=g(/[!-/:-@[-`{-~\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/);function g(t){return function(e){return null!==e&&t.test(String.fromCharCode(e))}}},51345:(t,e,n)=>{"use strict";function r(t,e,n,r){const i=t.length;let o,a=0;if(e=e<0?-e>i?0:i+e:e>i?i:e,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(e,n),[].splice.apply(t,o);else for(n&&[].splice.apply(t,[e,n]);a<r.length;)o=r.slice(a,a+1e4),o.unshift(e,0),[].splice.apply(t,o),a+=1e4,e+=1e4}function i(t,e){return t.length>0?(r(t,t.length,0,e),t):e}n.d(e,{V:()=>i,d:()=>r})},86565:(t,e,n)=>{"use strict";n.d(e,{r:()=>i});var r=n(34290);function i(t){return null===t||(0,r.z3)(t)||(0,r.B8)(t)?1:(0,r.Xh)(t)?2:void 0}},78438:(t,e,n)=>{"use strict";n.d(e,{W:()=>o});var r=n(51345);const i={}.hasOwnProperty;function o(t){const e={};let n=-1;for(;++n<t.length;)a(e,t[n]);return e}function a(t,e){let n;for(n in e){const r=(i.call(t,n)?t[n]:void 0)||(t[n]={}),o=e[n];let a;for(a in o){i.call(r,a)||(r[a]=[]);const t=o[a];s(r[a],Array.isArray(t)?t:t?[t]:[])}}}function s(t,e){let n=-1;const i=[];for(;++n<e.length;)("after"===e[n].add?t:i).push(e[n]);(0,r.d)(t,0,0,i)}},7900:(t,e,n)=>{"use strict";function r(t,e){const n=Number.parseInt(t,e);return n<9||11===n||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||65535==(65535&n)||65534==(65535&n)||n>1114111?"�":String.fromCharCode(n)}n.d(e,{o:()=>r})},88713:(t,e,n)=>{"use strict";n.d(e,{v:()=>a});var r=n(29584),i=n(7900);const o=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function a(t){return t.replace(o,s)}function s(t,e,n){if(e)return e;if(35===n.charCodeAt(0)){const t=n.charCodeAt(1),e=120===t||88===t;return(0,i.o)(n.slice(e?2:1),e?16:10)}return(0,r.T)(n)||t}},36426:(t,e,n)=>{"use strict";function r(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}n.d(e,{d:()=>r})},30838:(t,e,n)=>{"use strict";function r(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const o=t[i].resolveAll;o&&!r.includes(o)&&(e=o(e,n),r.push(o))}return e}n.d(e,{C:()=>r})},51935:(t,e,n)=>{"use strict";n.d(e,{kP:()=>i});let r=t=>crypto.getRandomValues(new Uint8Array(t)),i=(t,e=21)=>((t,e,n)=>{let r=(2<<Math.log(t.length-1)/Math.LN2)-1,i=-~(1.6*r*e/t.length);return(o=e)=>{let a="";for(;;){let e=n(i),s=i;for(;s--;)if(a+=t[e[s]&r]||"",a.length===o)return a}}})(t,e,r)},84148:(t,e,n)=>{"use strict";n.d(e,{N0:()=>d,NE:()=>a,QF:()=>w,YR:()=>C,uJ:()=>v,w9:()=>b,ym:()=>y});var r=n(89893),i=n(32737),o=n(3047);const a=(t,e)=>!t.selection.empty&&(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function s(t,e,n=!1){for(let r=t;r;r="start"==e?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&1!=r.childCount)return!1}return!1}function l(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function c(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}function u(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const h=(t,e)=>{let{$from:n,$to:i}=t.selection;if(t.selection instanceof o.qv&&t.selection.node.isBlock)return!(!n.parentOffset||!(0,r.Ax)(t.doc,n.pos))&&(e&&e(t.tr.split(n.pos).scrollIntoView()),!0);if(!n.parent.isBlock)return!1;if(e){let a=i.parentOffset==i.parent.content.size,s=t.tr;(t.selection instanceof o.Bs||t.selection instanceof o.C1)&&s.deleteSelection();let l=0==n.depth?null:u(n.node(-1).contentMatchAt(n.indexAfter(-1))),c=a&&l?[{type:l}]:void 0,h=(0,r.Ax)(s.doc,s.mapping.map(n.pos),1,c);if(c||h||!(0,r.Ax)(s.doc,s.mapping.map(n.pos),1,l?[{type:l}]:void 0)||(l&&(c=[{type:l}]),h=!0),h&&(s.split(s.mapping.map(n.pos),1,c),!a&&!n.parentOffset&&n.parent.type!=l)){let t=s.mapping.map(n.before()),e=s.doc.resolve(t);l&&n.node(-1).canReplaceWith(e.index(),e.index()+1,l)&&s.setNodeMarkup(s.mapping.map(n.before()),l)}e(s.scrollIntoView())}return!0},d=(t,e)=>{let n,{$from:r,to:i}=t.selection,a=r.sharedDepth(i);return 0!=a&&(n=r.before(a),e&&e(t.tr.setSelection(o.qv.create(t.doc,n))),!0)};function f(t,e,n){let a,l,c=e.nodeBefore,u=e.nodeAfter;if(c.type.spec.isolating||u.type.spec.isolating)return!1;if(function(t,e,n){let i=e.nodeBefore,o=e.nodeAfter,a=e.index();return!(!(i&&o&&i.type.compatibleContent(o.type))||(!i.content.size&&e.parent.canReplace(a-1,a)?(n&&n(t.tr.delete(e.pos-i.nodeSize,e.pos).scrollIntoView()),0):!e.parent.canReplace(a,a+1)||!o.isTextblock&&!(0,r.Mn)(t.doc,e.pos)||(n&&n(t.tr.clearIncompatible(e.pos,i.type,i.contentMatchAt(i.childCount)).join(e.pos).scrollIntoView()),0)))}(t,e,n))return!0;let h=e.parent.canReplace(e.index(),e.index()+1);if(h&&(a=(l=c.contentMatchAt(c.childCount)).findWrapping(u.type))&&l.matchType(a[0]||u.type).validEnd){if(n){let o=e.pos+u.nodeSize,s=i.HY.empty;for(let t=a.length-1;t>=0;t--)s=i.HY.from(a[t].create(null,s));s=i.HY.from(c.copy(s));let l=t.tr.step(new r.FC(e.pos-1,o,e.pos,o,new i.p2(s,1,0),a.length,!0)),h=o+2*a.length;(0,r.Mn)(l.doc,h)&&l.join(h),n(l.scrollIntoView())}return!0}let d=o.Y1.findFrom(e,1),f=d&&d.$from.blockRange(d.$to),p=f&&(0,r.k9)(f);if(null!=p&&p>=e.depth)return n&&n(t.tr.lift(f,p).scrollIntoView()),!0;if(h&&s(u,"start",!0)&&s(c,"end")){let o=c,a=[];for(;a.push(o),!o.isTextblock;)o=o.lastChild;let s=u,l=1;for(;!s.isTextblock;s=s.firstChild)l++;if(o.canReplace(o.childCount,o.childCount,s.content)){if(n){let o=i.HY.empty;for(let t=a.length-1;t>=0;t--)o=i.HY.from(a[t].copy(o));n(t.tr.step(new r.FC(e.pos-a.length,e.pos+u.nodeSize,e.pos+l,e.pos+u.nodeSize-l,new i.p2(o,a.length,0),0,!0)).scrollIntoView())}return!0}}return!1}function p(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,a=i.depth;for(;i.node(a).isInline;){if(!a)return!1;a--}return!!i.node(a).isTextblock&&(n&&n(e.tr.setSelection(o.Bs.create(e.doc,t<0?i.start(a):i.end(a)))),!0)}}const g=p(-1),m=p(1);function y(t,e=null){return function(n,i){let{$from:o,$to:a}=n.selection,s=o.blockRange(a),l=s&&(0,r.nd)(s,t,e);return!!l&&(i&&i(n.tr.wrap(s,l).scrollIntoView()),!0)}}function v(t,e=null){return function(n,r){let{from:i,to:o}=n.selection,a=!1;return n.doc.nodesBetween(i,o,((r,i)=>{if(a)return!1;if(r.isTextblock&&!r.hasMarkup(t,e))if(r.type==t)a=!0;else{let e=n.doc.resolve(i),r=e.index();a=e.parent.canReplaceWith(r,r+1,t)}})),!!a&&(r&&r(n.tr.setBlockType(i,o,t,e).scrollIntoView()),!0)}}function b(t,e=null){return function(n,r){let{empty:i,$cursor:o,ranges:a}=n.selection;if(i&&!o||!function(t,e,n){for(let r=0;r<e.length;r++){let{$from:i,$to:o}=e[r],a=0==i.depth&&t.type.allowsMarkType(n);if(t.nodesBetween(i.pos,o.pos,(t=>{if(a)return!1;a=t.inlineContent&&t.type.allowsMarkType(n)})),a)return!0}return!1}(n.doc,a,t))return!1;if(r)if(o)t.isInSet(n.storedMarks||o.marks())?r(n.tr.removeStoredMark(t)):r(n.tr.addStoredMark(t.create(e)));else{let i=!1,o=n.tr;for(let e=0;!i&&e<a.length;e++){let{$from:r,$to:o}=a[e];i=n.doc.rangeHasMark(r.pos,o.pos,t)}for(let n=0;n<a.length;n++){let{$from:r,$to:s}=a[n];if(i)o.removeMark(r.pos,s.pos,t);else{let n=r.pos,i=s.pos,a=r.nodeAfter,l=s.nodeBefore,c=a&&a.isText?/^\s*/.exec(a.text)[0].length:0,u=l&&l.isText?/\s*$/.exec(l.text)[0].length:0;n+c<i&&(n+=c,i-=u),o.addMark(n,i,t.create(e))}}r(o.scrollIntoView())}return!0}}function w(...t){return function(e,n,r){for(let i=0;i<t.length;i++)if(t[i](e,n,r))return!0;return!1}}let x=w(a,((t,e,n)=>{let{$cursor:a}=t.selection;if(!a||(n?!n.endOfTextblock("backward",t):a.parentOffset>0))return!1;let c=l(a);if(!c){let n=a.blockRange(),i=n&&(0,r.k9)(n);return null!=i&&(e&&e(t.tr.lift(n,i).scrollIntoView()),!0)}let u=c.nodeBefore;if(!u.type.spec.isolating&&f(t,c,e))return!0;if(0==a.parent.content.size&&(s(u,"end")||o.qv.isSelectable(u))){let n=(0,r.dR)(t.doc,a.before(),a.after(),i.p2.empty);if(n&&n.slice.size<n.to-n.from){if(e){let r=t.tr.step(n);r.setSelection(s(u,"end")?o.Y1.findFrom(r.doc.resolve(r.mapping.map(c.pos,-1)),-1):o.qv.create(r.doc,c.pos-u.nodeSize)),e(r.scrollIntoView())}return!0}}return!(!u.isAtom||c.depth!=a.depth-1)&&(e&&e(t.tr.delete(c.pos-u.nodeSize,c.pos).scrollIntoView()),!0)}),((t,e,n)=>{let{$head:r,empty:i}=t.selection,a=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;a=l(r)}let s=a&&a.nodeBefore;return!(!s||!o.qv.isSelectable(s))&&(e&&e(t.tr.setSelection(o.qv.create(t.doc,a.pos-s.nodeSize)).scrollIntoView()),!0)})),_=w(a,((t,e,n)=>{let{$cursor:a}=t.selection;if(!a||(n?!n.endOfTextblock("forward",t):a.parentOffset<a.parent.content.size))return!1;let l=c(a);if(!l)return!1;let u=l.nodeAfter;if(f(t,l,e))return!0;if(0==a.parent.content.size&&(s(u,"start")||o.qv.isSelectable(u))){let n=(0,r.dR)(t.doc,a.before(),a.after(),i.p2.empty);if(n&&n.slice.size<n.to-n.from){if(e){let r=t.tr.step(n);r.setSelection(s(u,"start")?o.Y1.findFrom(r.doc.resolve(r.mapping.map(l.pos)),1):o.qv.create(r.doc,r.mapping.map(l.pos))),e(r.scrollIntoView())}return!0}}return!(!u.isAtom||l.depth!=a.depth-1)&&(e&&e(t.tr.delete(l.pos,l.pos+u.nodeSize).scrollIntoView()),!0)}),((t,e,n)=>{let{$head:r,empty:i}=t.selection,a=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;a=c(r)}let s=a&&a.nodeAfter;return!(!s||!o.qv.isSelectable(s))&&(e&&e(t.tr.setSelection(o.qv.create(t.doc,a.pos)).scrollIntoView()),!0)}));const k={Enter:w(((t,e)=>{let{$head:n,$anchor:r}=t.selection;return!(!n.parent.type.spec.code||!n.sameParent(r))&&(e&&e(t.tr.insertText("\n").scrollIntoView()),!0)}),((t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof o.C1||r.parent.inlineContent||i.parent.inlineContent)return!1;let a=u(i.parent.contentMatchAt(i.indexAfter()));if(!a||!a.isTextblock)return!1;if(e){let n=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,s=t.tr.insert(n,a.createAndFill());s.setSelection(o.Bs.create(s.doc,n+1)),e(s.scrollIntoView())}return!0}),((t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let i=n.before();if((0,r.Ax)(t.doc,i))return e&&e(t.tr.split(i).scrollIntoView()),!0}let i=n.blockRange(),o=i&&(0,r.k9)(i);return null!=o&&(e&&e(t.tr.lift(i,o).scrollIntoView()),!0)}),h),"Mod-Enter":(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),a=n.indexAfter(-1),s=u(i.contentMatchAt(a));if(!s||!i.canReplaceWith(a,a,s))return!1;if(e){let r=n.after(),i=t.tr.replaceWith(r,r,s.createAndFill());i.setSelection(o.Y1.near(i.doc.resolve(r),1)),e(i.scrollIntoView())}return!0},Backspace:x,"Mod-Backspace":x,"Shift-Backspace":x,Delete:_,"Mod-Delete":_,"Mod-a":(t,e)=>(e&&e(t.tr.setSelection(new o.C1(t.doc))),!0)},E={"Ctrl-h":k.Backspace,"Alt-Backspace":k["Mod-Backspace"],"Ctrl-d":k.Delete,"Ctrl-Alt-Backspace":k["Mod-Delete"],"Alt-Delete":k["Mod-Delete"],"Alt-d":k["Mod-Delete"],"Ctrl-a":g,"Ctrl-e":m};for(let t in k)E[t]=k[t];const C=("undefined"!=typeof navigator?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!("undefined"==typeof os||!os.platform)&&"darwin"==os.platform())?E:k},94704:(t,e,n)=>{"use strict";n.d(e,{Hw:()=>a,S0:()=>l,VK:()=>o,zK:()=>c});var r=n(3047),i=n(89893);class o{constructor(t,e){var n;this.match=t,this.match=t,this.handler="string"==typeof e?(n=e,function(t,e,r,i){let o=n;if(e[1]){let t=e[0].lastIndexOf(e[1]);o+=e[0].slice(t+e[1].length);let n=(r+=t)-i;n>0&&(o=e[0].slice(t-n,t)+o,r=i)}return t.tr.insertText(o,r,i)}):e}}function a({rules:t}){let e=new r.Sy({state:{init:()=>null,apply(t,e){let n=t.getMeta(this);return n||(t.selectionSet||t.docChanged?null:e)}},props:{handleTextInput:(n,r,i,o)=>s(n,r,i,o,t,e),handleDOMEvents:{compositionend:n=>{setTimeout((()=>{let{$cursor:r}=n.state.selection;r&&s(n,r.pos,r.pos,"",t,e)}))}}},isInputRules:!0});return e}function s(t,e,n,r,i,o){if(t.composing)return!1;let a=t.state,s=a.doc.resolve(e);if(s.parent.type.spec.code)return!1;let l=s.parent.textBetween(Math.max(0,s.parentOffset-500),s.parentOffset,null,"￼")+r;for(let s=0;s<i.length;s++){let c=i[s].match.exec(l),u=c&&i[s].handler(a,c,e-(c[0].length-r.length),n);if(u)return t.dispatch(u.setMeta(o,{transform:u,from:e,to:n,text:r})),!0}return!1}new o(/--$/,"—"),new o(/\.\.\.$/,"…"),new o(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"“"),new o(/"$/,"”"),new o(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"‘"),new o(/'$/,"’");function l(t,e,n=null,r){return new o(t,((t,o,a,s)=>{let l=n instanceof Function?n(o):n,c=t.tr.delete(a,s),u=c.doc.resolve(a).blockRange(),h=u&&(0,i.nd)(u,e,l);if(!h)return null;c.wrap(u,h);let d=c.doc.resolve(a-1).nodeBefore;return d&&d.type==e&&(0,i.Mn)(c.doc,a-1)&&(!r||r(o,d))&&c.join(a-1),c}))}function c(t,e,n=null){return new o(t,((t,r,i,o)=>{let a=t.doc.resolve(i),s=n instanceof Function?n(r):n;return a.node(-1).canReplaceWith(a.index(-1),a.indexAfter(-1),e)?t.tr.delete(i,o).setBlockType(i,i,e,s):null}))}},86527:(t,e,n)=>{"use strict";n.d(e,{$:()=>v,h:()=>y});for(var r={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},i={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},o="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),a="undefined"!=typeof navigator&&/Apple Computer/.test(navigator.vendor),s="undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),l="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),c="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),u=o&&(l||+o[1]<57)||s&&l,h=0;h<10;h++)r[48+h]=r[96+h]=String(h);for(h=1;h<=24;h++)r[h+111]="F"+h;for(h=65;h<=90;h++)r[h]=String.fromCharCode(h+32),i[h]=String.fromCharCode(h);for(var d in r)i.hasOwnProperty(d)||(i[d]=r[d]);var f=n(3047);const p="undefined"!=typeof navigator&&/Mac|iP(hone|[oa]d)/.test(navigator.platform);function g(t){let e,n,r,i,o=t.split(/-(?!$)/),a=o[o.length-1];"Space"==a&&(a=" ");for(let t=0;t<o.length-1;t++){let a=o[t];if(/^(cmd|meta|m)$/i.test(a))i=!0;else if(/^a(lt)?$/i.test(a))e=!0;else if(/^(c|ctrl|control)$/i.test(a))n=!0;else if(/^s(hift)?$/i.test(a))r=!0;else{if(!/^mod$/i.test(a))throw new Error("Unrecognized modifier name: "+a);p?i=!0:n=!0}}return e&&(a="Alt-"+a),n&&(a="Ctrl-"+a),i&&(a="Meta-"+a),r&&(a="Shift-"+a),a}function m(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),!1!==n&&e.shiftKey&&(t="Shift-"+t),t}function y(t){return new f.Sy({props:{handleKeyDown:v(t)}})}function v(t){let e=function(t){let e=Object.create(null);for(let n in t)e[g(n)]=t[n];return e}(t);return function(t,n){let o,s=function(t){var e=!(u&&(t.ctrlKey||t.altKey||t.metaKey)||(a||c)&&t.shiftKey&&t.key&&1==t.key.length)&&t.key||(t.shiftKey?i:r)[t.keyCode]||t.key||"Unidentified";return"Esc"==e&&(e="Escape"),"Del"==e&&(e="Delete"),"Left"==e&&(e="ArrowLeft"),"Up"==e&&(e="ArrowUp"),"Right"==e&&(e="ArrowRight"),"Down"==e&&(e="ArrowDown"),e}(n),l=1==s.length&&" "!=s,h=e[m(s,n,!l)];if(h&&h(t.state,t.dispatch,t))return!0;if(l&&(n.shiftKey||n.altKey||n.metaKey||s.charCodeAt(0)>127)&&(o=r[n.keyCode])&&o!=s){let r=e[m(o,n,!0)];if(r&&r(t.state,t.dispatch,t))return!0}else if(l&&n.shiftKey){let r=e[m(s,n,!0)];if(r&&r(t.state,t.dispatch,t))return!0}return!1}}},32737:(t,e,n)=>{"use strict";function r(t){this.content=t}n.d(e,{aw:()=>J,PW:()=>st,HY:()=>s,vc:()=>h,ZU:()=>G,NB:()=>N,Ts:()=>A,e4:()=>d,V_:()=>X,p2:()=>f}),r.prototype={constructor:r,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return-1==e?void 0:this.content[e+1]},update:function(t,e,n){var i=n&&n!=t?this.remove(n):this,o=i.find(t),a=i.content.slice();return-1==o?a.push(n||t,e):(a[o+1]=e,n&&(a[o]=n)),new r(a)},remove:function(t){var e=this.find(t);if(-1==e)return this;var n=this.content.slice();return n.splice(e,2),new r(n)},addToStart:function(t,e){return new r([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new r(n)},addBefore:function(t,e,n){var i=this.remove(e),o=i.content.slice(),a=i.find(t);return o.splice(-1==a?o.length:a,0,e,n),new r(o)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return(t=r.from(t)).size?new r(t.content.concat(this.subtract(t).content)):this},append:function(t){return(t=r.from(t)).size?new r(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=r.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},get size(){return this.content.length>>1}},r.from=function(t){if(t instanceof r)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new r(e)};const i=r;function o(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),a=e.child(r);if(i!=a){if(!i.sameMarkup(a))return n;if(i.isText&&i.text!=a.text){for(let t=0;i.text[t]==a.text[t];t++)n++;return n}if(i.content.size||a.content.size){let t=o(i.content,a.content,n+1);if(null!=t)return t}n+=i.nodeSize}else n+=i.nodeSize}}function a(t,e,n,r){for(let i=t.childCount,o=e.childCount;;){if(0==i||0==o)return i==o?null:{a:n,b:r};let s=t.child(--i),l=e.child(--o),c=s.nodeSize;if(s!=l){if(!s.sameMarkup(l))return{a:n,b:r};if(s.isText&&s.text!=l.text){let t=0,e=Math.min(s.text.length,l.text.length);for(;t<e&&s.text[s.text.length-t-1]==l.text[l.text.length-t-1];)t++,n--,r--;return{a:n,b:r}}if(s.content.size||l.content.size){let t=a(s.content,l.content,n-1,r-1);if(t)return t}n-=c,r-=c}else n-=c,r-=c}}class s{constructor(t,e){if(this.content=t,this.size=e||0,null==e)for(let e=0;e<t.length;e++)this.size+=t[e].nodeSize}nodesBetween(t,e,n,r=0,i){for(let o=0,a=0;a<e;o++){let s=this.content[o],l=a+s.nodeSize;if(l>t&&!1!==n(s,r+a,i||null,o)&&s.content.size){let i=a+1;s.nodesBetween(Math.max(0,t-i),Math.min(s.content.size,e-i),n,r+i)}a=l}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,e,n,r){let i="",o=!0;return this.nodesBetween(t,e,((a,s)=>{a.isText?(i+=a.text.slice(Math.max(t,s)-s,e-s),o=!n):a.isLeaf?(r?i+="function"==typeof r?r(a):r:a.type.spec.leafText&&(i+=a.type.spec.leafText(a)),o=!n):!o&&a.isBlock&&(i+=n,o=!0)}),0),i}append(t){if(!t.size)return this;if(!this.size)return t;let e=this.lastChild,n=t.firstChild,r=this.content.slice(),i=0;for(e.isText&&e.sameMarkup(n)&&(r[r.length-1]=e.withText(e.text+n.text),i=1);i<t.content.length;i++)r.push(t.content[i]);return new s(r,this.size+t.size)}cut(t,e=this.size){if(0==t&&e==this.size)return this;let n=[],r=0;if(e>t)for(let i=0,o=0;o<e;i++){let a=this.content[i],s=o+a.nodeSize;s>t&&((o<t||s>e)&&(a=a.isText?a.cut(Math.max(0,t-o),Math.min(a.text.length,e-o)):a.cut(Math.max(0,t-o-1),Math.min(a.content.size,e-o-1))),n.push(a),r+=a.nodeSize),o=s}return new s(n,r)}cutByIndex(t,e){return t==e?s.empty:0==t&&e==this.content.length?this:new s(this.content.slice(t,e))}replaceChild(t,e){let n=this.content[t];if(n==e)return this;let r=this.content.slice(),i=this.size+e.nodeSize-n.nodeSize;return r[t]=e,new s(r,i)}addToStart(t){return new s([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new s(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let e=0;e<this.content.length;e++)if(!this.content[e].eq(t.content[e]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let e=this.content[t];if(!e)throw new RangeError("Index "+t+" out of range for "+this);return e}maybeChild(t){return this.content[t]||null}forEach(t){for(let e=0,n=0;e<this.content.length;e++){let r=this.content[e];t(r,n,e),n+=r.nodeSize}}findDiffStart(t,e=0){return o(this,t,e)}findDiffEnd(t,e=this.size,n=t.size){return a(this,t,e,n)}findIndex(t,e=-1){if(0==t)return c(0,t);if(t==this.size)return c(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let n=0,r=0;;n++){let i=r+this.child(n).nodeSize;if(i>=t)return i==t||e>0?c(n+1,i):c(n,r);r=i}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map((t=>t.toJSON())):null}static fromJSON(t,e){if(!e)return s.empty;if(!Array.isArray(e))throw new RangeError("Invalid input for Fragment.fromJSON");return new s(e.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return s.empty;let e,n=0;for(let r=0;r<t.length;r++){let i=t[r];n+=i.nodeSize,r&&i.isText&&t[r-1].sameMarkup(i)?(e||(e=t.slice(0,r)),e[e.length-1]=i.withText(e[e.length-1].text+i.text)):e&&e.push(i)}return new s(e||t,n)}static from(t){if(!t)return s.empty;if(t instanceof s)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new s([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}s.empty=new s([],0);const l={index:0,offset:0};function c(t,e){return l.index=t,l.offset=e,l}function u(t,e){if(t===e)return!0;if(!t||"object"!=typeof t||!e||"object"!=typeof e)return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!u(t[n],e[n]))return!1}else{for(let n in t)if(!(n in e)||!u(t[n],e[n]))return!1;for(let n in e)if(!(n in t))return!1}return!0}class h{constructor(t,e){this.type=t,this.attrs=e}addToSet(t){let e,n=!1;for(let r=0;r<t.length;r++){let i=t[r];if(this.eq(i))return t;if(this.type.excludes(i.type))e||(e=t.slice(0,r));else{if(i.type.excludes(this.type))return t;!n&&i.type.rank>this.type.rank&&(e||(e=t.slice(0,r)),e.push(this),n=!0),e&&e.push(i)}}return e||(e=t.slice()),n||e.push(this),e}removeFromSet(t){for(let e=0;e<t.length;e++)if(this.eq(t[e]))return t.slice(0,e).concat(t.slice(e+1));return t}isInSet(t){for(let e=0;e<t.length;e++)if(this.eq(t[e]))return!0;return!1}eq(t){return this==t||this.type==t.type&&u(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let e in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,e){if(!e)throw new RangeError("Invalid input for Mark.fromJSON");let n=t.marks[e.type];if(!n)throw new RangeError(`There is no mark type ${e.type} in this schema`);return n.create(e.attrs)}static sameSet(t,e){if(t==e)return!0;if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].eq(e[n]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&0==t.length)return h.none;if(t instanceof h)return[t];let e=t.slice();return e.sort(((t,e)=>t.type.rank-e.type.rank)),e}}h.none=[];class d extends Error{}class f{constructor(t,e,n){this.content=t,this.openStart=e,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,e){let n=g(this.content,t+this.openStart,e);return n&&new f(n,this.openStart,this.openEnd)}removeBetween(t,e){return new f(p(this.content,t+this.openStart,e+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,e){if(!e)return f.empty;let n=e.openStart||0,r=e.openEnd||0;if("number"!=typeof n||"number"!=typeof r)throw new RangeError("Invalid input for Slice.fromJSON");return new f(s.fromJSON(t,e.content),n,r)}static maxOpen(t,e=!0){let n=0,r=0;for(let r=t.firstChild;r&&!r.isLeaf&&(e||!r.type.spec.isolating);r=r.firstChild)n++;for(let n=t.lastChild;n&&!n.isLeaf&&(e||!n.type.spec.isolating);n=n.lastChild)r++;return new f(t,n,r)}}function p(t,e,n){let{index:r,offset:i}=t.findIndex(e),o=t.maybeChild(r),{index:a,offset:s}=t.findIndex(n);if(i==e||o.isText){if(s!=n&&!t.child(a).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=a)throw new RangeError("Removing non-flat range");return t.replaceChild(r,o.copy(p(o.content,e-i-1,n-i-1)))}function g(t,e,n,r){let{index:i,offset:o}=t.findIndex(e),a=t.maybeChild(i);if(o==e||a.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));let s=g(a.content,e-o-1,n);return s&&t.replaceChild(i,a.copy(s))}function m(t,e,n){if(n.openStart>t.depth)throw new d("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new d("Inconsistent open depths");return y(t,e,n,0)}function y(t,e,n,r){let i=t.index(r),o=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let a=y(t,e,n,r+1);return o.copy(o.content.replaceChild(i,a))}if(n.content.size){if(n.openStart||n.openEnd||t.depth!=r||e.depth!=r){let{start:i,end:a}=function(t,e){let n=e.depth-t.openStart,r=e.node(n).copy(t.content);for(let t=n-1;t>=0;t--)r=e.node(t).copy(s.from(r));return{start:r.resolveNoCache(t.openStart+n),end:r.resolveNoCache(r.content.size-t.openEnd-n)}}(n,t);return _(o,k(t,i,a,e,r))}{let r=t.parent,i=r.content;return _(r,i.cut(0,t.parentOffset).append(n.content).append(i.cut(e.parentOffset)))}}return _(o,E(t,e,r))}function v(t,e){if(!e.type.compatibleContent(t.type))throw new d("Cannot join "+e.type.name+" onto "+t.type.name)}function b(t,e,n){let r=t.node(n);return v(r,e.node(n)),r}function w(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function x(t,e,n,r){let i=(e||t).node(n),o=0,a=e?e.index(n):i.childCount;t&&(o=t.index(n),t.depth>n?o++:t.textOffset&&(w(t.nodeAfter,r),o++));for(let t=o;t<a;t++)w(i.child(t),r);e&&e.depth==n&&e.textOffset&&w(e.nodeBefore,r)}function _(t,e){if(!t.type.validContent(e))throw new d("Invalid content for node "+t.type.name);return t.copy(e)}function k(t,e,n,r,i){let o=t.depth>i&&b(t,e,i+1),a=r.depth>i&&b(n,r,i+1),l=[];return x(null,t,i,l),o&&a&&e.index(i)==n.index(i)?(v(o,a),w(_(o,k(t,e,n,r,i+1)),l)):(o&&w(_(o,E(t,e,i+1)),l),x(e,n,i,l),a&&w(_(a,E(n,r,i+1)),l)),x(r,null,i,l),new s(l)}function E(t,e,n){let r=[];if(x(null,t,n,r),t.depth>n){w(_(b(t,e,n+1),E(t,e,n+1)),r)}return x(e,null,n,r),new s(r)}f.empty=new f(s.empty,0,0);class C{constructor(t,e,n){this.pos=t,this.path=e,this.parentOffset=n,this.depth=e.length/3-1}resolveDepth(t){return null==t?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[3*this.resolveDepth(t)]}index(t){return this.path[3*this.resolveDepth(t)+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t!=this.depth||this.textOffset?1:0)}start(t){return 0==(t=this.resolveDepth(t))?0:this.path[3*t-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(!(t=this.resolveDepth(t)))throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]}after(t){if(!(t=this.resolveDepth(t)))throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]+this.path[3*t].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,e=this.index(this.depth);if(e==t.childCount)return null;let n=this.pos-this.path[this.path.length-1],r=t.child(e);return n?t.child(e).cut(n):r}get nodeBefore(){let t=this.index(this.depth),e=this.pos-this.path[this.path.length-1];return e?this.parent.child(t).cut(0,e):0==t?null:this.parent.child(t-1)}posAtIndex(t,e){e=this.resolveDepth(e);let n=this.path[3*e],r=0==e?0:this.path[3*e-1]+1;for(let e=0;e<t;e++)r+=n.child(e).nodeSize;return r}marks(){let t=this.parent,e=this.index();if(0==t.content.size)return h.none;if(this.textOffset)return t.child(e).marks;let n=t.maybeChild(e-1),r=t.maybeChild(e);if(!n){let t=n;n=r,r=t}let i=n.marks;for(var o=0;o<i.length;o++)!1!==i[o].type.spec.inclusive||r&&i[o].isInSet(r.marks)||(i=i[o--].removeFromSet(i));return i}marksAcross(t){let e=this.parent.maybeChild(this.index());if(!e||!e.isInline)return null;let n=e.marks,r=t.parent.maybeChild(t.index());for(var i=0;i<n.length;i++)!1!==n[i].type.spec.inclusive||r&&n[i].isInSet(r.marks)||(n=n[i--].removeFromSet(n));return n}sharedDepth(t){for(let e=this.depth;e>0;e--)if(this.start(e)<=t&&this.end(e)>=t)return e;return 0}blockRange(t=this,e){if(t.pos<this.pos)return t.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);n>=0;n--)if(t.pos<=this.end(n)&&(!e||e(this.node(n))))return new A(this,t,n);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let e=1;e<=this.depth;e++)t+=(t?"/":"")+this.node(e).type.name+"_"+this.index(e-1);return t+":"+this.parentOffset}static resolve(t,e){if(!(e>=0&&e<=t.content.size))throw new RangeError("Position "+e+" out of range");let n=[],r=0,i=e;for(let e=t;;){let{index:t,offset:o}=e.content.findIndex(i),a=i-o;if(n.push(e,t,r+o),!a)break;if(e=e.child(t),e.isText)break;i=a-1,r+=o+1}return new C(e,n,i)}static resolveCached(t,e){for(let n=0;n<S.length;n++){let r=S[n];if(r.pos==e&&r.doc==t)return r}let n=S[D]=C.resolve(t,e);return D=(D+1)%T,n}}let S=[],D=0,T=12;class A{constructor(t,e,n){this.$from=t,this.$to=e,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const M=Object.create(null);class N{constructor(t,e,n,r=h.none){this.type=t,this.attrs=e,this.marks=r,this.content=n||s.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,e,n,r=0){this.content.nodesBetween(t,e,n,r,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,e,n,r){return this.content.textBetween(t,e,n,r)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,e,n){return this.type==t&&u(this.attrs,e||t.defaultAttrs||M)&&h.sameSet(this.marks,n||h.none)}copy(t=null){return t==this.content?this:new N(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new N(this.type,this.attrs,this.content,t)}cut(t,e=this.content.size){return 0==t&&e==this.content.size?this:this.copy(this.content.cut(t,e))}slice(t,e=this.content.size,n=!1){if(t==e)return f.empty;let r=this.resolve(t),i=this.resolve(e),o=n?0:r.sharedDepth(e),a=r.start(o),s=r.node(o).content.cut(r.pos-a,i.pos-a);return new f(s,r.depth-o,i.depth-o)}replace(t,e,n){return m(this.resolve(t),this.resolve(e),n)}nodeAt(t){for(let e=this;;){let{index:n,offset:r}=e.content.findIndex(t);if(e=e.maybeChild(n),!e)return null;if(r==t||e.isText)return e;t-=r+1}}childAfter(t){let{index:e,offset:n}=this.content.findIndex(t);return{node:this.content.maybeChild(e),index:e,offset:n}}childBefore(t){if(0==t)return{node:null,index:0,offset:0};let{index:e,offset:n}=this.content.findIndex(t);if(n<t)return{node:this.content.child(e),index:e,offset:n};let r=this.content.child(e-1);return{node:r,index:e-1,offset:n-r.nodeSize}}resolve(t){return C.resolveCached(this,t)}resolveNoCache(t){return C.resolve(this,t)}rangeHasMark(t,e,n){let r=!1;return e>t&&this.nodesBetween(t,e,(t=>(n.isInSet(t.marks)&&(r=!0),!r))),r}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),F(this.marks,t)}contentMatchAt(t){let e=this.type.contentMatch.matchFragment(this.content,0,t);if(!e)throw new Error("Called contentMatchAt on a node with invalid content");return e}canReplace(t,e,n=s.empty,r=0,i=n.childCount){let o=this.contentMatchAt(t).matchFragment(n,r,i),a=o&&o.matchFragment(this.content,e);if(!a||!a.validEnd)return!1;for(let t=r;t<i;t++)if(!this.type.allowsMarks(n.child(t).marks))return!1;return!0}canReplaceWith(t,e,n,r){if(r&&!this.type.allowsMarks(r))return!1;let i=this.contentMatchAt(t).matchType(n),o=i&&i.matchFragment(this.content,e);return!!o&&o.validEnd}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){if(!this.type.validContent(this.content))throw new RangeError(`Invalid content for node ${this.type.name}: ${this.content.toString().slice(0,50)}`);let t=h.none;for(let e=0;e<this.marks.length;e++)t=this.marks[e].addToSet(t);if(!h.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map((t=>t.type.name))}`);this.content.forEach((t=>t.check()))}toJSON(){let t={type:this.type.name};for(let e in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map((t=>t.toJSON()))),t}static fromJSON(t,e){if(!e)throw new RangeError("Invalid input for Node.fromJSON");let n=null;if(e.marks){if(!Array.isArray(e.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=e.marks.map(t.markFromJSON)}if("text"==e.type){if("string"!=typeof e.text)throw new RangeError("Invalid text node in JSON");return t.text(e.text,n)}let r=s.fromJSON(t,e.content);return t.nodeType(e.type).create(e.attrs,r,n)}}N.prototype.text=void 0;class O extends N{constructor(t,e,n,r){if(super(t,e,null,r),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):F(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,e){return this.text.slice(t,e)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new O(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new O(this.type,this.attrs,t,this.marks)}cut(t=0,e=this.text.length){return 0==t&&e==this.text.length?this:this.withText(this.text.slice(t,e))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function F(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class I{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,e){let n=new L(t,e);if(null==n.next)return I.empty;let r=B(n);n.next&&n.err("Unexpected trailing text");let i=function(t){let e=Object.create(null);return n(U(t,0));function n(r){let i=[];r.forEach((e=>{t[e].forEach((({term:e,to:n})=>{if(!e)return;let r;for(let t=0;t<i.length;t++)i[t][0]==e&&(r=i[t][1]);U(t,n).forEach((t=>{r||i.push([e,r=[]]),-1==r.indexOf(t)&&r.push(t)}))}))}));let o=e[r.join(",")]=new I(r.indexOf(t.length-1)>-1);for(let t=0;t<i.length;t++){let r=i[t][1].sort(j);o.next.push({type:i[t][0],next:e[r.join(",")]||n(r)})}return o}}(function(t){let e=[[]];return i(o(t,0),n()),e;function n(){return e.push([])-1}function r(t,n,r){let i={term:r,to:n};return e[t].push(i),i}function i(t,e){t.forEach((t=>t.to=e))}function o(t,e){if("choice"==t.type)return t.exprs.reduce(((t,n)=>t.concat(o(n,e))),[]);if("seq"!=t.type){if("star"==t.type){let a=n();return r(e,a),i(o(t.expr,a),a),[r(a)]}if("plus"==t.type){let a=n();return i(o(t.expr,e),a),i(o(t.expr,a),a),[r(a)]}if("opt"==t.type)return[r(e)].concat(o(t.expr,e));if("range"==t.type){let a=e;for(let e=0;e<t.min;e++){let e=n();i(o(t.expr,a),e),a=e}if(-1==t.max)i(o(t.expr,a),a);else for(let e=t.min;e<t.max;e++){let e=n();r(a,e),i(o(t.expr,a),e),a=e}return[r(a)]}if("name"==t.type)return[r(e,void 0,t.value)];throw new Error("Unknown expr type")}for(let r=0;;r++){let a=o(t.exprs[r],e);if(r==t.exprs.length-1)return a;i(a,e=n())}}}(r));return function(t,e){for(let n=0,r=[t];n<r.length;n++){let t=r[n],i=!t.validEnd,o=[];for(let e=0;e<t.next.length;e++){let{type:n,next:a}=t.next[e];o.push(n.name),!i||n.isText||n.hasRequiredAttrs()||(i=!1),-1==r.indexOf(a)&&r.push(a)}i&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(i,n),i}matchType(t){for(let e=0;e<this.next.length;e++)if(this.next[e].type==t)return this.next[e].next;return null}matchFragment(t,e=0,n=t.childCount){let r=this;for(let i=e;r&&i<n;i++)r=r.matchType(t.child(i).type);return r}get inlineContent(){return this.next.length&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:e}=this.next[t];if(!e.isText&&!e.hasRequiredAttrs())return e}return null}compatible(t){for(let e=0;e<this.next.length;e++)for(let n=0;n<t.next.length;n++)if(this.next[e].type==t.next[n].type)return!0;return!1}fillBefore(t,e=!1,n=0){let r=[this];return function i(o,a){let l=o.matchFragment(t,n);if(l&&(!e||l.validEnd))return s.from(a.map((t=>t.createAndFill())));for(let t=0;t<o.next.length;t++){let{type:e,next:n}=o.next[t];if(!e.isText&&!e.hasRequiredAttrs()&&-1==r.indexOf(n)){r.push(n);let t=i(n,a.concat(e));if(t)return t}}return null}(this,[])}findWrapping(t){for(let e=0;e<this.wrapCache.length;e+=2)if(this.wrapCache[e]==t)return this.wrapCache[e+1];let e=this.computeWrapping(t);return this.wrapCache.push(t,e),e}computeWrapping(t){let e=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let r=n.shift(),i=r.match;if(i.matchType(t)){let t=[];for(let e=r;e.type;e=e.via)t.push(e.type);return t.reverse()}for(let t=0;t<i.next.length;t++){let{type:o,next:a}=i.next[t];o.isLeaf||o.hasRequiredAttrs()||o.name in e||r.type&&!a.validEnd||(n.push({match:o.contentMatch,type:o,via:r}),e[o.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];return function e(n){t.push(n);for(let r=0;r<n.next.length;r++)-1==t.indexOf(n.next[r].next)&&e(n.next[r].next)}(this),t.map(((e,n)=>{let r=n+(e.validEnd?"*":" ")+" ";for(let n=0;n<e.next.length;n++)r+=(n?", ":"")+e.next[n].type.name+"->"+t.indexOf(e.next[n].next);return r})).join("\n")}}I.empty=new I(!0);class L{constructor(t,e){this.string=t,this.nodeTypes=e,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function B(t){let e=[];do{e.push(R(t))}while(t.eat("|"));return 1==e.length?e[0]:{type:"choice",exprs:e}}function R(t){let e=[];do{e.push(P(t))}while(t.next&&")"!=t.next&&"|"!=t.next);return 1==e.length?e[0]:{type:"seq",exprs:e}}function P(t){let e=function(t){if(t.eat("(")){let e=B(t);return t.eat(")")||t.err("Missing closing paren"),e}if(!/\W/.test(t.next)){let e=function(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let t in n){let r=n[t];r.groups.indexOf(e)>-1&&i.push(r)}0==i.length&&t.err("No node type or group '"+e+"' found");return i}(t,t.next).map((e=>(null==t.inline?t.inline=e.isInline:t.inline!=e.isInline&&t.err("Mixing inline and block content"),{type:"name",value:e})));return t.pos++,1==e.length?e[0]:{type:"choice",exprs:e}}t.err("Unexpected token '"+t.next+"'")}(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else{if(!t.eat("{"))break;e=$(t,e)}return e}function z(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function $(t,e){let n=z(t),r=n;return t.eat(",")&&(r="}"!=t.next?z(t):-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function j(t,e){return e-t}function U(t,e){let n=[];return function e(r){let i=t[r];if(1==i.length&&!i[0].term)return e(i[0].to);n.push(r);for(let t=0;t<i.length;t++){let{term:r,to:o}=i[t];r||-1!=n.indexOf(o)||e(o)}}(e),n.sort(j)}function Y(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function q(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(void 0===i){let e=t[r];if(!e.hasDefault)throw new RangeError("No value supplied for attribute "+r);i=e.default}n[r]=i}return n}function W(t){let e=Object.create(null);if(t)for(let n in t)e[n]=new V(t[n]);return e}class H{constructor(t,e,n){this.name=t,this.schema=e,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=W(n.attrs),this.defaultAttrs=Y(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==t),this.isText="text"==t}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==I.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:q(this.attrs,t)}create(t=null,e,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new N(this,this.computeAttrs(t),s.from(e),h.setFrom(n))}createChecked(t=null,e,n){if(e=s.from(e),!this.validContent(e))throw new RangeError("Invalid content for node "+this.name);return new N(this,this.computeAttrs(t),e,h.setFrom(n))}createAndFill(t=null,e,n){if(t=this.computeAttrs(t),(e=s.from(e)).size){let t=this.contentMatch.fillBefore(e);if(!t)return null;e=t.append(e)}let r=this.contentMatch.matchFragment(e),i=r&&r.fillBefore(s.empty,!0);return i?new N(this,t,e.append(i),h.setFrom(n)):null}validContent(t){let e=this.contentMatch.matchFragment(t);if(!e||!e.validEnd)return!1;for(let e=0;e<t.childCount;e++)if(!this.allowsMarks(t.child(e).marks))return!1;return!0}allowsMarkType(t){return null==this.markSet||this.markSet.indexOf(t)>-1}allowsMarks(t){if(null==this.markSet)return!0;for(let e=0;e<t.length;e++)if(!this.allowsMarkType(t[e].type))return!1;return!0}allowedMarks(t){if(null==this.markSet)return t;let e;for(let n=0;n<t.length;n++)this.allowsMarkType(t[n].type)?e&&e.push(t[n]):e||(e=t.slice(0,n));return e?e.length?e:h.none:t}static compile(t,e){let n=Object.create(null);t.forEach(((t,r)=>n[t]=new H(t,e,r)));let r=e.spec.topNode||"doc";if(!n[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let t in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}}class V{constructor(t){this.hasDefault=Object.prototype.hasOwnProperty.call(t,"default"),this.default=t.default}get isRequired(){return!this.hasDefault}}class G{constructor(t,e,n,r){this.name=t,this.rank=e,this.schema=n,this.spec=r,this.attrs=W(r.attrs),this.excluded=null;let i=Y(this.attrs);this.instance=i?new h(this,i):null}create(t=null){return!t&&this.instance?this.instance:new h(this,q(this.attrs,t))}static compile(t,e){let n=Object.create(null),r=0;return t.forEach(((t,i)=>n[t]=new G(t,r++,e,i))),n}removeFromSet(t){for(var e=0;e<t.length;e++)t[e].type==this&&(t=t.slice(0,e).concat(t.slice(e+1)),e--);return t}isInSet(t){for(let e=0;e<t.length;e++)if(t[e].type==this)return t[e]}excludes(t){return this.excluded.indexOf(t)>-1}}class X{constructor(t){this.cached=Object.create(null),this.spec={nodes:i.from(t.nodes),marks:i.from(t.marks||{}),topNode:t.topNode},this.nodes=H.compile(this.spec.nodes,this),this.marks=G.compile(this.spec.marks,this);let e=Object.create(null);for(let t in this.nodes){if(t in this.marks)throw new RangeError(t+" can not be both a node and a mark");let n=this.nodes[t],r=n.spec.content||"",i=n.spec.marks;n.contentMatch=e[r]||(e[r]=I.parse(r,this.nodes)),n.inlineContent=n.contentMatch.inlineContent,n.markSet="_"==i?null:i?K(this,i.split(" ")):""!=i&&n.inlineContent?null:[]}for(let t in this.marks){let e=this.marks[t],n=e.spec.excludes;e.excluded=null==n?[e]:""==n?[]:K(this,n.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,e=null,n,r){if("string"==typeof t)t=this.nodeType(t);else{if(!(t instanceof H))throw new RangeError("Invalid node type: "+t);if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}return t.createChecked(e,n,r)}text(t,e){let n=this.nodes.text;return new O(n,n.defaultAttrs,t,h.setFrom(e))}mark(t,e){return"string"==typeof t&&(t=this.marks[t]),t.create(e)}nodeFromJSON(t){return N.fromJSON(this,t)}markFromJSON(t){return h.fromJSON(this,t)}nodeType(t){let e=this.nodes[t];if(!e)throw new RangeError("Unknown node type: "+t);return e}}function K(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],o=t.marks[i],a=o;if(o)n.push(o);else for(let e in t.marks){let r=t.marks[e];("_"==i||r.spec.group&&r.spec.group.split(" ").indexOf(i)>-1)&&n.push(a=r)}if(!a)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}class J{constructor(t,e){this.schema=t,this.rules=e,this.tags=[],this.styles=[],e.forEach((t=>{t.tag?this.tags.push(t):t.style&&this.styles.push(t)})),this.normalizeLists=!this.tags.some((e=>{if(!/^(ul|ol)\b/.test(e.tag)||!e.node)return!1;let n=t.nodes[e.node];return n.contentMatch.matchType(n)}))}parse(t,e={}){let n=new rt(this,e,!1);return n.addAll(t,e.from,e.to),n.finish()}parseSlice(t,e={}){let n=new rt(this,e,!0);return n.addAll(t,e.from,e.to),f.maxOpen(n.finish())}matchTag(t,e,n){for(let r=n?this.tags.indexOf(n)+1:0;r<this.tags.length;r++){let n=this.tags[r];if(it(t,n.tag)&&(void 0===n.namespace||t.namespaceURI==n.namespace)&&(!n.context||e.matchesContext(n.context))){if(n.getAttrs){let e=n.getAttrs(t);if(!1===e)continue;n.attrs=e||void 0}return n}}}matchStyle(t,e,n,r){for(let i=r?this.styles.indexOf(r)+1:0;i<this.styles.length;i++){let r=this.styles[i],o=r.style;if(!(0!=o.indexOf(t)||r.context&&!n.matchesContext(r.context)||o.length>t.length&&(61!=o.charCodeAt(t.length)||o.slice(t.length+1)!=e))){if(r.getAttrs){let t=r.getAttrs(e);if(!1===t)continue;r.attrs=t||void 0}return r}}}static schemaRules(t){let e=[];function n(t){let n=null==t.priority?50:t.priority,r=0;for(;r<e.length;r++){let t=e[r];if((null==t.priority?50:t.priority)<n)break}e.splice(r,0,t)}for(let e in t.marks){let r=t.marks[e].spec.parseDOM;r&&r.forEach((t=>{n(t=ot(t)),t.mark=e}))}for(let e in t.nodes){let r=t.nodes[e].spec.parseDOM;r&&r.forEach((t=>{n(t=ot(t)),t.node=e}))}return e}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new J(t,J.schemaRules(t)))}}const Z={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Q={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},tt={ol:!0,ul:!0};function et(t,e,n){return null!=e?(e?1:0)|("full"===e?2:0):t&&"pre"==t.whitespace?3:-5&n}class nt{constructor(t,e,n,r,i,o,a){this.type=t,this.attrs=e,this.marks=n,this.pendingMarks=r,this.solid=i,this.options=a,this.content=[],this.activeMarks=h.none,this.stashMarks=[],this.match=o||(4&a?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let e=this.type.contentMatch.fillBefore(s.from(t));if(!e){let e,n=this.type.contentMatch;return(e=n.findWrapping(t.type))?(this.match=n,e):null}this.match=this.type.contentMatch.matchFragment(e)}return this.match.findWrapping(t.type)}finish(t){if(!(1&this.options)){let t,e=this.content[this.content.length-1];if(e&&e.isText&&(t=/[ \t\r\n\u000c]+$/.exec(e.text))){let n=e;e.text.length==t[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-t[0].length))}}let e=s.from(this.content);return!t&&this.match&&(e=e.append(this.match.fillBefore(s.empty,!0))),this.type?this.type.create(this.attrs,e,this.marks):e}popFromStashMark(t){for(let e=this.stashMarks.length-1;e>=0;e--)if(t.eq(this.stashMarks[e]))return this.stashMarks.splice(e,1)[0]}applyPending(t){for(let e=0,n=this.pendingMarks;e<n.length;e++){let r=n[e];(this.type?this.type.allowsMarkType(r.type):at(r.type,t))&&!r.isInSet(this.activeMarks)&&(this.activeMarks=r.addToSet(this.activeMarks),this.pendingMarks=r.removeFromSet(this.pendingMarks))}}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!Z.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class rt{constructor(t,e,n){this.parser=t,this.options=e,this.isOpen=n,this.open=0;let r,i=e.topNode,o=et(null,e.preserveWhitespace,0)|(n?4:0);r=i?new nt(i.type,i.attrs,h.none,h.none,!0,e.topMatch||i.type.contentMatch,o):new nt(n?null:t.schema.topNodeType,null,h.none,h.none,!0,null,o),this.nodes=[r],this.find=e.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t){if(3==t.nodeType)this.addTextNode(t);else if(1==t.nodeType){let e=t.getAttribute("style"),n=e?this.readStyles(function(t){let e,n=/\s*([\w-]+)\s*:\s*([^;]+)/g,r=[];for(;e=n.exec(t);)r.push(e[1],e[2].trim());return r}(e)):null,r=this.top;if(null!=n)for(let t=0;t<n.length;t++)this.addPendingMark(n[t]);if(this.addElement(t),null!=n)for(let t=0;t<n.length;t++)this.removePendingMark(n[t],r)}}addTextNode(t){let e=t.nodeValue,n=this.top;if(2&n.options||n.inlineContext(t)||/[^ \t\r\n\u000c]/.test(e)){if(1&n.options)e=2&n.options?e.replace(/\r\n?/g,"\n"):e.replace(/\r?\n|\r/g," ");else if(e=e.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(e)&&this.open==this.nodes.length-1){let r=n.content[n.content.length-1],i=t.previousSibling;(!r||i&&"BR"==i.nodeName||r.isText&&/[ \t\r\n\u000c]$/.test(r.text))&&(e=e.slice(1))}e&&this.insertNode(this.parser.schema.text(e)),this.findInText(t)}else this.findInside(t)}addElement(t,e){let n,r=t.nodeName.toLowerCase();tt.hasOwnProperty(r)&&this.parser.normalizeLists&&function(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let t=1==e.nodeType?e.nodeName.toLowerCase():null;t&&tt.hasOwnProperty(t)&&n?(n.appendChild(e),e=n):"li"==t?n=e:t&&(n=null)}}(t);let i=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(n=this.parser.matchTag(t,this,e));if(i?i.ignore:Q.hasOwnProperty(r))this.findInside(t),this.ignoreFallback(t);else if(!i||i.skip||i.closeParent){i&&i.closeParent?this.open=Math.max(0,this.open-1):i&&i.skip.nodeType&&(t=i.skip);let e,n=this.top,o=this.needsBlock;if(Z.hasOwnProperty(r))e=!0,n.type||(this.needsBlock=!0);else if(!t.firstChild)return void this.leafFallback(t);this.addAll(t),e&&this.sync(n),this.needsBlock=o}else this.addElementByRule(t,i,!1===i.consuming?n:void 0)}leafFallback(t){"BR"==t.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode("\n"))}ignoreFallback(t){"BR"!=t.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"))}readStyles(t){let e=h.none;t:for(let n=0;n<t.length;n+=2)for(let r;;){let i=this.parser.matchStyle(t[n],t[n+1],this,r);if(!i)continue t;if(i.ignore)return null;if(e=this.parser.schema.marks[i.mark].create(i.attrs).addToSet(e),!1!==i.consuming)break;r=i}return e}addElementByRule(t,e,n){let r,i,o;if(e.node)i=this.parser.schema.nodes[e.node],i.isLeaf?this.insertNode(i.create(e.attrs))||this.leafFallback(t):r=this.enter(i,e.attrs||null,e.preserveWhitespace);else{o=this.parser.schema.marks[e.mark].create(e.attrs),this.addPendingMark(o)}let a=this.top;if(i&&i.isLeaf)this.findInside(t);else if(n)this.addElement(t,n);else if(e.getContent)this.findInside(t),e.getContent(t,this.parser.schema).forEach((t=>this.insertNode(t)));else{let n=t;"string"==typeof e.contentElement?n=t.querySelector(e.contentElement):"function"==typeof e.contentElement?n=e.contentElement(t):e.contentElement&&(n=e.contentElement),this.findAround(t,n,!0),this.addAll(n)}r&&this.sync(a)&&this.open--,o&&this.removePendingMark(o,a)}addAll(t,e,n){let r=e||0;for(let i=e?t.childNodes[e]:t.firstChild,o=null==n?null:t.childNodes[n];i!=o;i=i.nextSibling,++r)this.findAtPoint(t,r),this.addDOM(i);this.findAtPoint(t,r)}findPlace(t){let e,n;for(let r=this.open;r>=0;r--){let i=this.nodes[r],o=i.findWrapping(t);if(o&&(!e||e.length>o.length)&&(e=o,n=i,!o.length))break;if(i.solid)break}if(!e)return!1;this.sync(n);for(let t=0;t<e.length;t++)this.enterInner(e[t],null,!1);return!0}insertNode(t){if(t.isInline&&this.needsBlock&&!this.top.type){let t=this.textblockFromContext();t&&this.enterInner(t)}if(this.findPlace(t)){this.closeExtra();let e=this.top;e.applyPending(t.type),e.match&&(e.match=e.match.matchType(t.type));let n=e.activeMarks;for(let r=0;r<t.marks.length;r++)e.type&&!e.type.allowsMarkType(t.marks[r].type)||(n=t.marks[r].addToSet(n));return e.content.push(t.mark(n)),!0}return!1}enter(t,e,n){let r=this.findPlace(t.create(e));return r&&this.enterInner(t,e,!0,n),r}enterInner(t,e=null,n=!1,r){this.closeExtra();let i=this.top;i.applyPending(t),i.match=i.match&&i.match.matchType(t);let o=et(t,r,i.options);4&i.options&&0==i.content.length&&(o|=4),this.nodes.push(new nt(t,e,i.activeMarks,i.pendingMarks,n,null,o)),this.open++}closeExtra(t=!1){let e=this.nodes.length-1;if(e>this.open){for(;e>this.open;e--)this.nodes[e-1].content.push(this.nodes[e].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(t){for(let e=this.open;e>=0;e--)if(this.nodes[e]==t)return this.open=e,!0;return!1}get currentPos(){this.closeExtra();let t=0;for(let e=this.open;e>=0;e--){let n=this.nodes[e].content;for(let e=n.length-1;e>=0;e--)t+=n[e].nodeSize;e&&t++}return t}findAtPoint(t,e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==t&&this.find[n].offset==e&&(this.find[n].pos=this.currentPos)}findInside(t){if(this.find)for(let e=0;e<this.find.length;e++)null==this.find[e].pos&&1==t.nodeType&&t.contains(this.find[e].node)&&(this.find[e].pos=this.currentPos)}findAround(t,e,n){if(t!=e&&this.find)for(let r=0;r<this.find.length;r++)if(null==this.find[r].pos&&1==t.nodeType&&t.contains(this.find[r].node)){e.compareDocumentPosition(this.find[r].node)&(n?2:4)&&(this.find[r].pos=this.currentPos)}}findInText(t){if(this.find)for(let e=0;e<this.find.length;e++)this.find[e].node==t&&(this.find[e].pos=this.currentPos-(t.nodeValue.length-this.find[e].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let e=t.split("/"),n=this.options.context,r=!(this.isOpen||n&&n.parent.type!=this.nodes[0].type),i=-(n?n.depth+1:0)+(r?0:1),o=(t,a)=>{for(;t>=0;t--){let s=e[t];if(""==s){if(t==e.length-1||0==t)continue;for(;a>=i;a--)if(o(t-1,a))return!0;return!1}{let t=a>0||0==a&&r?this.nodes[a].type:n&&a>=i?n.node(a-i).type:null;if(!t||t.name!=s&&-1==t.groups.indexOf(s))return!1;a--}}return!0};return o(e.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let e=t.depth;e>=0;e--){let n=t.node(e).contentMatchAt(t.indexAfter(e)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let t in this.parser.schema.nodes){let e=this.parser.schema.nodes[t];if(e.isTextblock&&e.defaultAttrs)return e}}addPendingMark(t){let e=function(t,e){for(let n=0;n<e.length;n++)if(t.eq(e[n]))return e[n]}(t,this.top.pendingMarks);e&&this.top.stashMarks.push(e),this.top.pendingMarks=t.addToSet(this.top.pendingMarks)}removePendingMark(t,e){for(let n=this.open;n>=0;n--){let r=this.nodes[n];if(r.pendingMarks.lastIndexOf(t)>-1)r.pendingMarks=t.removeFromSet(r.pendingMarks);else{r.activeMarks=t.removeFromSet(r.activeMarks);let e=r.popFromStashMark(t);e&&r.type&&r.type.allowsMarkType(e.type)&&(r.activeMarks=e.addToSet(r.activeMarks))}if(r==e)break}}}function it(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function ot(t){let e={};for(let n in t)e[n]=t[n];return e}function at(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let o=[],a=t=>{o.push(t);for(let n=0;n<t.edgeCount;n++){let{type:r,next:i}=t.edge(n);if(r==e)return!0;if(o.indexOf(i)<0&&a(i))return!0}};if(a(i.contentMatch))return!0}}class st{constructor(t,e){this.nodes=t,this.marks=e}serializeFragment(t,e={},n){n||(n=ct(e).createDocumentFragment());let r=n,i=[];return t.forEach((t=>{if(i.length||t.marks.length){let n=0,o=0;for(;n<i.length&&o<t.marks.length;){let e=t.marks[o];if(this.marks[e.type.name]){if(!e.eq(i[n][0])||!1===e.type.spec.spanning)break;n++,o++}else o++}for(;n<i.length;)r=i.pop()[1];for(;o<t.marks.length;){let n=t.marks[o++],a=this.serializeMark(n,t.isInline,e);a&&(i.push([n,r]),r.appendChild(a.dom),r=a.contentDOM||a.dom)}}r.appendChild(this.serializeNodeInner(t,e))})),n}serializeNodeInner(t,e){let{dom:n,contentDOM:r}=st.renderSpec(ct(e),this.nodes[t.type.name](t));if(r){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,e,r)}return n}serializeNode(t,e={}){let n=this.serializeNodeInner(t,e);for(let r=t.marks.length-1;r>=0;r--){let i=this.serializeMark(t.marks[r],t.isInline,e);i&&((i.contentDOM||i.dom).appendChild(n),n=i.dom)}return n}serializeMark(t,e,n={}){let r=this.marks[t.type.name];return r&&st.renderSpec(ct(n),r(t,e))}static renderSpec(t,e,n=null){if("string"==typeof e)return{dom:t.createTextNode(e)};if(null!=e.nodeType)return{dom:e};if(e.dom&&null!=e.dom.nodeType)return e;let r,i=e[0],o=i.indexOf(" ");o>0&&(n=i.slice(0,o),i=i.slice(o+1));let a=n?t.createElementNS(n,i):t.createElement(i),s=e[1],l=1;if(s&&"object"==typeof s&&null==s.nodeType&&!Array.isArray(s)){l=2;for(let t in s)if(null!=s[t]){let e=t.indexOf(" ");e>0?a.setAttributeNS(t.slice(0,e),t.slice(e+1),s[t]):a.setAttribute(t,s[t])}}for(let i=l;i<e.length;i++){let o=e[i];if(0===o){if(i<e.length-1||i>l)throw new RangeError("Content hole must be the only child of its parent node");return{dom:a,contentDOM:a}}{let{dom:e,contentDOM:i}=st.renderSpec(t,o,n);if(a.appendChild(e),i){if(r)throw new RangeError("Multiple content holes");r=i}}}return{dom:a,contentDOM:r}}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new st(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let e=lt(t.nodes);return e.text||(e.text=t=>t.text),e}static marksFromSchema(t){return lt(t.marks)}}function lt(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function ct(t){return t.document||window.document}},3047:(t,e,n)=>{"use strict";n.d(e,{Bs:()=>u,C1:()=>p,H$:()=>T,Sy:()=>C,Y1:()=>a,qv:()=>d,yy:()=>k});var r=n(32737),i=n(89893);const o=Object.create(null);class a{constructor(t,e,n){this.$anchor=t,this.$head=e,this.ranges=n||[new s(t.min(e),t.max(e))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let e=0;e<t.length;e++)if(t[e].$from.pos!=t[e].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,e=r.p2.empty){let n=e.content.lastChild,i=null;for(let t=0;t<e.openEnd;t++)i=n,n=n.lastChild;let o=t.steps.length,a=this.ranges;for(let s=0;s<a.length;s++){let{$from:l,$to:c}=a[s],u=t.mapping.slice(o);t.replaceRange(u.map(l.pos),u.map(c.pos),s?r.p2.empty:e),0==s&&y(t,o,(n?n.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(t,e){let n=t.steps.length,r=this.ranges;for(let i=0;i<r.length;i++){let{$from:o,$to:a}=r[i],s=t.mapping.slice(n),l=s.map(o.pos),c=s.map(a.pos);i?t.deleteRange(l,c):(t.replaceRangeWith(l,c,e),y(t,n,e.isInline?-1:1))}}static findFrom(t,e,n=!1){let r=t.parent.inlineContent?new u(t):m(t.node(0),t.parent,t.pos,t.index(),e,n);if(r)return r;for(let r=t.depth-1;r>=0;r--){let i=e<0?m(t.node(0),t.node(r),t.before(r+1),t.index(r),e,n):m(t.node(0),t.node(r),t.after(r+1),t.index(r)+1,e,n);if(i)return i}return null}static near(t,e=1){return this.findFrom(t,e)||this.findFrom(t,-e)||new p(t.node(0))}static atStart(t){return m(t,t,0,0,1)||new p(t)}static atEnd(t){return m(t,t,t.content.size,t.childCount,-1)||new p(t)}static fromJSON(t,e){if(!e||!e.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=o[e.type];if(!n)throw new RangeError(`No selection type ${e.type} defined`);return n.fromJSON(t,e)}static jsonID(t,e){if(t in o)throw new RangeError("Duplicate use of selection JSON ID "+t);return o[t]=e,e.prototype.jsonID=t,e}getBookmark(){return u.between(this.$anchor,this.$head).getBookmark()}}a.prototype.visible=!0;class s{constructor(t,e){this.$from=t,this.$to=e}}let l=!1;function c(t){l||t.parent.inlineContent||(l=!0)}class u extends a{constructor(t,e=t){c(t),c(e),super(t,e)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,e){let n=t.resolve(e.map(this.head));if(!n.parent.inlineContent)return a.near(n);let r=t.resolve(e.map(this.anchor));return new u(r.parent.inlineContent?r:n,n)}replace(t,e=r.p2.empty){if(super.replace(t,e),e==r.p2.empty){let e=this.$from.marksAcross(this.$to);e&&t.ensureMarks(e)}}eq(t){return t instanceof u&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new h(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,e){if("number"!=typeof e.anchor||"number"!=typeof e.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new u(t.resolve(e.anchor),t.resolve(e.head))}static create(t,e,n=e){let r=t.resolve(e);return new this(r,n==e?r:t.resolve(n))}static between(t,e,n){let r=t.pos-e.pos;if(n&&!r||(n=r>=0?1:-1),!e.parent.inlineContent){let t=a.findFrom(e,n,!0)||a.findFrom(e,-n,!0);if(!t)return a.near(e,n);e=t.$head}return t.parent.inlineContent||(0==r||(t=(a.findFrom(t,-n,!0)||a.findFrom(t,n,!0)).$anchor).pos<e.pos!=r<0)&&(t=e),new u(t,e)}}a.jsonID("text",u);class h{constructor(t,e){this.anchor=t,this.head=e}map(t){return new h(t.map(this.anchor),t.map(this.head))}resolve(t){return u.between(t.resolve(this.anchor),t.resolve(this.head))}}class d extends a{constructor(t){let e=t.nodeAfter,n=t.node(0).resolve(t.pos+e.nodeSize);super(t,n),this.node=e}map(t,e){let{deleted:n,pos:r}=e.mapResult(this.anchor),i=t.resolve(r);return n?a.near(i):new d(i)}content(){return new r.p2(r.HY.from(this.node),0,0)}eq(t){return t instanceof d&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new f(this.anchor)}static fromJSON(t,e){if("number"!=typeof e.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new d(t.resolve(e.anchor))}static create(t,e){return new d(t.resolve(e))}static isSelectable(t){return!t.isText&&!1!==t.type.spec.selectable}}d.prototype.visible=!1,a.jsonID("node",d);class f{constructor(t){this.anchor=t}map(t){let{deleted:e,pos:n}=t.mapResult(this.anchor);return e?new h(n,n):new f(n)}resolve(t){let e=t.resolve(this.anchor),n=e.nodeAfter;return n&&d.isSelectable(n)?new d(e):a.near(e)}}class p extends a{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,e=r.p2.empty){if(e==r.p2.empty){t.delete(0,t.doc.content.size);let e=a.atStart(t.doc);e.eq(t.selection)||t.setSelection(e)}else super.replace(t,e)}toJSON(){return{type:"all"}}static fromJSON(t){return new p(t)}map(t){return new p(t)}eq(t){return t instanceof p}getBookmark(){return g}}a.jsonID("all",p);const g={map(){return this},resolve:t=>new p(t)};function m(t,e,n,r,i,o=!1){if(e.inlineContent)return u.create(t,n);for(let a=r-(i>0?0:1);i>0?a<e.childCount:a>=0;a+=i){let r=e.child(a);if(r.isAtom){if(!o&&d.isSelectable(r))return d.create(t,n-(i<0?r.nodeSize:0))}else{let e=m(t,r,n+i,i<0?r.childCount:0,i,o);if(e)return e}n+=r.nodeSize*i}return null}function y(t,e,n){let r=t.steps.length-1;if(r<e)return;let o,s=t.steps[r];(s instanceof i.Pu||s instanceof i.FC)&&(t.mapping.maps[r].forEach(((t,e,n,r)=>{null==o&&(o=r)})),t.setSelection(a.near(t.doc.resolve(o),n)))}class v extends i.wx{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=-3&(1|this.updated),this.storedMarks=null,this}get selectionSet(){return(1&this.updated)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=2,this}ensureMarks(t){return r.vc.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(2&this.updated)>0}addStep(t,e){super.addStep(t,e),this.updated=-3&this.updated,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,e=!0){let n=this.selection;return e&&(t=t.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||r.vc.none))),n.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,e,n){let r=this.doc.type.schema;if(null==e)return t?this.replaceSelectionWith(r.text(t),!0):this.deleteSelection();{if(null==n&&(n=e),n=null==n?e:n,!t)return this.deleteRange(e,n);let i=this.storedMarks;if(!i){let t=this.doc.resolve(e);i=n==e?t.marks():t.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(e,n,r.text(t,i)),this.selection.empty||this.setSelection(a.near(this.selection.$to)),this}}setMeta(t,e){return this.meta["string"==typeof t?t:t.key]=e,this}getMeta(t){return this.meta["string"==typeof t?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=4,this}get scrolledIntoView(){return(4&this.updated)>0}}function b(t,e){return e&&t?t.bind(e):t}class w{constructor(t,e,n){this.name=t,this.init=b(e.init,n),this.apply=b(e.apply,n)}}const x=[new w("doc",{init:t=>t.doc||t.schema.topNodeType.createAndFill(),apply:t=>t.doc}),new w("selection",{init:(t,e)=>t.selection||a.atStart(e.doc),apply:t=>t.selection}),new w("storedMarks",{init:t=>t.storedMarks||null,apply:(t,e,n,r)=>r.selection.$cursor?t.storedMarks:null}),new w("scrollToSelection",{init:()=>0,apply:(t,e)=>t.scrolledIntoView?e+1:e})];class _{constructor(t,e){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=x.slice(),e&&e.forEach((t=>{if(this.pluginsByKey[t.key])throw new RangeError("Adding different instances of a keyed plugin ("+t.key+")");this.plugins.push(t),this.pluginsByKey[t.key]=t,t.spec.state&&this.fields.push(new w(t.key,t.spec.state,t))}))}}class k{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,e=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=e){let e=this.config.plugins[n];if(e.spec.filterTransaction&&!e.spec.filterTransaction.call(e,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let e=[t],n=this.applyInner(t),r=null;for(;;){let i=!1;for(let o=0;o<this.config.plugins.length;o++){let a=this.config.plugins[o];if(a.spec.appendTransaction){let s=r?r[o].n:0,l=r?r[o].state:this,c=s<e.length&&a.spec.appendTransaction.call(a,s?e.slice(s):e,l,n);if(c&&n.filterTransaction(c,o)){if(c.setMeta("appendedTransaction",t),!r){r=[];for(let t=0;t<this.config.plugins.length;t++)r.push(t<o?{state:n,n:e.length}:{state:this,n:0})}e.push(c),n=n.applyInner(c),i=!0}r&&(r[o]={state:n,n:e.length})}}if(!i)return{state:n,transactions:e}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let e=new k(this.config),n=this.config.fields;for(let r=0;r<n.length;r++){let i=n[r];e[i.name]=i.apply(t,this[i.name],this,e)}return e}get tr(){return new v(this)}static create(t){let e=new _(t.doc?t.doc.type.schema:t.schema,t.plugins),n=new k(e);for(let r=0;r<e.fields.length;r++)n[e.fields[r].name]=e.fields[r].init(t,n);return n}reconfigure(t){let e=new _(this.schema,t.plugins),n=e.fields,r=new k(e);for(let e=0;e<n.length;e++){let i=n[e].name;r[i]=this.hasOwnProperty(i)?this[i]:n[e].init(t,r)}return r}toJSON(t){let e={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(e.storedMarks=this.storedMarks.map((t=>t.toJSON()))),t&&"object"==typeof t)for(let n in t){if("doc"==n||"selection"==n)throw new RangeError("The JSON fields `doc` and `selection` are reserved");let r=t[n],i=r.spec.state;i&&i.toJSON&&(e[n]=i.toJSON.call(r,this[r.key]))}return e}static fromJSON(t,e,n){if(!e)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let i=new _(t.schema,t.plugins),o=new k(i);return i.fields.forEach((i=>{if("doc"==i.name)o.doc=r.NB.fromJSON(t.schema,e.doc);else if("selection"==i.name)o.selection=a.fromJSON(o.doc,e.selection);else if("storedMarks"==i.name)e.storedMarks&&(o.storedMarks=e.storedMarks.map(t.schema.markFromJSON));else{if(n)for(let r in n){let a=n[r],s=a.spec.state;if(a.key==i.name&&s&&s.fromJSON&&Object.prototype.hasOwnProperty.call(e,r))return void(o[i.name]=s.fromJSON.call(a,t,e[r],o))}o[i.name]=i.init(t,o)}})),o}}function E(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):"handleDOMEvents"==r&&(i=E(i,e,{})),n[r]=i}return n}class C{constructor(t){this.spec=t,this.props={},t.props&&E(t.props,this,this.props),this.key=t.key?t.key.key:D("plugin")}getState(t){return t[this.key]}}const S=Object.create(null);function D(t){return t in S?t+"$"+ ++S[t]:(S[t]=0,t+"$")}class T{constructor(t="key"){this.key=D(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}},89893:(t,e,n)=>{"use strict";n.d(e,{Ax:()=>_,FC:()=>m,KS:()=>s,Mn:()=>k,Pu:()=>g,WJ:()=>f,dR:()=>S,k9:()=>b,nd:()=>w,nj:()=>C,vs:()=>l,wx:()=>P});var r=n(32737);const i=Math.pow(2,16);function o(t){return 65535&t}class a{constructor(t,e,n){this.pos=t,this.delInfo=e,this.recover=n}get deleted(){return(8&this.delInfo)>0}get deletedBefore(){return(5&this.delInfo)>0}get deletedAfter(){return(6&this.delInfo)>0}get deletedAcross(){return(4&this.delInfo)>0}}class s{constructor(t,e=!1){if(this.ranges=t,this.inverted=e,!t.length&&s.empty)return s.empty}recover(t){let e=0,n=o(t);if(!this.inverted)for(let t=0;t<n;t++)e+=this.ranges[3*t+2]-this.ranges[3*t+1];return this.ranges[3*n]+e+function(t){return(t-(65535&t))/i}(t)}mapResult(t,e=1){return this._map(t,e,!1)}map(t,e=1){return this._map(t,e,!0)}_map(t,e,n){let r=0,o=this.inverted?2:1,s=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let c=this.ranges[l]-(this.inverted?r:0);if(c>t)break;let u=this.ranges[l+o],h=this.ranges[l+s],d=c+u;if(t<=d){let o=c+r+((u?t==c?-1:t==d?1:e:e)<0?0:h);if(n)return o;let s=t==(e<0?c:d)?null:l/3+(t-c)*i,f=t==c?2:t==d?1:4;return(e<0?t!=c:t!=d)&&(f|=8),new a(o,f,s)}r+=h-u}return n?t+r:new a(t+r,0,null)}touches(t,e){let n=0,r=o(e),i=this.inverted?2:1,a=this.inverted?1:2;for(let e=0;e<this.ranges.length;e+=3){let o=this.ranges[e]-(this.inverted?n:0);if(o>t)break;let s=this.ranges[e+i];if(t<=o+s&&e==3*r)return!0;n+=this.ranges[e+a]-s}return!1}forEach(t){let e=this.inverted?2:1,n=this.inverted?1:2;for(let r=0,i=0;r<this.ranges.length;r+=3){let o=this.ranges[r],a=o-(this.inverted?i:0),s=o+(this.inverted?0:i),l=this.ranges[r+e],c=this.ranges[r+n];t(a,a+l,s,s+c),i+=c-l}}invert(){return new s(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return 0==t?s.empty:new s(t<0?[0,-t,0]:[0,0,t])}}s.empty=new s([]);class l{constructor(t=[],e,n=0,r=t.length){this.maps=t,this.mirror=e,this.from=n,this.to=r}slice(t=0,e=this.maps.length){return new l(this.maps,this.mirror,t,e)}copy(){return new l(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(t,e){this.to=this.maps.push(t),null!=e&&this.setMirror(this.maps.length-1,e)}appendMapping(t){for(let e=0,n=this.maps.length;e<t.maps.length;e++){let r=t.getMirror(e);this.appendMap(t.maps[e],null!=r&&r<e?n+r:void 0)}}getMirror(t){if(this.mirror)for(let e=0;e<this.mirror.length;e++)if(this.mirror[e]==t)return this.mirror[e+(e%2?-1:1)]}setMirror(t,e){this.mirror||(this.mirror=[]),this.mirror.push(t,e)}appendMappingInverted(t){for(let e=t.maps.length-1,n=this.maps.length+t.maps.length;e>=0;e--){let r=t.getMirror(e);this.appendMap(t.maps[e].invert(),null!=r&&r>e?n-r-1:void 0)}}invert(){let t=new l;return t.appendMappingInverted(this),t}map(t,e=1){if(this.mirror)return this._map(t,e,!0);for(let n=this.from;n<this.to;n++)t=this.maps[n].map(t,e);return t}mapResult(t,e=1){return this._map(t,e,!1)}_map(t,e,n){let r=0;for(let n=this.from;n<this.to;n++){let i=this.maps[n].mapResult(t,e);if(null!=i.recover){let e=this.getMirror(n);if(null!=e&&e>n&&e<this.to){n=e,t=this.maps[e].recover(i.recover);continue}}r|=i.delInfo,t=i.pos}return n?t:new a(t,r,null)}}const c=Object.create(null);class u{getMap(){return s.empty}merge(t){return null}static fromJSON(t,e){if(!e||!e.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=c[e.stepType];if(!n)throw new RangeError(`No step type ${e.stepType} defined`);return n.fromJSON(t,e)}static jsonID(t,e){if(t in c)throw new RangeError("Duplicate use of step JSON ID "+t);return c[t]=e,e.prototype.jsonID=t,e}}class h{constructor(t,e){this.doc=t,this.failed=e}static ok(t){return new h(t,null)}static fail(t){return new h(null,t)}static fromReplace(t,e,n,i){try{return h.ok(t.replace(e,n,i))}catch(t){if(t instanceof r.e4)return h.fail(t.message);throw t}}}function d(t,e,n){let i=[];for(let r=0;r<t.childCount;r++){let o=t.child(r);o.content.size&&(o=o.copy(d(o.content,e,o))),o.isInline&&(o=e(o,n,r)),i.push(o)}return r.HY.fromArray(i)}class f extends u{constructor(t,e,n){super(),this.from=t,this.to=e,this.mark=n}apply(t){let e=t.slice(this.from,this.to),n=t.resolve(this.from),i=n.node(n.sharedDepth(this.to)),o=new r.p2(d(e.content,((t,e)=>t.isAtom&&e.type.allowsMarkType(this.mark.type)?t.mark(this.mark.addToSet(t.marks)):t),i),e.openStart,e.openEnd);return h.fromReplace(t,this.from,this.to,o)}invert(){return new p(this.from,this.to,this.mark)}map(t){let e=t.mapResult(this.from,1),n=t.mapResult(this.to,-1);return e.deleted&&n.deleted||e.pos>=n.pos?null:new f(e.pos,n.pos,this.mark)}merge(t){return t instanceof f&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new f(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new f(e.from,e.to,t.markFromJSON(e.mark))}}u.jsonID("addMark",f);class p extends u{constructor(t,e,n){super(),this.from=t,this.to=e,this.mark=n}apply(t){let e=t.slice(this.from,this.to),n=new r.p2(d(e.content,(t=>t.mark(this.mark.removeFromSet(t.marks))),t),e.openStart,e.openEnd);return h.fromReplace(t,this.from,this.to,n)}invert(){return new f(this.from,this.to,this.mark)}map(t){let e=t.mapResult(this.from,1),n=t.mapResult(this.to,-1);return e.deleted&&n.deleted||e.pos>=n.pos?null:new p(e.pos,n.pos,this.mark)}merge(t){return t instanceof p&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new p(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new p(e.from,e.to,t.markFromJSON(e.mark))}}u.jsonID("removeMark",p);class g extends u{constructor(t,e,n,r=!1){super(),this.from=t,this.to=e,this.slice=n,this.structure=r}apply(t){return this.structure&&y(t,this.from,this.to)?h.fail("Structure replace would overwrite content"):h.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new s([this.from,this.to-this.from,this.slice.size])}invert(t){return new g(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let e=t.mapResult(this.from,1),n=t.mapResult(this.to,-1);return e.deletedAcross&&n.deletedAcross?null:new g(e.pos,Math.max(e.pos,n.pos),this.slice)}merge(t){if(!(t instanceof g)||t.structure||this.structure)return null;if(this.from+this.slice.size!=t.from||this.slice.openEnd||t.slice.openStart){if(t.to!=this.from||this.slice.openStart||t.slice.openEnd)return null;{let e=this.slice.size+t.slice.size==0?r.p2.empty:new r.p2(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new g(t.from,this.to,e,this.structure)}}{let e=this.slice.size+t.slice.size==0?r.p2.empty:new r.p2(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new g(this.from,this.to+(t.to-t.from),e,this.structure)}}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new g(e.from,e.to,r.p2.fromJSON(t,e.slice),!!e.structure)}}u.jsonID("replace",g);class m extends u{constructor(t,e,n,r,i,o,a=!1){super(),this.from=t,this.to=e,this.gapFrom=n,this.gapTo=r,this.slice=i,this.insert=o,this.structure=a}apply(t){if(this.structure&&(y(t,this.from,this.gapFrom)||y(t,this.gapTo,this.to)))return h.fail("Structure gap-replace would overwrite content");let e=t.slice(this.gapFrom,this.gapTo);if(e.openStart||e.openEnd)return h.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,e.content);return n?h.fromReplace(t,this.from,this.to,n):h.fail("Content does not fit in gap")}getMap(){return new s([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let e=this.gapTo-this.gapFrom;return new m(this.from,this.from+this.slice.size+e,this.from+this.insert,this.from+this.insert+e,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let e=t.mapResult(this.from,1),n=t.mapResult(this.to,-1),r=t.map(this.gapFrom,-1),i=t.map(this.gapTo,1);return e.deletedAcross&&n.deletedAcross||r<e.pos||i>n.pos?null:new m(e.pos,n.pos,r,i,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,e){if("number"!=typeof e.from||"number"!=typeof e.to||"number"!=typeof e.gapFrom||"number"!=typeof e.gapTo||"number"!=typeof e.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new m(e.from,e.to,e.gapFrom,e.gapTo,r.p2.fromJSON(t,e.slice),e.insert,!!e.structure)}}function y(t,e,n){let r=t.resolve(e),i=n-e,o=r.depth;for(;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0){let t=r.node(o).maybeChild(r.indexAfter(o));for(;i>0;){if(!t||t.isLeaf)return!0;t=t.firstChild,i--}}return!1}function v(t,e,n){return(0==e||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function b(t){let e=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let n=t.depth;;--n){let r=t.$from.node(n),i=t.$from.index(n),o=t.$to.indexAfter(n);if(n<t.depth&&r.canReplace(i,o,e))return n;if(0==n||r.type.spec.isolating||!v(r,i,o))break}return null}function w(t,e,n=null,r=t){let i=function(t,e){let{parent:n,startIndex:r,endIndex:i}=t,o=n.contentMatchAt(r).findWrapping(e);if(!o)return null;let a=o.length?o[0]:e;return n.canReplaceWith(r,i,a)?o:null}(t,e),o=i&&function(t,e){let{parent:n,startIndex:r,endIndex:i}=t,o=n.child(r),a=e.contentMatch.findWrapping(o.type);if(!a)return null;let s=(a.length?a[a.length-1]:e).contentMatch;for(let t=r;s&&t<i;t++)s=s.matchType(n.child(t).type);return s&&s.validEnd?a:null}(r,e);return o?i.map(x).concat({type:e,attrs:n}).concat(o.map(x)):null}function x(t){return{type:t,attrs:null}}function _(t,e,n=1,r){let i=t.resolve(e),o=i.depth-n,a=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!a.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let t=i.depth-1,e=n-2;t>o;t--,e--){let n=i.node(t),o=i.index(t);if(n.type.spec.isolating)return!1;let a=n.content.cutByIndex(o,n.childCount),s=r&&r[e]||n;if(s!=n&&(a=a.replaceChild(0,s.type.create(s.attrs))),!n.canReplace(o+1,n.childCount)||!s.type.validContent(a))return!1}let s=i.indexAfter(o),l=r&&r[0];return i.node(o).canReplaceWith(s,s,l?l.type:i.node(o+1).type)}function k(t,e){let n=t.resolve(e),r=n.index();return E(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function E(t,e){return!(!t||!e||t.isLeaf||!t.canAppend(e))}function C(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let t=0;t<n.openStart;t++)i=i.firstChild.content;for(let t=1;t<=(0==n.openStart&&n.size?2:1);t++)for(let e=r.depth;e>=0;e--){let n=e==r.depth?0:r.pos<=(r.start(e+1)+r.end(e+1))/2?-1:1,o=r.index(e)+(n>0?1:0),a=r.node(e),s=!1;if(1==t)s=a.canReplace(o,o,i);else{let t=a.contentMatchAt(o).findWrapping(i.firstChild.type);s=t&&a.canReplaceWith(o,o,t[0])}if(s)return 0==n?r.pos:n<0?r.before(e+1):r.after(e+1)}return null}function S(t,e,n=e,i=r.p2.empty){if(e==n&&!i.size)return null;let o=t.resolve(e),a=t.resolve(n);return D(o,a,i)?new g(e,n,i):new T(o,a,i).fit()}function D(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}u.jsonID("replaceAround",m);class T{constructor(t,e,n){this.$from=t,this.$to=e,this.unplaced=n,this.frontier=[],this.placed=r.HY.empty;for(let e=0;e<=t.depth;e++){let n=t.node(e);this.frontier.push({type:n.type,match:n.contentMatchAt(t.indexAfter(e))})}for(let e=t.depth;e>0;e--)this.placed=r.HY.from(t.node(e).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let t=this.findFittable();t?this.placeNodes(t):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),e=this.placed.size-this.depth-this.$from.depth,n=this.$from,i=this.close(t<0?this.$to:n.doc.resolve(t));if(!i)return null;let o=this.placed,a=n.depth,s=i.depth;for(;a&&s&&1==o.childCount;)o=o.firstChild.content,a--,s--;let l=new r.p2(o,a,s);return t>-1?new m(n.pos,t,this.$to.pos,this.$to.end(),l,e):l.size||n.pos!=this.$to.pos?new g(n.pos,i.pos,l):null}findFittable(){for(let t=1;t<=2;t++)for(let e=this.unplaced.openStart;e>=0;e--){let n,i=null;e?(i=N(this.unplaced.content,e-1).firstChild,n=i.content):n=this.unplaced.content;let o=n.firstChild;for(let n=this.depth;n>=0;n--){let a,{type:s,match:l}=this.frontier[n],c=null;if(1==t&&(o?l.matchType(o.type)||(c=l.fillBefore(r.HY.from(o),!1)):i&&s.compatibleContent(i.type)))return{sliceDepth:e,frontierDepth:n,parent:i,inject:c};if(2==t&&o&&(a=l.findWrapping(o.type)))return{sliceDepth:e,frontierDepth:n,parent:i,wrap:a};if(i&&l.matchType(i.type))break}}}openMore(){let{content:t,openStart:e,openEnd:n}=this.unplaced,i=N(t,e);return!(!i.childCount||i.firstChild.isLeaf)&&(this.unplaced=new r.p2(t,e+1,Math.max(n,i.size+e>=t.size-n?e+1:0)),!0)}dropNode(){let{content:t,openStart:e,openEnd:n}=this.unplaced,i=N(t,e);if(i.childCount<=1&&e>0){let o=t.size-e<=e+i.size;this.unplaced=new r.p2(A(t,e-1,1),e-1,o?e-1:n)}else this.unplaced=new r.p2(A(t,e,1),e,n)}placeNodes({sliceDepth:t,frontierDepth:e,parent:n,inject:i,wrap:o}){for(;this.depth>e;)this.closeFrontierNode();if(o)for(let t=0;t<o.length;t++)this.openFrontierNode(o[t]);let a=this.unplaced,s=n?n.content:a.content,l=a.openStart-t,c=0,u=[],{match:h,type:d}=this.frontier[e];if(i){for(let t=0;t<i.childCount;t++)u.push(i.child(t));h=h.matchFragment(i)}let f=s.size+t-(a.content.size-a.openEnd);for(;c<s.childCount;){let t=s.child(c),e=h.matchType(t.type);if(!e)break;c++,(c>1||0==l||t.content.size)&&(h=e,u.push(O(t.mark(d.allowedMarks(t.marks)),1==c?l:0,c==s.childCount?f:-1)))}let p=c==s.childCount;p||(f=-1),this.placed=M(this.placed,e,r.HY.from(u)),this.frontier[e].match=h,p&&f<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let t=0,e=s;t<f;t++){let t=e.lastChild;this.frontier.push({type:t.type,match:t.contentMatchAt(t.childCount)}),e=t.content}this.unplaced=p?0==t?r.p2.empty:new r.p2(A(a.content,t-1,1),t-1,f<0?a.openEnd:t-1):new r.p2(A(a.content,t,c),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t,e=this.frontier[this.depth];if(!e.type.isTextblock||!F(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:n}=this.$to,r=this.$to.after(n);for(;n>1&&r==this.$to.end(--n);)++r;return r}findCloseLevel(t){t:for(let e=Math.min(this.depth,t.depth);e>=0;e--){let{match:n,type:r}=this.frontier[e],i=e<t.depth&&t.end(e+1)==t.pos+(t.depth-(e+1)),o=F(t,e,r,n,i);if(o){for(let n=e-1;n>=0;n--){let{match:e,type:r}=this.frontier[n],i=F(t,n,r,e,!0);if(!i||i.childCount)continue t}return{depth:e,fit:o,move:i?t.doc.resolve(t.after(e+1)):t}}}}close(t){let e=this.findCloseLevel(t);if(!e)return null;for(;this.depth>e.depth;)this.closeFrontierNode();e.fit.childCount&&(this.placed=M(this.placed,e.depth,e.fit)),t=e.move;for(let n=e.depth+1;n<=t.depth;n++){let e=t.node(n),r=e.type.contentMatch.fillBefore(e.content,!0,t.index(n));this.openFrontierNode(e.type,e.attrs,r)}return t}openFrontierNode(t,e=null,n){let i=this.frontier[this.depth];i.match=i.match.matchType(t),this.placed=M(this.placed,this.depth,r.HY.from(t.create(e,n))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(r.HY.empty,!0);t.childCount&&(this.placed=M(this.placed,this.frontier.length,t))}}function A(t,e,n){return 0==e?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(A(t.firstChild.content,e-1,n)))}function M(t,e,n){return 0==e?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(M(t.lastChild.content,e-1,n)))}function N(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function O(t,e,n){if(e<=0)return t;let i=t.content;return e>1&&(i=i.replaceChild(0,O(i.firstChild,e-1,1==i.childCount?n-1:0))),e>0&&(i=t.type.contentMatch.fillBefore(i).append(i),n<=0&&(i=i.append(t.type.contentMatch.matchFragment(i).fillBefore(r.HY.empty,!0)))),t.copy(i)}function F(t,e,n,r,i){let o=t.node(e),a=i?t.indexAfter(e):t.index(e);if(a==o.childCount&&!n.compatibleContent(o.type))return null;let s=r.fillBefore(o.content,!0,a);return s&&!function(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}(n,o.content,a)?s:null}function I(t){return t.spec.defining||t.spec.definingForContent}function L(t,e,n,i,o){if(e<n){let r=t.firstChild;t=t.replaceChild(0,r.copy(L(r.content,e+1,n,i,r)))}if(e>i){let e=o.contentMatchAt(0),n=e.fillBefore(t).append(t);t=n.append(e.matchFragment(n).fillBefore(r.HY.empty,!0))}return t}function B(t,e){let n=[];for(let r=Math.min(t.depth,e.depth);r>=0;r--){let i=t.start(r);if(i<t.pos-(t.depth-r)||e.end(r)>e.pos+(e.depth-r)||t.node(r).type.spec.isolating||e.node(r).type.spec.isolating)break;(i==e.start(r)||r==t.depth&&r==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&r&&e.start(r-1)==i-1)&&n.push(r)}return n}let R=class extends Error{};R=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n},(R.prototype=Object.create(Error.prototype)).constructor=R,R.prototype.name="TransformError";class P{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new l}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let e=this.maybeStep(t);if(e.failed)throw new R(e.failed);return this}maybeStep(t){let e=t.apply(this.doc);return e.failed||this.addStep(t,e.doc),e}get docChanged(){return this.steps.length>0}addStep(t,e){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=e}replace(t,e=t,n=r.p2.empty){let i=S(this.doc,t,e,n);return i&&this.step(i),this}replaceWith(t,e,n){return this.replace(t,e,new r.p2(r.HY.from(n),0,0))}delete(t,e){return this.replace(t,e,r.p2.empty)}insert(t,e){return this.replaceWith(t,t,e)}replaceRange(t,e,n){return function(t,e,n,i){if(!i.size)return t.deleteRange(e,n);let o=t.doc.resolve(e),a=t.doc.resolve(n);if(D(o,a,i))return t.step(new g(e,n,i));let s=B(o,t.doc.resolve(n));0==s[s.length-1]&&s.pop();let l=-(o.depth+1);s.unshift(l);for(let t=o.depth,e=o.pos-1;t>0;t--,e--){let n=o.node(t).type.spec;if(n.defining||n.definingAsContext||n.isolating)break;s.indexOf(t)>-1?l=t:o.before(t)==e&&s.splice(1,0,-t)}let c=s.indexOf(l),u=[],h=i.openStart;for(let t=i.content,e=0;;e++){let n=t.firstChild;if(u.push(n),e==i.openStart)break;t=n.content}for(let t=h-1;t>=0;t--){let e=u[t].type,n=I(e);if(n&&o.node(c).type!=e)h=t;else if(n||!e.isTextblock)break}for(let e=i.openStart;e>=0;e--){let l=(e+h+1)%(i.openStart+1),d=u[l];if(d)for(let e=0;e<s.length;e++){let u=s[(e+c)%s.length],h=!0;u<0&&(h=!1,u=-u);let f=o.node(u-1),p=o.index(u-1);if(f.canReplaceWith(p,p,d.type,d.marks))return t.replace(o.before(u),h?a.after(u):n,new r.p2(L(i.content,0,i.openStart,l),l,i.openEnd))}}let d=t.steps.length;for(let r=s.length-1;r>=0&&(t.replace(e,n,i),!(t.steps.length>d));r--){let t=s[r];t<0||(e=o.before(t),n=a.after(t))}}(this,t,e,n),this}replaceRangeWith(t,e,n){return function(t,e,n,i){if(!i.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let r=function(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(0==r.parentOffset)for(let t=r.depth-1;t>=0;t--){let e=r.index(t);if(r.node(t).canReplaceWith(e,e,n))return r.before(t+1);if(e>0)return null}if(r.parentOffset==r.parent.content.size)for(let t=r.depth-1;t>=0;t--){let e=r.indexAfter(t);if(r.node(t).canReplaceWith(e,e,n))return r.after(t+1);if(e<r.node(t).childCount)return null}return null}(t.doc,e,i.type);null!=r&&(e=n=r)}t.replaceRange(e,n,new r.p2(r.HY.from(i),0,0))}(this,t,e,n),this}deleteRange(t,e){return function(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),o=B(r,i);for(let e=0;e<o.length;e++){let n=o[e],a=e==o.length-1;if(a&&0==n||r.node(n).type.contentMatch.validEnd)return t.delete(r.start(n),i.end(n));if(n>0&&(a||r.node(n-1).canReplace(r.index(n-1),i.indexAfter(n-1))))return t.delete(r.before(n),i.after(n))}for(let o=1;o<=r.depth&&o<=i.depth;o++)if(e-r.start(o)==r.depth-o&&n>r.end(o)&&i.end(o)-n!=i.depth-o)return t.delete(r.before(o),n);t.delete(e,n)}(this,t,e),this}lift(t,e){return function(t,e,n){let{$from:i,$to:o,depth:a}=e,s=i.before(a+1),l=o.after(a+1),c=s,u=l,h=r.HY.empty,d=0;for(let t=a,e=!1;t>n;t--)e||i.index(t)>0?(e=!0,h=r.HY.from(i.node(t).copy(h)),d++):c--;let f=r.HY.empty,p=0;for(let t=a,e=!1;t>n;t--)e||o.after(t+1)<o.end(t)?(e=!0,f=r.HY.from(o.node(t).copy(f)),p++):u++;t.step(new m(c,u,s,l,new r.p2(h.append(f),d,p),h.size-d,!0))}(this,t,e),this}join(t,e=1){return function(t,e,n){let i=new g(e-n,e+n,r.p2.empty,!0);t.step(i)}(this,t,e),this}wrap(t,e){return function(t,e,n){let i=r.HY.empty;for(let t=n.length-1;t>=0;t--){if(i.size){let e=n[t].type.contentMatch.matchFragment(i);if(!e||!e.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}i=r.HY.from(n[t].type.create(n[t].attrs,i))}let o=e.start,a=e.end;t.step(new m(o,a,o,a,new r.p2(i,0,0),n.length,!0))}(this,t,e),this}setBlockType(t,e=t,n,i=null){return function(t,e,n,i,o){if(!i.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let a=t.steps.length;t.doc.nodesBetween(e,n,((e,n)=>{if(e.isTextblock&&!e.hasMarkup(i,o)&&function(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}(t.doc,t.mapping.slice(a).map(n),i)){t.clearIncompatible(t.mapping.slice(a).map(n,1),i);let s=t.mapping.slice(a),l=s.map(n,1),c=s.map(n+e.nodeSize,1);return t.step(new m(l,c,l+1,c-1,new r.p2(r.HY.from(i.create(o,null,e.marks)),0,0),1,!0)),!1}}))}(this,t,e,n,i),this}setNodeMarkup(t,e,n=null,i=[]){return function(t,e,n,i,o){let a=t.doc.nodeAt(e);if(!a)throw new RangeError("No node at given position");n||(n=a.type);let s=n.create(i,null,o||a.marks);if(a.isLeaf)return t.replaceWith(e,e+a.nodeSize,s);if(!n.validContent(a.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new m(e,e+a.nodeSize,e+1,e+a.nodeSize-1,new r.p2(r.HY.from(s),0,0),1,!0))}(this,t,e,n,i),this}split(t,e=1,n){return function(t,e,n=1,i){let o=t.doc.resolve(e),a=r.HY.empty,s=r.HY.empty;for(let t=o.depth,e=o.depth-n,l=n-1;t>e;t--,l--){a=r.HY.from(o.node(t).copy(a));let e=i&&i[l];s=r.HY.from(e?e.type.create(e.attrs,s):o.node(t).copy(s))}t.step(new g(e,e,new r.p2(a.append(s),n,n),!0))}(this,t,e,n),this}addMark(t,e,n){return function(t,e,n,r){let i,o,a=[],s=[];t.doc.nodesBetween(e,n,((t,l,c)=>{if(!t.isInline)return;let u=t.marks;if(!r.isInSet(u)&&c.type.allowsMarkType(r.type)){let c=Math.max(l,e),h=Math.min(l+t.nodeSize,n),d=r.addToSet(u);for(let t=0;t<u.length;t++)u[t].isInSet(d)||(i&&i.to==c&&i.mark.eq(u[t])?i.to=h:a.push(i=new p(c,h,u[t])));o&&o.to==c?o.to=h:s.push(o=new f(c,h,r))}})),a.forEach((e=>t.step(e))),s.forEach((e=>t.step(e)))}(this,t,e,n),this}removeMark(t,e,n){return function(t,e,n,i){let o=[],a=0;t.doc.nodesBetween(e,n,((t,s)=>{if(!t.isInline)return;a++;let l=null;if(i instanceof r.ZU){let e,n=t.marks;for(;e=i.isInSet(n);)(l||(l=[])).push(e),n=e.removeFromSet(n)}else i?i.isInSet(t.marks)&&(l=[i]):l=t.marks;if(l&&l.length){let r=Math.min(s+t.nodeSize,n);for(let t=0;t<l.length;t++){let n,i=l[t];for(let t=0;t<o.length;t++){let e=o[t];e.step==a-1&&i.eq(o[t].style)&&(n=e)}n?(n.to=r,n.step=a):o.push({style:i,from:Math.max(s,e),to:r,step:a})}}})),o.forEach((e=>t.step(new p(e.from,e.to,e.style))))}(this,t,e,n),this}clearIncompatible(t,e,n){return function(t,e,n,i=n.contentMatch){let o=t.doc.nodeAt(e),a=[],s=e+1;for(let e=0;e<o.childCount;e++){let l=o.child(e),c=s+l.nodeSize,u=i.matchType(l.type);if(u){i=u;for(let e=0;e<l.marks.length;e++)n.allowsMarkType(l.marks[e].type)||t.step(new p(s,c,l.marks[e]))}else a.push(new g(s,c,r.p2.empty));s=c}if(!i.validEnd){let e=i.fillBefore(r.HY.empty,!0);t.replace(s,s,new r.p2(e,0,0))}for(let e=a.length-1;e>=0;e--)t.step(a[e])}(this,t,e,n),this}}},68241:(t,e,n)=>{"use strict";n.d(e,{EH:()=>Pe,p:()=>Le,tk:()=>on});var r=n(3047),i=n(32737),o=n(89893);const a="undefined"!=typeof navigator?navigator:null,s="undefined"!=typeof document?document:null,l=a&&a.userAgent||"",c=/Edge\/(\d+)/.exec(l),u=/MSIE \d/.exec(l),h=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(l),d=!!(u||h||c),f=u?document.documentMode:h?+h[1]:c?+c[1]:0,p=!d&&/gecko\/(\d+)/i.test(l);p&&(/Firefox\/(\d+)/.exec(l)||[0,0])[1];const g=!d&&/Chrome\/(\d+)/.exec(l),m=!!g,y=g?+g[1]:0,v=!d&&!!a&&/Apple Computer/.test(a.vendor),b=v&&(/Mobile\/\w+/.test(l)||!!a&&a.maxTouchPoints>2),w=b||!!a&&/Mac/.test(a.platform),x=/Android \d/.test(l),_=!!s&&"webkitFontSmoothing"in s.documentElement.style,k=_?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,E=function(t){for(var e=0;;e++)if(!(t=t.previousSibling))return e},C=function(t){let e=t.assignedSlot||t.parentNode;return e&&11==e.nodeType?e.host:e};let S=null;const D=function(t,e,n){let r=S||(S=document.createRange());return r.setEnd(t,null==n?t.nodeValue.length:n),r.setStart(t,e||0),r},T=function(t,e,n,r){return n&&(M(t,e,n,r,-1)||M(t,e,n,r,1))},A=/^(img|br|input|textarea|hr)$/i;function M(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:N(t))){let n=t.parentNode;if(!n||1!=n.nodeType||O(t)||A.test(t.nodeName)||"false"==t.contentEditable)return!1;e=E(t)+(i<0?0:1),t=n}else{if(1!=t.nodeType)return!1;if("false"==(t=t.childNodes[e+(i<0?-1:0)]).contentEditable)return!1;e=i<0?N(t):0}}}function N(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function O(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const F=function(t){let e=t.isCollapsed;return e&&m&&t.rangeCount&&!t.getRangeAt(0).collapsed&&(e=!1),e};function I(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function L(t){return{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function B(t,e){return"number"==typeof t?t:t[e]}function R(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function P(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,o=t.dom.ownerDocument;for(let a=n||t.dom;a;a=C(a)){if(1!=a.nodeType)continue;let t=a,n=t==o.body,s=n?L(o):R(t),l=0,c=0;if(e.top<s.top+B(r,"top")?c=-(s.top-e.top+B(i,"top")):e.bottom>s.bottom-B(r,"bottom")&&(c=e.bottom-s.bottom+B(i,"bottom")),e.left<s.left+B(r,"left")?l=-(s.left-e.left+B(i,"left")):e.right>s.right-B(r,"right")&&(l=e.right-s.right+B(i,"right")),l||c)if(n)o.defaultView.scrollBy(l,c);else{let n=t.scrollLeft,r=t.scrollTop;c&&(t.scrollTop+=c),l&&(t.scrollLeft+=l);let i=t.scrollLeft-n,o=t.scrollTop-r;e={left:e.left-i,top:e.top-o,right:e.right-i,bottom:e.bottom-o}}if(n)break}}function z(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=C(r));return e}function $(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:o}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=o&&(r.scrollLeft=o)}}let j=null;function U(t,e){let n,r,i=2e8,o=0,a=e.top,s=e.top;for(let l=t.firstChild,c=0;l;l=l.nextSibling,c++){let t;if(1==l.nodeType)t=l.getClientRects();else{if(3!=l.nodeType)continue;t=D(l).getClientRects()}for(let u=0;u<t.length;u++){let h=t[u];if(h.top<=a&&h.bottom>=s){a=Math.max(h.bottom,a),s=Math.min(h.top,s);let t=h.left>e.left?h.left-e.left:h.right<e.left?e.left-h.right:0;if(t<i){n=l,i=t,r=t&&3==n.nodeType?{left:h.right<e.left?h.right:h.left,top:e.top}:e,1==l.nodeType&&t&&(o=c+(e.left>=(h.left+h.right)/2?1:0));continue}}!n&&(e.left>=h.right&&e.top>=h.top||e.left>=h.left&&e.top>=h.bottom)&&(o=c+1)}}return n&&3==n.nodeType?function(t,e){let n=t.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let n=H(r,1);if(n.top!=n.bottom&&Y(e,n))return{node:t,offset:i+(e.left>=(n.left+n.right)/2?1:0)}}return{node:t,offset:0}}(n,r):!n||i&&1==n.nodeType?{node:t,offset:o}:U(n,r)}function Y(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function q(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),o=i;;){let n=t.childNodes[o];if(1==n.nodeType){let t=n.getClientRects();for(let r=0;r<t.length;r++){let i=t[r];if(Y(e,i))return q(n,e,i)}}if((o=(o+1)%r)==i)break}return t}function W(t,e){let n,r=t.dom.ownerDocument,i=0;if(r.caretPositionFromPoint)try{let t=r.caretPositionFromPoint(e.left,e.top);t&&({offsetNode:n,offset:i}=t)}catch(t){}if(!n&&r.caretRangeFromPoint){let t=r.caretRangeFromPoint(e.left,e.top);t&&({startContainer:n,startOffset:i}=t)}let o,a=(t.root.elementFromPoint?t.root:r).elementFromPoint(e.left,e.top+1);if(!a||!t.dom.contains(1!=a.nodeType?a.parentNode:a)){let n=t.dom.getBoundingClientRect();if(!Y(e,n))return null;if(a=q(t.dom,e,n),!a)return null}if(v)for(let t=a;n&&t;t=C(t))t.draggable&&(n=void 0);if(a=function(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}(a,e),n){if(p&&1==n.nodeType&&(i=Math.min(i,n.childNodes.length),i<n.childNodes.length)){let t,r=n.childNodes[i];"IMG"==r.nodeName&&(t=r.getBoundingClientRect()).right<=e.left&&t.bottom>e.top&&i++}n==t.dom&&i==n.childNodes.length-1&&1==n.lastChild.nodeType&&e.top>n.lastChild.getBoundingClientRect().bottom?o=t.state.doc.content.size:0!=i&&1==n.nodeType&&"BR"==n.childNodes[i-1].nodeName||(o=function(t,e,n,r){let i=-1;for(let n=e;n!=t.dom;){let e=t.docView.nearestDesc(n,!0);if(!e)return null;if(e.node.isBlock&&e.parent){let t=e.dom.getBoundingClientRect();if(t.left>r.left||t.top>r.top)i=e.posBefore;else{if(!(t.right<r.left||t.bottom<r.top))break;i=e.posAfter}}n=e.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,1)}(t,n,i,e))}null==o&&(o=function(t,e,n){let{node:r,offset:i}=U(e,n),o=-1;if(1==r.nodeType&&!r.firstChild){let t=r.getBoundingClientRect();o=t.left!=t.right&&n.left>(t.left+t.right)/2?1:-1}return t.docView.posFromDOM(r,i,o)}(t,a,e));let s=t.docView.nearestDesc(a,!0);return{pos:o,inside:s?s.posAtStart-s.border:-1}}function H(t,e){let n=t.getClientRects();return n.length?n[e<0?0:n.length-1]:t.getBoundingClientRect()}const V=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function G(t,e,n){let{node:r,offset:i}=t.docView.domFromPos(e,n<0?-1:1),o=_||p;if(3==r.nodeType){if(!o||!V.test(r.nodeValue)&&(n<0?i:i!=r.nodeValue.length)){let t=i,e=i,o=n<0?1:-1;return n<0&&!i?(e++,o=-1):n>=0&&i==r.nodeValue.length?(t--,o=1):n<0?t--:e++,X(H(D(r,t,e),o),o<0)}{let t=H(D(r,i,i),n);if(p&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let e=H(D(r,i-1,i-1),-1);if(e.top==t.top){let n=H(D(r,i,i+1),-1);if(n.top!=t.top)return X(n,n.left<e.left)}}return t}}if(!t.state.doc.resolve(e).parent.inlineContent){if(i&&(n<0||i==N(r))){let t=r.childNodes[i-1];if(1==t.nodeType)return K(t.getBoundingClientRect(),!1)}if(i<N(r)){let t=r.childNodes[i];if(1==t.nodeType)return K(t.getBoundingClientRect(),!0)}return K(r.getBoundingClientRect(),n>=0)}if(i&&(n<0||i==N(r))){let t=r.childNodes[i-1],e=3==t.nodeType?D(t,N(t)-(o?0:1)):1!=t.nodeType||"BR"==t.nodeName&&t.nextSibling?null:t;if(e)return X(H(e,1),!1)}if(i<N(r)){let t=r.childNodes[i];for(;t.pmViewDesc&&t.pmViewDesc.ignoreForCoords;)t=t.nextSibling;let e=t?3==t.nodeType?D(t,0,o?0:1):1==t.nodeType?t:null:null;if(e)return X(H(e,-1),!0)}return X(H(3==r.nodeType?D(r):r,-n),n>=0)}function X(t,e){if(0==t.width)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function K(t,e){if(0==t.height)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function J(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}const Z=/[\u0590-\u08ac]/;let Q=null,tt=null,et=!1;function nt(t,e,n){return Q==e&&tt==n?et:(Q=e,tt=n,et="up"==n||"down"==n?function(t,e,n){let r=e.selection,i="up"==n?r.$from:r.$to;return J(t,e,(()=>{let{node:e}=t.docView.domFromPos(i.pos,"up"==n?-1:1);for(;;){let n=t.docView.nearestDesc(e,!0);if(!n)break;if(n.node.isBlock){e=n.dom;break}e=n.dom.parentNode}let r=G(t,i.pos,1);for(let t=e.firstChild;t;t=t.nextSibling){let e;if(1==t.nodeType)e=t.getClientRects();else{if(3!=t.nodeType)continue;e=D(t,0,t.nodeValue.length).getClientRects()}for(let t=0;t<e.length;t++){let i=e[t];if(i.bottom>i.top+1&&("up"==n?r.top-i.top>2*(i.bottom-r.top):i.bottom-r.bottom>2*(r.bottom-i.top)))return!1}}return!0}))}(t,e,n):function(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,o=!i,a=i==r.parent.content.size,s=t.domSelection();return Z.test(r.parent.textContent)&&s.modify?J(t,e,(()=>{let e=s.getRangeAt(0),i=s.focusNode,o=s.focusOffset,a=s.caretBidiLevel;s.modify("move",n,"character");let l=!(r.depth?t.docView.domAfterPos(r.before()):t.dom).contains(1==s.focusNode.nodeType?s.focusNode:s.focusNode.parentNode)||i==s.focusNode&&o==s.focusOffset;return s.removeAllRanges(),s.addRange(e),null!=a&&(s.caretBidiLevel=a),l})):"left"==n||"backward"==n?o:a}(t,e,n))}class rt{constructor(t,e,n,r){this.parent=t,this.children=e,this.dom=n,this.contentDOM=r,this.dirty=0,n.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,e,n){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let e=0;e<this.children.length;e++)t+=this.children[e].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let e=0,n=this.posAtStart;;e++){let r=this.children[e];if(r==t)return n;n+=r.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,e,n){if(this.contentDOM&&this.contentDOM.contains(1==t.nodeType?t:t.parentNode)){if(n<0){let n,r;if(t==this.contentDOM)n=t.childNodes[e-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;n=t.previousSibling}for(;n&&(!(r=n.pmViewDesc)||r.parent!=this);)n=n.previousSibling;return n?this.posBeforeChild(r)+r.size:this.posAtStart}{let n,r;if(t==this.contentDOM)n=t.childNodes[e];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;n=t.nextSibling}for(;n&&(!(r=n.pmViewDesc)||r.parent!=this);)n=n.nextSibling;return n?this.posBeforeChild(r):this.posAtEnd}}let r;if(t==this.dom&&this.contentDOM)r=e>E(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))r=2&t.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==e)for(let e=t;;e=e.parentNode){if(e==this.dom){r=!1;break}if(e.previousSibling)break}if(null==r&&e==t.childNodes.length)for(let e=t;;e=e.parentNode){if(e==this.dom){r=!0;break}if(e.nextSibling)break}}return(null==r?n>0:r)?this.posAtEnd:this.posAtStart}nearestDesc(t,e=!1){for(let n=!0,r=t;r;r=r.parentNode){let i,o=this.getDesc(r);if(o&&(!e||o.node)){if(!n||!(i=o.nodeDOM)||(1==i.nodeType?i.contains(1==t.nodeType?t:t.parentNode):i==t))return o;n=!1}}}getDesc(t){let e=t.pmViewDesc;for(let t=e;t;t=t.parent)if(t==this)return e}posFromDOM(t,e,n){for(let r=t;r;r=r.parentNode){let i=this.getDesc(r);if(i)return i.localPosFromDOM(t,e,n)}return-1}descAt(t){for(let e=0,n=0;e<this.children.length;e++){let r=this.children[e],i=n+r.size;if(n==t&&i!=n){for(;!r.border&&r.children.length;)r=r.children[0];return r}if(t<i)return r.descAt(t-n-r.border);n=i}}domFromPos(t,e){if(!this.contentDOM)return{node:this.dom,offset:0};let n,r=0,i=0;for(let e=0;r<this.children.length;r++){let n=this.children[r],o=e+n.size;if(o>t||n instanceof ut){i=t-e;break}e=o}if(i)return this.children[r].domFromPos(i-this.children[r].border,e);for(;r&&!(n=this.children[r-1]).size&&n instanceof it&&n.side>=0;r--);if(e<=0){let t,n=!0;for(;t=r?this.children[r-1]:null,t&&t.dom.parentNode!=this.contentDOM;r--,n=!1);return t&&e&&n&&!t.border&&!t.domAtom?t.domFromPos(t.size,e):{node:this.contentDOM,offset:t?E(t.dom)+1:0}}{let t,n=!0;for(;t=r<this.children.length?this.children[r]:null,t&&t.dom.parentNode!=this.contentDOM;r++,n=!1);return t&&n&&!t.border&&!t.domAtom?t.domFromPos(0,e):{node:this.contentDOM,offset:t?E(t.dom):this.contentDOM.childNodes.length}}}parseRange(t,e,n=0){if(0==this.children.length)return{node:this.contentDOM,from:t,to:e,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let r=-1,i=-1;for(let o=n,a=0;;a++){let n=this.children[a],s=o+n.size;if(-1==r&&t<=s){let i=o+n.border;if(t>=i&&e<=s-n.border&&n.node&&n.contentDOM&&this.contentDOM.contains(n.contentDOM))return n.parseRange(t,e,i);t=o;for(let e=a;e>0;e--){let n=this.children[e-1];if(n.size&&n.dom.parentNode==this.contentDOM&&!n.emptyChildAt(1)){r=E(n.dom)+1;break}t-=n.size}-1==r&&(r=0)}if(r>-1&&(s>e||a==this.children.length-1)){e=s;for(let t=a+1;t<this.children.length;t++){let n=this.children[t];if(n.size&&n.dom.parentNode==this.contentDOM&&!n.emptyChildAt(-1)){i=E(n.dom);break}e+=n.size}-1==i&&(i=this.contentDOM.childNodes.length);break}o=s}return{node:this.contentDOM,from:t,to:e,fromOffset:r,toOffset:i}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let e=this.children[t<0?0:this.children.length-1];return 0==e.size||e.emptyChildAt(t)}domAfterPos(t){let{node:e,offset:n}=this.domFromPos(t,0);if(1!=e.nodeType||n==e.childNodes.length)throw new RangeError("No node after pos "+t);return e.childNodes[n]}setSelection(t,e,n,r=!1){let i=Math.min(t,e),o=Math.max(t,e);for(let a=0,s=0;a<this.children.length;a++){let l=this.children[a],c=s+l.size;if(i>s&&o<c)return l.setSelection(t-s-l.border,e-s-l.border,n,r);s=c}let a=this.domFromPos(t,t?-1:1),s=e==t?a:this.domFromPos(e,e?-1:1),l=n.getSelection(),c=!1;if((p||v)&&t==e){let{node:t,offset:e}=a;if(3==t.nodeType){if(c=!(!e||"\n"!=t.nodeValue[e-1]),c&&e==t.nodeValue.length)for(let e,n=t;n;n=n.parentNode){if(e=n.nextSibling){"BR"==e.nodeName&&(a=s={node:e.parentNode,offset:E(e)+1});break}let t=n.pmViewDesc;if(t&&t.node&&t.node.isBlock)break}}else{let n=t.childNodes[e-1];c=n&&("BR"==n.nodeName||"false"==n.contentEditable)}}if(p&&l.focusNode&&l.focusNode!=s.node&&1==l.focusNode.nodeType){let t=l.focusNode.childNodes[l.focusOffset];t&&"false"==t.contentEditable&&(r=!0)}if(!(r||c&&v)&&T(a.node,a.offset,l.anchorNode,l.anchorOffset)&&T(s.node,s.offset,l.focusNode,l.focusOffset))return;let u=!1;if((l.extend||t==e)&&!c){l.collapse(a.node,a.offset);try{t!=e&&l.extend(s.node,s.offset),u=!0}catch(t){if(!(t instanceof DOMException))throw t}}if(!u){if(t>e){let t=a;a=s,s=t}let n=document.createRange();n.setEnd(s.node,s.offset),n.setStart(a.node,a.offset),l.removeAllRanges(),l.addRange(n)}}ignoreMutation(t){return!this.contentDOM&&"selection"!=t.type}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,e){for(let n=0,r=0;r<this.children.length;r++){let i=this.children[r],o=n+i.size;if(n==o?t<=o&&e>=n:t<o&&e>n){let r=n+i.border,a=o-i.border;if(t>=r&&e<=a)return this.dirty=t==n||e==o?2:1,void(t!=r||e!=a||!i.contentLost&&i.dom.parentNode==this.contentDOM?i.markDirty(t-r,e-r):i.dirty=3);i.dirty=i.dom!=i.contentDOM||i.dom.parentNode!=this.contentDOM||i.children.length?3:2}n=o}this.dirty=2}markParentsDirty(){let t=1;for(let e=this.parent;e;e=e.parent,t++){let n=1==t?2:1;e.dirty<n&&(e.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class it extends rt{constructor(t,e,n,r){let i,o=e.type.toDOM;if("function"==typeof o&&(o=o(n,(()=>i?i.parent?i.parent.posBeforeChild(i):void 0:r))),!e.type.spec.raw){if(1!=o.nodeType){let t=document.createElement("span");t.appendChild(o),o=t}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(t,[],o,null),this.widget=e,this.widget=e,i=this}matchesWidget(t){return 0==this.dirty&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let e=this.widget.spec.stopEvent;return!!e&&e(t)}ignoreMutation(t){return"selection"!=t.type||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class ot extends rt{constructor(t,e,n,r){super(t,[],e,null),this.textDOM=n,this.text=r}get size(){return this.text.length}localPosFromDOM(t,e){return t!=this.textDOM?this.posAtStart+(e?this.size:0):this.posAtStart+e}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return"characterData"===t.type&&t.target.nodeValue==t.oldValue}}class at extends rt{constructor(t,e,n,r){super(t,[],n,r),this.mark=e}static create(t,e,n,r){let o=r.nodeViews[e.type.name],a=o&&o(e,r,n);return a&&a.dom||(a=i.PW.renderSpec(document,e.type.spec.toDOM(e,n))),new at(t,e,a.dom,a.contentDOM||a.dom)}parseRule(){return 3&this.dirty||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM||void 0}}matchesMark(t){return 3!=this.dirty&&this.mark.eq(t)}markDirty(t,e){if(super.markDirty(t,e),0!=this.dirty){let t=this.parent;for(;!t.node;)t=t.parent;t.dirty<this.dirty&&(t.dirty=this.dirty),this.dirty=0}}slice(t,e,n){let r=at.create(this.parent,this.mark,!0,n),i=this.children,o=this.size;e<o&&(i=kt(i,e,o,n)),t>0&&(i=kt(i,0,t,n));for(let t=0;t<i.length;t++)i[t].parent=r;return r.children=i,r}}class st extends rt{constructor(t,e,n,r,i,o,a,s,l){super(t,[],i,o),this.node=e,this.outerDeco=n,this.innerDeco=r,this.nodeDOM=a,o&&this.updateChildren(s,l)}static create(t,e,n,r,o,a){let s,l=o.nodeViews[e.type.name],c=l&&l(e,o,(()=>s?s.parent?s.parent.posBeforeChild(s):void 0:a),n,r),u=c&&c.dom,h=c&&c.contentDOM;if(e.isText)if(u){if(3!=u.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else u=document.createTextNode(e.text);else u||({dom:u,contentDOM:h}=i.PW.renderSpec(document,e.type.spec.toDOM(e)));h||e.isText||"BR"==u.nodeName||(u.hasAttribute("contenteditable")||(u.contentEditable="false"),e.type.spec.draggable&&(u.draggable=!0));let d=u;return u=vt(u,n,e),c?s=new ht(t,e,n,r,u,h||null,d,c,o,a+1):e.isText?new ct(t,e,n,r,u,d,o):new st(t,e,n,r,u,h||null,d,o,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if("pre"==this.node.type.whitespace&&(t.preserveWhitespace="full"),this.contentDOM)if(this.contentLost){for(let e=this.children.length-1;e>=0;e--){let n=this.children[e];if(this.dom.contains(n.dom.parentNode)){t.contentElement=n.dom.parentNode;break}}t.contentElement||(t.getContent=()=>i.HY.empty)}else t.contentElement=this.contentDOM;else t.getContent=()=>this.node.content;return t}matchesNode(t,e,n){return 0==this.dirty&&t.eq(this.node)&&bt(e,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,e){let n=this.node.inlineContent,r=e,o=t.composing?this.localCompositionInfo(t,e):null,a=o&&o.pos>-1?o:null,s=o&&o.pos<0,l=new xt(this,a&&a.node);!function(t,e,n,r){let i=e.locals(t),o=0;if(0==i.length){for(let n=0;n<t.childCount;n++){let a=t.child(n);r(a,i,e.forChild(o,a),n),o+=a.nodeSize}return}let a=0,s=[],l=null;for(let c=0;;){if(a<i.length&&i[a].to==o){let t,e=i[a++];for(;a<i.length&&i[a].to==o;)(t||(t=[e])).push(i[a++]);if(t){t.sort(_t);for(let e=0;e<t.length;e++)n(t[e],c,!!l)}else n(e,c,!!l)}let u,h;if(l)h=-1,u=l,l=null;else{if(!(c<t.childCount))break;h=c,u=t.child(c++)}for(let t=0;t<s.length;t++)s[t].to<=o&&s.splice(t--,1);for(;a<i.length&&i[a].from<=o&&i[a].to>o;)s.push(i[a++]);let d=o+u.nodeSize;if(u.isText){let t=d;a<i.length&&i[a].from<t&&(t=i[a].from);for(let e=0;e<s.length;e++)s[e].to<t&&(t=s[e].to);t<d&&(l=u.cut(t-o),u=u.cut(0,t-o),d=t,h=-1)}r(u,u.isInline&&!u.isLeaf?s.filter((t=>!t.inline)):s.slice(),e.forChild(o,u),h),o=d}}(this.node,this.innerDeco,((e,o,a)=>{e.spec.marks?l.syncToMarks(e.spec.marks,n,t):e.type.side>=0&&!a&&l.syncToMarks(o==this.node.childCount?i.vc.none:this.node.child(o).marks,n,t),l.placeWidget(e,t,r)}),((e,i,a,c)=>{let u;l.syncToMarks(e.marks,n,t),l.findNodeMatch(e,i,a,c)||s&&t.state.selection.from>r&&t.state.selection.to<r+e.nodeSize&&(u=l.findIndexWithChild(o.node))>-1&&l.updateNodeAt(e,i,a,u,t)||l.updateNextNode(e,i,a,t,c)||l.addNode(e,i,a,t,r),r+=e.nodeSize})),l.syncToMarks([],n,t),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||2==this.dirty)&&(a&&this.protectLocalComposition(t,a),dt(this.contentDOM,this.children,t),b&&function(t){if("UL"==t.nodeName||"OL"==t.nodeName){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}(this.dom))}localCompositionInfo(t,e){let{from:n,to:i}=t.state.selection;if(!(t.state.selection instanceof r.Bs)||n<e||i>e+this.node.content.size)return null;let o=t.domSelection(),a=function(t,e){for(;;){if(3==t.nodeType)return t;if(1==t.nodeType&&e>0){if(t.childNodes.length>e&&3==t.childNodes[e].nodeType)return t.childNodes[e];e=N(t=t.childNodes[e-1])}else{if(!(1==t.nodeType&&e<t.childNodes.length))return null;t=t.childNodes[e],e=0}}}(o.focusNode,o.focusOffset);if(!a||!this.dom.contains(a.parentNode))return null;if(this.node.inlineContent){let t=a.nodeValue,r=function(t,e,n,r){for(let i=0,o=0;i<t.childCount&&o<=r;){let a=t.child(i++),s=o;if(o+=a.nodeSize,!a.isText)continue;let l=a.text;for(;i<t.childCount;){let e=t.child(i++);if(o+=e.nodeSize,!e.isText)break;l+=e.text}if(o>=n){let t=s<r?l.lastIndexOf(e,r-s-1):-1;if(t>=0&&t+e.length+s>=n)return s+t;if(n==r&&l.length>=r+e.length-s&&l.slice(r-s,r-s+e.length)==e)return r}}return-1}(this.node.content,t,n-e,i-e);return r<0?null:{node:a,pos:r,text:t}}return{node:a,pos:-1,text:""}}protectLocalComposition(t,{node:e,pos:n,text:r}){if(this.getDesc(e))return;let i=e;for(;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}let o=new ot(this,i,e,r);t.input.compositionNodes.push(o),this.children=kt(this.children,n,n+r.length,t,o)}update(t,e,n,r){return!(3==this.dirty||!t.sameMarkup(this.node))&&(this.updateInner(t,e,n,r),!0)}updateInner(t,e,n,r){this.updateOuterDeco(e),this.node=t,this.innerDeco=n,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=0}updateOuterDeco(t){if(bt(t,this.outerDeco))return;let e=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=mt(this.dom,this.nodeDOM,gt(this.outerDeco,this.node,e),gt(t,this.node,e)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!0)}deselectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function lt(t,e,n,r,i){return vt(r,e,t),new st(void 0,t,e,n,r,r,r,i,0)}class ct extends st{constructor(t,e,n,r,i,o,a){super(t,e,n,r,i,null,o,a,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,e,n,r){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!t.sameMarkup(this.node))&&(this.updateOuterDeco(e),0==this.dirty&&t.text==this.node.text||t.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=t.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=t,this.dirty=0,!0)}inParent(){let t=this.parent.contentDOM;for(let e=this.nodeDOM;e;e=e.parentNode)if(e==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,e,n){return t==this.nodeDOM?this.posAtStart+Math.min(e,this.node.text.length):super.localPosFromDOM(t,e,n)}ignoreMutation(t){return"characterData"!=t.type&&"selection"!=t.type}slice(t,e,n){let r=this.node.cut(t,e),i=document.createTextNode(r.text);return new ct(this.parent,r,this.outerDeco,this.innerDeco,i,i,n)}markDirty(t,e){super.markDirty(t,e),this.dom==this.nodeDOM||0!=t&&e!=this.nodeDOM.nodeValue.length||(this.dirty=3)}get domAtom(){return!1}}class ut extends rt{parseRule(){return{ignore:!0}}matchesHack(t){return 0==this.dirty&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return"IMG"==this.dom.nodeName}}class ht extends st{constructor(t,e,n,r,i,o,a,s,l,c){super(t,e,n,r,i,o,a,l,c),this.spec=s}update(t,e,n,r){if(3==this.dirty)return!1;if(this.spec.update){let i=this.spec.update(t,e,n);return i&&this.updateInner(t,e,n,r),i}return!(!this.contentDOM&&!t.isLeaf)&&super.update(t,e,n,r)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,e,n,r){this.spec.setSelection?this.spec.setSelection(t,e,n):super.setSelection(t,e,n,r)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return!!this.spec.stopEvent&&this.spec.stopEvent(t)}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}function dt(t,e,n){let r=t.firstChild,i=!1;for(let o=0;o<e.length;o++){let a=e[o],s=a.dom;if(s.parentNode==t){for(;s!=r;)r=wt(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(s,r);if(a instanceof at){let e=r?r.previousSibling:t.lastChild;dt(a.contentDOM,a.children,n),r=e?e.nextSibling:t.firstChild}}for(;r;)r=wt(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const ft=function(t){t&&(this.nodeName=t)};ft.prototype=Object.create(null);const pt=[new ft];function gt(t,e,n){if(0==t.length)return pt;let r=n?pt[0]:new ft,i=[r];for(let o=0;o<t.length;o++){let a=t[o].type.attrs;if(a){a.nodeName&&i.push(r=new ft(a.nodeName));for(let t in a){let o=a[t];null!=o&&(n&&1==i.length&&i.push(r=new ft(e.isInline?"span":"div")),"class"==t?r.class=(r.class?r.class+" ":"")+o:"style"==t?r.style=(r.style?r.style+";":"")+o:"nodeName"!=t&&(r[t]=o))}}}return i}function mt(t,e,n,r){if(n==pt&&r==pt)return e;let i=e;for(let e=0;e<r.length;e++){let o=r[e],a=n[e];if(e){let e;a&&a.nodeName==o.nodeName&&i!=t&&(e=i.parentNode)&&e.nodeName.toLowerCase()==o.nodeName||(e=document.createElement(o.nodeName),e.pmIsDeco=!0,e.appendChild(i),a=pt[0]),i=e}yt(i,a||pt[0],o)}return i}function yt(t,e,n){for(let r in e)"class"==r||"style"==r||"nodeName"==r||r in n||t.removeAttribute(r);for(let r in n)"class"!=r&&"style"!=r&&"nodeName"!=r&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let e=0;e<r.length;e++)-1==i.indexOf(r[e])&&t.classList.remove(r[e]);for(let e=0;e<i.length;e++)-1==r.indexOf(i[e])&&t.classList.add(i[e]);0==t.classList.length&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let n,r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;for(;n=r.exec(e.style);)t.style.removeProperty(n[1])}n.style&&(t.style.cssText+=n.style)}}function vt(t,e,n){return mt(t,t,pt,gt(e,n,1!=t.nodeType))}function bt(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function wt(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class xt{constructor(t,e){this.lock=e,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=function(t,e){let n=e,r=n.children.length,i=t.childCount,o=new Map,a=[];t:for(;i>0;){let s;for(;;)if(r){let t=n.children[r-1];if(!(t instanceof at)){s=t,r--;break}n=t,r=t.children.length}else{if(n==e)break t;r=n.parent.children.indexOf(n),n=n.parent}let l=s.node;if(l){if(l!=t.child(i-1))break;--i,o.set(s,i),a.push(s)}}return{index:i,matched:o,matches:a.reverse()}}(t.node.content,t)}destroyBetween(t,e){if(t!=e){for(let n=t;n<e;n++)this.top.children[n].destroy();this.top.children.splice(t,e-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,e,n){let r=0,i=this.stack.length>>1,o=Math.min(i,t.length);for(;r<o&&(r==i-1?this.top:this.stack[r+1<<1]).matchesMark(t[r])&&!1!==t[r].type.spec.spanning;)r++;for(;r<i;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<t.length;){this.stack.push(this.top,this.index+1);let r=-1;for(let e=this.index;e<Math.min(this.index+3,this.top.children.length);e++)if(this.top.children[e].matchesMark(t[i])){r=e;break}if(r>-1)r>this.index&&(this.changed=!0,this.destroyBetween(this.index,r)),this.top=this.top.children[this.index];else{let r=at.create(this.top,t[i],e,n);this.top.children.splice(this.index,0,r),this.top=r,this.changed=!0}this.index=0,i++}}findNodeMatch(t,e,n,r){let i,o=-1;if(r>=this.preMatch.index&&(i=this.preMatch.matches[r-this.preMatch.index]).parent==this.top&&i.matchesNode(t,e,n))o=this.top.children.indexOf(i,this.index);else for(let r=this.index,i=Math.min(this.top.children.length,r+5);r<i;r++){let i=this.top.children[r];if(i.matchesNode(t,e,n)&&!this.preMatch.matched.has(i)){o=r;break}}return!(o<0)&&(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(t,e,n,r,i){let o=this.top.children[r];return 3==o.dirty&&o.dom==o.contentDOM&&(o.dirty=2),!!o.update(t,e,n,i)&&(this.destroyBetween(this.index,r),this.index=r+1,!0)}findIndexWithChild(t){for(;;){let e=t.parentNode;if(!e)return-1;if(e==this.top.contentDOM){let e=t.pmViewDesc;if(e)for(let t=this.index;t<this.top.children.length;t++)if(this.top.children[t]==e)return t;return-1}t=e}}updateNextNode(t,e,n,r,i){for(let o=this.index;o<this.top.children.length;o++){let a=this.top.children[o];if(a instanceof st){let s=this.preMatch.matched.get(a);if(null!=s&&s!=i)return!1;let l=a.dom;if(!(this.lock&&(l==this.lock||1==l.nodeType&&l.contains(this.lock.parentNode))&&!(t.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==t.text&&3!=a.dirty&&bt(e,a.outerDeco)))&&a.update(t,e,n,r))return this.destroyBetween(this.index,o),a.dom!=l&&(this.changed=!0),this.index++,!0;break}}return!1}addNode(t,e,n,r,i){this.top.children.splice(this.index++,0,st.create(this.top,t,e,n,r,i)),this.changed=!0}placeWidget(t,e,n){let r=this.index<this.top.children.length?this.top.children[this.index]:null;if(!r||!r.matchesWidget(t)||t!=r.widget&&r.widget.type.toDOM.parentNode){let r=new it(this.top,t,e,n);this.top.children.splice(this.index++,0,r),this.changed=!0}else this.index++}addTextblockHacks(){let t=this.top.children[this.index-1],e=this.top;for(;t instanceof at;)e=t,t=e.children[e.children.length-1];t&&t instanceof ct&&!/\n$/.test(t.node.text)||((v||m)&&t&&"false"==t.dom.contentEditable&&this.addHackNode("IMG",e),this.addHackNode("BR",this.top))}addHackNode(t,e){if(e==this.top&&this.index<e.children.length&&e.children[this.index].matchesHack(t))this.index++;else{let n=document.createElement(t);"IMG"==t&&(n.className="ProseMirror-separator",n.alt=""),"BR"==t&&(n.className="ProseMirror-trailingBreak");let r=new ut(this.top,[],n,null);e!=this.top?e.children.push(r):e.children.splice(this.index++,0,r),this.changed=!0}}}function _t(t,e){return t.type.side-e.type.side}function kt(t,e,n,r,i){let o=[];for(let a=0,s=0;a<t.length;a++){let l=t[a],c=s,u=s+=l.size;c>=n||u<=e?o.push(l):(c<e&&o.push(l.slice(0,e-c,r)),i&&(o.push(i),i=void 0),u>n&&o.push(l.slice(n-c,l.size,r)))}return o}function Et(t,e=null){let n=t.domSelection(),i=t.state.doc;if(!n.focusNode)return null;let o=t.docView.nearestDesc(n.focusNode),a=o&&0==o.size,s=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(s<0)return null;let l,c,u=i.resolve(s);if(F(n)){for(l=u;o&&!o.node;)o=o.parent;let t=o.node;if(o&&t.isAtom&&r.qv.isSelectable(t)&&o.parent&&(!t.isInline||!function(t,e,n){for(let r=0==e,i=e==N(t);r||i;){if(t==n)return!0;let e=E(t);if(!(t=t.parentNode))return!1;r=r&&0==e,i=i&&e==N(t)}}(n.focusNode,n.focusOffset,o.dom))){let t=o.posBefore;c=new r.qv(s==t?u:i.resolve(t))}}else{let e=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(e<0)return null;l=i.resolve(e)}if(!c){c=Ft(t,l,u,"pointer"==e||t.state.selection.head<u.pos&&!a?1:-1)}return c}function Ct(t){return t.editable?t.hasFocus():Lt(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function St(t,e=!1){let n=t.state.selection;if(Nt(t,n),Ct(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&m){let e=t.domSelection(),n=t.domObserver.currentSelection;if(e.anchorNode&&n.anchorNode&&T(e.anchorNode,e.anchorOffset,n.anchorNode,n.anchorOffset))return t.input.mouseDown.delayedSelectionSync=!0,void t.domObserver.setCurSelection()}if(t.domObserver.disconnectSelection(),t.cursorWrapper)!function(t){let e=t.domSelection(),n=document.createRange(),r=t.cursorWrapper.dom,i="IMG"==r.nodeName;i?n.setEnd(r.parentNode,E(r)+1):n.setEnd(r,0);n.collapse(!1),e.removeAllRanges(),e.addRange(n),!i&&!t.state.selection.visible&&d&&f<=11&&(r.disabled=!0,r.disabled=!1)}(t);else{let i,o,{anchor:a,head:s}=n;!Dt||n instanceof r.Bs||(n.$from.parent.inlineContent||(i=Tt(t,n.from)),n.empty||n.$from.parent.inlineContent||(o=Tt(t,n.to))),t.docView.setSelection(a,s,t.root,e),Dt&&(i&&Mt(i),o&&Mt(o)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelection(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{n.anchorNode==r&&n.anchorOffset==i||(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout((()=>{Ct(t)&&!t.state.selection.visible||t.dom.classList.remove("ProseMirror-hideselection")}),20))})}(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const Dt=v||m&&y<63;function Tt(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,o=r?n.childNodes[r-1]:null;if(v&&i&&"false"==i.contentEditable)return At(i);if(!(i&&"false"!=i.contentEditable||o&&"false"!=o.contentEditable)){if(i)return At(i);if(o)return At(o)}}function At(t){return t.contentEditable="true",v&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function Mt(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function Nt(t,e){if(e instanceof r.qv){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(Ot(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else Ot(t)}function Ot(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function Ft(t,e,n,i){return t.someProp("createSelectionBetween",(r=>r(t,e,n)))||r.Bs.between(e,n,i)}function It(t){return(!t.editable||t.root.activeElement==t.dom)&&Lt(t)}function Lt(t){let e=t.domSelection();if(!e.anchorNode)return!1;try{return t.dom.contains(3==e.anchorNode.nodeType?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(3==e.focusNode.nodeType?e.focusNode.parentNode:e.focusNode))}catch(t){return!1}}function Bt(t,e){let{$anchor:n,$head:i}=t.selection,o=e>0?n.max(i):n.min(i),a=o.parent.inlineContent?o.depth?t.doc.resolve(e>0?o.after():o.before()):null:o;return a&&r.Y1.findFrom(a,e)}function Rt(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function Pt(t,e,n){let i=t.state.selection;if(!(i instanceof r.Bs)){if(i instanceof r.qv&&i.node.isInline)return Rt(t,new r.Bs(e>0?i.$to:i.$from));{let n=Bt(t.state,e);return!!n&&Rt(t,n)}}if(!i.empty||n.indexOf("s")>-1)return!1;if(t.endOfTextblock(e>0?"right":"left")){let n=Bt(t.state,e);return!!(n&&n instanceof r.qv)&&Rt(t,n)}if(!(w&&n.indexOf("m")>-1)){let n,o=i.$head,a=o.textOffset?null:e<0?o.nodeBefore:o.nodeAfter;if(!a||a.isText)return!1;let s=e<0?o.pos-a.nodeSize:o.pos;return!!(a.isAtom||(n=t.docView.descAt(s))&&!n.contentDOM)&&(r.qv.isSelectable(a)?Rt(t,new r.qv(e<0?t.state.doc.resolve(o.pos-a.nodeSize):o)):!!_&&Rt(t,new r.Bs(t.state.doc.resolve(e<0?s:s+a.nodeSize))))}}function zt(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function $t(t){let e=t.pmViewDesc;return e&&0==e.size&&(t.nextSibling||"BR"!=t.nodeName)}function jt(t){let e=t.domSelection(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,o,a=!1;for(p&&1==n.nodeType&&r<zt(n)&&$t(n.childNodes[r])&&(a=!0);;)if(r>0){if(1!=n.nodeType)break;{let t=n.childNodes[r-1];if($t(t))i=n,o=--r;else{if(3!=t.nodeType)break;n=t,r=n.nodeValue.length}}}else{if(Yt(n))break;{let e=n.previousSibling;for(;e&&$t(e);)i=n.parentNode,o=E(e),e=e.previousSibling;if(e)n=e,r=zt(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}a?qt(t,e,n,r):i&&qt(t,e,i,o)}function Ut(t){let e=t.domSelection(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,o,a=zt(n);for(;;)if(r<a){if(1!=n.nodeType)break;if(!$t(n.childNodes[r]))break;i=n,o=++r}else{if(Yt(n))break;{let e=n.nextSibling;for(;e&&$t(e);)i=e.parentNode,o=E(e)+1,e=e.nextSibling;if(e)n=e,r=0,a=zt(n);else{if(n=n.parentNode,n==t.dom)break;r=a=0}}}i&&qt(t,e,i,o)}function Yt(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function qt(t,e,n,r){if(F(e)){let t=document.createRange();t.setEnd(n,r),t.setStart(n,r),e.removeAllRanges(),e.addRange(t)}else e.extend&&e.extend(n,r);t.domObserver.setCurSelection();let{state:i}=t;setTimeout((()=>{t.state==i&&St(t)}),50)}function Wt(t,e,n){let i=t.state.selection;if(i instanceof r.Bs&&!i.empty||n.indexOf("s")>-1)return!1;if(w&&n.indexOf("m")>-1)return!1;let{$from:o,$to:a}=i;if(!o.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let n=Bt(t.state,e);if(n&&n instanceof r.qv)return Rt(t,n)}if(!o.parent.inlineContent){let n=e<0?o:a,s=i instanceof r.C1?r.Y1.near(n,e):r.Y1.findFrom(n,e);return!!s&&Rt(t,s)}return!1}function Ht(t,e){if(!(t.state.selection instanceof r.Bs))return!0;let{$head:n,$anchor:i,empty:o}=t.state.selection;if(!n.sameParent(i))return!0;if(!o)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let a=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(a&&!a.isText){let r=t.state.tr;return e<0?r.delete(n.pos-a.nodeSize,n.pos):r.delete(n.pos,n.pos+a.nodeSize),t.dispatch(r),!0}return!1}function Vt(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function Gt(t,e){let n=e.keyCode,r=function(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}(e);return 8==n||w&&72==n&&"c"==r?Ht(t,-1)||jt(t):46==n||w&&68==n&&"c"==r?Ht(t,1)||Ut(t):13==n||27==n||(37==n||w&&66==n&&"c"==r?Pt(t,-1,r)||jt(t):39==n||w&&70==n&&"c"==r?Pt(t,1,r)||Ut(t):38==n||w&&80==n&&"c"==r?Wt(t,-1,r)||jt(t):40==n||w&&78==n&&"c"==r?function(t){if(!v||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelection();if(e&&1==e.nodeType&&0==n&&e.firstChild&&"false"==e.firstChild.contentEditable){let n=e.firstChild;Vt(t,n,"true"),setTimeout((()=>Vt(t,n,"false")),20)}return!1}(t)||Wt(t,1,r)||Ut(t):r==(w?"m":"c")&&(66==n||73==n||89==n||90==n))}function Xt(t,e){let n=[],{content:r,openStart:o,openEnd:a}=e;for(;o>1&&a>1&&1==r.childCount&&1==r.firstChild.childCount;){o--,a--;let t=r.firstChild;n.push(t.type.name,t.attrs!=t.type.defaultAttrs?t.attrs:null),r=t.content}let s=t.someProp("clipboardSerializer")||i.PW.fromSchema(t.state.schema),l=oe(),c=l.createElement("div");c.appendChild(s.serializeFragment(r,{document:l}));let u,h=c.firstChild,d=0;for(;h&&1==h.nodeType&&(u=re[h.nodeName.toLowerCase()]);){for(let t=u.length-1;t>=0;t--){let e=l.createElement(u[t]);for(;c.firstChild;)e.appendChild(c.firstChild);c.appendChild(e),d++}h=c.firstChild}return h&&1==h.nodeType&&h.setAttribute("data-pm-slice",`${o} ${a}${d?` -${d}`:""} ${JSON.stringify(n)}`),{dom:c,text:t.someProp("clipboardTextSerializer",(t=>t(e)))||e.content.textBetween(0,e.content.size,"\n\n")}}function Kt(t,e,n,r,o){let a,s,l=o.parent.type.spec.code;if(!n&&!e)return null;let c=e&&(r||l||!n);if(c){if(t.someProp("transformPastedText",(t=>{e=t(e,l||r)})),l)return e?new i.p2(i.HY.from(t.state.schema.text(e.replace(/\r\n?/g,"\n"))),0,0):i.p2.empty;let n=t.someProp("clipboardTextParser",(t=>t(e,o,r)));if(n)s=n;else{let n=o.marks(),{schema:r}=t.state,s=i.PW.fromSchema(r);a=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach((t=>{let e=a.appendChild(document.createElement("p"));t&&e.appendChild(s.serializeNode(r.text(t,n)))}))}}else t.someProp("transformPastedHTML",(t=>{n=t(n)})),a=function(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n,r=oe().createElement("div"),i=/<([a-z][^>\s]+)/i.exec(t);(n=i&&re[i[1].toLowerCase()])&&(t=n.map((t=>"<"+t+">")).join("")+t+n.map((t=>"</"+t+">")).reverse().join(""));if(r.innerHTML=t,n)for(let t=0;t<n.length;t++)r=r.querySelector(n[t])||r;return r}(n),_&&function(t){let e=t.querySelectorAll(m?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];1==r.childNodes.length&&" "==r.textContent&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}(a);let u=a&&a.querySelector("[data-pm-slice]"),h=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(h&&h[3])for(let t=+h[3];t>0&&a.firstChild;t--)a=a.firstChild;if(!s){let e=t.someProp("clipboardParser")||t.someProp("domParser")||i.aw.fromSchema(t.state.schema);s=e.parseSlice(a,{preserveWhitespace:!(!c&&!h),context:o,ruleFromNode:t=>"BR"!=t.nodeName||t.nextSibling||!t.parentNode||Jt.test(t.parentNode.nodeName)?null:{ignore:!0}})}if(h)s=function(t,e){if(!t.size)return t;let n,r=t.content.firstChild.type.schema;try{n=JSON.parse(e)}catch(e){return t}let{content:o,openStart:a,openEnd:s}=t;for(let t=n.length-2;t>=0;t-=2){let e=r.nodes[n[t]];if(!e||e.hasRequiredAttrs())break;o=i.HY.from(e.create(n[t+1],o)),a++,s++}return new i.p2(o,a,s)}(ne(s,+h[1],+h[2]),h[4]);else if(s=i.p2.maxOpen(function(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let r,o=e.node(n).contentMatchAt(e.index(n)),a=[];if(t.forEach((t=>{if(!a)return;let e,n=o.findWrapping(t.type);if(!n)return a=null;if(e=a.length&&r.length&&Qt(n,r,t,a[a.length-1],0))a[a.length-1]=e;else{a.length&&(a[a.length-1]=te(a[a.length-1],r.length));let e=Zt(t,n);a.push(e),o=o.matchType(e.type),r=n}})),a)return i.HY.from(a)}return t}(s.content,o),!0),s.openStart||s.openEnd){let t=0,e=0;for(let e=s.content.firstChild;t<s.openStart&&!e.type.spec.isolating;t++,e=e.firstChild);for(let t=s.content.lastChild;e<s.openEnd&&!t.type.spec.isolating;e++,t=t.lastChild);s=ne(s,t,e)}return t.someProp("transformPasted",(t=>{s=t(s)})),s}const Jt=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Zt(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,i.HY.from(t));return t}function Qt(t,e,n,r,o){if(o<t.length&&o<e.length&&t[o]==e[o]){let a=Qt(t,e,n,r.lastChild,o+1);if(a)return r.copy(r.content.replaceChild(r.childCount-1,a));if(r.contentMatchAt(r.childCount).matchType(o==t.length-1?n.type:t[o+1]))return r.copy(r.content.append(i.HY.from(Zt(n,t,o+1))))}}function te(t,e){if(0==e)return t;let n=t.content.replaceChild(t.childCount-1,te(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(i.HY.empty,!0);return t.copy(n.append(r))}function ee(t,e,n,r,o,a){let s=e<0?t.firstChild:t.lastChild,l=s.content;return o<r-1&&(l=ee(l,e,n,r,o+1,a)),o>=n&&(l=e<0?s.contentMatchAt(0).fillBefore(l,t.childCount>1||a<=o).append(l):l.append(s.contentMatchAt(s.childCount).fillBefore(i.HY.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,s.copy(l))}function ne(t,e,n){return e<t.openStart&&(t=new i.p2(ee(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new i.p2(ee(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const re={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let ie=null;function oe(){return ie||(ie=document.implementation.createHTMLDocument("title"))}const ae={};let se={};class le{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function ce(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function ue(t){t.someProp("handleDOMEvents",(e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=e=>he(t,e))}))}function he(t,e){return t.someProp("handleDOMEvents",(n=>{let r=n[e.type];return!!r&&(r(t,e)||e.defaultPrevented)}))}function de(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function fe(t){return{left:t.clientX,top:t.clientY}}function pe(t,e,n,r,i){if(-1==r)return!1;let o=t.state.doc.resolve(r);for(let r=o.depth+1;r>0;r--)if(t.someProp(e,(e=>r>o.depth?e(t,n,o.nodeAfter,o.before(r),i,!0):e(t,n,o.node(r),o.before(r),i,!1))))return!0;return!1}function ge(t,e,n){t.focused||t.focus();let r=t.state.tr.setSelection(e);"pointer"==n&&r.setMeta("pointer",!0),t.dispatch(r)}function me(t,e,n,i,o){return pe(t,"handleClickOn",e,n,i)||t.someProp("handleClick",(n=>n(t,e,i)))||(o?function(t,e){if(-1==e)return!1;let n,i,o=t.state.selection;o instanceof r.qv&&(n=o.node);let a=t.state.doc.resolve(e);for(let t=a.depth+1;t>0;t--){let e=t>a.depth?a.nodeAfter:a.node(t);if(r.qv.isSelectable(e)){i=n&&o.$from.depth>0&&t>=o.$from.depth&&a.before(o.$from.depth+1)==o.$from.pos?a.before(o.$from.depth):a.before(t);break}}return null!=i&&(ge(t,r.qv.create(t.state.doc,i),"pointer"),!0)}(t,n):function(t,e){if(-1==e)return!1;let n=t.state.doc.resolve(e),i=n.nodeAfter;return!!(i&&i.isAtom&&r.qv.isSelectable(i))&&(ge(t,new r.qv(n),"pointer"),!0)}(t,n))}function ye(t,e,n,r){return pe(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",(n=>n(t,e,r)))}function ve(t,e,n,i){return pe(t,"handleTripleClickOn",e,n,i)||t.someProp("handleTripleClick",(n=>n(t,e,i)))||function(t,e,n){if(0!=n.button)return!1;let i=t.state.doc;if(-1==e)return!!i.inlineContent&&(ge(t,r.Bs.create(i,0,i.content.size),"pointer"),!0);let o=i.resolve(e);for(let e=o.depth+1;e>0;e--){let n=e>o.depth?o.nodeAfter:o.node(e),a=o.before(e);if(n.inlineContent)ge(t,r.Bs.create(i,a+1,a+1+n.content.size),"pointer");else{if(!r.qv.isSelectable(n))continue;ge(t,r.qv.create(i,a),"pointer")}return!0}}(t,n,i)}function be(t){return Se(t)}se.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=16==n.keyCode||n.shiftKey,!_e(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!x||!m||13!=n.keyCode))if(229!=n.keyCode&&t.domObserver.forceFlush(),!b||13!=n.keyCode||n.ctrlKey||n.altKey||n.metaKey)t.someProp("handleKeyDown",(e=>e(t,n)))||Gt(t,n)?n.preventDefault():ce(t,"key");else{let e=Date.now();t.input.lastIOSEnter=e,t.input.lastIOSEnterFallbackTimeout=setTimeout((()=>{t.input.lastIOSEnter==e&&(t.someProp("handleKeyDown",(e=>e(t,I(13,"Enter")))),t.input.lastIOSEnter=0)}),200)}},se.keyup=(t,e)=>{16==e.keyCode&&(t.input.shiftKey=!1)},se.keypress=(t,e)=>{let n=e;if(_e(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||w&&n.metaKey)return;if(t.someProp("handleKeyPress",(e=>e(t,n))))return void n.preventDefault();let i=t.state.selection;if(!(i instanceof r.Bs&&i.$from.sameParent(i.$to))){let e=String.fromCharCode(n.charCode);t.someProp("handleTextInput",(n=>n(t,i.$from.pos,i.$to.pos,e)))||t.dispatch(t.state.tr.insertText(e).scrollIntoView()),n.preventDefault()}};const we=w?"metaKey":"ctrlKey";ae.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=be(t),i=Date.now(),o="singleClick";i-t.input.lastClick.time<500&&function(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}(n,t.input.lastClick)&&!n[we]&&("singleClick"==t.input.lastClick.type?o="doubleClick":"doubleClick"==t.input.lastClick.type&&(o="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:o};let a=t.posAtCoords(fe(n));a&&("singleClick"==o?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new xe(t,a,n,!!r)):("doubleClick"==o?ye:ve)(t,a.pos,a.inside,n)?n.preventDefault():ce(t,"pointer"))};class xe{constructor(t,e,n,i){let o,a;if(this.view=t,this.pos=e,this.event=n,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!n[we],this.allowDefault=n.shiftKey,e.inside>-1)o=t.state.doc.nodeAt(e.inside),a=e.inside;else{let n=t.state.doc.resolve(e.pos);o=n.parent,a=n.depth?n.before():0}const s=i?null:n.target,l=s?t.docView.nearestDesc(s,!0):null;this.target=l?l.dom:null;let{selection:c}=t.state;(0==n.button&&o.type.spec.draggable&&!1!==o.type.spec.selectable||c instanceof r.qv&&c.from<=a&&c.to>a)&&(this.mightDrag={node:o,pos:a,addAttr:!(!this.target||this.target.draggable),setUneditable:!(!this.target||!p||this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout((()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")}),20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),ce(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout((()=>St(this.view))),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let e=this.pos;this.view.state.doc!=this.startDoc&&(e=this.view.posAtCoords(fe(t))),this.allowDefault||!e?ce(this.view,"pointer"):me(this.view,e.pos,e.inside,t,this.selectNode)?t.preventDefault():0==t.button&&(this.flushed||v&&this.mightDrag&&!this.mightDrag.node.isAtom||m&&!(this.view.state.selection instanceof r.Bs)&&Math.min(Math.abs(e.pos-this.view.state.selection.from),Math.abs(e.pos-this.view.state.selection.to))<=2)?(ge(this.view,r.Y1.near(this.view.state.doc.resolve(e.pos)),"pointer"),t.preventDefault()):ce(this.view,"pointer")}move(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0),ce(this.view,"pointer"),0==t.buttons&&this.done()}}function _e(t,e){return!!t.composing||!!(v&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500)&&(t.input.compositionEndedAt=-2e8,!0)}ae.touchdown=t=>{be(t),ce(t,"pointer")},ae.contextmenu=t=>be(t);const ke=x?5e3:-1;function Ee(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout((()=>Se(t)),e))}function Ce(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=function(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function Se(t,e=!1){if(!(x&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),Ce(t),e||t.docView&&t.docView.dirty){let e=Et(t);return e&&!e.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(e)):t.updateState(t.state),!0}return!1}}se.compositionstart=se.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some((t=>!1===t.type.spec.inclusive))))t.markCursor=t.state.storedMarks||n.marks(),Se(t,!0),t.markCursor=null;else if(Se(t),p&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let e=t.domSelection();for(let t=e.focusNode,n=e.focusOffset;t&&1==t.nodeType&&0!=n;){let r=n<0?t.lastChild:t.childNodes[n-1];if(!r)break;if(3==r.nodeType){e.collapse(r,r.nodeValue.length);break}t=r,n=-1}}t.input.composing=!0}Ee(t,ke)},se.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,Ee(t,20))};const De=d&&f<15||b&&k<604;function Te(t,e,n,r){let o=Kt(t,e,n,t.input.shiftKey,t.state.selection.$from);if(t.someProp("handlePaste",(e=>e(t,r,o||i.p2.empty))))return!0;if(!o)return!1;let a=function(t){return 0==t.openStart&&0==t.openEnd&&1==t.content.childCount?t.content.firstChild:null}(o),s=a?t.state.tr.replaceSelectionWith(a,t.input.shiftKey):t.state.tr.replaceSelection(o);return t.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}ae.copy=se.cut=(t,e)=>{let n=e,r=t.state.selection,i="cut"==n.type;if(r.empty)return;let o=De?null:n.clipboardData,a=r.content(),{dom:s,text:l}=Xt(t,a);o?(n.preventDefault(),o.clearData(),o.setData("text/html",s.innerHTML),o.setData("text/plain",l)):function(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout((()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()}),50)}(t,s),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))},se.paste=(t,e)=>{let n=e;if(t.composing&&!x)return;let r=De?null:n.clipboardData;r&&Te(t,r.getData("text/plain"),r.getData("text/html"),n)?n.preventDefault():function(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout((()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Te(t,r.value,null,e):Te(t,r.textContent,r.innerHTML,e)}),50)}(t,n)};class Ae{constructor(t,e){this.slice=t,this.move=e}}const Me=w?"altKey":"ctrlKey";ae.dragstart=(t,e)=>{let n=e,i=t.input.mouseDown;if(i&&i.done(),!n.dataTransfer)return;let o=t.state.selection,a=o.empty?null:t.posAtCoords(fe(n));if(a&&a.pos>=o.from&&a.pos<=(o instanceof r.qv?o.to-1:o.to));else if(i&&i.mightDrag)t.dispatch(t.state.tr.setSelection(r.qv.create(t.state.doc,i.mightDrag.pos)));else if(n.target&&1==n.target.nodeType){let e=t.docView.nearestDesc(n.target,!0);e&&e.node.type.spec.draggable&&e!=t.docView&&t.dispatch(t.state.tr.setSelection(r.qv.create(t.state.doc,e.posBefore)))}let s=t.state.selection.content(),{dom:l,text:c}=Xt(t,s);n.dataTransfer.clearData(),n.dataTransfer.setData(De?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",De||n.dataTransfer.setData("text/plain",c),t.dragging=new Ae(s,!n[Me])},ae.dragend=t=>{let e=t.dragging;window.setTimeout((()=>{t.dragging==e&&(t.dragging=null)}),50)},se.dragover=se.dragenter=(t,e)=>e.preventDefault(),se.drop=(t,e)=>{let n=e,a=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let s=t.posAtCoords(fe(n));if(!s)return;let l=t.state.doc.resolve(s.pos);if(!l)return;let c=a&&a.slice;c?t.someProp("transformPasted",(t=>{c=t(c)})):c=Kt(t,n.dataTransfer.getData(De?"Text":"text/plain"),De?null:n.dataTransfer.getData("text/html"),!1,l);let u=!(!a||n[Me]);if(t.someProp("handleDrop",(e=>e(t,n,c||i.p2.empty,u))))return void n.preventDefault();if(!c)return;n.preventDefault();let h=c?(0,o.nj)(t.state.doc,l.pos,c):l.pos;null==h&&(h=l.pos);let d=t.state.tr;u&&d.deleteSelection();let f=d.mapping.map(h),p=0==c.openStart&&0==c.openEnd&&1==c.content.childCount,g=d.doc;if(p?d.replaceRangeWith(f,f,c.content.firstChild):d.replaceRange(f,f,c),d.doc.eq(g))return;let m=d.doc.resolve(f);if(p&&r.qv.isSelectable(c.content.firstChild)&&m.nodeAfter&&m.nodeAfter.sameMarkup(c.content.firstChild))d.setSelection(new r.qv(m));else{let e=d.mapping.map(h);d.mapping.maps[d.mapping.maps.length-1].forEach(((t,n,r,i)=>e=i)),d.setSelection(Ft(t,m,d.doc.resolve(e)))}t.focus(),t.dispatch(d.setMeta("uiEvent","drop"))},ae.focus=t=>{t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout((()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelection())&&St(t)}),20))},ae.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)},ae.beforeinput=(t,e)=>{if(m&&x&&"deleteContentBackward"==e.inputType){t.domObserver.flushSoon();let{domChangeCount:e}=t.input;setTimeout((()=>{if(t.input.domChangeCount!=e)return;if(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",(e=>e(t,I(8,"Backspace")))))return;let{$cursor:n}=t.state.selection;n&&n.pos>0&&t.dispatch(t.state.tr.delete(n.pos-1,n.pos).scrollIntoView())}),50)}};for(let t in se)ae[t]=se[t];function Ne(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class Oe{constructor(t,e){this.toDOM=t,this.spec=e||Re,this.side=this.spec.side||0}map(t,e,n,r){let{pos:i,deleted:o}=t.mapResult(e.from+r,this.side<0?-1:1);return o?null:new Le(i-n,i-n,this)}valid(){return!0}eq(t){return this==t||t instanceof Oe&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&Ne(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class Fe{constructor(t,e){this.attrs=t,this.spec=e||Re}map(t,e,n,r){let i=t.map(e.from+r,this.spec.inclusiveStart?-1:1)-n,o=t.map(e.to+r,this.spec.inclusiveEnd?1:-1)-n;return i>=o?null:new Le(i,o,this)}valid(t,e){return e.from<e.to}eq(t){return this==t||t instanceof Fe&&Ne(this.attrs,t.attrs)&&Ne(this.spec,t.spec)}static is(t){return t.type instanceof Fe}destroy(){}}class Ie{constructor(t,e){this.attrs=t,this.spec=e||Re}map(t,e,n,r){let i=t.mapResult(e.from+r,1);if(i.deleted)return null;let o=t.mapResult(e.to+r,-1);return o.deleted||o.pos<=i.pos?null:new Le(i.pos-n,o.pos-n,this)}valid(t,e){let n,{index:r,offset:i}=t.content.findIndex(e.from);return i==e.from&&!(n=t.child(r)).isText&&i+n.nodeSize==e.to}eq(t){return this==t||t instanceof Ie&&Ne(this.attrs,t.attrs)&&Ne(this.spec,t.spec)}destroy(){}}class Le{constructor(t,e,n){this.from=t,this.to=e,this.type=n}copy(t,e){return new Le(t,e,this.type)}eq(t,e=0){return this.type.eq(t.type)&&this.from+e==t.from&&this.to+e==t.to}map(t,e,n){return this.type.map(t,this,e,n)}static widget(t,e,n){return new Le(t,t,new Oe(e,n))}static inline(t,e,n,r){return new Le(t,e,new Fe(n,r))}static node(t,e,n,r){return new Le(t,e,new Ie(n,r))}get spec(){return this.type.spec}get inline(){return this.type instanceof Fe}}const Be=[],Re={};class Pe{constructor(t,e){this.local=t.length?t:Be,this.children=e.length?e:Be}static create(t,e){return e.length?qe(e,t,0,Re):ze}find(t,e,n){let r=[];return this.findInner(null==t?0:t,null==e?1e9:e,r,0,n),r}findInner(t,e,n,r,i){for(let o=0;o<this.local.length;o++){let a=this.local[o];a.from<=e&&a.to>=t&&(!i||i(a.spec))&&n.push(a.copy(a.from+r,a.to+r))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<e&&this.children[o+1]>t){let a=this.children[o]+1;this.children[o+2].findInner(t-a,e-a,n,r+a,i)}}map(t,e,n){return this==ze||0==t.maps.length?this:this.mapInner(t,e,0,0,n||Re)}mapInner(t,e,n,r,i){let o;for(let a=0;a<this.local.length;a++){let s=this.local[a].map(t,n,r);s&&s.type.valid(e,s)?(o||(o=[])).push(s):i.onRemove&&i.onRemove(this.local[a].spec)}return this.children.length?function(t,e,n,r,i,o,a){let s=t.slice(),l=(t,e,n,r)=>{for(let a=0;a<s.length;a+=3){let l,c=s[a+1];if(c<0||t>c+o)continue;let u=s[a]+o;e>=u?s[a+1]=t<=u?-2:-1:n>=i&&(l=r-n-(e-t))&&(s[a]+=l,s[a+1]+=l)}};for(let t=0;t<n.maps.length;t++)n.maps[t].forEach(l);let c=!1;for(let e=0;e<s.length;e+=3)if(s[e+1]<0){if(-2==s[e+1]){c=!0,s[e+1]=-1;continue}let l=n.map(t[e]+o),u=l-i;if(u<0||u>=r.content.size){c=!0;continue}let h=n.map(t[e+1]+o,-1)-i,{index:d,offset:f}=r.content.findIndex(u),p=r.maybeChild(d);if(p&&f==u&&f+p.nodeSize==h){let r=s[e+2].mapInner(n,p,l+1,t[e]+o+1,a);r!=ze?(s[e]=u,s[e+1]=h,s[e+2]=r):(s[e+1]=-2,c=!0)}else c=!0}if(c){let l=function(t,e,n,r,i,o,a){function s(t,e){for(let o=0;o<t.local.length;o++){let s=t.local[o].map(r,i,e);s?n.push(s):a.onRemove&&a.onRemove(t.local[o].spec)}for(let n=0;n<t.children.length;n+=3)s(t.children[n+2],t.children[n]+e+1)}for(let n=0;n<t.length;n+=3)-1==t[n+1]&&s(t[n+2],e[n]+o+1);return n}(s,t,e,n,i,o,a),c=qe(l,r,0,a);e=c.local;for(let t=0;t<s.length;t+=3)s[t+1]<0&&(s.splice(t,3),t-=3);for(let t=0,e=0;t<c.children.length;t+=3){let n=c.children[t];for(;e<s.length&&s[e]<n;)e+=3;s.splice(e,0,c.children[t],c.children[t+1],c.children[t+2])}}return new Pe(e.sort(We),s)}(this.children,o||[],t,e,n,r,i):o?new Pe(o.sort(We),Be):ze}add(t,e){return e.length?this==ze?Pe.create(t,e):this.addInner(t,e,0):this}addInner(t,e,n){let r,i=0;t.forEach(((t,o)=>{let a,s=o+n;if(a=Ue(e,t,s)){for(r||(r=this.children.slice());i<r.length&&r[i]<o;)i+=3;r[i]==o?r[i+2]=r[i+2].addInner(t,a,s+1):r.splice(i,0,o,o+t.nodeSize,qe(a,t,s+1,Re)),i+=3}}));let o=je(i?Ye(e):e,-n);for(let e=0;e<o.length;e++)o[e].type.valid(t,o[e])||o.splice(e--,1);return new Pe(o.length?this.local.concat(o).sort(We):this.local,r||this.children)}remove(t){return 0==t.length||this==ze?this:this.removeInner(t,0)}removeInner(t,e){let n=this.children,r=this.local;for(let r=0;r<n.length;r+=3){let i,o=n[r]+e,a=n[r+1]+e;for(let e,n=0;n<t.length;n++)(e=t[n])&&e.from>o&&e.to<a&&(t[n]=null,(i||(i=[])).push(e));if(!i)continue;n==this.children&&(n=this.children.slice());let s=n[r+2].removeInner(i,o+1);s!=ze?n[r+2]=s:(n.splice(r,3),r-=3)}if(r.length)for(let n,i=0;i<t.length;i++)if(n=t[i])for(let t=0;t<r.length;t++)r[t].eq(n,e)&&(r==this.local&&(r=this.local.slice()),r.splice(t--,1));return n==this.children&&r==this.local?this:r.length||n.length?new Pe(r,n):ze}forChild(t,e){if(this==ze)return this;if(e.isLeaf)return Pe.empty;let n,r;for(let e=0;e<this.children.length;e+=3)if(this.children[e]>=t){this.children[e]==t&&(n=this.children[e+2]);break}let i=t+1,o=i+e.content.size;for(let t=0;t<this.local.length;t++){let e=this.local[t];if(e.from<o&&e.to>i&&e.type instanceof Fe){let t=Math.max(i,e.from)-i,n=Math.min(o,e.to)-i;t<n&&(r||(r=[])).push(e.copy(t,n))}}if(r){let t=new Pe(r.sort(We),Be);return n?new $e([t,n]):t}return n||ze}eq(t){if(this==t)return!0;if(!(t instanceof Pe)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let e=0;e<this.local.length;e++)if(!this.local[e].eq(t.local[e]))return!1;for(let e=0;e<this.children.length;e+=3)if(this.children[e]!=t.children[e]||this.children[e+1]!=t.children[e+1]||!this.children[e+2].eq(t.children[e+2]))return!1;return!0}locals(t){return He(this.localsInner(t))}localsInner(t){if(this==ze)return Be;if(t.inlineContent||!this.local.some(Fe.is))return this.local;let e=[];for(let t=0;t<this.local.length;t++)this.local[t].type instanceof Fe||e.push(this.local[t]);return e}}Pe.empty=new Pe([],[]),Pe.removeOverlap=He;const ze=Pe.empty;class $e{constructor(t){this.members=t}map(t,e){const n=this.members.map((n=>n.map(t,e,Re)));return $e.from(n)}forChild(t,e){if(e.isLeaf)return Pe.empty;let n=[];for(let r=0;r<this.members.length;r++){let i=this.members[r].forChild(t,e);i!=ze&&(i instanceof $e?n=n.concat(i.members):n.push(i))}return $e.from(n)}eq(t){if(!(t instanceof $e)||t.members.length!=this.members.length)return!1;for(let e=0;e<this.members.length;e++)if(!this.members[e].eq(t.members[e]))return!1;return!0}locals(t){let e,n=!0;for(let r=0;r<this.members.length;r++){let i=this.members[r].localsInner(t);if(i.length)if(e){n&&(e=e.slice(),n=!1);for(let t=0;t<i.length;t++)e.push(i[t])}else e=i}return e?He(n?e:e.sort(We)):Be}static from(t){switch(t.length){case 0:return ze;case 1:return t[0];default:return new $e(t)}}}function je(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new Le(i.from+e,i.to+e,i.type))}return n}function Ue(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let e,o=0;o<t.length;o++)(e=t[o])&&e.from>n&&e.to<r&&((i||(i=[])).push(e),t[o]=null);return i}function Ye(t){let e=[];for(let n=0;n<t.length;n++)null!=t[n]&&e.push(t[n]);return e}function qe(t,e,n,r){let i=[],o=!1;e.forEach(((e,a)=>{let s=Ue(t,e,a+n);if(s){o=!0;let t=qe(s,e,n+a+1,r);t!=ze&&i.push(a,a+e.nodeSize,t)}}));let a=je(o?Ye(t):t,-n).sort(We);for(let t=0;t<a.length;t++)a[t].type.valid(e,a[t])||(r.onRemove&&r.onRemove(a[t].spec),a.splice(t--,1));return a.length||i.length?new Pe(a,i):ze}function We(t,e){return t.from-e.from||t.to-e.to}function He(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let o=e[i];if(o.from!=r.from){o.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,o.from),Ve(e,i,r.copy(o.from,r.to)));break}o.to!=r.to&&(e==t&&(e=t.slice()),e[i]=o.copy(o.from,r.to),Ve(e,i+1,o.copy(r.to,o.to)))}}return e}function Ve(t,e,n){for(;e<t.length&&We(n,t[e])>0;)e++;t.splice(e,0,n)}function Ge(t){let e=[];return t.someProp("decorations",(n=>{let r=n(t.state);r&&r!=ze&&e.push(r)})),t.cursorWrapper&&e.push(Pe.create(t.state.doc,[t.cursorWrapper.deco])),$e.from(e)}const Xe={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Ke=d&&f<=11;class Je{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}}class Ze{constructor(t,e){this.view=t,this.handleDOMChange=e,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Je,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver((t=>{for(let e=0;e<t.length;e++)this.queue.push(t[e]);d&&f<=11&&t.some((t=>"childList"==t.type&&t.removedNodes.length||"characterData"==t.type&&t.oldValue.length>t.target.nodeValue.length))?this.flushSoon():this.flush()})),Ke&&(this.onCharData=t=>{this.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout((()=>{this.flushingSoon=-1,this.flush()}),20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&this.observer.observe(this.view.dom,Xe),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let e=0;e<t.length;e++)this.queue.push(t[e]);window.setTimeout((()=>this.flush()),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout((()=>this.suppressingSelectionUpdates=!1),50)}onSelectionChange(){if(It(this.view)){if(this.suppressingSelectionUpdates)return St(this.view);if(d&&f<=11&&!this.view.state.selection.empty){let t=this.view.domSelection();if(t.focusNode&&T(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelection())}ignoreSelectionChange(t){if(0==t.rangeCount)return!0;let e=t.getRangeAt(0).commonAncestorContainer,n=this.view.docView.nearestDesc(e);return n&&n.ignoreMutation({type:"selection",target:3==e.nodeType?e.parentNode:e})?(this.setCurSelection(),!0):void 0}flush(){if(!this.view.docView||this.flushingSoon>-1)return;let t=this.observer?this.observer.takeRecords():[];this.queue.length&&(t=this.queue.concat(t),this.queue.length=0);let e=this.view.domSelection(),n=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(e)&&It(this.view)&&!this.ignoreSelectionChange(e),r=-1,i=-1,o=!1,a=[];if(this.view.editable)for(let e=0;e<t.length;e++){let n=this.registerMutation(t[e],a);n&&(r=r<0?n.from:Math.min(n.from,r),i=i<0?n.to:Math.max(n.to,i),n.typeOver&&(o=!0))}if(p&&a.length>1){let t=a.filter((t=>"BR"==t.nodeName));if(2==t.length){let e=t[0],n=t[1];e.parentNode&&e.parentNode.parentNode==n.parentNode?n.remove():e.remove()}}(r>-1||n)&&(r>-1&&(this.view.docView.markDirty(r,i),function(t){if(Qe)return;Qe=!0,getComputedStyle(t.dom).whiteSpace}(this.view)),this.handleDOMChange(r,i,o,a),this.view.docView&&this.view.docView.dirty?this.view.updateState(this.view.state):this.currentSelection.eq(e)||St(this.view),this.currentSelection.set(e))}registerMutation(t,e){if(e.indexOf(t.target)>-1)return null;let n=this.view.docView.nearestDesc(t.target);if("attributes"==t.type&&(n==this.view.docView||"contenteditable"==t.attributeName||"style"==t.attributeName&&!t.oldValue&&!t.target.getAttribute("style")))return null;if(!n||n.ignoreMutation(t))return null;if("childList"==t.type){for(let n=0;n<t.addedNodes.length;n++)e.push(t.addedNodes[n]);if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(t.target))return{from:n.posBefore,to:n.posAfter};let r=t.previousSibling,i=t.nextSibling;if(d&&f<=11&&t.addedNodes.length)for(let e=0;e<t.addedNodes.length;e++){let{previousSibling:n,nextSibling:o}=t.addedNodes[e];(!n||Array.prototype.indexOf.call(t.addedNodes,n)<0)&&(r=n),(!o||Array.prototype.indexOf.call(t.addedNodes,o)<0)&&(i=o)}let o=r&&r.parentNode==t.target?E(r)+1:0,a=n.localPosFromDOM(t.target,o,-1),s=i&&i.parentNode==t.target?E(i):t.target.childNodes.length;return{from:a,to:n.localPosFromDOM(t.target,s,1)}}return"attributes"==t.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:{from:n.posAtStart,to:n.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}}}let Qe=!1;function tn(t){let e=t.pmViewDesc;if(e)return e.parseRule();if("BR"==t.nodeName&&t.parentNode){if(v&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}if(t.parentNode.lastChild==t||v&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if("IMG"==t.nodeName&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}function en(t,e,n,o,a){if(e<0){let e=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,n=Et(t,e);if(n&&!t.state.selection.eq(n)){let r=t.state.tr.setSelection(n);"pointer"==e?r.setMeta("pointer",!0):"key"==e&&r.scrollIntoView(),t.dispatch(r)}return}let s=t.state.doc.resolve(e),l=s.sharedDepth(n);e=s.before(l+1),n=t.state.doc.resolve(n).after(l+1);let c=t.state.selection,u=function(t,e,n){let r,{node:o,fromOffset:a,toOffset:s,from:l,to:c}=t.docView.parseRange(e,n),u=t.domSelection(),h=u.anchorNode;if(h&&t.dom.contains(1==h.nodeType?h:h.parentNode)&&(r=[{node:h,offset:u.anchorOffset}],F(u)||r.push({node:u.focusNode,offset:u.focusOffset})),m&&8===t.input.lastKeyCode)for(let t=s;t>a;t--){let e=o.childNodes[t-1],n=e.pmViewDesc;if("BR"==e.nodeName&&!n){s=t;break}if(!n||n.size)break}let d=t.state.doc,f=t.someProp("domParser")||i.aw.fromSchema(t.state.schema),p=d.resolve(l),g=null,y=f.parse(o,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:a,to:s,preserveWhitespace:"pre"!=p.parent.type.whitespace||"full",findPositions:r,ruleFromNode:tn,context:p});if(r&&null!=r[0].pos){let t=r[0].pos,e=r[1]&&r[1].pos;null==e&&(e=t),g={anchor:t+l,head:e+l}}return{doc:y,sel:g,from:l,to:c}}(t,e,n);if(m&&t.cursorWrapper&&u.sel&&u.sel.anchor==t.cursorWrapper.deco.from){let e=t.cursorWrapper.deco.type.toDOM.nextSibling,n=e&&e.nodeValue?e.nodeValue.length:1;u.sel={anchor:u.sel.anchor+n,head:u.sel.anchor+n}}let h,p,g=t.state.doc,y=g.slice(u.from,u.to);8===t.input.lastKeyCode&&Date.now()-100<t.input.lastKeyCodeTime?(h=t.state.selection.to,p="end"):(h=t.state.selection.from,p="start"),t.input.lastKeyCode=null;let v=function(t,e,n,r,i){let o=t.findDiffStart(e,n);if(null==o)return null;let{a,b:s}=t.findDiffEnd(e,n+t.size,n+e.size);if("end"==i){r-=a+Math.max(0,o-Math.min(a,s))-o}if(a<o&&t.size<e.size){o-=r<=o&&r>=a?o-r:0,s=o+(s-a),a=o}else if(s<o){o-=r<=o&&r>=s?o-r:0,a=o+(a-s),s=o}return{start:o,endA:a,endB:s}}(y.content,u.doc.content,u.from,h,p);if((b&&t.input.lastIOSEnter>Date.now()-225||x)&&a.some((t=>"DIV"==t.nodeName||"P"==t.nodeName))&&(!v||v.endA>=v.endB)&&t.someProp("handleKeyDown",(e=>e(t,I(13,"Enter")))))return void(t.input.lastIOSEnter=0);if(!v){if(!(o&&c instanceof r.Bs&&!c.empty&&c.$head.sameParent(c.$anchor))||t.composing||u.sel&&u.sel.anchor!=u.sel.head){if(u.sel){let e=nn(t,t.state.doc,u.sel);e&&!e.eq(t.state.selection)&&t.dispatch(t.state.tr.setSelection(e))}return}v={start:c.from,endA:c.to,endB:c.to}}t.input.domChangeCount++,t.state.selection.from<t.state.selection.to&&v.start==v.endB&&t.state.selection instanceof r.Bs&&(v.start>t.state.selection.from&&v.start<=t.state.selection.from+2&&t.state.selection.from>=u.from?v.start=t.state.selection.from:v.endA<t.state.selection.to&&v.endA>=t.state.selection.to-2&&t.state.selection.to<=u.to&&(v.endB+=t.state.selection.to-v.endA,v.endA=t.state.selection.to)),d&&f<=11&&v.endB==v.start+1&&v.endA==v.start&&v.start>u.from&&"  "==u.doc.textBetween(v.start-u.from-1,v.start-u.from+1)&&(v.start--,v.endA--,v.endB--);let w,_=u.doc.resolveNoCache(v.start-u.from),k=u.doc.resolveNoCache(v.endB-u.from),E=g.resolve(v.start),C=_.sameParent(k)&&_.parent.inlineContent&&E.end()>=v.endA;if((b&&t.input.lastIOSEnter>Date.now()-225&&(!C||a.some((t=>"DIV"==t.nodeName||"P"==t.nodeName)))||!C&&_.pos<u.doc.content.size&&(w=r.Y1.findFrom(u.doc.resolve(_.pos+1),1,!0))&&w.head==k.pos)&&t.someProp("handleKeyDown",(e=>e(t,I(13,"Enter")))))return void(t.input.lastIOSEnter=0);if(t.state.selection.anchor>v.start&&function(t,e,n,r,i){if(!r.parent.isTextblock||n-e<=i.pos-r.pos||rn(r,!0,!1)<i.pos)return!1;let o=t.resolve(e);if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let a=t.resolve(rn(o,!0,!0));return!(!a.parent.isTextblock||a.pos>n||rn(a,!0,!1)<n)&&r.parent.content.cut(r.parentOffset).eq(a.parent.content)}(g,v.start,v.endA,_,k)&&t.someProp("handleKeyDown",(e=>e(t,I(8,"Backspace")))))return void(x&&m&&t.domObserver.suppressSelectionUpdates());m&&x&&v.endB==v.start&&(t.input.lastAndroidDelete=Date.now()),x&&!C&&_.start()!=k.start()&&0==k.parentOffset&&_.depth==k.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==v.endA&&(v.endB-=2,k=u.doc.resolveNoCache(v.endB-u.from),setTimeout((()=>{t.someProp("handleKeyDown",(function(e){return e(t,I(13,"Enter"))}))}),20));let S,D,T,A=v.start,M=v.endA;if(C)if(_.pos==k.pos)d&&f<=11&&0==_.parentOffset&&(t.domObserver.suppressSelectionUpdates(),setTimeout((()=>St(t)),20)),S=t.state.tr.delete(A,M),D=g.resolve(v.start).marksAcross(g.resolve(v.endA));else if(v.endA==v.endB&&(T=function(t,e){let n,r,o,a=t.firstChild.marks,s=e.firstChild.marks,l=a,c=s;for(let t=0;t<s.length;t++)l=s[t].removeFromSet(l);for(let t=0;t<a.length;t++)c=a[t].removeFromSet(c);if(1==l.length&&0==c.length)r=l[0],n="add",o=t=>t.mark(r.addToSet(t.marks));else{if(0!=l.length||1!=c.length)return null;r=c[0],n="remove",o=t=>t.mark(r.removeFromSet(t.marks))}let u=[];for(let t=0;t<e.childCount;t++)u.push(o(e.child(t)));if(i.HY.from(u).eq(t))return{mark:r,type:n}}(_.parent.content.cut(_.parentOffset,k.parentOffset),E.parent.content.cut(E.parentOffset,v.endA-E.start()))))S=t.state.tr,"add"==T.type?S.addMark(A,M,T.mark):S.removeMark(A,M,T.mark);else if(_.parent.child(_.index()).isText&&_.index()==k.index()-(k.textOffset?0:1)){let e=_.parent.textBetween(_.parentOffset,k.parentOffset);if(t.someProp("handleTextInput",(n=>n(t,A,M,e))))return;S=t.state.tr.insertText(e,A,M)}if(S||(S=t.state.tr.replace(A,M,u.doc.slice(v.start-u.from,v.endB-u.from))),u.sel){let e=nn(t,S.doc,u.sel);e&&!(m&&x&&t.composing&&e.empty&&(v.start!=v.endB||t.input.lastAndroidDelete<Date.now()-100)&&(e.head==A||e.head==S.mapping.map(M)-1)||d&&e.empty&&e.head==A)&&S.setSelection(e)}D&&S.ensureMarks(D),t.dispatch(S.scrollIntoView())}function nn(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:Ft(t,e.resolve(n.anchor),e.resolve(n.head))}function rn(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let e=t.node(r).maybeChild(t.indexAfter(r));for(;e&&!e.isLeaf;)e=e.firstChild,i++}return i}class on{constructor(t,e){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new le,this.prevDirectPlugins=[],this.pluginViews=[],this.dragging=null,this._props=e,this.state=e.state,this.directPlugins=e.plugins||[],this.directPlugins.forEach(un),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):"function"==typeof t?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=ln(this),sn(this),this.nodeViews=cn(this),this.docView=lt(this.state.doc,an(this),Ge(this),this.dom,this),this.domObserver=new Ze(this,((t,e,n,r)=>en(this,t,e,n,r))),this.domObserver.start(),function(t){for(let e in ae){let n=ae[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=e=>{!de(t,e)||he(t,e)||!t.editable&&e.type in se||n(t,e)})}v&&t.dom.addEventListener("input",(()=>null)),ue(t)}(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let e in t)this._props[e]=t[e];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&ue(this),this._props=t,t.plugins&&(t.plugins.forEach(un),this.directPlugins=t.plugins),this.updateStateInner(t.state,!0)}setProps(t){let e={};for(let t in this._props)e[t]=this._props[t];e.state=this.state;for(let n in t)e[n]=t[n];this.update(e)}updateState(t){this.updateStateInner(t,this.state.plugins!=t.plugins)}updateStateInner(t,e){let n=this.state,i=!1,o=!1;if(t.storedMarks&&this.composing&&(Ce(this),o=!0),this.state=t,e){let t=cn(this);(function(t,e){let n=0,r=0;for(let r in t){if(t[r]!=e[r])return!0;n++}for(let t in e)r++;return n!=r})(t,this.nodeViews)&&(this.nodeViews=t,i=!0),ue(this)}this.editable=ln(this),sn(this);let a=Ge(this),s=an(this),l=e?"reset":t.scrollToSelection>n.scrollToSelection?"to selection":"preserve",c=i||!this.docView.matchesNode(t.doc,s,a);!c&&t.selection.eq(n.selection)||(o=!0);let u="preserve"==l&&o&&null==this.dom.style.overflowAnchor&&function(t){let e,n,r=t.dom.getBoundingClientRect(),i=Math.max(0,r.top);for(let o=(r.left+r.right)/2,a=i+1;a<Math.min(innerHeight,r.bottom);a+=5){let r=t.root.elementFromPoint(o,a);if(!r||r==t.dom||!t.dom.contains(r))continue;let s=r.getBoundingClientRect();if(s.top>=i-20){e=r,n=s.top;break}}return{refDOM:e,refTop:n,stack:z(t.dom)}}(this);if(o){this.domObserver.stop();let e=c&&(d||m)&&!this.composing&&!n.selection.empty&&!t.selection.empty&&function(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}(n.selection,t.selection);if(c){let n=m?this.trackWrites=this.domSelection().focusNode:null;!i&&this.docView.update(t.doc,s,a,this)||(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=lt(t.doc,s,a,this.dom,this)),n&&!this.trackWrites&&(e=!0)}e||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelection())&&function(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelection();return T(e.node,e.offset,n.anchorNode,n.anchorOffset)}(this))?St(this,e):(Nt(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}if(this.updatePluginViews(n),"reset"==l)this.dom.scrollTop=0;else if("to selection"==l){let e=this.domSelection().focusNode;if(this.someProp("handleScrollToSelection",(t=>t(this))));else if(t.selection instanceof r.qv){let n=this.docView.domAfterPos(t.selection.from);1==n.nodeType&&P(this,n.getBoundingClientRect(),e)}else P(this,this.coordsAtPos(t.selection.head,1),e)}else u&&function({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;$(n,0==r?0:r-e)}(u)}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(t&&t.plugins==this.state.plugins&&this.directPlugins==this.prevDirectPlugins)for(let e=0;e<this.pluginViews.length;e++){let n=this.pluginViews[e];n.update&&n.update(this,t)}else{this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let e=this.directPlugins[t];e.spec.view&&this.pluginViews.push(e.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let e=this.state.plugins[t];e.spec.view&&this.pluginViews.push(e.spec.view(this))}}}someProp(t,e){let n,r=this._props&&this._props[t];if(null!=r&&(n=e?e(r):r))return n;for(let r=0;r<this.directPlugins.length;r++){let i=this.directPlugins[r].props[t];if(null!=i&&(n=e?e(i):i))return n}let i=this.state.plugins;if(i)for(let r=0;r<i.length;r++){let o=i[r].props[t];if(null!=o&&(n=e?e(o):o))return n}}hasFocus(){return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&function(t){if(t.setActive)return t.setActive();if(j)return t.focus(j);let e=z(t);t.focus(null==j?{get preventScroll(){return j={preventScroll:!0},!0}}:void 0),j||(j=!1,$(e,0))}(this.dom),St(this),this.domObserver.start()}get root(){let t=this._root;if(null==t)for(let t=this.dom.parentNode;t;t=t.parentNode)if(9==t.nodeType||11==t.nodeType&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t;return t||document}posAtCoords(t){return W(this,t)}coordsAtPos(t,e=1){return G(this,t,e)}domAtPos(t,e=0){return this.docView.domFromPos(t,e)}nodeDOM(t){let e=this.docView.descAt(t);return e?e.nodeDOM:null}posAtDOM(t,e,n=-1){let r=this.docView.posFromDOM(t,e,n);if(null==r)throw new RangeError("DOM position not inside the editor");return r}endOfTextblock(t,e){return nt(this,e||this.state,t)}destroy(){this.docView&&(!function(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Ge(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return null==this.docView}dispatchEvent(t){return function(t,e){he(t,e)||!ae[e.type]||!t.editable&&e.type in se||ae[e.type](t,e)}(this,t)}dispatch(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))}domSelection(){return this.root.getSelection()}}function an(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),e.translate="no",t.someProp("attributes",(n=>{if("function"==typeof n&&(n=n(t.state)),n)for(let t in n)"class"==t&&(e.class+=" "+n[t]),"style"==t?e.style=(e.style?e.style+";":"")+n[t]:e[t]||"contenteditable"==t||"nodeName"==t||(e[t]=String(n[t]))})),[Le.node(0,t.state.doc.content.size,e)]}function sn(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:Le.widget(t.state.selection.head,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function ln(t){return!t.someProp("editable",(e=>!1===e(t.state)))}function cn(t){let e=Object.create(null);function n(t){for(let n in t)Object.prototype.hasOwnProperty.call(e,n)||(e[n]=t[n])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function un(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}},67594:(t,e,n)=>{"use strict";n.d(e,{O:()=>r});const r=function(t){if(null==t)return o;if("string"==typeof t)return function(t){return i(e);function e(e){return e&&e.type===t}}(t);if("object"==typeof t)return Array.isArray(t)?function(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=r(t[n]);return i(o);function o(...t){let n=-1;for(;++n<e.length;)if(e[n].call(this,...t))return!0;return!1}}(t):function(t){return i(e);function e(e){let n;for(n in t)if(e[n]!==t[n])return!1;return!0}}(t);if("function"==typeof t)return i(t);throw new Error("Expected function, string, or object as test")};function i(t){return function(...e){return Boolean(t.call(this,...e))}}function o(){return!0}},51132:(t,e,n)=>{"use strict";n.d(e,{BK:()=>o,AM:()=>i,S4:()=>a});var r=n(67594);const i="skip",o=!1,a=function(t,e,n,a){"function"==typeof e&&"function"!=typeof n&&(a=n,n=e,e=null);const s=(0,r.O)(e),l=a?-1:1;!function t(r,c,u){const h="object"==typeof r&&null!==r?r:{};let d;"string"==typeof h.type&&(d="string"==typeof h.tagName?h.tagName:"string"==typeof h.name?h.name:void 0,Object.defineProperty(f,"name",{value:"node ("+h.type+(d?"<"+d+">":"")+")"}));return f;function f(){let h,d,f,p=[];if((!e||s(r,c,u[u.length-1]||null))&&(p=function(t){if(Array.isArray(t))return t;if("number"==typeof t)return[true,t];return[t]}(n(r,u)),p[0]===o))return p;if(r.children&&p[0]!==i)for(d=(a?r.children.length:-1)+l,f=u.concat(r);d>-1&&d<r.children.length;){if(h=t(r.children[d],d,f)(),h[0]===o)return h;d="number"==typeof h[1]?h[1]:d+l}return p}}(t,null,[])()}},76708:(t,e,n)=>{"use strict";n.d(e,{Vn:()=>i});var r=n(51132);const i=function(t,e,n,i){"function"==typeof e&&"function"!=typeof n&&(i=n,n=e,e=null),(0,r.S4)(t,e,(function(t,e){const r=e[e.length-1];return n(t,r?r.children.indexOf(t):null,r)}),i)}},34964:t=>{"use strict";t.exports=JSON.parse('{"100":"💯","1234":"🔢","umbrella_with_rain_drops":"☔","coffee":"☕","aries":"♈","taurus":"♉","sagittarius":"♐","capricorn":"♑","aquarius":"♒","pisces":"♓","anchor":"⚓","white_check_mark":"✅","sparkles":"✨","question":"❓","grey_question":"❔","grey_exclamation":"❕","exclamation":"❗","heavy_exclamation_mark":"❗","heavy_plus_sign":"➕","heavy_minus_sign":"➖","heavy_division_sign":"➗","hash":"#️⃣","keycap_star":"*️⃣","zero":"0️⃣","one":"1️⃣","two":"2️⃣","three":"3️⃣","four":"4️⃣","five":"5️⃣","six":"6️⃣","seven":"7️⃣","eight":"8️⃣","nine":"9️⃣","copyright":"©️","registered":"®️","mahjong":"🀄","black_joker":"🃏","a":"🅰️","b":"🅱️","o2":"🅾️","parking":"🅿️","ab":"🆎","cl":"🆑","cool":"🆒","free":"🆓","id":"🆔","new":"🆕","ng":"🆖","ok":"🆗","sos":"🆘","up":"🆙","vs":"🆚","flag-ac":"🇦🇨","flag-ad":"🇦🇩","flag-ae":"🇦🇪","flag-af":"🇦🇫","flag-ag":"🇦🇬","flag-ai":"🇦🇮","flag-al":"🇦🇱","flag-am":"🇦🇲","flag-ao":"🇦🇴","flag-aq":"🇦🇶","flag-ar":"🇦🇷","flag-as":"🇦🇸","flag-at":"🇦🇹","flag-au":"🇦🇺","flag-aw":"🇦🇼","flag-ax":"🇦🇽","flag-az":"🇦🇿","flag-ba":"🇧🇦","flag-bb":"🇧🇧","flag-bd":"🇧🇩","flag-be":"🇧🇪","flag-bf":"🇧🇫","flag-bg":"🇧🇬","flag-bh":"🇧🇭","flag-bi":"🇧🇮","flag-bj":"🇧🇯","flag-bl":"🇧🇱","flag-bm":"🇧🇲","flag-bn":"🇧🇳","flag-bo":"🇧🇴","flag-bq":"🇧🇶","flag-br":"🇧🇷","flag-bs":"🇧🇸","flag-bt":"🇧🇹","flag-bv":"🇧🇻","flag-bw":"🇧🇼","flag-by":"🇧🇾","flag-bz":"🇧🇿","flag-ca":"🇨🇦","flag-cc":"🇨🇨","flag-cd":"🇨🇩","flag-cf":"🇨🇫","flag-cg":"🇨🇬","flag-ch":"🇨🇭","flag-ci":"🇨🇮","flag-ck":"🇨🇰","flag-cl":"🇨🇱","flag-cm":"🇨🇲","cn":"🇨🇳","flag-cn":"🇨🇳","flag-co":"🇨🇴","flag-cp":"🇨🇵","flag-cr":"🇨🇷","flag-cu":"🇨🇺","flag-cv":"🇨🇻","flag-cw":"🇨🇼","flag-cx":"🇨🇽","flag-cy":"🇨🇾","flag-cz":"🇨🇿","de":"🇩🇪","flag-de":"🇩🇪","flag-dg":"🇩🇬","flag-dj":"🇩🇯","flag-dk":"🇩🇰","flag-dm":"🇩🇲","flag-do":"🇩🇴","flag-dz":"🇩🇿","flag-ea":"🇪🇦","flag-ec":"🇪🇨","flag-ee":"🇪🇪","flag-eg":"🇪🇬","flag-eh":"🇪🇭","flag-er":"🇪🇷","es":"🇪🇸","flag-es":"🇪🇸","flag-et":"🇪🇹","flag-eu":"🇪🇺","flag-fi":"🇫🇮","flag-fj":"🇫🇯","flag-fk":"🇫🇰","flag-fm":"🇫🇲","flag-fo":"🇫🇴","fr":"🇫🇷","flag-fr":"🇫🇷","flag-ga":"🇬🇦","gb":"🇬🇧","uk":"🇬🇧","flag-gb":"🇬🇧","flag-gd":"🇬🇩","flag-ge":"🇬🇪","flag-gf":"🇬🇫","flag-gg":"🇬🇬","flag-gh":"🇬🇭","flag-gi":"🇬🇮","flag-gl":"🇬🇱","flag-gm":"🇬🇲","flag-gn":"🇬🇳","flag-gp":"🇬🇵","flag-gq":"🇬🇶","flag-gr":"🇬🇷","flag-gs":"🇬🇸","flag-gt":"🇬🇹","flag-gu":"🇬🇺","flag-gw":"🇬🇼","flag-gy":"🇬🇾","flag-hk":"🇭🇰","flag-hm":"🇭🇲","flag-hn":"🇭🇳","flag-hr":"🇭🇷","flag-ht":"🇭🇹","flag-hu":"🇭🇺","flag-ic":"🇮🇨","flag-id":"🇮🇩","flag-ie":"🇮🇪","flag-il":"🇮🇱","flag-im":"🇮🇲","flag-in":"🇮🇳","flag-io":"🇮🇴","flag-iq":"🇮🇶","flag-ir":"🇮🇷","flag-is":"🇮🇸","it":"🇮🇹","flag-it":"🇮🇹","flag-je":"🇯🇪","flag-jm":"🇯🇲","flag-jo":"🇯🇴","jp":"🇯🇵","flag-jp":"🇯🇵","flag-ke":"🇰🇪","flag-kg":"🇰🇬","flag-kh":"🇰🇭","flag-ki":"🇰🇮","flag-km":"🇰🇲","flag-kn":"🇰🇳","flag-kp":"🇰🇵","kr":"🇰🇷","flag-kr":"🇰🇷","flag-kw":"🇰🇼","flag-ky":"🇰🇾","flag-kz":"🇰🇿","flag-la":"🇱🇦","flag-lb":"🇱🇧","flag-lc":"🇱🇨","flag-li":"🇱🇮","flag-lk":"🇱🇰","flag-lr":"🇱🇷","flag-ls":"🇱🇸","flag-lt":"🇱🇹","flag-lu":"🇱🇺","flag-lv":"🇱🇻","flag-ly":"🇱🇾","flag-ma":"🇲🇦","flag-mc":"🇲🇨","flag-md":"🇲🇩","flag-me":"🇲🇪","flag-mf":"🇲🇫","flag-mg":"🇲🇬","flag-mh":"🇲🇭","flag-mk":"🇲🇰","flag-ml":"🇲🇱","flag-mm":"🇲🇲","flag-mn":"🇲🇳","flag-mo":"🇲🇴","flag-mp":"🇲🇵","flag-mq":"🇲🇶","flag-mr":"🇲🇷","flag-ms":"🇲🇸","flag-mt":"🇲🇹","flag-mu":"🇲🇺","flag-mv":"🇲🇻","flag-mw":"🇲🇼","flag-mx":"🇲🇽","flag-my":"🇲🇾","flag-mz":"🇲🇿","flag-na":"🇳🇦","flag-nc":"🇳🇨","flag-ne":"🇳🇪","flag-nf":"🇳🇫","flag-ng":"🇳🇬","flag-ni":"🇳🇮","flag-nl":"🇳🇱","flag-no":"🇳🇴","flag-np":"🇳🇵","flag-nr":"🇳🇷","flag-nu":"🇳🇺","flag-nz":"🇳🇿","flag-om":"🇴🇲","flag-pa":"🇵🇦","flag-pe":"🇵🇪","flag-pf":"🇵🇫","flag-pg":"🇵🇬","flag-ph":"🇵🇭","flag-pk":"🇵🇰","flag-pl":"🇵🇱","flag-pm":"🇵🇲","flag-pn":"🇵🇳","flag-pr":"🇵🇷","flag-ps":"🇵🇸","flag-pt":"🇵🇹","flag-pw":"🇵🇼","flag-py":"🇵🇾","flag-qa":"🇶🇦","flag-re":"🇷🇪","flag-ro":"🇷🇴","flag-rs":"🇷🇸","ru":"🇷🇺","flag-ru":"🇷🇺","flag-rw":"🇷🇼","flag-sa":"🇸🇦","flag-sb":"🇸🇧","flag-sc":"🇸🇨","flag-sd":"🇸🇩","flag-se":"🇸🇪","flag-sg":"🇸🇬","flag-sh":"🇸🇭","flag-si":"🇸🇮","flag-sj":"🇸🇯","flag-sk":"🇸🇰","flag-sl":"🇸🇱","flag-sm":"🇸🇲","flag-sn":"🇸🇳","flag-so":"🇸🇴","flag-sr":"🇸🇷","flag-ss":"🇸🇸","flag-st":"🇸🇹","flag-sv":"🇸🇻","flag-sx":"🇸🇽","flag-sy":"🇸🇾","flag-sz":"🇸🇿","flag-ta":"🇹🇦","flag-tc":"🇹🇨","flag-td":"🇹🇩","flag-tf":"🇹🇫","flag-tg":"🇹🇬","flag-th":"🇹🇭","flag-tj":"🇹🇯","flag-tk":"🇹🇰","flag-tl":"🇹🇱","flag-tm":"🇹🇲","flag-tn":"🇹🇳","flag-to":"🇹🇴","flag-tr":"🇹🇷","flag-tt":"🇹🇹","flag-tv":"🇹🇻","flag-tw":"🇹🇼","flag-tz":"🇹🇿","flag-ua":"🇺🇦","flag-ug":"🇺🇬","flag-um":"🇺🇲","flag-un":"🇺🇳","us":"🇺🇸","flag-us":"🇺🇸","flag-uy":"🇺🇾","flag-uz":"🇺🇿","flag-va":"🇻🇦","flag-vc":"🇻🇨","flag-ve":"🇻🇪","flag-vg":"🇻🇬","flag-vi":"🇻🇮","flag-vn":"🇻🇳","flag-vu":"🇻🇺","flag-wf":"🇼🇫","flag-ws":"🇼🇸","flag-xk":"🇽🇰","flag-ye":"🇾🇪","flag-yt":"🇾🇹","flag-za":"🇿🇦","flag-zm":"🇿🇲","flag-zw":"🇿🇼","koko":"🈁","sa":"🈂️","u7121":"🈚","u6307":"🈯","u7981":"🈲","u7a7a":"🈳","u5408":"🈴","u6e80":"🈵","u6709":"🈶","u6708":"🈷️","u7533":"🈸","u5272":"🈹","u55b6":"🈺","ideograph_advantage":"🉐","accept":"🉑","cyclone":"🌀","foggy":"🌁","closed_umbrella":"🌂","night_with_stars":"🌃","sunrise_over_mountains":"🌄","sunrise":"🌅","city_sunset":"🌆","city_sunrise":"🌇","rainbow":"🌈","bridge_at_night":"🌉","ocean":"🌊","volcano":"🌋","milky_way":"🌌","earth_africa":"🌍","earth_americas":"🌎","earth_asia":"🌏","globe_with_meridians":"🌐","new_moon":"🌑","waxing_crescent_moon":"🌒","first_quarter_moon":"🌓","moon":"🌔","waxing_gibbous_moon":"🌔","full_moon":"🌕","waning_gibbous_moon":"🌖","last_quarter_moon":"🌗","waning_crescent_moon":"🌘","crescent_moon":"🌙","new_moon_with_face":"🌚","first_quarter_moon_with_face":"🌛","last_quarter_moon_with_face":"🌜","full_moon_with_face":"🌝","sun_with_face":"🌞","star2":"🌟","stars":"🌠","thermometer":"🌡️","mostly_sunny":"🌤️","sun_small_cloud":"🌤️","barely_sunny":"🌥️","sun_behind_cloud":"🌥️","partly_sunny_rain":"🌦️","sun_behind_rain_cloud":"🌦️","rain_cloud":"🌧️","snow_cloud":"🌨️","lightning":"🌩️","lightning_cloud":"🌩️","tornado":"🌪️","tornado_cloud":"🌪️","fog":"🌫️","wind_blowing_face":"🌬️","hotdog":"🌭","taco":"🌮","burrito":"🌯","chestnut":"🌰","seedling":"🌱","evergreen_tree":"🌲","deciduous_tree":"🌳","palm_tree":"🌴","cactus":"🌵","hot_pepper":"🌶️","tulip":"🌷","cherry_blossom":"🌸","rose":"🌹","hibiscus":"🌺","sunflower":"🌻","blossom":"🌼","corn":"🌽","ear_of_rice":"🌾","herb":"🌿","four_leaf_clover":"🍀","maple_leaf":"🍁","fallen_leaf":"🍂","leaves":"🍃","mushroom":"🍄","tomato":"🍅","eggplant":"🍆","grapes":"🍇","melon":"🍈","watermelon":"🍉","tangerine":"🍊","lemon":"🍋","banana":"🍌","pineapple":"🍍","apple":"🍎","green_apple":"🍏","pear":"🍐","peach":"🍑","cherries":"🍒","strawberry":"🍓","hamburger":"🍔","pizza":"🍕","meat_on_bone":"🍖","poultry_leg":"🍗","rice_cracker":"🍘","rice_ball":"🍙","rice":"🍚","curry":"🍛","ramen":"🍜","spaghetti":"🍝","bread":"🍞","fries":"🍟","sweet_potato":"🍠","dango":"🍡","oden":"🍢","sushi":"🍣","fried_shrimp":"🍤","fish_cake":"🍥","icecream":"🍦","shaved_ice":"🍧","ice_cream":"🍨","doughnut":"🍩","cookie":"🍪","chocolate_bar":"🍫","candy":"🍬","lollipop":"🍭","custard":"🍮","honey_pot":"🍯","cake":"🍰","bento":"🍱","stew":"🍲","fried_egg":"🍳","cooking":"🍳","fork_and_knife":"🍴","tea":"🍵","sake":"🍶","wine_glass":"🍷","cocktail":"🍸","tropical_drink":"🍹","beer":"🍺","beers":"🍻","baby_bottle":"🍼","knife_fork_plate":"🍽️","champagne":"🍾","popcorn":"🍿","ribbon":"🎀","gift":"🎁","birthday":"🎂","jack_o_lantern":"🎃","christmas_tree":"🎄","santa":"🎅","fireworks":"🎆","sparkler":"🎇","balloon":"🎈","tada":"🎉","confetti_ball":"🎊","tanabata_tree":"🎋","crossed_flags":"🎌","bamboo":"🎍","dolls":"🎎","flags":"🎏","wind_chime":"🎐","rice_scene":"🎑","school_satchel":"🎒","mortar_board":"🎓","medal":"🎖️","reminder_ribbon":"🎗️","studio_microphone":"🎙️","level_slider":"🎚️","control_knobs":"🎛️","film_frames":"🎞️","admission_tickets":"🎟️","carousel_horse":"🎠","ferris_wheel":"🎡","roller_coaster":"🎢","fishing_pole_and_fish":"🎣","microphone":"🎤","movie_camera":"🎥","cinema":"🎦","headphones":"🎧","art":"🎨","tophat":"🎩","circus_tent":"🎪","ticket":"🎫","clapper":"🎬","performing_arts":"🎭","video_game":"🎮","dart":"🎯","slot_machine":"🎰","8ball":"🎱","game_die":"🎲","bowling":"🎳","flower_playing_cards":"🎴","musical_note":"🎵","notes":"🎶","saxophone":"🎷","guitar":"🎸","musical_keyboard":"🎹","trumpet":"🎺","violin":"🎻","musical_score":"🎼","running_shirt_with_sash":"🎽","tennis":"🎾","ski":"🎿","basketball":"🏀","checkered_flag":"🏁","snowboarder":"🏂","woman-running":"🏃‍♀️","man-running":"🏃‍♂️","runner":"🏃‍♂️","running":"🏃‍♂️","woman-surfing":"🏄‍♀️","man-surfing":"🏄‍♂️","surfer":"🏄‍♂️","sports_medal":"🏅","trophy":"🏆","horse_racing":"🏇","football":"🏈","rugby_football":"🏉","woman-swimming":"🏊‍♀️","man-swimming":"🏊‍♂️","swimmer":"🏊‍♂️","woman-lifting-weights":"🏋️‍♀️","man-lifting-weights":"🏋️‍♂️","weight_lifter":"🏋️‍♂️","woman-golfing":"🏌️‍♀️","man-golfing":"🏌️‍♂️","golfer":"🏌️‍♂️","racing_motorcycle":"🏍️","racing_car":"🏎️","cricket_bat_and_ball":"🏏","volleyball":"🏐","field_hockey_stick_and_ball":"🏑","ice_hockey_stick_and_puck":"🏒","table_tennis_paddle_and_ball":"🏓","snow_capped_mountain":"🏔️","camping":"🏕️","beach_with_umbrella":"🏖️","building_construction":"🏗️","house_buildings":"🏘️","cityscape":"🏙️","derelict_house_building":"🏚️","classical_building":"🏛️","desert":"🏜️","desert_island":"🏝️","national_park":"🏞️","stadium":"🏟️","house":"🏠","house_with_garden":"🏡","office":"🏢","post_office":"🏣","european_post_office":"🏤","hospital":"🏥","bank":"🏦","atm":"🏧","hotel":"🏨","love_hotel":"🏩","convenience_store":"🏪","school":"🏫","department_store":"🏬","factory":"🏭","izakaya_lantern":"🏮","lantern":"🏮","japanese_castle":"🏯","european_castle":"🏰","rainbow-flag":"🏳️‍🌈","transgender_flag":"🏳️‍⚧️","waving_white_flag":"🏳️","pirate_flag":"🏴‍☠️","flag-england":"🏴󠁧󠁢󠁥󠁮󠁧󠁿","flag-scotland":"🏴󠁧󠁢󠁳󠁣󠁴󠁿","flag-wales":"🏴󠁧󠁢󠁷󠁬󠁳󠁿","waving_black_flag":"🏴","rosette":"🏵️","label":"🏷️","badminton_racquet_and_shuttlecock":"🏸","bow_and_arrow":"🏹","amphora":"🏺","skin-tone-2":"🏻","skin-tone-3":"🏼","skin-tone-4":"🏽","skin-tone-5":"🏾","skin-tone-6":"🏿","rat":"🐀","mouse2":"🐁","ox":"🐂","water_buffalo":"🐃","cow2":"🐄","tiger2":"🐅","leopard":"🐆","rabbit2":"🐇","black_cat":"🐈‍⬛","cat2":"🐈","dragon":"🐉","crocodile":"🐊","whale2":"🐋","snail":"🐌","snake":"🐍","racehorse":"🐎","ram":"🐏","goat":"🐐","sheep":"🐑","monkey":"🐒","rooster":"🐓","chicken":"🐔","service_dog":"🐕‍🦺","dog2":"🐕","pig2":"🐖","boar":"🐗","elephant":"🐘","octopus":"🐙","shell":"🐚","bug":"🐛","ant":"🐜","bee":"🐝","honeybee":"🐝","ladybug":"🐞","lady_beetle":"🐞","fish":"🐟","tropical_fish":"🐠","blowfish":"🐡","turtle":"🐢","hatching_chick":"🐣","baby_chick":"🐤","hatched_chick":"🐥","bird":"🐦","penguin":"🐧","koala":"🐨","poodle":"🐩","dromedary_camel":"🐪","camel":"🐫","dolphin":"🐬","flipper":"🐬","mouse":"🐭","cow":"🐮","tiger":"🐯","rabbit":"🐰","cat":"🐱","dragon_face":"🐲","whale":"🐳","horse":"🐴","monkey_face":"🐵","dog":"🐶","pig":"🐷","frog":"🐸","hamster":"🐹","wolf":"🐺","polar_bear":"🐻‍❄️","bear":"🐻","panda_face":"🐼","pig_nose":"🐽","feet":"🐾","paw_prints":"🐾","chipmunk":"🐿️","eyes":"👀","eye-in-speech-bubble":"👁️‍🗨️","eye":"👁️","ear":"👂","nose":"👃","lips":"👄","tongue":"👅","point_up_2":"👆","point_down":"👇","point_left":"👈","point_right":"👉","facepunch":"👊","punch":"👊","wave":"👋","ok_hand":"👌","+1":"👍","thumbsup":"👍","-1":"👎","thumbsdown":"👎","clap":"👏","open_hands":"👐","crown":"👑","womans_hat":"👒","eyeglasses":"👓","necktie":"👔","shirt":"👕","tshirt":"👕","jeans":"👖","dress":"👗","kimono":"👘","bikini":"👙","womans_clothes":"👚","purse":"👛","handbag":"👜","pouch":"👝","mans_shoe":"👞","shoe":"👞","athletic_shoe":"👟","high_heel":"👠","sandal":"👡","boot":"👢","footprints":"👣","bust_in_silhouette":"👤","busts_in_silhouette":"👥","boy":"👦","girl":"👧","male-farmer":"👨‍🌾","male-cook":"👨‍🍳","man_feeding_baby":"👨‍🍼","male-student":"👨‍🎓","male-singer":"👨‍🎤","male-artist":"👨‍🎨","male-teacher":"👨‍🏫","male-factory-worker":"👨‍🏭","man-boy-boy":"👨‍👦‍👦","man-boy":"👨‍👦","man-girl-boy":"👨‍👧‍👦","man-girl-girl":"👨‍👧‍👧","man-girl":"👨‍👧","man-man-boy":"👨‍👨‍👦","man-man-boy-boy":"👨‍👨‍👦‍👦","man-man-girl":"👨‍👨‍👧","man-man-girl-boy":"👨‍👨‍👧‍👦","man-man-girl-girl":"👨‍👨‍👧‍👧","man-woman-boy":"👨‍👩‍👦","family":"👨‍👩‍👦","man-woman-boy-boy":"👨‍👩‍👦‍👦","man-woman-girl":"👨‍👩‍👧","man-woman-girl-boy":"👨‍👩‍👧‍👦","man-woman-girl-girl":"👨‍👩‍👧‍👧","male-technologist":"👨‍💻","male-office-worker":"👨‍💼","male-mechanic":"👨‍🔧","male-scientist":"👨‍🔬","male-astronaut":"👨‍🚀","male-firefighter":"👨‍🚒","man_with_probing_cane":"👨‍🦯","red_haired_man":"👨‍🦰","curly_haired_man":"👨‍🦱","bald_man":"👨‍🦲","white_haired_man":"👨‍🦳","man_in_motorized_wheelchair":"👨‍🦼","man_in_manual_wheelchair":"👨‍🦽","male-doctor":"👨‍⚕️","male-judge":"👨‍⚖️","male-pilot":"👨‍✈️","man-heart-man":"👨‍❤️‍👨","man-kiss-man":"👨‍❤️‍💋‍👨","man":"👨","female-farmer":"👩‍🌾","female-cook":"👩‍🍳","woman_feeding_baby":"👩‍🍼","female-student":"👩‍🎓","female-singer":"👩‍🎤","female-artist":"👩‍🎨","female-teacher":"👩‍🏫","female-factory-worker":"👩‍🏭","woman-boy-boy":"👩‍👦‍👦","woman-boy":"👩‍👦","woman-girl-boy":"👩‍👧‍👦","woman-girl-girl":"👩‍👧‍👧","woman-girl":"👩‍👧","woman-woman-boy":"👩‍👩‍👦","woman-woman-boy-boy":"👩‍👩‍👦‍👦","woman-woman-girl":"👩‍👩‍👧","woman-woman-girl-boy":"👩‍👩‍👧‍👦","woman-woman-girl-girl":"👩‍👩‍👧‍👧","female-technologist":"👩‍💻","female-office-worker":"👩‍💼","female-mechanic":"👩‍🔧","female-scientist":"👩‍🔬","female-astronaut":"👩‍🚀","female-firefighter":"👩‍🚒","woman_with_probing_cane":"👩‍🦯","red_haired_woman":"👩‍🦰","curly_haired_woman":"👩‍🦱","bald_woman":"👩‍🦲","white_haired_woman":"👩‍🦳","woman_in_motorized_wheelchair":"👩‍🦼","woman_in_manual_wheelchair":"👩‍🦽","female-doctor":"👩‍⚕️","female-judge":"👩‍⚖️","female-pilot":"👩‍✈️","woman-heart-man":"👩‍❤️‍👨","woman-heart-woman":"👩‍❤️‍👩","woman-kiss-man":"👩‍❤️‍💋‍👨","woman-kiss-woman":"👩‍❤️‍💋‍👩","woman":"👩","man_and_woman_holding_hands":"👫","woman_and_man_holding_hands":"👫","couple":"👫","two_men_holding_hands":"👬","men_holding_hands":"👬","two_women_holding_hands":"👭","women_holding_hands":"👭","female-police-officer":"👮‍♀️","male-police-officer":"👮‍♂️","cop":"👮‍♂️","women-with-bunny-ears-partying":"👯‍♀️","woman-with-bunny-ears-partying":"👯‍♀️","dancers":"👯‍♀️","men-with-bunny-ears-partying":"👯‍♂️","man-with-bunny-ears-partying":"👯‍♂️","woman_with_veil":"👰‍♀️","man_with_veil":"👰‍♂️","bride_with_veil":"👰","blond-haired-woman":"👱‍♀️","blond-haired-man":"👱‍♂️","person_with_blond_hair":"👱‍♂️","man_with_gua_pi_mao":"👲","woman-wearing-turban":"👳‍♀️","man-wearing-turban":"👳‍♂️","man_with_turban":"👳‍♂️","older_man":"👴","older_woman":"👵","baby":"👶","female-construction-worker":"👷‍♀️","male-construction-worker":"👷‍♂️","construction_worker":"👷‍♂️","princess":"👸","japanese_ogre":"👹","japanese_goblin":"👺","ghost":"👻","angel":"👼","alien":"👽","space_invader":"👾","imp":"👿","skull":"💀","woman-tipping-hand":"💁‍♀️","information_desk_person":"💁‍♀️","man-tipping-hand":"💁‍♂️","female-guard":"💂‍♀️","male-guard":"💂‍♂️","guardsman":"💂‍♂️","dancer":"💃","lipstick":"💄","nail_care":"💅","woman-getting-massage":"💆‍♀️","massage":"💆‍♀️","man-getting-massage":"💆‍♂️","woman-getting-haircut":"💇‍♀️","haircut":"💇‍♀️","man-getting-haircut":"💇‍♂️","barber":"💈","syringe":"💉","pill":"💊","kiss":"💋","love_letter":"💌","ring":"💍","gem":"💎","couplekiss":"💏","bouquet":"💐","couple_with_heart":"💑","wedding":"💒","heartbeat":"💓","broken_heart":"💔","two_hearts":"💕","sparkling_heart":"💖","heartpulse":"💗","cupid":"💘","blue_heart":"💙","green_heart":"💚","yellow_heart":"💛","purple_heart":"💜","gift_heart":"💝","revolving_hearts":"💞","heart_decoration":"💟","diamond_shape_with_a_dot_inside":"💠","bulb":"💡","anger":"💢","bomb":"💣","zzz":"💤","boom":"💥","collision":"💥","sweat_drops":"💦","droplet":"💧","dash":"💨","hankey":"💩","poop":"💩","shit":"💩","muscle":"💪","dizzy":"💫","speech_balloon":"💬","thought_balloon":"💭","white_flower":"💮","moneybag":"💰","currency_exchange":"💱","heavy_dollar_sign":"💲","credit_card":"💳","yen":"💴","dollar":"💵","euro":"💶","pound":"💷","money_with_wings":"💸","chart":"💹","seat":"💺","computer":"💻","briefcase":"💼","minidisc":"💽","floppy_disk":"💾","cd":"💿","dvd":"📀","file_folder":"📁","open_file_folder":"📂","page_with_curl":"📃","page_facing_up":"📄","date":"📅","calendar":"📆","card_index":"📇","chart_with_upwards_trend":"📈","chart_with_downwards_trend":"📉","bar_chart":"📊","clipboard":"📋","pushpin":"📌","round_pushpin":"📍","paperclip":"📎","straight_ruler":"📏","triangular_ruler":"📐","bookmark_tabs":"📑","ledger":"📒","notebook":"📓","notebook_with_decorative_cover":"📔","closed_book":"📕","book":"📖","open_book":"📖","green_book":"📗","blue_book":"📘","orange_book":"📙","books":"📚","name_badge":"📛","scroll":"📜","memo":"📝","pencil":"📝","telephone_receiver":"📞","pager":"📟","fax":"📠","satellite_antenna":"📡","loudspeaker":"📢","mega":"📣","outbox_tray":"📤","inbox_tray":"📥","package":"📦","e-mail":"📧","incoming_envelope":"📨","envelope_with_arrow":"📩","mailbox_closed":"📪","mailbox":"📫","mailbox_with_mail":"📬","mailbox_with_no_mail":"📭","postbox":"📮","postal_horn":"📯","newspaper":"📰","iphone":"📱","calling":"📲","vibration_mode":"📳","mobile_phone_off":"📴","no_mobile_phones":"📵","signal_strength":"📶","camera":"📷","camera_with_flash":"📸","video_camera":"📹","tv":"📺","radio":"📻","vhs":"📼","film_projector":"📽️","prayer_beads":"📿","twisted_rightwards_arrows":"🔀","repeat":"🔁","repeat_one":"🔂","arrows_clockwise":"🔃","arrows_counterclockwise":"🔄","low_brightness":"🔅","high_brightness":"🔆","mute":"🔇","speaker":"🔈","sound":"🔉","loud_sound":"🔊","battery":"🔋","electric_plug":"🔌","mag":"🔍","mag_right":"🔎","lock_with_ink_pen":"🔏","closed_lock_with_key":"🔐","key":"🔑","lock":"🔒","unlock":"🔓","bell":"🔔","no_bell":"🔕","bookmark":"🔖","link":"🔗","radio_button":"🔘","back":"🔙","end":"🔚","on":"🔛","soon":"🔜","top":"🔝","underage":"🔞","keycap_ten":"🔟","capital_abcd":"🔠","abcd":"🔡","symbols":"🔣","abc":"🔤","fire":"🔥","flashlight":"🔦","wrench":"🔧","hammer":"🔨","nut_and_bolt":"🔩","hocho":"🔪","knife":"🔪","gun":"🔫","microscope":"🔬","telescope":"🔭","crystal_ball":"🔮","six_pointed_star":"🔯","beginner":"🔰","trident":"🔱","black_square_button":"🔲","white_square_button":"🔳","red_circle":"🔴","large_blue_circle":"🔵","large_orange_diamond":"🔶","large_blue_diamond":"🔷","small_orange_diamond":"🔸","small_blue_diamond":"🔹","small_red_triangle":"🔺","small_red_triangle_down":"🔻","arrow_up_small":"🔼","arrow_down_small":"🔽","om_symbol":"🕉️","dove_of_peace":"🕊️","kaaba":"🕋","mosque":"🕌","synagogue":"🕍","menorah_with_nine_branches":"🕎","clock1":"🕐","clock2":"🕑","clock3":"🕒","clock4":"🕓","clock5":"🕔","clock6":"🕕","clock7":"🕖","clock8":"🕗","clock9":"🕘","clock10":"🕙","clock11":"🕚","clock12":"🕛","clock130":"🕜","clock230":"🕝","clock330":"🕞","clock430":"🕟","clock530":"🕠","clock630":"🕡","clock730":"🕢","clock830":"🕣","clock930":"🕤","clock1030":"🕥","clock1130":"🕦","clock1230":"🕧","candle":"🕯️","mantelpiece_clock":"🕰️","hole":"🕳️","man_in_business_suit_levitating":"🕴️","female-detective":"🕵️‍♀️","male-detective":"🕵️‍♂️","sleuth_or_spy":"🕵️‍♂️","dark_sunglasses":"🕶️","spider":"🕷️","spider_web":"🕸️","joystick":"🕹️","man_dancing":"🕺","linked_paperclips":"🖇️","lower_left_ballpoint_pen":"🖊️","lower_left_fountain_pen":"🖋️","lower_left_paintbrush":"🖌️","lower_left_crayon":"🖍️","raised_hand_with_fingers_splayed":"🖐️","middle_finger":"🖕","reversed_hand_with_middle_finger_extended":"🖕","spock-hand":"🖖","black_heart":"🖤","desktop_computer":"🖥️","printer":"🖨️","three_button_mouse":"🖱️","trackball":"🖲️","frame_with_picture":"🖼️","card_index_dividers":"🗂️","card_file_box":"🗃️","file_cabinet":"🗄️","wastebasket":"🗑️","spiral_note_pad":"🗒️","spiral_calendar_pad":"🗓️","compression":"🗜️","old_key":"🗝️","rolled_up_newspaper":"🗞️","dagger_knife":"🗡️","speaking_head_in_silhouette":"🗣️","left_speech_bubble":"🗨️","right_anger_bubble":"🗯️","ballot_box_with_ballot":"🗳️","world_map":"🗺️","mount_fuji":"🗻","tokyo_tower":"🗼","statue_of_liberty":"🗽","japan":"🗾","moyai":"🗿","grinning":"😀","grin":"😁","joy":"😂","smiley":"😃","smile":"😄","sweat_smile":"😅","laughing":"😆","satisfied":"😆","innocent":"😇","smiling_imp":"😈","wink":"😉","blush":"😊","yum":"😋","relieved":"😌","heart_eyes":"😍","sunglasses":"😎","smirk":"😏","neutral_face":"😐","expressionless":"😑","unamused":"😒","sweat":"😓","pensive":"😔","confused":"😕","confounded":"😖","kissing":"😗","kissing_heart":"😘","kissing_smiling_eyes":"😙","kissing_closed_eyes":"😚","stuck_out_tongue":"😛","stuck_out_tongue_winking_eye":"😜","stuck_out_tongue_closed_eyes":"😝","disappointed":"😞","worried":"😟","angry":"😠","rage":"😡","cry":"😢","persevere":"😣","triumph":"😤","disappointed_relieved":"😥","frowning":"😦","anguished":"😧","fearful":"😨","weary":"😩","sleepy":"😪","tired_face":"😫","grimacing":"😬","sob":"😭","face_exhaling":"😮‍💨","open_mouth":"😮","hushed":"😯","cold_sweat":"😰","scream":"😱","astonished":"😲","flushed":"😳","sleeping":"😴","face_with_spiral_eyes":"😵‍💫","dizzy_face":"😵","face_in_clouds":"😶‍🌫️","no_mouth":"😶","mask":"😷","smile_cat":"😸","joy_cat":"😹","smiley_cat":"😺","heart_eyes_cat":"😻","smirk_cat":"😼","kissing_cat":"😽","pouting_cat":"😾","crying_cat_face":"😿","scream_cat":"🙀","slightly_frowning_face":"🙁","slightly_smiling_face":"🙂","upside_down_face":"🙃","face_with_rolling_eyes":"🙄","woman-gesturing-no":"🙅‍♀️","no_good":"🙅‍♀️","man-gesturing-no":"🙅‍♂️","woman-gesturing-ok":"🙆‍♀️","ok_woman":"🙆‍♀️","man-gesturing-ok":"🙆‍♂️","woman-bowing":"🙇‍♀️","man-bowing":"🙇‍♂️","bow":"🙇‍♂️","see_no_evil":"🙈","hear_no_evil":"🙉","speak_no_evil":"🙊","woman-raising-hand":"🙋‍♀️","raising_hand":"🙋‍♀️","man-raising-hand":"🙋‍♂️","raised_hands":"🙌","woman-frowning":"🙍‍♀️","person_frowning":"🙍‍♀️","man-frowning":"🙍‍♂️","woman-pouting":"🙎‍♀️","person_with_pouting_face":"🙎‍♀️","man-pouting":"🙎‍♂️","pray":"🙏","rocket":"🚀","helicopter":"🚁","steam_locomotive":"🚂","railway_car":"🚃","bullettrain_side":"🚄","bullettrain_front":"🚅","train2":"🚆","metro":"🚇","light_rail":"🚈","station":"🚉","tram":"🚊","train":"🚋","bus":"🚌","oncoming_bus":"🚍","trolleybus":"🚎","busstop":"🚏","minibus":"🚐","ambulance":"🚑","fire_engine":"🚒","police_car":"🚓","oncoming_police_car":"🚔","taxi":"🚕","oncoming_taxi":"🚖","car":"🚗","red_car":"🚗","oncoming_automobile":"🚘","blue_car":"🚙","truck":"🚚","articulated_lorry":"🚛","tractor":"🚜","monorail":"🚝","mountain_railway":"🚞","suspension_railway":"🚟","mountain_cableway":"🚠","aerial_tramway":"🚡","ship":"🚢","woman-rowing-boat":"🚣‍♀️","man-rowing-boat":"🚣‍♂️","rowboat":"🚣‍♂️","speedboat":"🚤","traffic_light":"🚥","vertical_traffic_light":"🚦","construction":"🚧","rotating_light":"🚨","triangular_flag_on_post":"🚩","door":"🚪","no_entry_sign":"🚫","smoking":"🚬","no_smoking":"🚭","put_litter_in_its_place":"🚮","do_not_litter":"🚯","potable_water":"🚰","non-potable_water":"🚱","bike":"🚲","no_bicycles":"🚳","woman-biking":"🚴‍♀️","man-biking":"🚴‍♂️","bicyclist":"🚴‍♂️","woman-mountain-biking":"🚵‍♀️","man-mountain-biking":"🚵‍♂️","mountain_bicyclist":"🚵‍♂️","woman-walking":"🚶‍♀️","man-walking":"🚶‍♂️","walking":"🚶‍♂️","no_pedestrians":"🚷","children_crossing":"🚸","mens":"🚹","womens":"🚺","restroom":"🚻","baby_symbol":"🚼","toilet":"🚽","wc":"🚾","shower":"🚿","bath":"🛀","bathtub":"🛁","passport_control":"🛂","customs":"🛃","baggage_claim":"🛄","left_luggage":"🛅","couch_and_lamp":"🛋️","sleeping_accommodation":"🛌","shopping_bags":"🛍️","bellhop_bell":"🛎️","bed":"🛏️","place_of_worship":"🛐","octagonal_sign":"🛑","shopping_trolley":"🛒","hindu_temple":"🛕","hut":"🛖","elevator":"🛗","hammer_and_wrench":"🛠️","shield":"🛡️","oil_drum":"🛢️","motorway":"🛣️","railway_track":"🛤️","motor_boat":"🛥️","small_airplane":"🛩️","airplane_departure":"🛫","airplane_arriving":"🛬","satellite":"🛰️","passenger_ship":"🛳️","scooter":"🛴","motor_scooter":"🛵","canoe":"🛶","sled":"🛷","flying_saucer":"🛸","skateboard":"🛹","auto_rickshaw":"🛺","pickup_truck":"🛻","roller_skate":"🛼","large_orange_circle":"🟠","large_yellow_circle":"🟡","large_green_circle":"🟢","large_purple_circle":"🟣","large_brown_circle":"🟤","large_red_square":"🟥","large_blue_square":"🟦","large_orange_square":"🟧","large_yellow_square":"🟨","large_green_square":"🟩","large_purple_square":"🟪","large_brown_square":"🟫","pinched_fingers":"🤌","white_heart":"🤍","brown_heart":"🤎","pinching_hand":"🤏","zipper_mouth_face":"🤐","money_mouth_face":"🤑","face_with_thermometer":"🤒","nerd_face":"🤓","thinking_face":"🤔","face_with_head_bandage":"🤕","robot_face":"🤖","hugging_face":"🤗","the_horns":"🤘","sign_of_the_horns":"🤘","call_me_hand":"🤙","raised_back_of_hand":"🤚","left-facing_fist":"🤛","right-facing_fist":"🤜","handshake":"🤝","crossed_fingers":"🤞","hand_with_index_and_middle_fingers_crossed":"🤞","i_love_you_hand_sign":"🤟","face_with_cowboy_hat":"🤠","clown_face":"🤡","nauseated_face":"🤢","rolling_on_the_floor_laughing":"🤣","drooling_face":"🤤","lying_face":"🤥","woman-facepalming":"🤦‍♀️","man-facepalming":"🤦‍♂️","face_palm":"🤦","sneezing_face":"🤧","face_with_raised_eyebrow":"🤨","face_with_one_eyebrow_raised":"🤨","star-struck":"🤩","grinning_face_with_star_eyes":"🤩","zany_face":"🤪","grinning_face_with_one_large_and_one_small_eye":"🤪","shushing_face":"🤫","face_with_finger_covering_closed_lips":"🤫","face_with_symbols_on_mouth":"🤬","serious_face_with_symbols_covering_mouth":"🤬","face_with_hand_over_mouth":"🤭","smiling_face_with_smiling_eyes_and_hand_covering_mouth":"🤭","face_vomiting":"🤮","face_with_open_mouth_vomiting":"🤮","exploding_head":"🤯","shocked_face_with_exploding_head":"🤯","pregnant_woman":"🤰","breast-feeding":"🤱","palms_up_together":"🤲","selfie":"🤳","prince":"🤴","woman_in_tuxedo":"🤵‍♀️","man_in_tuxedo":"🤵‍♂️","person_in_tuxedo":"🤵","mrs_claus":"🤶","mother_christmas":"🤶","woman-shrugging":"🤷‍♀️","man-shrugging":"🤷‍♂️","shrug":"🤷","woman-cartwheeling":"🤸‍♀️","man-cartwheeling":"🤸‍♂️","person_doing_cartwheel":"🤸","woman-juggling":"🤹‍♀️","man-juggling":"🤹‍♂️","juggling":"🤹","fencer":"🤺","woman-wrestling":"🤼‍♀️","man-wrestling":"🤼‍♂️","wrestlers":"🤼","woman-playing-water-polo":"🤽‍♀️","man-playing-water-polo":"🤽‍♂️","water_polo":"🤽","woman-playing-handball":"🤾‍♀️","man-playing-handball":"🤾‍♂️","handball":"🤾","diving_mask":"🤿","wilted_flower":"🥀","drum_with_drumsticks":"🥁","clinking_glasses":"🥂","tumbler_glass":"🥃","spoon":"🥄","goal_net":"🥅","first_place_medal":"🥇","second_place_medal":"🥈","third_place_medal":"🥉","boxing_glove":"🥊","martial_arts_uniform":"🥋","curling_stone":"🥌","lacrosse":"🥍","softball":"🥎","flying_disc":"🥏","croissant":"🥐","avocado":"🥑","cucumber":"🥒","bacon":"🥓","potato":"🥔","carrot":"🥕","baguette_bread":"🥖","green_salad":"🥗","shallow_pan_of_food":"🥘","stuffed_flatbread":"🥙","egg":"🥚","glass_of_milk":"🥛","peanuts":"🥜","kiwifruit":"🥝","pancakes":"🥞","dumpling":"🥟","fortune_cookie":"🥠","takeout_box":"🥡","chopsticks":"🥢","bowl_with_spoon":"🥣","cup_with_straw":"🥤","coconut":"🥥","broccoli":"🥦","pie":"🥧","pretzel":"🥨","cut_of_meat":"🥩","sandwich":"🥪","canned_food":"🥫","leafy_green":"🥬","mango":"🥭","moon_cake":"🥮","bagel":"🥯","smiling_face_with_3_hearts":"🥰","yawning_face":"🥱","smiling_face_with_tear":"🥲","partying_face":"🥳","woozy_face":"🥴","hot_face":"🥵","cold_face":"🥶","ninja":"🥷","disguised_face":"🥸","pleading_face":"🥺","sari":"🥻","lab_coat":"🥼","goggles":"🥽","hiking_boot":"🥾","womans_flat_shoe":"🥿","crab":"🦀","lion_face":"🦁","scorpion":"🦂","turkey":"🦃","unicorn_face":"🦄","eagle":"🦅","duck":"🦆","bat":"🦇","shark":"🦈","owl":"🦉","fox_face":"🦊","butterfly":"🦋","deer":"🦌","gorilla":"🦍","lizard":"🦎","rhinoceros":"🦏","shrimp":"🦐","squid":"🦑","giraffe_face":"🦒","zebra_face":"🦓","hedgehog":"🦔","sauropod":"🦕","t-rex":"🦖","cricket":"🦗","kangaroo":"🦘","llama":"🦙","peacock":"🦚","hippopotamus":"🦛","parrot":"🦜","raccoon":"🦝","lobster":"🦞","mosquito":"🦟","microbe":"🦠","badger":"🦡","swan":"🦢","mammoth":"🦣","dodo":"🦤","sloth":"🦥","otter":"🦦","orangutan":"🦧","skunk":"🦨","flamingo":"🦩","oyster":"🦪","beaver":"🦫","bison":"🦬","seal":"🦭","guide_dog":"🦮","probing_cane":"🦯","bone":"🦴","leg":"🦵","foot":"🦶","tooth":"🦷","female_superhero":"🦸‍♀️","male_superhero":"🦸‍♂️","superhero":"🦸","female_supervillain":"🦹‍♀️","male_supervillain":"🦹‍♂️","supervillain":"🦹","safety_vest":"🦺","ear_with_hearing_aid":"🦻","motorized_wheelchair":"🦼","manual_wheelchair":"🦽","mechanical_arm":"🦾","mechanical_leg":"🦿","cheese_wedge":"🧀","cupcake":"🧁","salt":"🧂","beverage_box":"🧃","garlic":"🧄","onion":"🧅","falafel":"🧆","waffle":"🧇","butter":"🧈","mate_drink":"🧉","ice_cube":"🧊","bubble_tea":"🧋","woman_standing":"🧍‍♀️","man_standing":"🧍‍♂️","standing_person":"🧍","woman_kneeling":"🧎‍♀️","man_kneeling":"🧎‍♂️","kneeling_person":"🧎","deaf_woman":"🧏‍♀️","deaf_man":"🧏‍♂️","deaf_person":"🧏","face_with_monocle":"🧐","farmer":"🧑‍🌾","cook":"🧑‍🍳","person_feeding_baby":"🧑‍🍼","mx_claus":"🧑‍🎄","student":"🧑‍🎓","singer":"🧑‍🎤","artist":"🧑‍🎨","teacher":"🧑‍🏫","factory_worker":"🧑‍🏭","technologist":"🧑‍💻","office_worker":"🧑‍💼","mechanic":"🧑‍🔧","scientist":"🧑‍🔬","astronaut":"🧑‍🚀","firefighter":"🧑‍🚒","people_holding_hands":"🧑‍🤝‍🧑","person_with_probing_cane":"🧑‍🦯","red_haired_person":"🧑‍🦰","curly_haired_person":"🧑‍🦱","bald_person":"🧑‍🦲","white_haired_person":"🧑‍🦳","person_in_motorized_wheelchair":"🧑‍🦼","person_in_manual_wheelchair":"🧑‍🦽","health_worker":"🧑‍⚕️","judge":"🧑‍⚖️","pilot":"🧑‍✈️","adult":"🧑","child":"🧒","older_adult":"🧓","woman_with_beard":"🧔‍♀️","man_with_beard":"🧔‍♂️","bearded_person":"🧔","person_with_headscarf":"🧕","woman_in_steamy_room":"🧖‍♀️","man_in_steamy_room":"🧖‍♂️","person_in_steamy_room":"🧖‍♂️","woman_climbing":"🧗‍♀️","person_climbing":"🧗‍♀️","man_climbing":"🧗‍♂️","woman_in_lotus_position":"🧘‍♀️","person_in_lotus_position":"🧘‍♀️","man_in_lotus_position":"🧘‍♂️","female_mage":"🧙‍♀️","mage":"🧙‍♀️","male_mage":"🧙‍♂️","female_fairy":"🧚‍♀️","fairy":"🧚‍♀️","male_fairy":"🧚‍♂️","female_vampire":"🧛‍♀️","vampire":"🧛‍♀️","male_vampire":"🧛‍♂️","mermaid":"🧜‍♀️","merman":"🧜‍♂️","merperson":"🧜‍♂️","female_elf":"🧝‍♀️","male_elf":"🧝‍♂️","elf":"🧝‍♂️","female_genie":"🧞‍♀️","male_genie":"🧞‍♂️","genie":"🧞‍♂️","female_zombie":"🧟‍♀️","male_zombie":"🧟‍♂️","zombie":"🧟‍♂️","brain":"🧠","orange_heart":"🧡","billed_cap":"🧢","scarf":"🧣","gloves":"🧤","coat":"🧥","socks":"🧦","red_envelope":"🧧","firecracker":"🧨","jigsaw":"🧩","test_tube":"🧪","petri_dish":"🧫","dna":"🧬","compass":"🧭","abacus":"🧮","fire_extinguisher":"🧯","toolbox":"🧰","bricks":"🧱","magnet":"🧲","luggage":"🧳","lotion_bottle":"🧴","thread":"🧵","yarn":"🧶","safety_pin":"🧷","teddy_bear":"🧸","broom":"🧹","basket":"🧺","roll_of_paper":"🧻","soap":"🧼","sponge":"🧽","receipt":"🧾","nazar_amulet":"🧿","ballet_shoes":"🩰","one-piece_swimsuit":"🩱","briefs":"🩲","shorts":"🩳","thong_sandal":"🩴","drop_of_blood":"🩸","adhesive_bandage":"🩹","stethoscope":"🩺","yo-yo":"🪀","kite":"🪁","parachute":"🪂","boomerang":"🪃","magic_wand":"🪄","pinata":"🪅","nesting_dolls":"🪆","ringed_planet":"🪐","chair":"🪑","razor":"🪒","axe":"🪓","diya_lamp":"🪔","banjo":"🪕","military_helmet":"🪖","accordion":"🪗","long_drum":"🪘","coin":"🪙","carpentry_saw":"🪚","screwdriver":"🪛","ladder":"🪜","hook":"🪝","mirror":"🪞","window":"🪟","plunger":"🪠","sewing_needle":"🪡","knot":"🪢","bucket":"🪣","mouse_trap":"🪤","toothbrush":"🪥","headstone":"🪦","placard":"🪧","rock":"🪨","fly":"🪰","worm":"🪱","beetle":"🪲","cockroach":"🪳","potted_plant":"🪴","wood":"🪵","feather":"🪶","anatomical_heart":"🫀","lungs":"🫁","people_hugging":"🫂","blueberries":"🫐","bell_pepper":"🫑","olive":"🫒","flatbread":"🫓","tamale":"🫔","fondue":"🫕","teapot":"🫖","bangbang":"‼️","interrobang":"⁉️","tm":"™️","information_source":"ℹ️","left_right_arrow":"↔️","arrow_up_down":"↕️","arrow_upper_left":"↖️","arrow_upper_right":"↗️","arrow_lower_right":"↘️","arrow_lower_left":"↙️","leftwards_arrow_with_hook":"↩️","arrow_right_hook":"↪️","watch":"⌚","hourglass":"⌛","keyboard":"⌨️","eject":"⏏️","fast_forward":"⏩","rewind":"⏪","arrow_double_up":"⏫","arrow_double_down":"⏬","black_right_pointing_double_triangle_with_vertical_bar":"⏭️","black_left_pointing_double_triangle_with_vertical_bar":"⏮️","black_right_pointing_triangle_with_double_vertical_bar":"⏯️","alarm_clock":"⏰","stopwatch":"⏱️","timer_clock":"⏲️","hourglass_flowing_sand":"⏳","double_vertical_bar":"⏸️","black_square_for_stop":"⏹️","black_circle_for_record":"⏺️","m":"Ⓜ️","black_small_square":"▪️","white_small_square":"▫️","arrow_forward":"▶️","arrow_backward":"◀️","white_medium_square":"◻️","black_medium_square":"◼️","white_medium_small_square":"◽","black_medium_small_square":"◾","sunny":"☀️","cloud":"☁️","umbrella":"☂️","snowman":"☃️","comet":"☄️","phone":"☎️","telephone":"☎️","ballot_box_with_check":"☑️","shamrock":"☘️","point_up":"☝️","skull_and_crossbones":"☠️","radioactive_sign":"☢️","biohazard_sign":"☣️","orthodox_cross":"☦️","star_and_crescent":"☪️","peace_symbol":"☮️","yin_yang":"☯️","wheel_of_dharma":"☸️","white_frowning_face":"☹️","relaxed":"☺️","female_sign":"♀️","male_sign":"♂️","gemini":"♊","cancer":"♋","leo":"♌","virgo":"♍","libra":"♎","scorpius":"♏","chess_pawn":"♟️","spades":"♠️","clubs":"♣️","hearts":"♥️","diamonds":"♦️","hotsprings":"♨️","recycle":"♻️","infinity":"♾️","wheelchair":"♿","hammer_and_pick":"⚒️","crossed_swords":"⚔️","medical_symbol":"⚕️","staff_of_aesculapius":"⚕️","scales":"⚖️","alembic":"⚗️","gear":"⚙️","atom_symbol":"⚛️","fleur_de_lis":"⚜️","warning":"⚠️","zap":"⚡","transgender_symbol":"⚧️","white_circle":"⚪","black_circle":"⚫","coffin":"⚰️","funeral_urn":"⚱️","soccer":"⚽","baseball":"⚾","snowman_without_snow":"⛄","partly_sunny":"⛅","thunder_cloud_and_rain":"⛈️","ophiuchus":"⛎","pick":"⛏️","helmet_with_white_cross":"⛑️","chains":"⛓️","no_entry":"⛔","shinto_shrine":"⛩️","church":"⛪","mountain":"⛰️","umbrella_on_ground":"⛱️","fountain":"⛲","golf":"⛳","ferry":"⛴️","boat":"⛵","sailboat":"⛵","skier":"⛷️","ice_skate":"⛸️","woman-bouncing-ball":"⛹️‍♀️","man-bouncing-ball":"⛹️‍♂️","person_with_ball":"⛹️‍♂️","tent":"⛺","fuelpump":"⛽","scissors":"✂️","airplane":"✈️","email":"✉️","envelope":"✉️","fist":"✊","hand":"✋","raised_hand":"✋","v":"✌️","writing_hand":"✍️","pencil2":"✏️","black_nib":"✒️","heavy_check_mark":"✔️","heavy_multiplication_x":"✖️","latin_cross":"✝️","star_of_david":"✡️","eight_spoked_asterisk":"✳️","eight_pointed_black_star":"✴️","snowflake":"❄️","sparkle":"❇️","x":"❌","negative_squared_cross_mark":"❎","heavy_heart_exclamation_mark_ornament":"❣️","heart_on_fire":"❤️‍🔥","mending_heart":"❤️‍🩹","heart":"❤️","arrow_right":"➡️","curly_loop":"➰","loop":"➿","arrow_heading_up":"⤴️","arrow_heading_down":"⤵️","arrow_left":"⬅️","arrow_up":"⬆️","arrow_down":"⬇️","black_large_square":"⬛","white_large_square":"⬜","star":"⭐","o":"⭕","wavy_dash":"〰️","part_alternation_mark":"〽️","congratulations":"㊗️","secret":"㊙️"}')}}]);